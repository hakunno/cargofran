(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function sm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lg={exports:{}},fh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function hR(){if(D0)return fh;D0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return fh.Fragment=e,fh.jsx=t,fh.jsxs=t,fh}var k0;function fR(){return k0||(k0=1,lg.exports=hR()),lg.exports}var E=fR(),ug={exports:{}},dh={},cg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function dR(){return M0||(M0=1,function(i){function e(ce,Ae){var Te=ce.length;ce.push(Ae);e:for(;0<Te;){var it=Te-1>>>1,N=ce[it];if(0<o(N,Ae))ce[it]=Ae,ce[Te]=N,Te=it;else break e}}function t(ce){return ce.length===0?null:ce[0]}function s(ce){if(ce.length===0)return null;var Ae=ce[0],Te=ce.pop();if(Te!==Ae){ce[0]=Te;e:for(var it=0,N=ce.length,ue=N>>>1;it<ue;){var Se=2*(it+1)-1,be=ce[Se],ye=Se+1,Ue=ce[ye];if(0>o(be,Te))ye<N&&0>o(Ue,be)?(ce[it]=Ue,ce[ye]=Te,it=ye):(ce[it]=be,ce[Se]=Te,it=Se);else if(ye<N&&0>o(Ue,Te))ce[it]=Ue,ce[ye]=Te,it=ye;else break e}}return Ae}function o(ce,Ae){var Te=ce.sortIndex-Ae.sortIndex;return Te!==0?Te:ce.id-Ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],_=[],T=1,S=null,x=3,M=!1,U=!1,W=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ne(ce){for(var Ae=t(_);Ae!==null;){if(Ae.callback===null)s(_);else if(Ae.startTime<=ce)s(_),Ae.sortIndex=Ae.expirationTime,e(p,Ae);else break;Ae=t(_)}}function _e(ce){if(W=!1,ne(ce),!U)if(t(p)!==null)U=!0,Me();else{var Ae=t(_);Ae!==null&&Ne(_e,Ae.startTime-ce)}}var Ee=!1,Ce=-1,F=5,L=-1;function D(){return!(i.unstable_now()-L<F)}function V(){if(Ee){var ce=i.unstable_now();L=ce;var Ae=!0;try{e:{U=!1,W&&(W=!1,z(Ce),Ce=-1),M=!0;var Te=x;try{t:{for(ne(ce),S=t(p);S!==null&&!(S.expirationTime>ce&&D());){var it=S.callback;if(typeof it=="function"){S.callback=null,x=S.priorityLevel;var N=it(S.expirationTime<=ce);if(ce=i.unstable_now(),typeof N=="function"){S.callback=N,ne(ce),Ae=!0;break t}S===t(p)&&s(p),ne(ce)}else s(p);S=t(p)}if(S!==null)Ae=!0;else{var ue=t(_);ue!==null&&Ne(_e,ue.startTime-ce),Ae=!1}}break e}finally{S=null,x=Te,M=!1}Ae=void 0}}finally{Ae?j():Ee=!1}}}var j;if(typeof te=="function")j=function(){te(V)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,O=$.port2;$.port1.onmessage=V,j=function(){O.postMessage(null)}}else j=function(){B(V,0)};function Me(){Ee||(Ee=!0,j())}function Ne(ce,Ae){Ce=B(function(){ce(i.unstable_now())},Ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ce){ce.callback=null},i.unstable_continueExecution=function(){U||M||(U=!0,Me())},i.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ce?Math.floor(1e3/ce):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ce){switch(x){case 1:case 2:case 3:var Ae=3;break;default:Ae=x}var Te=x;x=Ae;try{return ce()}finally{x=Te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ce,Ae){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Te=x;x=ce;try{return Ae()}finally{x=Te}},i.unstable_scheduleCallback=function(ce,Ae,Te){var it=i.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?it+Te:it):Te=it,ce){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Te+N,ce={id:T++,callback:Ae,priorityLevel:ce,startTime:Te,expirationTime:N,sortIndex:-1},Te>it?(ce.sortIndex=Te,e(_,ce),t(p)===null&&ce===t(_)&&(W?(z(Ce),Ce=-1):W=!0,Ne(_e,Te-it))):(ce.sortIndex=N,e(p,ce),U||M||(U=!0,Me())),ce},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ce){var Ae=x;return function(){var Te=x;x=Ae;try{return ce.apply(this,arguments)}finally{x=Te}}}}(hg)),hg}var L0;function mR(){return L0||(L0=1,cg.exports=dR()),cg.exports}var fg={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function pR(){if(P0)return Xe;P0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,W={};function B(N,ue,Se){this.props=N,this.context=ue,this.refs=W,this.updater=Se||M}B.prototype.isReactComponent={},B.prototype.setState=function(N,ue){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ue,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function z(){}z.prototype=B.prototype;function te(N,ue,Se){this.props=N,this.context=ue,this.refs=W,this.updater=Se||M}var ne=te.prototype=new z;ne.constructor=te,U(ne,B.prototype),ne.isPureReactComponent=!0;var _e=Array.isArray,Ee={H:null,A:null,T:null,S:null},Ce=Object.prototype.hasOwnProperty;function F(N,ue,Se,be,ye,Ue){return Se=Ue.ref,{$$typeof:i,type:N,key:ue,ref:Se!==void 0?Se:null,props:Ue}}function L(N,ue){return F(N.type,ue,void 0,void 0,void 0,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function V(N){var ue={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Se){return ue[Se]})}var j=/\/+/g;function $(N,ue){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):ue.toString(36)}function O(){}function Me(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(O,O):(N.status="pending",N.then(function(ue){N.status==="pending"&&(N.status="fulfilled",N.value=ue)},function(ue){N.status==="pending"&&(N.status="rejected",N.reason=ue)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ne(N,ue,Se,be,ye){var Ue=typeof N;(Ue==="undefined"||Ue==="boolean")&&(N=null);var ke=!1;if(N===null)ke=!0;else switch(Ue){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(N.$$typeof){case i:case e:ke=!0;break;case T:return ke=N._init,Ne(ke(N._payload),ue,Se,be,ye)}}if(ke)return ye=ye(N),ke=be===""?"."+$(N,0):be,_e(ye)?(Se="",ke!=null&&(Se=ke.replace(j,"$&/")+"/"),Ne(ye,ue,Se,"",function(yt){return yt})):ye!=null&&(D(ye)&&(ye=L(ye,Se+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(j,"$&/")+"/")+ke)),ue.push(ye)),1;ke=0;var Ct=be===""?".":be+":";if(_e(N))for(var ge=0;ge<N.length;ge++)be=N[ge],Ue=Ct+$(be,ge),ke+=Ne(be,ue,Se,Ue,ye);else if(ge=x(N),typeof ge=="function")for(N=ge.call(N),ge=0;!(be=N.next()).done;)be=be.value,Ue=Ct+$(be,ge++),ke+=Ne(be,ue,Se,Ue,ye);else if(Ue==="object"){if(typeof N.then=="function")return Ne(Me(N),ue,Se,be,ye);throw ue=String(N),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ce(N,ue,Se){if(N==null)return N;var be=[],ye=0;return Ne(N,be,"","",function(Ue){return ue.call(Se,Ue,ye++)}),be}function Ae(N){if(N._status===-1){var ue=N._result;ue=ue(),ue.then(function(Se){(N._status===0||N._status===-1)&&(N._status=1,N._result=Se)},function(Se){(N._status===0||N._status===-1)&&(N._status=2,N._result=Se)}),N._status===-1&&(N._status=0,N._result=ue)}if(N._status===1)return N._result.default;throw N._result}var Te=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function it(){}return Xe.Children={map:ce,forEach:function(N,ue,Se){ce(N,function(){ue.apply(this,arguments)},Se)},count:function(N){var ue=0;return ce(N,function(){ue++}),ue},toArray:function(N){return ce(N,function(ue){return ue})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Xe.Component=B,Xe.Fragment=t,Xe.Profiler=o,Xe.PureComponent=te,Xe.StrictMode=s,Xe.Suspense=p,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee,Xe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Xe.cache=function(N){return function(){return N.apply(null,arguments)}},Xe.cloneElement=function(N,ue,Se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var be=U({},N.props),ye=N.key,Ue=void 0;if(ue!=null)for(ke in ue.ref!==void 0&&(Ue=void 0),ue.key!==void 0&&(ye=""+ue.key),ue)!Ce.call(ue,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ue.ref===void 0||(be[ke]=ue[ke]);var ke=arguments.length-2;if(ke===1)be.children=Se;else if(1<ke){for(var Ct=Array(ke),ge=0;ge<ke;ge++)Ct[ge]=arguments[ge+2];be.children=Ct}return F(N.type,ye,void 0,void 0,Ue,be)},Xe.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Xe.createElement=function(N,ue,Se){var be,ye={},Ue=null;if(ue!=null)for(be in ue.key!==void 0&&(Ue=""+ue.key),ue)Ce.call(ue,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ye[be]=ue[be]);var ke=arguments.length-2;if(ke===1)ye.children=Se;else if(1<ke){for(var Ct=Array(ke),ge=0;ge<ke;ge++)Ct[ge]=arguments[ge+2];ye.children=Ct}if(N&&N.defaultProps)for(be in ke=N.defaultProps,ke)ye[be]===void 0&&(ye[be]=ke[be]);return F(N,Ue,void 0,void 0,null,ye)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(N){return{$$typeof:m,render:N}},Xe.isValidElement=D,Xe.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:Ae}},Xe.memo=function(N,ue){return{$$typeof:_,type:N,compare:ue===void 0?null:ue}},Xe.startTransition=function(N){var ue=Ee.T,Se={};Ee.T=Se;try{var be=N(),ye=Ee.S;ye!==null&&ye(Se,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(it,Te)}catch(Ue){Te(Ue)}finally{Ee.T=ue}},Xe.unstable_useCacheRefresh=function(){return Ee.H.useCacheRefresh()},Xe.use=function(N){return Ee.H.use(N)},Xe.useActionState=function(N,ue,Se){return Ee.H.useActionState(N,ue,Se)},Xe.useCallback=function(N,ue){return Ee.H.useCallback(N,ue)},Xe.useContext=function(N){return Ee.H.useContext(N)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(N,ue){return Ee.H.useDeferredValue(N,ue)},Xe.useEffect=function(N,ue){return Ee.H.useEffect(N,ue)},Xe.useId=function(){return Ee.H.useId()},Xe.useImperativeHandle=function(N,ue,Se){return Ee.H.useImperativeHandle(N,ue,Se)},Xe.useInsertionEffect=function(N,ue){return Ee.H.useInsertionEffect(N,ue)},Xe.useLayoutEffect=function(N,ue){return Ee.H.useLayoutEffect(N,ue)},Xe.useMemo=function(N,ue){return Ee.H.useMemo(N,ue)},Xe.useOptimistic=function(N,ue){return Ee.H.useOptimistic(N,ue)},Xe.useReducer=function(N,ue,Se){return Ee.H.useReducer(N,ue,Se)},Xe.useRef=function(N){return Ee.H.useRef(N)},Xe.useState=function(N){return Ee.H.useState(N)},Xe.useSyncExternalStore=function(N,ue,Se){return Ee.H.useSyncExternalStore(N,ue,Se)},Xe.useTransition=function(){return Ee.H.useTransition()},Xe.version="19.0.0",Xe}var V0;function __(){return V0||(V0=1,fg.exports=pR()),fg.exports}var dg={exports:{}},hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function gR(){if(j0)return hi;j0=1;var i=__();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:_,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hi.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return l(p,_,null,T)},hi.flushSync=function(p){var _=h.T,T=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=_,s.p=T,s.d.f()}},hi.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},hi.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hi.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,S=m(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,M=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:x,fetchPriority:M,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hi.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},hi.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hi.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},hi.requestFormReset=function(p){s.d.r(p)},hi.unstable_batchedUpdates=function(p,_){return p(_)},hi.useFormState=function(p,_,T){return h.H.useFormState(p,_,T)},hi.useFormStatus=function(){return h.H.useHostTransitionStatus()},hi.version="19.0.0",hi}var U0;function qb(){if(U0)return dg.exports;U0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dg.exports=gR(),dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function _R(){if(z0)return dh;z0=1;var i=mR(),e=__(),t=qb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),_e=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function Ce(n){return n===null||typeof n!="object"?null:(n=Ee&&n[Ee]||n["@@iterator"],typeof n=="function"?n:null)}var F=Symbol.for("react.client.reference");function L(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===F?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case W:return"Suspense";case B:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case M:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case U:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return r=n.displayName||null,r!==null?r:L(n.type)||"Memo";case te:r=n._payload,n=n._init;try{return L(n(r))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,j,$;function O(n){if(j===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);j=r&&r[1]||"",$=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+n+$}var Me=!1;function Ne(n,r){if(!n||Me)return"";Me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var Z=ie}Reflect.construct(n,[],fe)}else{try{fe.call()}catch(ie){Z=ie}n.call(fe.prototype)}}else{try{throw Error()}catch(ie){Z=ie}(fe=n())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&Z&&typeof ie.stack=="string")return[ie.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],R=g[1];if(w&&R){var P=w.split(`
`),G=R.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===G.length)for(u=P.length-1,f=G.length-1;1<=u&&0<=f&&P[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==G[f]){var re=`
`+P[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=f);break}}}finally{Me=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function ce(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=Ne(n.type,!1),n;case 11:return n=Ne(n.type.render,!1),n;case 1:return n=Ne(n.type,!0),n;default:return""}}function Ae(n){try{var r="";do r+=ce(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Te(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function it(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function N(n){if(Te(n)!==n)throw Error(s(188))}function ue(n){var r=n.alternate;if(!r){if(r=Te(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return N(f),n;if(g===u)return N(f),r;g=g.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=g;else{for(var w=!1,R=f.child;R;){if(R===a){w=!0,a=f,u=g;break}if(R===u){w=!0,u=f,a=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===a){w=!0,a=g,u=f;break}if(R===u){w=!0,u=g,a=f;break}R=R.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function Se(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=Se(n),r!==null)return r;n=n.sibling}return null}var be=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue={pending:!1,data:null,method:null,action:null},ke=[],Ct=-1;function ge(n){return{current:n}}function yt(n){0>Ct||(n.current=ke[Ct],ke[Ct]=null,Ct--)}function Ze(n,r){Ct++,ke[Ct]=n.current,n.current=r}var Xt=ge(null),Nn=ge(null),Ft=ge(null),On=ge(null);function Je(n,r){switch(Ze(Ft,r),Ze(Nn,n),Ze(Xt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?o0(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=o0(n),r=l0(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}yt(Xt),Ze(Xt,r)}function ln(){yt(Xt),yt(Nn),yt(Ft)}function qi(n){n.memoizedState!==null&&Ze(On,n);var r=Xt.current,a=l0(r,n.type);r!==a&&(Ze(Nn,n),Ze(Xt,a))}function us(n){Nn.current===n&&(yt(Xt),yt(Nn)),On.current===n&&(yt(On),oh._currentValue=Ue)}var cs=Object.prototype.hasOwnProperty,Dr=i.unstable_scheduleCallback,hs=i.unstable_cancelCallback,Xo=i.unstable_shouldYield,qs=i.unstable_requestPaint,Zt=i.unstable_now,_i=i.unstable_getCurrentPriorityLevel,je=i.unstable_ImmediatePriority,Tt=i.unstable_UserBlockingPriority,Tn=i.unstable_NormalPriority,kr=i.unstable_LowPriority,fs=i.unstable_IdlePriority,gc=i.log,Mr=i.unstable_setDisableYieldValue,ds=null,Dn=null;function Zo(n){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(ds,n,void 0,(n.current.flags&128)===128)}catch{}}function or(n){if(typeof gc=="function"&&Mr(n),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(ds,n)}catch{}}var Kn=Math.clz32?Math.clz32:$s,Jo=Math.log,el=Math.LN2;function $s(n){return n>>>=0,n===0?32:31-(Jo(n)/el|0)|0}var $i=128,Lr=4194304;function Gi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ni(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,g=n.pingedLanes,w=n.warmLanes;n=n.finishedLanes!==0;var R=a&134217727;return R!==0?(a=R&~f,a!==0?u=Gi(a):(g&=R,g!==0?u=Gi(g):n||(w=R&~w,w!==0&&(u=Gi(w))))):(R=a&~f,R!==0?u=Gi(R):g!==0?u=Gi(g):n||(w=a&~w,w!==0&&(u=Gi(w)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,w=r&-r,f>=w||f===32&&(w&4194176)!==0)?r:u}function ms(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ua(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var n=$i;return $i<<=1,($i&4194176)===0&&($i=128),n}function Oi(){var n=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),n}function za(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Kt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kl(n,r,a,u,f,g){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var R=n.entanglements,P=n.expirationTimes,G=n.hiddenUpdates;for(a=w&~a;0<a;){var re=31-Kn(a),fe=1<<re;R[re]=0,P[re]=-1;var Z=G[re];if(Z!==null)for(G[re]=null,re=0;re<Z.length;re++){var ie=Z[re];ie!==null&&(ie.lane&=-536870913)}a&=~fe}u!==0&&ps(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(w&~r))}function ps(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Kn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function gs(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Kn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Ba(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Pr(){var n=ye.p;return n!==0?n:(n=window.event,n===void 0?32:R0(n.type))}function Ki(n,r){var a=ye.p;try{return ye.p=n,r()}finally{ye.p=a}}var ur=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ur,un="__reactProps$"+ur,Vr="__reactContainer$"+ur,Di="__reactEvents$"+ur,en="__reactListeners$"+ur,Ht="__reactHandles$"+ur,wn="__reactResources$"+ur,qt="__reactMarker$"+ur;function cr(n){delete n[Jt],delete n[un],delete n[Di],delete n[en],delete n[Ht]}function kn(n){var r=n[Jt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Vr]||a[Jt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=h0(n);n!==null;){if(a=n[Jt])return a;n=h0(n)}return r}n=a,a=n.parentNode}return null}function Qn(n){if(n=n[Jt]||n[Vr]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function yi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function jr(n){var r=n[wn];return r||(r=n[wn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(n){n[qt]=!0}var hr=new Set,Gs={};function Yn(n,r){Mn(n,r),Mn(n+"Capture",r)}function Mn(n,r){for(Gs[n]=r,n=0;n<r.length;n++)hr.add(r[n])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fa={},Ha={};function tl(n){return cs.call(Ha,n)?!0:cs.call(Fa,n)?!1:Ql.test(n)?Ha[n]=!0:(Fa[n]=!0,!1)}function Ur(n,r,a){if(tl(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function zr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function vi(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function Ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ki(n){var r=nl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function cn(n){n._valueTracker||(n._valueTracker=ki(n))}function Qi(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=nl(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function An(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yi=/[\n"\\]/g;function Lt(n){return n.replace(Yi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sn(n,r,a,u,f,g,w,R){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),r!=null?w==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ln(r)):n.value!==""+Ln(r)&&(n.value=""+Ln(r)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),r!=null?Br(n,w,Ln(r)):a!=null?Br(n,w,Ln(a)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+Ln(R):n.removeAttribute("name")}function Ei(n,r,a,u,f,g,w,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;a=a!=null?""+Ln(a):"",r=r!=null?""+Ln(r):a,R||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=R?n.checked:!!u,n.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Br(n,r,a){r==="number"&&An(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function et(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Ln(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Fr(n,r,a){if(r!=null&&(r=""+Ln(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Ln(a):""}function Hr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(be(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Ln(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Rn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qa(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||il.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Mi(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&qa(n,f,u)}else for(var g in r)r.hasOwnProperty(g)&&qa(n,g,r[g])}function rl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(n){return $a.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Pn=null;function _s(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bi=null,dr=null;function mr(n){var r=Qn(n);if(r&&(n=r.stateNode)){var a=n[un]||null;e:switch(n=r.stateNode,r.type){case"input":if(Sn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[un]||null;if(!f)throw Error(s(90));Sn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&Qi(u)}break e;case"textarea":Fr(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&et(n,!!a.multiple,r,!1)}}}var Ga=!1;function qr(n,r,a){if(Ga)return n(r,a);Ga=!0;try{var u=n(r);return u}finally{if(Ga=!1,(bi!==null||dr!==null)&&(zf(),bi&&(r=bi,n=dr,dr=bi=null,mr(r),n)))for(r=0;r<n.length;r++)mr(n[r])}}function Ks(n,r){var a=n.stateNode;if(a===null)return null;var u=a[un]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ti=!1;if(oi)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Ti=!1}var wi=null,pr=null,Gr=null;function ys(){if(Gr)return Gr;var n,r=pr,a=r.length,u,f="value"in wi?wi.value:wi.textContent,g=f.length;for(n=0;n<a&&r[n]===f[n];n++);var w=a-n;for(u=1;u<=w&&r[a-u]===f[g-u];u++);return Gr=f.slice(n,1<u?1-u:void 0)}function gr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Xi(){return!0}function Qs(){return!1}function tn(n){function r(a,u,f,g,w){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xi:Qs,this.isPropagationStopped=Qs,this}return V(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=tn(pt),Zi=V({},pt,{view:0,detail:0}),Ka=tn(Zi),Ws,Xs,Wn,Zs=V({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wn&&(Wn&&n.type==="mousemove"?(Ws=n.screenX-Wn.screenX,Xs=n.screenY-Wn.screenY):Xs=Ws=0,Wn=n),Ws)},movementY:function(n){return"movementY"in n?n.movementY:Xs}}),Ai=tn(Zs),sl=V({},Zs,{dataTransfer:0}),Yl=tn(sl),vs=V({},Zi,{relatedTarget:0}),Js=tn(vs),ea=V({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=tn(ea),Wl=V({},pt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Qa=tn(Wl),Xl=V({},pt,{data:0}),Ya=tn(Xl),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Jl[n])?!!r[n]:!1}function Es(){return na}var al=V({},Zi,{key:function(n){if(n.key){var r=_r[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zl[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(n){return n.type==="keypress"?gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Li=tn(al),Wa=V({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=tn(Wa),yr=V({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),eu=tn(yr),tu=V({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=tn(tu),iu=V({},Zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=tn(iu),Vn=V({},pt,{newState:0,oldState:0}),ru=tn(Vn),Kr=[9,13,27,32],jn=oi&&"CompositionEvent"in window,c=null;oi&&"documentMode"in document&&(c=document.documentMode);var y=oi&&"TextEvent"in window&&!c,b=oi&&(!jn||c&&8<c&&11>=c),I=" ",Y=!1;function J(n,r){switch(n){case"keyup":return Kr.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var at=!1;function hn(n,r){switch(n){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(Y=!0,I);case"textInput":return n=r.data,n===I&&Y?null:n;default:return null}}function ot(n,r){if(at)return n==="compositionend"||!jn&&J(n,r)?(n=ys(),Gr=pr=wi=null,at=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var At={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nn(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!At[n.type]:r==="textarea"}function vr(n,r,a,u){bi?dr?dr.push(u):dr=[u]:bi=u,r=$f(r,"onChange"),0<r.length&&(a=new Ys("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var gn=null,Er=null;function ll(n){n0(n,0)}function ul(n){var r=yi(n);if(Qi(r))return n}function cl(n,r){if(n==="change")return r}var nf=!1;if(oi){var _c;if(oi){var su="oninput"in document;if(!su){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),su=typeof rf.oninput=="function"}_c=su}else _c=!1;nf=_c&&(!document.documentMode||9<document.documentMode)}function sf(){gn&&(gn.detachEvent("onpropertychange",yc),Er=gn=null)}function yc(n){if(n.propertyName==="value"&&ul(Er)){var r=[];vr(r,Er,n,_s(n)),qr(ll,r)}}function af(n,r,a){n==="focusin"?(sf(),gn=r,Er=a,gn.attachEvent("onpropertychange",yc)):n==="focusout"&&sf()}function of(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ul(Er)}function au(n,r){if(n==="click")return ul(r)}function lf(n,r){if(n==="input"||n==="change")return ul(r)}function vc(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Pt=typeof Object.is=="function"?Object.is:vc;function hl(n,r){if(Pt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!cs.call(r,f)||!Pt(n[f],r[f]))return!1}return!0}function uf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ec(n,r){var a=uf(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uf(a)}}function bc(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?bc(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function cf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=An(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=An(n.document)}return r}function Tc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function zm(n,r){var a=cf(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&bc(r.ownerDocument.documentElement,r)){if(u!==null&&Tc(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!a.extend&&g>u&&(f=u,u=g,g=f),f=Ec(r,g);var w=Ec(r,u);f&&w&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==w.node||a.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),g>u?(a.addRange(n),a.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Bm=oi&&"documentMode"in document&&11>=document.documentMode,Xa=null,wc=null,Za=null,ou=!1;function lu(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ou||Xa==null||Xa!==An(u)||(u=Xa,"selectionStart"in u&&Tc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Za&&hl(Za,u)||(Za=u,u=$f(wc,"onSelect"),0<u.length&&(r=new Ys("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=Xa)))}function ra(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ja={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Qr={},br={};oi&&(br=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function bs(n){if(Qr[n])return Qr[n];if(!Ja[n])return n;var r=Ja[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in br)return Qr[n]=r[a];return n}var hf=bs("animationend"),Ac=bs("animationiteration"),Sc=bs("animationstart"),ff=bs("transitionrun"),df=bs("transitionstart"),Fm=bs("transitioncancel"),mf=bs("transitionend"),pf=new Map,Rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pi(n,r){pf.set(n,r),Yn(r,[n])}var Vi=[],eo=0,Cc=0;function uu(){for(var n=eo,r=Cc=eo=0;r<n;){var a=Vi[r];Vi[r++]=null;var u=Vi[r];Vi[r++]=null;var f=Vi[r];Vi[r++]=null;var g=Vi[r];if(Vi[r++]=null,u!==null&&f!==null){var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}g!==0&&gf(a,f,g)}}function cu(n,r,a,u){Vi[eo++]=n,Vi[eo++]=r,Vi[eo++]=a,Vi[eo++]=u,Cc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ji(n,r,a,u){return cu(n,r,a,u),hu(n)}function Yr(n,r){return cu(n,null,null,r),hu(n)}function gf(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,g=n.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;f&&r!==null&&n.tag===3&&(g=n.stateNode,f=31-Kn(a),g=g.hiddenUpdates,n=g[f],n===null?g[f]=[r]:n.push(r),r.lane=a|536870912)}function hu(n){if(50<eh)throw eh=0,Dp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var to={},_f=new WeakMap;function ji(n,r){if(typeof n=="object"&&n!==null){var a=_f.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ae(r)},_f.set(n,r),r)}return{value:n,source:r,stack:Ae(r)}}var no=[],io=0,fu=null,ro=0,Xn=[],Si=0,Ts=null,Ri=1,er="";function sa(n,r){no[io++]=ro,no[io++]=fu,fu=n,ro=r}function yf(n,r,a){Xn[Si++]=Ri,Xn[Si++]=er,Xn[Si++]=Ts,Ts=n;var u=Ri;n=er;var f=32-Kn(u)-1;u&=~(1<<f),a+=1;var g=32-Kn(r)+f;if(30<g){var w=f-f%5;g=(u&(1<<w)-1).toString(32),u>>=w,f-=w,Ri=1<<32-Kn(r)+f|a<<f|u,er=g+n}else Ri=1<<g|a<<f|u,er=n}function xc(n){n.return!==null&&(sa(n,1),yf(n,1,0))}function Wr(n){for(;n===fu;)fu=no[--io],no[io]=null,ro=no[--io],no[io]=null;for(;n===Ts;)Ts=Xn[--Si],Xn[Si]=null,er=Xn[--Si],Xn[Si]=null,Ri=Xn[--Si],Xn[Si]=null}var Zn=null,Cn=null,rt=!1,Ci=null,Tr=!1,du=Error(s(519));function aa(n){var r=Error(s(418,""));throw dl(ji(r,n)),du}function oa(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Jt]=n,r[un]=u,a){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(a=0;a<nh.length;a++)dt(nh[a],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":dt("invalid",r),Ei(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),cn(r);break;case"select":dt("invalid",r);break;case"textarea":dt("invalid",r),Hr(r,u.value,u.defaultValue,u.children),cn(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||a0(r.textContent,a)?(u.popover!=null&&(dt("beforetoggle",r),dt("toggle",r)),u.onScroll!=null&&dt("scroll",r),u.onScrollEnd!=null&&dt("scrollend",r),u.onClick!=null&&(r.onclick=Gf),r=!0):r=!1,r||aa(n)}function mu(n){for(Zn=n.return;Zn;)switch(Zn.tag){case 3:case 27:Tr=!0;return;case 5:case 13:Tr=!1;return;default:Zn=Zn.return}}function so(n){if(n!==Zn)return!1;if(!rt)return mu(n),rt=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Yp(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Cn&&aa(n),mu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Cn=is(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Cn=null}}else Cn=Zn?is(n.stateNode.nextSibling):null;return!0}function fl(){Cn=Zn=null,rt=!1}function dl(n){Ci===null?Ci=[n]:Ci.push(n)}var ml=Error(s(460)),ao=Error(s(474)),Xr={then:function(){}};function vf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pu(){}function Ef(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(pu,pu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===ml?Error(s(483)):n;default:if(typeof r.status=="string")r.then(pu,pu);else{if(n=jt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===ml?Error(s(483)):n}throw pl=r,ml}}var pl=null;function bf(){if(pl===null)throw Error(s(459));var n=pl;return pl=null,n}var oo=null,gl=0;function gu(n){var r=gl;return gl+=1,oo===null&&(oo=[]),Ef(oo,n,r)}function lo(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function _u(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ic(n){var r=n._init;return r(n._payload)}function yu(n){function r(Q,q){if(n){var X=Q.deletions;X===null?(Q.deletions=[q],Q.flags|=16):X.push(q)}}function a(Q,q){if(!n)return null;for(;q!==null;)r(Q,q),q=q.sibling;return null}function u(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function f(Q,q){return Q=bo(Q,q),Q.index=0,Q.sibling=null,Q}function g(Q,q,X){return Q.index=X,n?(X=Q.alternate,X!==null?(X=X.index,X<q?(Q.flags|=33554434,q):X):(Q.flags|=33554434,q)):(Q.flags|=1048576,q)}function w(Q){return n&&Q.alternate===null&&(Q.flags|=33554434),Q}function R(Q,q,X,se){return q===null||q.tag!==6?(q=Ap(X,Q.mode,se),q.return=Q,q):(q=f(q,X),q.return=Q,q)}function P(Q,q,X,se){var Ie=X.type;return Ie===p?re(Q,q,X.props.children,se,X.key):q!==null&&(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===te&&Ic(Ie)===q.type)?(q=f(q,X.props),lo(q,X),q.return=Q,q):(q=Lf(X.type,X.key,X.props,null,Q.mode,se),lo(q,X),q.return=Q,q)}function G(Q,q,X,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Sp(X,Q.mode,se),q.return=Q,q):(q=f(q,X.children||[]),q.return=Q,q)}function re(Q,q,X,se,Ie){return q===null||q.tag!==7?(q=Cl(X,Q.mode,se,Ie),q.return=Q,q):(q=f(q,X),q.return=Q,q)}function fe(Q,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Ap(""+q,Q.mode,X),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return X=Lf(q.type,q.key,q.props,null,Q.mode,X),lo(X,q),X.return=Q,X;case m:return q=Sp(q,Q.mode,X),q.return=Q,q;case te:var se=q._init;return q=se(q._payload),fe(Q,q,X)}if(be(q)||Ce(q))return q=Cl(q,Q.mode,X,null),q.return=Q,q;if(typeof q.then=="function")return fe(Q,gu(q),X);if(q.$$typeof===M)return fe(Q,Df(Q,q),X);_u(Q,q)}return null}function Z(Q,q,X,se){var Ie=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ie!==null?null:R(Q,q,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case h:return X.key===Ie?P(Q,q,X,se):null;case m:return X.key===Ie?G(Q,q,X,se):null;case te:return Ie=X._init,X=Ie(X._payload),Z(Q,q,X,se)}if(be(X)||Ce(X))return Ie!==null?null:re(Q,q,X,se,null);if(typeof X.then=="function")return Z(Q,q,gu(X),se);if(X.$$typeof===M)return Z(Q,q,Df(Q,X),se);_u(Q,X)}return null}function ie(Q,q,X,se,Ie){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Q=Q.get(X)||null,R(q,Q,""+se,Ie);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case h:return Q=Q.get(se.key===null?X:se.key)||null,P(q,Q,se,Ie);case m:return Q=Q.get(se.key===null?X:se.key)||null,G(q,Q,se,Ie);case te:var nt=se._init;return se=nt(se._payload),ie(Q,q,X,se,Ie)}if(be(se)||Ce(se))return Q=Q.get(X)||null,re(q,Q,se,Ie,null);if(typeof se.then=="function")return ie(Q,q,X,gu(se),Ie);if(se.$$typeof===M)return ie(Q,q,X,Df(q,se),Ie);_u(q,se)}return null}function De(Q,q,X,se){for(var Ie=null,nt=null,Pe=q,He=q=0,Hn=null;Pe!==null&&He<X.length;He++){Pe.index>He?(Hn=Pe,Pe=null):Hn=Pe.sibling;var bt=Z(Q,Pe,X[He],se);if(bt===null){Pe===null&&(Pe=Hn);break}n&&Pe&&bt.alternate===null&&r(Q,Pe),q=g(bt,q,He),nt===null?Ie=bt:nt.sibling=bt,nt=bt,Pe=Hn}if(He===X.length)return a(Q,Pe),rt&&sa(Q,He),Ie;if(Pe===null){for(;He<X.length;He++)Pe=fe(Q,X[He],se),Pe!==null&&(q=g(Pe,q,He),nt===null?Ie=Pe:nt.sibling=Pe,nt=Pe);return rt&&sa(Q,He),Ie}for(Pe=u(Pe);He<X.length;He++)Hn=ie(Pe,Q,He,X[He],se),Hn!==null&&(n&&Hn.alternate!==null&&Pe.delete(Hn.key===null?He:Hn.key),q=g(Hn,q,He),nt===null?Ie=Hn:nt.sibling=Hn,nt=Hn);return n&&Pe.forEach(function(xo){return r(Q,xo)}),rt&&sa(Q,He),Ie}function Ye(Q,q,X,se){if(X==null)throw Error(s(151));for(var Ie=null,nt=null,Pe=q,He=q=0,Hn=null,bt=X.next();Pe!==null&&!bt.done;He++,bt=X.next()){Pe.index>He?(Hn=Pe,Pe=null):Hn=Pe.sibling;var xo=Z(Q,Pe,bt.value,se);if(xo===null){Pe===null&&(Pe=Hn);break}n&&Pe&&xo.alternate===null&&r(Q,Pe),q=g(xo,q,He),nt===null?Ie=xo:nt.sibling=xo,nt=xo,Pe=Hn}if(bt.done)return a(Q,Pe),rt&&sa(Q,He),Ie;if(Pe===null){for(;!bt.done;He++,bt=X.next())bt=fe(Q,bt.value,se),bt!==null&&(q=g(bt,q,He),nt===null?Ie=bt:nt.sibling=bt,nt=bt);return rt&&sa(Q,He),Ie}for(Pe=u(Pe);!bt.done;He++,bt=X.next())bt=ie(Pe,Q,He,bt.value,se),bt!==null&&(n&&bt.alternate!==null&&Pe.delete(bt.key===null?He:bt.key),q=g(bt,q,He),nt===null?Ie=bt:nt.sibling=bt,nt=bt);return n&&Pe.forEach(function(cR){return r(Q,cR)}),rt&&sa(Q,He),Ie}function on(Q,q,X,se){if(typeof X=="object"&&X!==null&&X.type===p&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case h:e:{for(var Ie=X.key;q!==null;){if(q.key===Ie){if(Ie=X.type,Ie===p){if(q.tag===7){a(Q,q.sibling),se=f(q,X.props.children),se.return=Q,Q=se;break e}}else if(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===te&&Ic(Ie)===q.type){a(Q,q.sibling),se=f(q,X.props),lo(se,X),se.return=Q,Q=se;break e}a(Q,q);break}else r(Q,q);q=q.sibling}X.type===p?(se=Cl(X.props.children,Q.mode,se,X.key),se.return=Q,Q=se):(se=Lf(X.type,X.key,X.props,null,Q.mode,se),lo(se,X),se.return=Q,Q=se)}return w(Q);case m:e:{for(Ie=X.key;q!==null;){if(q.key===Ie)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){a(Q,q.sibling),se=f(q,X.children||[]),se.return=Q,Q=se;break e}else{a(Q,q);break}else r(Q,q);q=q.sibling}se=Sp(X,Q.mode,se),se.return=Q,Q=se}return w(Q);case te:return Ie=X._init,X=Ie(X._payload),on(Q,q,X,se)}if(be(X))return De(Q,q,X,se);if(Ce(X)){if(Ie=Ce(X),typeof Ie!="function")throw Error(s(150));return X=Ie.call(X),Ye(Q,q,X,se)}if(typeof X.then=="function")return on(Q,q,gu(X),se);if(X.$$typeof===M)return on(Q,q,Df(Q,X),se);_u(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(a(Q,q.sibling),se=f(q,X),se.return=Q,Q=se):(a(Q,q),se=Ap(X,Q.mode,se),se.return=Q,Q=se),w(Q)):a(Q,q)}return function(Q,q,X,se){try{gl=0;var Ie=on(Q,q,X,se);return oo=null,Ie}catch(Pe){if(Pe===ml)throw Pe;var nt=Cr(29,Pe,null,Q.mode);return nt.lanes=se,nt.return=Q,nt}finally{}}}var ws=yu(!0),As=yu(!1),la=ge(null),uo=ge(0);function Nc(n,r){n=ya,Ze(uo,n),Ze(la,r),ya=n|r.baseLanes}function _l(){Ze(uo,ya),Ze(la,la.current)}function vu(){ya=uo.current,yt(la),yt(uo)}var li=ge(null),wr=null;function ui(n){var r=n.alternate;Ze(fn,fn.current&1),Ze(li,n),wr===null&&(r===null||la.current!==null||r.memoizedState!==null)&&(wr=n)}function Zr(n){if(n.tag===22){if(Ze(fn,fn.current),Ze(li,n),wr===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(wr=n)}}else Ss()}function Ss(){Ze(fn,fn.current),Ze(li,li.current)}function Jr(n){yt(li),wr===n&&(wr=null),yt(fn)}var fn=ge(0);function Eu(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hm=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},qm=i.unstable_scheduleCallback,$m=i.unstable_NormalPriority,dn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new Hm,data:new Map,refCount:0}}function Rs(n){n.refCount--,n.refCount===0&&qm($m,function(){n.controller.abort()})}var Cs=null,Oc=0,co=0,Ar=null;function A(n,r){if(Cs===null){var a=Cs=[];Oc=0,co=zp(),Ar={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Oc++,r.then(d,d),r}function d(){if(--Oc===0&&Cs!==null){Ar!==null&&(Ar.status="fulfilled");var n=Cs;Cs=null,co=0,Ar=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function v(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var C=D.S;D.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&A(n,r),C!==null&&C(n,r)};var H=ge(null);function K(){var n=H.current;return n!==null?n:jt.pooledCache}function ee(n,r){r===null?Ze(H,H.current):Ze(H,r.pool)}function ae(){var n=K();return n===null?null:{parent:dn._currentValue,pool:n}}var pe=0,he=null,de=null,me=null,Ge=!1,Le=!1,ze=!1,Be=0,Fe=0,ht=null,xt=0;function Oe(){throw Error(s(321))}function ft(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Pt(n[a],r[a]))return!1;return!0}function Qe(n,r,a,u,f,g){return pe=g,he=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,D.H=n===null||n.memoizedState===null?bl:fo,ze=!1,g=a(u,f),ze=!1,Le&&(g=Et(r,a,u,f)),tt(n),g}function tt(n){D.H=Is;var r=de!==null&&de.next!==null;if(pe=0,me=de=he=null,Ge=!1,Fe=0,ht=null,r)throw Error(s(300));n===null||Bn||(n=n.dependencies,n!==null&&Of(n)&&(Bn=!0))}function Et(n,r,a,u){he=n;var f=0;do{if(Le&&(ht=null),Fe=0,Le=!1,25<=f)throw Error(s(301));if(f+=1,me=de=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}D.H=Tl,g=r(a,u)}while(Le);return g}function St(){var n=D.H,r=n.useState()[0];return r=typeof r.then=="function"?Un(r):r,n=n.useState()[0],(de!==null?de.memoizedState:null)!==n&&(he.flags|=1024),r}function vt(){var n=Be!==0;return Be=0,n}function zt(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Jn(n){if(Ge){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ge=!1}pe=0,me=de=he=null,Le=!1,Fe=Be=0,ht=null}function Vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?he.memoizedState=me=n:me=me.next=n,me}function lt(){if(de===null){var n=he.alternate;n=n!==null?n.memoizedState:null}else n=de.next;var r=me===null?he.memoizedState:me.next;if(r!==null)me=r,de=n;else{if(n===null)throw he.alternate===null?Error(s(467)):Error(s(310));de=n,n={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?he.memoizedState=me=n:me=me.next=n}return me}var ei;ei=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Un(n){var r=Fe;return Fe+=1,ht===null&&(ht=[]),n=Ef(ht,n,r),r=he,(me===null?r.memoizedState:me.next)===null&&(r=r.alternate,D.H=r===null||r.memoizedState===null?bl:fo),n}function Dt(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Un(n);if(n.$$typeof===M)return ci(n)}throw Error(s(438,String(n)))}function Ui(n){var r=null,a=he.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=he.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ei(),he.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=_e;return r.index++,a}function _n(n,r){return typeof r=="function"?r(n):r}function es(n){var r=lt();return rn(r,de,n)}function rn(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}r.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{r=f.next;var R=w=null,P=null,G=r,re=!1;do{var fe=G.lane&-536870913;if(fe!==G.lane?(gt&fe)===fe:(pe&fe)===fe){var Z=G.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),fe===co&&(re=!0);else if((pe&Z)===Z){G=G.next,Z===co&&(re=!0);continue}else fe={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=fe,w=g):P=P.next=fe,he.lanes|=Z,To|=Z;fe=G.action,ze&&a(g,fe),g=G.hasEagerState?G.eagerState:a(g,fe)}else Z={lane:fe,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(R=P=Z,w=g):P=P.next=Z,he.lanes|=fe,To|=fe;G=G.next}while(G!==null&&G!==r);if(P===null?w=g:P.next=R,!Pt(g,n.memoizedState)&&(Bn=!0,re&&(a=Ar,a!==null)))throw a;n.memoizedState=g,n.baseState=w,n.baseQueue=P,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function wt(n){var r=lt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,g=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=n(g,w.action),w=w.next;while(w!==f);Pt(g,r.memoizedState)||(Bn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,u]}function zn(n,r,a){var u=he,f=lt(),g=rt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!Pt((de||f).memoizedState,a);if(w&&(f.memoizedState=a,Bn=!0),f=f.queue,Su(yl.bind(null,u,f,n),[n]),f.getSnapshot!==r||w||me!==null&&me.memoizedState.tag&1){if(u.flags|=2048,ua(9,ts.bind(null,u,f,a,r),{destroy:void 0},null),jt===null)throw Error(s(349));g||(pe&60)!==0||xi(u,r,a)}return a}function xi(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=he.updateQueue,r===null?(r=ei(),he.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function ts(n,r,a,u){r.value=a,r.getSnapshot=u,Dc(r)&&kc(n)}function yl(n,r,a){return a(function(){Dc(r)&&kc(n)})}function Dc(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Pt(n,a)}catch{return!0}}function kc(n){var r=Yr(n,2);r!==null&&Ii(r,n,2)}function ho(n){var r=Vt();if(typeof n=="function"){var a=n;if(n=a(),ze){or(!0);try{a()}finally{or(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},r}function Tf(n,r,a,u){return n.baseState=a,rn(n,de,typeof u=="function"?u:_n)}function Gm(n,r,a,u,f){if(xf(n))throw Error(s(485));if(n=r.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};D.T!==null?a(!0):g.isTransition=!1,u(g),a=r.pending,a===null?(g.next=r.pending=g,Tu(r,g)):(g.next=a.next,r.pending=a.next=g)}}function Tu(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var g=D.T,w={};D.T=w;try{var R=a(f,u),P=D.S;P!==null&&P(w,R),wf(n,r,R)}catch(G){Lc(n,r,G)}finally{D.T=g}}else try{g=a(f,u),wf(n,r,g)}catch(G){Lc(n,r,G)}}function wf(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Mc(n,r,u)},function(u){return Lc(n,r,u)}):Mc(n,r,a)}function Mc(n,r,a){r.status="fulfilled",r.value=a,Pc(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Tu(n,a)))}function Lc(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Pc(r),r=r.next;while(r!==u)}n.action=null}function Pc(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Vc(n,r){return r}function Af(n,r){if(rt){var a=jt.formState;if(a!==null){e:{var u=he;if(rt){if(Cn){t:{for(var f=Cn,g=Tr;f.nodeType!==8;){if(!g){f=null;break t}if(f=is(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Cn=is(f.nextSibling),u=f.data==="F!";break e}}aa(u)}u=!1}u&&(r=a[0])}}return a=Vt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:r},a.queue=u,a=Hy.bind(null,he,u),u.dispatch=a,u=ho(!1),g=Xm.bind(null,he,!1,u.queue),u=Vt(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=Gm.bind(null,he,f,g,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Sf(n){var r=lt();return xs(r,de,n)}function xs(n,r,a){r=rn(n,r,Vc)[0],n=es(_n)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Un(r):r;var u=lt(),f=u.queue,g=f.dispatch;return a!==u.memoizedState&&(he.flags|=2048,ua(9,wu.bind(null,f,a),{destroy:void 0},null)),[r,g,n]}function wu(n,r){n.action=r}function jc(n){var r=lt(),a=de;if(a!==null)return xs(r,a,n);lt(),r=r.memoizedState,a=lt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function ua(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=he.updateQueue,r===null&&(r=ei(),he.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Au(){return lt().memoizedState}function vl(n,r,a,u){var f=Vt();he.flags|=n,f.memoizedState=ua(1|r,a,{destroy:void 0},u===void 0?null:u)}function El(n,r,a,u){var f=lt();u=u===void 0?null:u;var g=f.memoizedState.inst;de!==null&&u!==null&&ft(u,de.memoizedState.deps)?f.memoizedState=ua(r,a,g,u):(he.flags|=n,f.memoizedState=ua(1|r,a,g,u))}function Uc(n,r){vl(8390656,8,n,r)}function Su(n,r){El(2048,8,n,r)}function Rf(n,r){return El(4,2,n,r)}function Cf(n,r){return El(4,4,n,r)}function Ru(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function zc(n,r,a){a=a!=null?a.concat([n]):null,El(4,4,Ru.bind(null,r,n),a)}function Km(){}function Ly(n,r){var a=lt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&ft(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function Py(n,r){var a=lt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&ft(r,u[1]))return u[0];if(u=n(),ze){or(!0);try{n()}finally{or(!1)}}return a.memoizedState=[u,r],u}function Qm(n,r,a){return a===void 0||(pe&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=jv(),he.lanes|=n,To|=n,a)}function Vy(n,r,a,u){return Pt(a,r)?a:la.current!==null?(n=Qm(n,a,u),Pt(n,r)||(Bn=!0),n):(pe&42)===0?(Bn=!0,n.memoizedState=a):(n=jv(),he.lanes|=n,To|=n,r)}function jy(n,r,a,u,f){var g=ye.p;ye.p=g!==0&&8>g?g:8;var w=D.T,R={};D.T=R,Xm(n,!1,r,a);try{var P=f(),G=D.S;if(G!==null&&G(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var re=v(P,u);Bc(n,r,re,rr(n))}else Bc(n,r,u,rr(n))}catch(fe){Bc(n,r,{then:function(){},status:"rejected",reason:fe},rr())}finally{ye.p=g,D.T=w}}function aS(){}function Ym(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=Uy(n).queue;jy(n,f,r,Ue,a===null?aS:function(){return zy(n),a(u)})}function Uy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ue,baseState:Ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:Ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function zy(n){var r=Uy(n).next.queue;Bc(n,r,{},rr())}function Wm(){return ci(oh)}function By(){return lt().memoizedState}function Fy(){return lt().memoizedState}function oS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=rr();n=go(a);var u=_o(r,n,a);u!==null&&(Ii(u,r,a),qc(u,r,a)),r={cache:bu()},n.payload=r;return}r=r.return}}function lS(n,r,a){var u=rr();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xf(n)?qy(r,a):(a=Ji(n,r,a,u),a!==null&&(Ii(a,n,u),$y(a,r,u)))}function Hy(n,r,a){var u=rr();Bc(n,r,a,u)}function Bc(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xf(n))qy(r,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,R=g(w,a);if(f.hasEagerState=!0,f.eagerState=R,Pt(R,w))return cu(n,r,f,0),jt===null&&uu(),!1}catch{}finally{}if(a=Ji(n,r,f,u),a!==null)return Ii(a,n,u),$y(a,r,u),!0}return!1}function Xm(n,r,a,u){if(u={lane:2,revertLane:zp(),action:u,hasEagerState:!1,eagerState:null,next:null},xf(n)){if(r)throw Error(s(479))}else r=Ji(n,a,u,2),r!==null&&Ii(r,n,2)}function xf(n){var r=n.alternate;return n===he||r!==null&&r===he}function qy(n,r){Le=Ge=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function $y(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,gs(n,a)}}var Is={readContext:ci,use:Dt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe};Is.useCacheRefresh=Oe,Is.useMemoCache=Oe,Is.useHostTransitionStatus=Oe,Is.useFormState=Oe,Is.useActionState=Oe,Is.useOptimistic=Oe;var bl={readContext:ci,use:Dt,useCallback:function(n,r){return Vt().memoizedState=[n,r===void 0?null:r],n},useContext:ci,useEffect:Uc,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,vl(4194308,4,Ru.bind(null,r,n),a)},useLayoutEffect:function(n,r){return vl(4194308,4,n,r)},useInsertionEffect:function(n,r){vl(4,2,n,r)},useMemo:function(n,r){var a=Vt();r=r===void 0?null:r;var u=n();if(ze){or(!0);try{n()}finally{or(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=Vt();if(a!==void 0){var f=a(r);if(ze){or(!0);try{a(r)}finally{or(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=lS.bind(null,he,n),[u.memoizedState,n]},useRef:function(n){var r=Vt();return n={current:n},r.memoizedState=n},useState:function(n){n=ho(n);var r=n.queue,a=Hy.bind(null,he,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Km,useDeferredValue:function(n,r){var a=Vt();return Qm(a,n,r)},useTransition:function(){var n=ho(!1);return n=jy.bind(null,he,n.queue,!0,!1),Vt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=he,f=Vt();if(rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),jt===null)throw Error(s(349));(gt&60)!==0||xi(u,r,a)}f.memoizedState=a;var g={value:a,getSnapshot:r};return f.queue=g,Uc(yl.bind(null,u,g,n),[n]),u.flags|=2048,ua(9,ts.bind(null,u,g,a,r),{destroy:void 0},null),a},useId:function(){var n=Vt(),r=jt.identifierPrefix;if(rt){var a=er,u=Ri;a=(u&~(1<<32-Kn(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Be++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=xt++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return Vt().memoizedState=oS.bind(null,he)}};bl.useMemoCache=Ui,bl.useHostTransitionStatus=Wm,bl.useFormState=Af,bl.useActionState=Af,bl.useOptimistic=function(n){var r=Vt();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xm.bind(null,he,!0,a),a.dispatch=r,[n,r]};var fo={readContext:ci,use:Dt,useCallback:Ly,useContext:ci,useEffect:Su,useImperativeHandle:zc,useInsertionEffect:Rf,useLayoutEffect:Cf,useMemo:Py,useReducer:es,useRef:Au,useState:function(){return es(_n)},useDebugValue:Km,useDeferredValue:function(n,r){var a=lt();return Vy(a,de.memoizedState,n,r)},useTransition:function(){var n=es(_n)[0],r=lt().memoizedState;return[typeof n=="boolean"?n:Un(n),r]},useSyncExternalStore:zn,useId:By};fo.useCacheRefresh=Fy,fo.useMemoCache=Ui,fo.useHostTransitionStatus=Wm,fo.useFormState=Sf,fo.useActionState=Sf,fo.useOptimistic=function(n,r){var a=lt();return Tf(a,de,n,r)};var Tl={readContext:ci,use:Dt,useCallback:Ly,useContext:ci,useEffect:Su,useImperativeHandle:zc,useInsertionEffect:Rf,useLayoutEffect:Cf,useMemo:Py,useReducer:wt,useRef:Au,useState:function(){return wt(_n)},useDebugValue:Km,useDeferredValue:function(n,r){var a=lt();return de===null?Qm(a,n,r):Vy(a,de.memoizedState,n,r)},useTransition:function(){var n=wt(_n)[0],r=lt().memoizedState;return[typeof n=="boolean"?n:Un(n),r]},useSyncExternalStore:zn,useId:By};Tl.useCacheRefresh=Fy,Tl.useMemoCache=Ui,Tl.useHostTransitionStatus=Wm,Tl.useFormState=jc,Tl.useActionState=jc,Tl.useOptimistic=function(n,r){var a=lt();return de!==null?Tf(a,de,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Zm(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:V({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Jm={isMounted:function(n){return(n=n._reactInternals)?Te(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=rr(),f=go(u);f.payload=r,a!=null&&(f.callback=a),r=_o(n,f,u),r!==null&&(Ii(r,n,u),qc(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=rr(),f=go(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=_o(n,f,u),r!==null&&(Ii(r,n,u),qc(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=rr(),u=go(a);u.tag=2,r!=null&&(u.callback=r),r=_o(n,u,a),r!==null&&(Ii(r,n,a),qc(r,n,a))}};function Gy(n,r,a,u,f,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,w):r.prototype&&r.prototype.isPureReactComponent?!hl(a,u)||!hl(f,g):!0}function Ky(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Jm.enqueueReplaceState(r,r.state,null)}function wl(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=V({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var If=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Qy(n){If(n)}function Yy(n){console.error(n)}function Wy(n){If(n)}function Nf(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Xy(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ep(n,r,a){return a=go(a),a.tag=3,a.payload={element:null},a.callback=function(){Nf(n,r)},a}function Zy(n){return n=go(n),n.tag=3,n}function Jy(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){Xy(r,a,u)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){Xy(r,a,u),typeof f!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function uS(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Hc(r,a,f,!0),a=li.current,a!==null){switch(a.tag){case 13:return wr===null?Lp():a.alternate===null&&an===0&&(an=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Xr?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Vp(n,u,f)),!1;case 22:return a.flags|=65536,u===Xr?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Vp(n,u,f)),!1}throw Error(s(435,a.tag))}return Vp(n,u,f),Lp(),!1}if(rt)return r=li.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==du&&(n=Error(s(422),{cause:u}),dl(ji(n,a)))):(u!==du&&(r=Error(s(423),{cause:u}),dl(ji(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=ji(u,a),f=ep(n.stateNode,u,f),pp(n,f),an!==4&&(an=2)),!1;var g=Error(s(520),{cause:u});if(g=ji(g,a),Zc===null?Zc=[g]:Zc.push(g),an!==4&&(an=2),r===null)return!0;u=ji(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=ep(a.stateNode,u,n),pp(a,n),!1;case 1:if(r=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wo===null||!wo.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),Jy(f,n,a,u),pp(a,f),!1}a=a.return}while(a!==null);return!1}var ev=Error(s(461)),Bn=!1;function ti(n,r,a,u){r.child=n===null?As(r,null,a,u):ws(r,n.child,a,u)}function tv(n,r,a,u,f){a=a.render;var g=r.ref;if("ref"in u){var w={};for(var R in u)R!=="ref"&&(w[R]=u[R])}else w=u;return Sl(r),u=Qe(n,r,a,w,g,f),R=vt(),n!==null&&!Bn?(zt(n,r,f),ca(n,r,f)):(rt&&R&&xc(r),r.flags|=1,ti(n,r,u,f),r.child)}function nv(n,r,a,u,f){if(n===null){var g=a.type;return typeof g=="function"&&!wp(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,iv(n,r,g,u,f)):(n=Lf(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!up(n,f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(w,u)&&n.ref===r.ref)return ca(n,r,f)}return r.flags|=1,n=bo(g,u),n.ref=r.ref,n.return=r,r.child=n}function iv(n,r,a,u,f){if(n!==null){var g=n.memoizedProps;if(hl(g,u)&&n.ref===r.ref)if(Bn=!1,r.pendingProps=u=g,up(n,f))(n.flags&131072)!==0&&(Bn=!0);else return r.lanes=n.lanes,ca(n,r,f)}return tp(n,r,a,u,f)}function rv(n,r,a){var u=r.pendingProps,f=u.children,g=(r.stateNode._pendingVisibility&2)!==0,w=n!==null?n.memoizedState:null;if(Fc(n,r),u.mode==="hidden"||g){if((r.flags&128)!==0){if(u=w!==null?w.baseLanes|a:a,n!==null){for(f=r.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return sv(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ee(r,w!==null?w.cachePool:null),w!==null?Nc(r,w):_l(),Zr(r);else return r.lanes=r.childLanes=536870912,sv(n,r,w!==null?w.baseLanes|a:a,a)}else w!==null?(ee(r,w.cachePool),Nc(r,w),Ss(),r.memoizedState=null):(n!==null&&ee(r,null),_l(),Ss());return ti(n,r,f,a),r.child}function sv(n,r,a,u){var f=K();return f=f===null?null:{parent:dn._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&ee(r,null),_l(),Zr(r),n!==null&&Hc(n,r,u,!0),null}function Fc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function tp(n,r,a,u,f){return Sl(r),a=Qe(n,r,a,u,void 0,f),u=vt(),n!==null&&!Bn?(zt(n,r,f),ca(n,r,f)):(rt&&u&&xc(r),r.flags|=1,ti(n,r,a,f),r.child)}function av(n,r,a,u,f,g){return Sl(r),r.updateQueue=null,a=Et(r,u,a,f),tt(n),u=vt(),n!==null&&!Bn?(zt(n,r,g),ca(n,r,g)):(rt&&u&&xc(r),r.flags|=1,ti(n,r,a,g),r.child)}function ov(n,r,a,u,f){if(Sl(r),r.stateNode===null){var g=to,w=a.contextType;typeof w=="object"&&w!==null&&(g=ci(w)),g=new a(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},dp(r),w=a.contextType,g.context=typeof w=="object"&&w!==null?ci(w):to,g.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Zm(r,a,w,u),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Jm.enqueueReplaceState(g,g.state,null),Gc(r,u,g,f),$c(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){g=r.stateNode;var R=r.memoizedProps,P=wl(a,R);g.props=P;var G=g.context,re=a.contextType;w=to,typeof re=="object"&&re!==null&&(w=ci(re));var fe=a.getDerivedStateFromProps;re=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||G!==w)&&Ky(r,g,u,w),po=!1;var Z=r.memoizedState;g.state=Z,Gc(r,u,g,f),$c(),G=r.memoizedState,R||Z!==G||po?(typeof fe=="function"&&(Zm(r,a,fe,u),G=r.memoizedState),(P=po||Gy(r,a,P,u,Z,G,w))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=w,u=P):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,mp(n,r),w=r.memoizedProps,re=wl(a,w),g.props=re,fe=r.pendingProps,Z=g.context,G=a.contextType,P=to,typeof G=="object"&&G!==null&&(P=ci(G)),R=a.getDerivedStateFromProps,(G=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==fe||Z!==P)&&Ky(r,g,u,P),po=!1,Z=r.memoizedState,g.state=Z,Gc(r,u,g,f),$c();var ie=r.memoizedState;w!==fe||Z!==ie||po||n!==null&&n.dependencies!==null&&Of(n.dependencies)?(typeof R=="function"&&(Zm(r,a,R,u),ie=r.memoizedState),(re=po||Gy(r,a,re,u,Z,ie,P)||n!==null&&n.dependencies!==null&&Of(n.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ie,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ie,P)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),g.props=u,g.state=ie,g.context=P,u=re):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),u=!1)}return g=u,Fc(n,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&u?(r.child=ws(r,n.child,null,f),r.child=ws(r,null,a,f)):ti(n,r,a,f),r.memoizedState=g.state,n=r.child):n=ca(n,r,f),n}function lv(n,r,a,u){return fl(),r.flags|=256,ti(n,r,a,u),r.child}var np={dehydrated:null,treeContext:null,retryLane:0};function ip(n){return{baseLanes:n,cachePool:ae()}}function rp(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=xr),n}function uv(n,r,a){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,w;if((w=g)||(w=n!==null&&n.memoizedState===null?!1:(fn.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,n===null){if(rt){if(f?ui(r):Ss(),rt){var R=Cn,P;if(P=R){e:{for(P=R,R=Tr;P.nodeType!==8;){if(!R){R=null;break e}if(P=is(P.nextSibling),P===null){R=null;break e}}R=P}R!==null?(r.memoizedState={dehydrated:R,treeContext:Ts!==null?{id:Ri,overflow:er}:null,retryLane:536870912},P=Cr(18,null,null,0),P.stateNode=R,P.return=r,r.child=P,Zn=r,Cn=null,P=!0):P=!1}P||aa(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?r.lanes=16:r.lanes=536870912,null;Jr(r)}return R=u.children,u=u.fallback,f?(Ss(),f=r.mode,R=ap({mode:"hidden",children:R},f),u=Cl(u,f,a,null),R.return=r,u.return=r,R.sibling=u,r.child=R,f=r.child,f.memoizedState=ip(a),f.childLanes=rp(n,w,a),r.memoizedState=np,u):(ui(r),sp(r,R))}if(P=n.memoizedState,P!==null&&(R=P.dehydrated,R!==null)){if(g)r.flags&256?(ui(r),r.flags&=-257,r=op(n,r,a)):r.memoizedState!==null?(Ss(),r.child=n.child,r.flags|=128,r=null):(Ss(),f=u.fallback,R=r.mode,u=ap({mode:"visible",children:u.children},R),f=Cl(f,R,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,ws(r,n.child,null,a),u=r.child,u.memoizedState=ip(a),u.childLanes=rp(n,w,a),r.memoizedState=np,r=f);else if(ui(r),R.data==="$!"){if(w=R.nextSibling&&R.nextSibling.dataset,w)var G=w.dgst;w=G,u=Error(s(419)),u.stack="",u.digest=w,dl({value:u,source:null,stack:null}),r=op(n,r,a)}else if(Bn||Hc(n,r,a,!1),w=(a&n.childLanes)!==0,Bn||w){if(w=jt,w!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(w.suspendedLanes|a))!==0?0:u,u!==0&&u!==P.retryLane)throw P.retryLane=u,Yr(n,u),Ii(w,n,u),ev}R.data==="$?"||Lp(),r=op(n,r,a)}else R.data==="$?"?(r.flags|=128,r.child=n.child,r=AS.bind(null,n),R._reactRetry=r,r=null):(n=P.treeContext,Cn=is(R.nextSibling),Zn=r,rt=!0,Ci=null,Tr=!1,n!==null&&(Xn[Si++]=Ri,Xn[Si++]=er,Xn[Si++]=Ts,Ri=n.id,er=n.overflow,Ts=r),r=sp(r,u.children),r.flags|=4096);return r}return f?(Ss(),f=u.fallback,R=r.mode,P=n.child,G=P.sibling,u=bo(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&31457280,G!==null?f=bo(G,f):(f=Cl(f,R,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,R=n.child.memoizedState,R===null?R=ip(a):(P=R.cachePool,P!==null?(G=dn._currentValue,P=P.parent!==G?{parent:G,pool:G}:P):P=ae(),R={baseLanes:R.baseLanes|a,cachePool:P}),f.memoizedState=R,f.childLanes=rp(n,w,a),r.memoizedState=np,u):(ui(r),a=n.child,n=a.sibling,a=bo(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(w=r.deletions,w===null?(r.deletions=[n],r.flags|=16):w.push(n)),r.child=a,r.memoizedState=null,a)}function sp(n,r){return r=ap({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ap(n,r){return Lv(n,r,0,null)}function op(n,r,a){return ws(r,n.child,null,a),n=sp(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function cv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),hp(n.return,r,a)}function lp(n,r,a,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=f)}function hv(n,r,a){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(ti(n,r,u.children,a),u=fn.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,a,r);else if(n.tag===19)cv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Ze(fn,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Eu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),lp(r,!1,f,a,g);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Eu(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}lp(r,!0,a,null,g);break;case"together":lp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ca(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),To|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Hc(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=bo(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=bo(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function up(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Of(n)))}function cS(n,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),mo(r,dn,n.memoizedState.cache),fl();break;case 27:case 5:qi(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:mo(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ui(r),r.flags|=128,null):(a&r.child.childLanes)!==0?uv(n,r,a):(ui(r),n=ca(n,r,a),n!==null?n.sibling:null);ui(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Hc(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return hv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(fn,fn.current),u)break;return null;case 22:case 23:return r.lanes=0,rv(n,r,a);case 24:mo(r,dn,n.memoizedState.cache)}return ca(n,r,a)}function fv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bn=!0;else{if(!up(n,a)&&(r.flags&128)===0)return Bn=!1,cS(n,r,a);Bn=(n.flags&131072)!==0}else Bn=!1,rt&&(r.flags&1048576)!==0&&yf(r,ro,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")wp(u)?(n=wl(u,n),r.tag=1,r=ov(null,r,u,n,a)):(r.tag=0,r=tp(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===U){r.tag=11,r=tv(null,r,u,n,a);break e}else if(f===z){r.tag=14,r=nv(null,r,u,n,a);break e}}throw r=L(u)||u,Error(s(306,r,""))}}return r;case 0:return tp(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=wl(u,r.pendingProps),ov(n,r,u,f,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var g=r.pendingProps;f=r.memoizedState,u=f.element,mp(n,r),Gc(r,g,null,a);var w=r.memoizedState;if(g=w.cache,mo(r,dn,g),g!==f.cache&&fp(r,[dn],a,!0),$c(),g=w.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=lv(n,r,g,a);break e}else if(g!==u){u=ji(Error(s(424)),r),dl(u),r=lv(n,r,g,a);break e}else for(Cn=is(r.stateNode.containerInfo.firstChild),Zn=r,rt=!0,Ci=null,Tr=!0,a=As(r,null,g,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fl(),g===u){r=ca(n,r,a);break e}ti(n,r,g,a)}r=r.child}return r;case 26:return Fc(n,r),n===null?(a=p0(r.type,null,r.pendingProps,null))?r.memoizedState=a:rt||(a=r.type,n=r.pendingProps,u=Kf(Ft.current).createElement(a),u[Jt]=r,u[un]=n,ni(u,a,n),Ot(u),r.stateNode=u):r.memoizedState=p0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return qi(r),n===null&&rt&&(u=r.stateNode=f0(r.type,r.pendingProps,Ft.current),Zn=r,Tr=!0,Cn=is(u.firstChild)),u=r.pendingProps.children,n!==null||rt?ti(n,r,u,a):r.child=ws(r,null,u,a),Fc(n,r),r.child;case 5:return n===null&&rt&&((f=u=Cn)&&(u=zS(u,r.type,r.pendingProps,Tr),u!==null?(r.stateNode=u,Zn=r,Cn=is(u.firstChild),Tr=!1,f=!0):f=!1),f||aa(r)),qi(r),f=r.type,g=r.pendingProps,w=n!==null?n.memoizedProps:null,u=g.children,Yp(f,g)?u=null:w!==null&&Yp(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=Qe(n,r,St,null,null,a),oh._currentValue=f),Fc(n,r),ti(n,r,u,a),r.child;case 6:return n===null&&rt&&((n=a=Cn)&&(a=BS(a,r.pendingProps,Tr),a!==null?(r.stateNode=a,Zn=r,Cn=null,n=!0):n=!1),n||aa(r)),null;case 13:return uv(n,r,a);case 4:return Je(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=ws(r,null,u,a):ti(n,r,u,a),r.child;case 11:return tv(n,r,r.type,r.pendingProps,a);case 7:return ti(n,r,r.pendingProps,a),r.child;case 8:return ti(n,r,r.pendingProps.children,a),r.child;case 12:return ti(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,mo(r,r.type,u.value),ti(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Sl(r),f=ci(f),u=u(f),r.flags|=1,ti(n,r,u,a),r.child;case 14:return nv(n,r,r.type,r.pendingProps,a);case 15:return iv(n,r,r.type,r.pendingProps,a);case 19:return hv(n,r,a);case 22:return rv(n,r,a);case 24:return Sl(r),u=ci(dn),n===null?(f=K(),f===null&&(f=jt,g=bu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),r.memoizedState={parent:u,cache:f},dp(r),mo(r,dn,f)):((n.lanes&a)!==0&&(mp(n,r),Gc(r,null,null,a),$c()),f=n.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),mo(r,dn,u)):(u=g.cache,mo(r,dn,u),u!==f.cache&&fp(r,[dn],a,!0))),ti(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var cp=ge(null),Al=null,ha=null;function mo(n,r,a){Ze(cp,r._currentValue),r._currentValue=a}function fa(n){n._currentValue=cp.current,yt(cp)}function hp(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function fp(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=f;for(var P=0;P<r.length;P++)if(R.context===r[P]){g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),hp(g.return,a,n),u||(w=null);break e}g=R.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=a,g=w.alternate,g!==null&&(g.lanes|=a),hp(w,a,n),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===n){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Hc(n,r,a,u){n=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var R=f.type;Pt(f.pendingProps.value,w.value)||(n!==null?n.push(R):n=[R])}}else if(f===On.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(oh):n=[oh])}f=f.return}n!==null&&fp(r,n,a,u),r.flags|=262144}function Of(n){for(n=n.firstContext;n!==null;){if(!Pt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Sl(n){Al=n,ha=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ci(n){return dv(Al,n)}function Df(n,r){return Al===null&&Sl(n),dv(n,r)}function dv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ha===null){if(n===null)throw Error(s(308));ha=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ha=ha.next=r;return a}var po=!1;function dp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mp(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function go(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function _o(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=hu(n),gf(n,null,a),r}return cu(n,u,r,a),hu(n)}function qc(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,gs(n,a)}}function pp(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=r:g=g.next=r}else f=g=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var gp=!1;function $c(){if(gp){var n=Ar;if(n!==null)throw n}}function Gc(n,r,a,u){gp=!1;var f=n.updateQueue;po=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var P=R,G=P.next;P.next=null,w===null?g=G:w.next=G,w=P;var re=n.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==w&&(R===null?re.firstBaseUpdate=G:R.next=G,re.lastBaseUpdate=P))}if(g!==null){var fe=f.baseState;w=0,re=G=P=null,R=g;do{var Z=R.lane&-536870913,ie=Z!==R.lane;if(ie?(gt&Z)===Z:(u&Z)===Z){Z!==0&&Z===co&&(gp=!0),re!==null&&(re=re.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var De=n,Ye=R;Z=r;var on=a;switch(Ye.tag){case 1:if(De=Ye.payload,typeof De=="function"){fe=De.call(on,fe,Z);break e}fe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ye.payload,Z=typeof De=="function"?De.call(on,fe,Z):De,Z==null)break e;fe=V({},fe,Z);break e;case 2:po=!0}}Z=R.callback,Z!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[Z]:ie.push(Z))}else ie={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(G=re=ie,P=fe):re=re.next=ie,w|=Z;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);re===null&&(P=fe),f.baseState=P,f.firstBaseUpdate=G,f.lastBaseUpdate=re,g===null&&(f.shared.lanes=0),To|=w,n.lanes=w,n.memoizedState=fe}}function mv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function pv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)mv(a[n],r)}function Kc(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var g=a.create,w=a.inst;u=g(),w.destroy=u}a=a.next}while(a!==f)}}catch(R){kt(r,r.return,R)}}function yo(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var w=u.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,f=r;var P=a;try{R()}catch(G){kt(f,P,G)}}}u=u.next}while(u!==g)}}catch(G){kt(r,r.return,G)}}function gv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{pv(r,a)}catch(u){kt(n,n.return,u)}}}function _v(n,r,a){a.props=wl(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){kt(n,r,u)}}function Rl(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(g){kt(n,r,g)}}function tr(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){kt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){kt(n,r,f)}else a.current=null}function yv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){kt(n,n.return,f)}}function vv(n,r,a){try{var u=n.stateNode;LS(u,n.type,a,r),u[un]=r}catch(f){kt(n,n.return,f)}}function Ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function _p(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yp(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Gf));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(yp(n,r,a),n=n.sibling;n!==null;)yp(n,r,a),n=n.sibling}function kf(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(kf(n,r,a),n=n.sibling;n!==null;)kf(n,r,a),n=n.sibling}var da=!1,sn=!1,vp=!1,bv=typeof WeakSet=="function"?WeakSet:Set,Fn=null,Tv=!1;function hS(n,r){if(n=n.containerInfo,Kp=Jf,n=cf(n),Tc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,R=-1,P=-1,G=0,re=0,fe=n,Z=null;t:for(;;){for(var ie;fe!==a||f!==0&&fe.nodeType!==3||(R=w+f),fe!==g||u!==0&&fe.nodeType!==3||(P=w+u),fe.nodeType===3&&(w+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)Z=fe,fe=ie;for(;;){if(fe===n)break t;if(Z===a&&++G===f&&(R=w),Z===g&&++re===u&&(P=w),(ie=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=ie}a=R===-1||P===-1?null:{start:R,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qp={focusedElem:n,selectionRange:a},Jf=!1,Fn=r;Fn!==null;)if(r=Fn,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Fn=n;else for(;Fn!==null;){switch(r=Fn,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,a=r,f=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var De=wl(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(De,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ye){kt(a,a.return,Ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Zp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Fn=n;break}Fn=r.return}return De=Tv,Tv=!1,De}function wv(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:pa(n,a),u&4&&Kc(5,a);break;case 1:if(pa(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(R){kt(a,a.return,R)}else{var f=wl(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(R){kt(a,a.return,R)}}u&64&&gv(a),u&512&&Rl(a,a.return);break;case 3:if(pa(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pv(u,n)}catch(R){kt(a,a.return,R)}}break;case 26:pa(n,a),u&512&&Rl(a,a.return);break;case 27:case 5:pa(n,a),r===null&&u&4&&yv(a),u&512&&Rl(a,a.return);break;case 12:pa(n,a);break;case 13:pa(n,a),u&4&&Rv(n,a);break;case 22:if(f=a.memoizedState!==null||da,!f){r=r!==null&&r.memoizedState!==null||sn;var g=da,w=sn;da=f,(sn=r)&&!w?vo(n,a,(a.subtreeFlags&8772)!==0):pa(n,a),da=g,sn=w}u&512&&(a.memoizedProps.mode==="manual"?Rl(a,a.return):tr(a,a.return));break;default:pa(n,a)}}function Av(n){var r=n.alternate;r!==null&&(n.alternate=null,Av(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&cr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yn=null,nr=!1;function ma(n,r,a){for(a=a.child;a!==null;)Sv(n,r,a),a=a.sibling}function Sv(n,r,a){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(ds,a)}catch{}switch(a.tag){case 26:sn||tr(a,r),ma(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:sn||tr(a,r);var u=yn,f=nr;for(yn=a.stateNode,ma(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);cr(a),yn=u,nr=f;break;case 5:sn||tr(a,r);case 6:f=yn;var g=nr;if(yn=null,ma(n,r,a),yn=f,nr=g,yn!==null)if(nr)try{n=yn,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(w){kt(a,r,w)}else try{yn.removeChild(a.stateNode)}catch(w){kt(a,r,w)}break;case 18:yn!==null&&(nr?(r=yn,a=a.stateNode,r.nodeType===8?Xp(r.parentNode,a):r.nodeType===1&&Xp(r,a),hh(r)):Xp(yn,a.stateNode));break;case 4:u=yn,f=nr,yn=a.stateNode.containerInfo,nr=!0,ma(n,r,a),yn=u,nr=f;break;case 0:case 11:case 14:case 15:sn||yo(2,a,r),sn||yo(4,a,r),ma(n,r,a);break;case 1:sn||(tr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&_v(a,r,u)),ma(n,r,a);break;case 21:ma(n,r,a);break;case 22:sn||tr(a,r),sn=(u=sn)||a.memoizedState!==null,ma(n,r,a),sn=u;break;default:ma(n,r,a)}}function Rv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hh(n)}catch(a){kt(r,r.return,a)}}function fS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new bv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new bv),r;default:throw Error(s(435,n.tag))}}function Ep(n,r){var a=fS(n);r.forEach(function(u){var f=SS.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Sr(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],g=n,w=r,R=w;e:for(;R!==null;){switch(R.tag){case 27:case 5:yn=R.stateNode,nr=!1;break e;case 3:yn=R.stateNode.containerInfo,nr=!0;break e;case 4:yn=R.stateNode.containerInfo,nr=!0;break e}R=R.return}if(yn===null)throw Error(s(160));Sv(g,w,f),yn=null,nr=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Cv(r,n),r=r.sibling}var ns=null;function Cv(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sr(r,n),Rr(n),u&4&&(yo(3,n,n.return),Kc(3,n),yo(5,n,n.return));break;case 1:Sr(r,n),Rr(n),u&512&&(sn||a===null||tr(a,a.return)),u&64&&da&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ns;if(Sr(r,n),Rr(n),u&512&&(sn||a===null||tr(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[qt]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),ni(g,u,a),g[Jt]=n,Ot(g),u=g;break e;case"link":var w=y0("link","href",f).get(u+(a.href||""));if(w){for(var R=0;R<w.length;R++)if(g=w[R],g.getAttribute("href")===(a.href==null?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(R,1);break t}}g=f.createElement(u),ni(g,u,a),f.head.appendChild(g);break;case"meta":if(w=y0("meta","content",f).get(u+(a.content||""))){for(R=0;R<w.length;R++)if(g=w[R],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(R,1);break t}}g=f.createElement(u),ni(g,u,a),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Jt]=n,Ot(g),u=g}n.stateNode=u}else v0(f,n.type,n.stateNode);else n.stateNode=_0(f,u,n.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?v0(f,n.type,n.stateNode):_0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&vv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,g=n.memoizedProps;try{for(var P=f.firstChild;P;){var G=P.nextSibling,re=P.nodeName;P[qt]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&P.rel.toLowerCase()==="stylesheet"||f.removeChild(P),P=G}for(var fe=n.type,Z=f.attributes;Z.length;)f.removeAttributeNode(Z[0]);ni(f,fe,g),f[Jt]=n,f[un]=g}catch(De){kt(n,n.return,De)}}case 5:if(Sr(r,n),Rr(n),u&512&&(sn||a===null||tr(a,a.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(De){kt(n,n.return,De)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,vv(n,f,a!==null?a.memoizedProps:f)),u&1024&&(vp=!0);break;case 6:if(Sr(r,n),Rr(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(De){kt(n,n.return,De)}}break;case 3:if(Wf=null,f=ns,ns=Qf(r.containerInfo),Sr(r,n),ns=f,Rr(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{hh(r.containerInfo)}catch(De){kt(n,n.return,De)}vp&&(vp=!1,xv(n));break;case 4:u=ns,ns=Qf(n.stateNode.containerInfo),Sr(r,n),Rr(n),ns=u;break;case 12:Sr(r,n),Rr(n);break;case 13:Sr(r,n),Rr(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ip=Zt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ep(n,u)));break;case 22:if(u&512&&(sn||a===null||tr(a,a.return)),P=n.memoizedState!==null,G=a!==null&&a.memoizedState!==null,re=da,fe=sn,da=re||P,sn=fe||G,Sr(r,n),sn=fe,da=re,Rr(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=P?r._visibility&-2:r._visibility|1,P&&(r=da||sn,a===null||G||r||Cu(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){G=a=r;try{if(f=G.stateNode,P)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=G.stateNode,R=G.memoizedProps.style;var ie=R!=null&&R.hasOwnProperty("display")?R.display:null;w.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(De){kt(G,G.return,De)}}}else if(r.tag===6){if(a===null){G=r;try{G.stateNode.nodeValue=P?"":G.memoizedProps}catch(De){kt(G,G.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ep(n,a))));break;case 19:Sr(r,n),Rr(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ep(n,u)));break;case 21:break;default:Sr(r,n),Rr(n)}}function Rr(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Ev(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,g=_p(n);kf(n,g,f);break;case 5:var w=u.stateNode;u.flags&32&&(Rn(w,""),u.flags&=-33);var R=_p(n);kf(n,R,w);break;case 3:case 4:var P=u.stateNode.containerInfo,G=_p(n);yp(n,G,P);break;default:throw Error(s(161))}}}catch(re){kt(n,n.return,re)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function xv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;xv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function pa(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)wv(n,r.alternate,r),r=r.sibling}function Cu(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:yo(4,r,r.return),Cu(r);break;case 1:tr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&_v(r,r.return,a),Cu(r);break;case 26:case 27:case 5:tr(r,r.return),Cu(r);break;case 22:tr(r,r.return),r.memoizedState===null&&Cu(r);break;default:Cu(r)}n=n.sibling}}function vo(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,g=r,w=g.flags;switch(g.tag){case 0:case 11:case 15:vo(f,g,a),Kc(4,g);break;case 1:if(vo(f,g,a),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){kt(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var R=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)mv(P[f],R)}catch(G){kt(u,u.return,G)}}a&&w&64&&gv(g),Rl(g,g.return);break;case 26:case 27:case 5:vo(f,g,a),a&&u===null&&w&4&&yv(g),Rl(g,g.return);break;case 12:vo(f,g,a);break;case 13:vo(f,g,a),a&&w&4&&Rv(f,g);break;case 22:g.memoizedState===null&&vo(f,g,a),Rl(g,g.return);break;default:vo(f,g,a)}r=r.sibling}}function bp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Rs(a))}function Tp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rs(n))}function Eo(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Iv(n,r,a,u),r=r.sibling}function Iv(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Eo(n,r,a,u),f&2048&&Kc(9,r);break;case 3:Eo(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rs(n)));break;case 12:if(f&2048){Eo(n,r,a,u),n=r.stateNode;try{var g=r.memoizedProps,w=g.id,R=g.onPostCommit;typeof R=="function"&&R(w,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){kt(r,r.return,P)}}else Eo(n,r,a,u);break;case 23:break;case 22:g=r.stateNode,r.memoizedState!==null?g._visibility&4?Eo(n,r,a,u):Qc(n,r):g._visibility&4?Eo(n,r,a,u):(g._visibility|=4,xu(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&bp(r.alternate,r);break;case 24:Eo(n,r,a,u),f&2048&&Tp(r.alternate,r);break;default:Eo(n,r,a,u)}}function xu(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,w=r,R=a,P=u,G=w.flags;switch(w.tag){case 0:case 11:case 15:xu(g,w,R,P,f),Kc(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&4?xu(g,w,R,P,f):Qc(g,w):(re._visibility|=4,xu(g,w,R,P,f)),f&&G&2048&&bp(w.alternate,w);break;case 24:xu(g,w,R,P,f),f&&G&2048&&Tp(w.alternate,w);break;default:xu(g,w,R,P,f)}r=r.sibling}}function Qc(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Qc(a,u),f&2048&&bp(u.alternate,u);break;case 24:Qc(a,u),f&2048&&Tp(u.alternate,u);break;default:Qc(a,u)}r=r.sibling}}var Yc=8192;function Iu(n){if(n.subtreeFlags&Yc)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 26:Iu(n),n.flags&Yc&&n.memoizedState!==null&&eR(ns,n.memoizedState,n.memoizedProps);break;case 5:Iu(n);break;case 3:case 4:var r=ns;ns=Qf(n.stateNode.containerInfo),Iu(n),ns=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Yc,Yc=16777216,Iu(n),Yc=r):Iu(n));break;default:Iu(n)}}function Ov(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Wc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Fn=u,kv(u,n)}Ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dv(n),n=n.sibling}function Dv(n){switch(n.tag){case 0:case 11:case 15:Wc(n),n.flags&2048&&yo(9,n,n.return);break;case 3:Wc(n);break;case 12:Wc(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Mf(n)):Wc(n);break;default:Wc(n)}}function Mf(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Fn=u,kv(u,n)}Ov(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:yo(8,r,r.return),Mf(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Mf(r));break;default:Mf(r)}n=n.sibling}}function kv(n,r){for(;Fn!==null;){var a=Fn;switch(a.tag){case 0:case 11:case 15:yo(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Rs(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Fn=u;else e:for(a=n;Fn!==null;){u=Fn;var f=u.sibling,g=u.return;if(Av(u),u===a){Fn=null;break e}if(f!==null){f.return=g,Fn=f;break e}Fn=g}}}function dS(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(n,r,a,u){return new dS(n,r,a,u)}function wp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function bo(n,r){var a=n.alternate;return a===null?(a=Cr(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Mv(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Lf(n,r,a,u,f,g){var w=0;if(u=n,typeof n=="function")wp(n)&&(w=1);else if(typeof n=="string")w=ZS(n,a,Xt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Cl(a.children,f,g,r);case _:w=8,f|=24;break;case T:return n=Cr(12,a,r,f|2),n.elementType=T,n.lanes=g,n;case W:return n=Cr(13,a,r,f),n.elementType=W,n.lanes=g,n;case B:return n=Cr(19,a,r,f),n.elementType=B,n.lanes=g,n;case ne:return Lv(a,f,g,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case M:w=10;break e;case x:w=9;break e;case U:w=11;break e;case z:w=14;break e;case te:w=16,u=null;break e}w=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Cr(w,a,r,f),r.elementType=n,r.type=u,r.lanes=g,r}function Cl(n,r,a,u){return n=Cr(7,n,u,r),n.lanes=a,n}function Lv(n,r,a,u){n=Cr(22,n,u,r),n.elementType=ne,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var w=Yr(g,2);w!==null&&(f._pendingVisibility|=2,Ii(w,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var w=Yr(g,2);w!==null&&(f._pendingVisibility&=-3,Ii(w,g,2))}}};return n.stateNode=f,n}function Ap(n,r,a){return n=Cr(6,n,null,r),n.lanes=a,n}function Sp(n,r,a){return r=Cr(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function ga(n){n.flags|=4}function Pv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!E0(r)){if(r=li.current,r!==null&&((gt&4194176)===gt?wr!==null:(gt&62914560)!==gt&&(gt&536870912)===0||r!==wr))throw pl=Xr,ao;n.flags|=8192}}function Pf(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Oi():536870912,n.lanes|=r,Ou|=r)}function Xc(n,r){if(!rt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Qt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function mS(n,r,a){var u=r.pendingProps;switch(Wr(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(r),null;case 1:return Qt(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),fa(dn),ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(so(r)?ga(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ci!==null&&(kp(Ci),Ci=null))),Qt(r),null;case 26:return a=r.memoizedState,n===null?(ga(r),a!==null?(Qt(r),Pv(r,a)):(Qt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ga(r),Qt(r),Pv(r,a)):(Qt(r),r.flags&=-16777217):(n.memoizedProps!==u&&ga(r),Qt(r),r.flags&=-16777217),null;case 27:us(r),a=Ft.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ga(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Qt(r),null}n=Xt.current,so(r)?oa(r):(n=f0(f,u,a),r.stateNode=n,ga(r))}return Qt(r),null;case 5:if(us(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ga(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Qt(r),null}if(n=Xt.current,so(r))oa(r);else{switch(f=Kf(Ft.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Jt]=r,n[un]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(ni(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ga(r)}}return Qt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ga(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ft.current,so(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=Zn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Jt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||a0(n.nodeValue,a)),n||aa(r)}else n=Kf(n).createTextNode(u),n[Jt]=r,r.stateNode=n}return Qt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=so(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Jt]=r}else fl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Qt(r),f=!1}else Ci!==null&&(kp(Ci),Ci=null),f=!0;if(!f)return r.flags&256?(Jr(r),r):(Jr(r),null)}if(Jr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Pf(r,r.updateQueue),Qt(r),null;case 4:return ln(),n===null&&qp(r.stateNode.containerInfo),Qt(r),null;case 10:return fa(r.type),Qt(r),null;case 19:if(yt(fn),f=r.memoizedState,f===null)return Qt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Xc(f,!1);else{if(an!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=Eu(n),g!==null){for(r.flags|=128,Xc(f,!1),n=g.updateQueue,r.updateQueue=n,Pf(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Mv(a,n),a=a.sibling;return Ze(fn,fn.current&1|2),r.child}n=n.sibling}f.tail!==null&&Zt()>Vf&&(r.flags|=128,u=!0,Xc(f,!1),r.lanes=4194304)}else{if(!u)if(n=Eu(g),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Pf(r,n),Xc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!rt)return Qt(r),null}else 2*Zt()-f.renderingStartTime>Vf&&a!==536870912&&(r.flags|=128,u=!0,Xc(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(n=f.last,n!==null?n.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Zt(),r.sibling=null,n=fn.current,Ze(fn,u?n&1|2:n&1),r):(Qt(r),null);case 22:case 23:return Jr(r),vu(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Qt(r),r.subtreeFlags&6&&(r.flags|=8192)):Qt(r),a=r.updateQueue,a!==null&&Pf(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&yt(H),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fa(dn),Qt(r),null;case 25:return null}throw Error(s(156,r.tag))}function pS(n,r){switch(Wr(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return fa(dn),ln(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return us(r),null;case 13:if(Jr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));fl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return yt(fn),null;case 4:return ln(),null;case 10:return fa(r.type),null;case 22:case 23:return Jr(r),vu(),n!==null&&yt(H),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return fa(dn),null;case 25:return null;default:return null}}function Vv(n,r){switch(Wr(r),r.tag){case 3:fa(dn),ln();break;case 26:case 27:case 5:us(r);break;case 4:ln();break;case 13:Jr(r);break;case 19:yt(fn);break;case 10:fa(r.type);break;case 22:case 23:Jr(r),vu(),n!==null&&yt(H);break;case 24:fa(dn)}}var gS={getCacheForType:function(n){var r=ci(dn),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},_S=typeof WeakMap=="function"?WeakMap:Map,Yt=0,jt=null,st=null,gt=0,Ut=0,ir=null,_a=!1,Nu=!1,Rp=!1,ya=0,an=0,To=0,xl=0,Cp=0,xr=0,Ou=0,Zc=null,Ns=null,xp=!1,Ip=0,Vf=1/0,jf=null,wo=null,Uf=!1,Il=null,Jc=0,Np=0,Op=null,eh=0,Dp=null;function rr(){if((Yt&2)!==0&&gt!==0)return gt&-gt;if(D.T!==null){var n=co;return n!==0?n:zp()}return Pr()}function jv(){xr===0&&(xr=(gt&536870912)===0||rt?lr():536870912);var n=li.current;return n!==null&&(n.flags|=32),xr}function Ii(n,r,a){(n===jt&&Ut===2||n.cancelPendingCommit!==null)&&(Du(n,0),va(n,gt,xr,!1)),Kt(n,a),((Yt&2)===0||n!==jt)&&(n===jt&&((Yt&2)===0&&(xl|=a),an===4&&va(n,gt,xr,!1)),Os(n))}function Uv(n,r,a){if((Yt&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||ms(n,r),f=u?ES(n,r):Pp(n,r,!0),g=u;do{if(f===0){Nu&&!u&&va(n,r,0,!1);break}else if(f===6)va(n,r,0,!_a);else{if(a=n.current.alternate,g&&!yS(a)){f=Pp(n,r,!1),g=!1;continue}if(f===2){if(g=r,n.errorRecoveryDisabledLanes&g)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var R=n;f=Zc;var P=R.current.memoizedState.isDehydrated;if(P&&(Du(R,w).flags|=256),w=Pp(R,w,!1),w!==2){if(Rp&&!P){R.errorRecoveryDisabledLanes|=g,xl|=g,f=4;break e}g=Ns,Ns=f,g!==null&&kp(g)}f=w}if(g=!1,f!==2)continue}}if(f===1){Du(n,0),va(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){va(u,r,xr,!_a);break e}break;case 2:Ns=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(g=Ip+300-Zt(),10<g)){if(va(u,r,xr,!_a),Ni(u,0)!==0)break e;u.timeoutHandle=u0(zv.bind(null,u,a,Ns,jf,xp,r,xr,xl,Ou,_a,2,-0,0),g);break e}zv(u,a,Ns,jf,xp,r,xr,xl,Ou,_a,0,-0,0)}}break}while(!0);Os(n)}function kp(n){Ns===null?Ns=n:Ns.push.apply(Ns,n)}function zv(n,r,a,u,f,g,w,R,P,G,re,fe,Z){var ie=r.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(ah={stylesheets:null,count:0,unsuspend:JS},Nv(r),r=tR(),r!==null)){n.cancelPendingCommit=r(Kv.bind(null,n,a,u,f,w,R,P,1,fe,Z)),va(n,g,w,!G);return}Kv(n,a,u,f,w,R,P,re,fe,Z)}function yS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],g=f.getSnapshot;f=f.value;try{if(!Pt(g(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function va(n,r,a,u){r&=~Cp,r&=~xl,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var g=31-Kn(f),w=1<<g;u[g]=-1,f&=~w}a!==0&&ps(n,a,r)}function zf(){return(Yt&6)===0?(th(0),!1):!0}function Mp(){if(st!==null){if(Ut===0)var n=st.return;else n=st,ha=Al=null,Jn(n),oo=null,gl=0,n=st;for(;n!==null;)Vv(n.alternate,n),n=n.return;st=null}}function Du(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,VS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Mp(),jt=n,st=a=bo(n.current,null),gt=r,Ut=0,ir=null,_a=!1,Nu=ms(n,r),Rp=!1,Ou=xr=Cp=xl=To=an=0,Ns=Zc=null,xp=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Kn(u),g=1<<f;r|=n[f],u&=~g}return ya=r,uu(),a}function Bv(n,r){he=null,D.H=Is,r===ml?(r=bf(),Ut=3):r===ao?(r=bf(),Ut=4):Ut=r===ev?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ir=r,st===null&&(an=1,Nf(n,ji(r,n.current)))}function Fv(){var n=D.H;return D.H=Is,n===null?Is:n}function Hv(){var n=D.A;return D.A=gS,n}function Lp(){an=4,_a||(gt&4194176)!==gt&&li.current!==null||(Nu=!0),(To&134217727)===0&&(xl&134217727)===0||jt===null||va(jt,gt,xr,!1)}function Pp(n,r,a){var u=Yt;Yt|=2;var f=Fv(),g=Hv();(jt!==n||gt!==r)&&(jf=null,Du(n,r)),r=!1;var w=an;e:do try{if(Ut!==0&&st!==null){var R=st,P=ir;switch(Ut){case 8:Mp(),w=6;break e;case 3:case 2:case 6:li.current===null&&(r=!0);var G=Ut;if(Ut=0,ir=null,ku(n,R,P,G),a&&Nu){w=0;break e}break;default:G=Ut,Ut=0,ir=null,ku(n,R,P,G)}}vS(),w=an;break}catch(re){Bv(n,re)}while(!0);return r&&n.shellSuspendCounter++,ha=Al=null,Yt=u,D.H=f,D.A=g,st===null&&(jt=null,gt=0,uu()),w}function vS(){for(;st!==null;)qv(st)}function ES(n,r){var a=Yt;Yt|=2;var u=Fv(),f=Hv();jt!==n||gt!==r?(jf=null,Vf=Zt()+500,Du(n,r)):Nu=ms(n,r);e:do try{if(Ut!==0&&st!==null){r=st;var g=ir;t:switch(Ut){case 1:Ut=0,ir=null,ku(n,r,g,1);break;case 2:if(vf(g)){Ut=0,ir=null,$v(r);break}r=function(){Ut===2&&jt===n&&(Ut=7),Os(n)},g.then(r,r);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:vf(g)?(Ut=0,ir=null,$v(r)):(Ut=0,ir=null,ku(n,r,g,7));break;case 5:var w=null;switch(st.tag){case 26:w=st.memoizedState;case 5:case 27:var R=st;if(!w||E0(w)){Ut=0,ir=null;var P=R.sibling;if(P!==null)st=P;else{var G=R.return;G!==null?(st=G,Bf(G)):st=null}break t}}Ut=0,ir=null,ku(n,r,g,5);break;case 6:Ut=0,ir=null,ku(n,r,g,6);break;case 8:Mp(),an=6;break e;default:throw Error(s(462))}}bS();break}catch(re){Bv(n,re)}while(!0);return ha=Al=null,D.H=u,D.A=f,Yt=a,st!==null?0:(jt=null,gt=0,uu(),an)}function bS(){for(;st!==null&&!Xo();)qv(st)}function qv(n){var r=fv(n.alternate,n,ya);n.memoizedProps=n.pendingProps,r===null?Bf(n):st=r}function $v(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=av(a,r,r.pendingProps,r.type,void 0,gt);break;case 11:r=av(a,r,r.pendingProps,r.type.render,r.ref,gt);break;case 5:Jn(r);default:Vv(a,r),r=st=Mv(r,ya),r=fv(a,r,ya)}n.memoizedProps=n.pendingProps,r===null?Bf(n):st=r}function ku(n,r,a,u){ha=Al=null,Jn(r),oo=null,gl=0;var f=r.return;try{if(uS(n,f,r,a,gt)){an=1,Nf(n,ji(a,n.current)),st=null;return}}catch(g){if(f!==null)throw st=f,g;an=1,Nf(n,ji(a,n.current)),st=null;return}r.flags&32768?(rt||u===1?n=!0:Nu||(gt&536870912)!==0?n=!1:(_a=n=!0,(u===2||u===3||u===6)&&(u=li.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gv(r,n)):Bf(r)}function Bf(n){var r=n;do{if((r.flags&32768)!==0){Gv(r,_a);return}n=r.return;var a=mS(r.alternate,r,ya);if(a!==null){st=a;return}if(r=r.sibling,r!==null){st=r;return}st=r=n}while(r!==null);an===0&&(an=5)}function Gv(n,r){do{var a=pS(n.alternate,n);if(a!==null){a.flags&=32767,st=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){st=n;return}st=n=a}while(n!==null);an=6,st=null}function Kv(n,r,a,u,f,g,w,R,P,G){var re=D.T,fe=ye.p;try{ye.p=2,D.T=null,TS(n,r,a,u,fe,f,g,w,R,P,G)}finally{D.T=re,ye.p=fe}}function TS(n,r,a,u,f,g,w,R){do Mu();while(Il!==null);if((Yt&6)!==0)throw Error(s(327));var P=n.finishedWork;if(u=n.finishedLanes,P===null)return null;if(n.finishedWork=null,n.finishedLanes=0,P===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var G=P.lanes|P.childLanes;if(G|=Cc,Kl(n,u,G,g,w,R),n===jt&&(st=jt=null,gt=0),(P.subtreeFlags&10256)===0&&(P.flags&10256)===0||Uf||(Uf=!0,Np=G,Op=a,RS(Tn,function(){return Mu(),null})),a=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||a?(a=D.T,D.T=null,g=ye.p,ye.p=2,w=Yt,Yt|=4,hS(n,P),Cv(P,n),zm(Qp,n.containerInfo),Jf=!!Kp,Qp=Kp=null,n.current=P,wv(n,P.alternate,P),qs(),Yt=w,ye.p=g,D.T=a):n.current=P,Uf?(Uf=!1,Il=n,Jc=u):Qv(n,G),G=n.pendingLanes,G===0&&(wo=null),Zo(P.stateNode),Os(n),r!==null)for(f=n.onRecoverableError,P=0;P<r.length;P++)G=r[P],f(G.value,{componentStack:G.stack});return(Jc&3)!==0&&Mu(),G=n.pendingLanes,(u&4194218)!==0&&(G&42)!==0?n===Dp?eh++:(eh=0,Dp=n):eh=0,th(0),null}function Qv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Rs(r)))}function Mu(){if(Il!==null){var n=Il,r=Np;Np=0;var a=Ba(Jc),u=D.T,f=ye.p;try{if(ye.p=32>a?32:a,D.T=null,Il===null)var g=!1;else{a=Op,Op=null;var w=Il,R=Jc;if(Il=null,Jc=0,(Yt&6)!==0)throw Error(s(331));var P=Yt;if(Yt|=4,Dv(w.current),Iv(w,w.current,R,a),Yt=P,th(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(ds,w)}catch{}g=!0}return g}finally{ye.p=f,D.T=u,Qv(n,r)}}return!1}function Yv(n,r,a){r=ji(a,r),r=ep(n.stateNode,r,2),n=_o(n,r,2),n!==null&&(Kt(n,2),Os(n))}function kt(n,r,a){if(n.tag===3)Yv(n,n,a);else for(;r!==null;){if(r.tag===3){Yv(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(wo===null||!wo.has(u))){n=ji(a,n),a=Zy(2),u=_o(r,a,2),u!==null&&(Jy(a,u,r,n),Kt(u,2),Os(u));break}}r=r.return}}function Vp(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new _S;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Rp=!0,f.add(a),n=wS.bind(null,n,r,a),r.then(n,n))}function wS(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,jt===n&&(gt&a)===a&&(an===4||an===3&&(gt&62914560)===gt&&300>Zt()-Ip?(Yt&2)===0&&Du(n,0):Cp|=a,Ou===gt&&(Ou=0)),Os(n)}function Wv(n,r){r===0&&(r=Oi()),n=Yr(n,r),n!==null&&(Kt(n,r),Os(n))}function AS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Wv(n,a)}function SS(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Wv(n,a)}function RS(n,r){return Dr(n,r)}var Ff=null,Lu=null,jp=!1,Hf=!1,Up=!1,Nl=0;function Os(n){n!==Lu&&n.next===null&&(Lu===null?Ff=Lu=n:Lu=Lu.next=n),Hf=!0,jp||(jp=!0,xS(CS))}function th(n,r){if(!Up&&Hf){Up=!0;do for(var a=!1,u=Ff;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var w=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-Kn(42|n)+1)-1,g&=f&~(w&~R),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(a=!0,Jv(u,g))}else g=gt,g=Ni(u,u===jt?g:0),(g&3)===0||ms(u,g)||(a=!0,Jv(u,g));u=u.next}while(a);Up=!1}}function CS(){Hf=jp=!1;var n=0;Nl!==0&&(PS()&&(n=Nl),Nl=0);for(var r=Zt(),a=null,u=Ff;u!==null;){var f=u.next,g=Xv(u,r);g===0?(u.next=null,a===null?Ff=f:a.next=f,f===null&&(Lu=a)):(a=u,(n!==0||(g&3)!==0)&&(Hf=!0)),u=f}th(n)}function Xv(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var w=31-Kn(g),R=1<<w,P=f[w];P===-1?((R&a)===0||(R&u)!==0)&&(f[w]=Ua(R,r)):P<=r&&(n.expiredLanes|=R),g&=~R}if(r=jt,a=gt,a=Ni(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&Ut===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&hs(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ms(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&hs(u),Ba(a)){case 2:case 8:a=Tt;break;case 32:a=Tn;break;case 268435456:a=fs;break;default:a=Tn}return u=Zv.bind(null,n),a=Dr(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&hs(u),n.callbackPriority=2,n.callbackNode=null,2}function Zv(n,r){var a=n.callbackNode;if(Mu()&&n.callbackNode!==a)return null;var u=gt;return u=Ni(n,n===jt?u:0),u===0?null:(Uv(n,u,r),Xv(n,Zt()),n.callbackNode!=null&&n.callbackNode===a?Zv.bind(null,n):null)}function Jv(n,r){if(Mu())return null;Uv(n,r,!0)}function xS(n){jS(function(){(Yt&6)!==0?Dr(je,n):n()})}function zp(){return Nl===0&&(Nl=lr()),Nl}function e0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Wi(""+n)}function t0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function IS(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var g=e0((f[un]||null).action),w=u.submitter;w&&(r=(r=w[un]||null)?e0(r.formAction):w.getAttribute("formAction"),r!==null&&(g=r,w=null));var R=new Ys("action","action",null,u,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nl!==0){var P=w?t0(f,w):new FormData(f);Ym(a,{pending:!0,data:P,method:f.method,action:g},null,P)}}else typeof g=="function"&&(R.preventDefault(),P=w?t0(f,w):new FormData(f),Ym(a,{pending:!0,data:P,method:f.method,action:g},g,P))},currentTarget:f}]})}}for(var Bp=0;Bp<Rc.length;Bp++){var Fp=Rc[Bp],NS=Fp.toLowerCase(),OS=Fp[0].toUpperCase()+Fp.slice(1);Pi(NS,"on"+OS)}Pi(hf,"onAnimationEnd"),Pi(Ac,"onAnimationIteration"),Pi(Sc,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(ff,"onTransitionRun"),Pi(df,"onTransitionStart"),Pi(Fm,"onTransitionCancel"),Pi(mf,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nh));function n0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var w=u.length-1;0<=w;w--){var R=u[w],P=R.instance,G=R.currentTarget;if(R=R.listener,P!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=G;try{g(f)}catch(re){If(re)}f.currentTarget=null,g=P}else for(w=0;w<u.length;w++){if(R=u[w],P=R.instance,G=R.currentTarget,R=R.listener,P!==g&&f.isPropagationStopped())break e;g=R,f.currentTarget=G;try{g(f)}catch(re){If(re)}f.currentTarget=null,g=P}}}}function dt(n,r){var a=r[Di];a===void 0&&(a=r[Di]=new Set);var u=n+"__bubble";a.has(u)||(i0(r,n,2,!1),a.add(u))}function Hp(n,r,a){var u=0;r&&(u|=4),i0(a,n,u,r)}var qf="_reactListening"+Math.random().toString(36).slice(2);function qp(n){if(!n[qf]){n[qf]=!0,hr.forEach(function(a){a!=="selectionchange"&&(DS.has(a)||Hp(a,!1,n),Hp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[qf]||(r[qf]=!0,Hp("selectionchange",!1,r))}}function i0(n,r,a,u){switch(R0(r)){case 2:var f=rR;break;case 8:f=sR;break;default:f=ig}a=f.bind(null,r,a,n),f=void 0,!Ti||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function $p(n,r,a,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var R=u.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=u.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;w=w.return}for(;R!==null;){if(w=kn(R),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){u=g=w;continue e}R=R.parentNode}}u=u.return}qr(function(){var G=g,re=_s(a),fe=[];e:{var Z=pf.get(n);if(Z!==void 0){var ie=Ys,De=n;switch(n){case"keypress":if(gr(a)===0)break e;case"keydown":case"keyup":ie=Li;break;case"focusin":De="focus",ie=Js;break;case"focusout":De="blur",ie=Js;break;case"beforeblur":case"afterblur":ie=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=eu;break;case hf:case Ac:case Sc:ie=ta;break;case mf:ie=nu;break;case"scroll":case"scrollend":ie=Ka;break;case"wheel":ie=ia;break;case"copy":case"cut":case"paste":ie=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ol;break;case"toggle":case"beforetoggle":ie=ru}var Ye=(r&4)!==0,on=!Ye&&(n==="scroll"||n==="scrollend"),Q=Ye?Z!==null?Z+"Capture":null:Z;Ye=[];for(var q=G,X;q!==null;){var se=q;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||Q===null||(se=Ks(q,Q),se!=null&&Ye.push(ih(q,se,X))),on)break;q=q.return}0<Ye.length&&(Z=new ie(Z,De,null,a,re),fe.push({event:Z,listeners:Ye}))}}if((r&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Z&&a!==Pn&&(De=a.relatedTarget||a.fromElement)&&(kn(De)||De[Vr]))break e;if((ie||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ie?(De=a.relatedTarget||a.toElement,ie=G,De=De?kn(De):null,De!==null&&(on=Te(De),Ye=De.tag,De!==on||Ye!==5&&Ye!==27&&Ye!==6)&&(De=null)):(ie=null,De=G),ie!==De)){if(Ye=Ai,se="onMouseLeave",Q="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Ye=ol,se="onPointerLeave",Q="onPointerEnter",q="pointer"),on=ie==null?Z:yi(ie),X=De==null?Z:yi(De),Z=new Ye(se,q+"leave",ie,a,re),Z.target=on,Z.relatedTarget=X,se=null,kn(re)===G&&(Ye=new Ye(Q,q+"enter",De,a,re),Ye.target=X,Ye.relatedTarget=on,se=Ye),on=se,ie&&De)t:{for(Ye=ie,Q=De,q=0,X=Ye;X;X=Pu(X))q++;for(X=0,se=Q;se;se=Pu(se))X++;for(;0<q-X;)Ye=Pu(Ye),q--;for(;0<X-q;)Q=Pu(Q),X--;for(;q--;){if(Ye===Q||Q!==null&&Ye===Q.alternate)break t;Ye=Pu(Ye),Q=Pu(Q)}Ye=null}else Ye=null;ie!==null&&r0(fe,Z,ie,Ye,!1),De!==null&&on!==null&&r0(fe,on,De,Ye,!0)}}e:{if(Z=G?yi(G):window,ie=Z.nodeName&&Z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Z.type==="file")var Ie=cl;else if(nn(Z))if(nf)Ie=lf;else{Ie=of;var nt=af}else ie=Z.nodeName,!ie||ie.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&rl(G.elementType)&&(Ie=cl):Ie=au;if(Ie&&(Ie=Ie(n,G))){vr(fe,Ie,a,re);break e}nt&&nt(n,Z,G),n==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&Br(Z,"number",Z.value)}switch(nt=G?yi(G):window,n){case"focusin":(nn(nt)||nt.contentEditable==="true")&&(Xa=nt,wc=G,Za=null);break;case"focusout":Za=wc=Xa=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,lu(fe,a,re);break;case"selectionchange":if(Bm)break;case"keydown":case"keyup":lu(fe,a,re)}var Pe;if(jn)e:{switch(n){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else at?J(n,a)&&(He="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(b&&a.locale!=="ko"&&(at||He!=="onCompositionStart"?He==="onCompositionEnd"&&at&&(Pe=ys()):(wi=re,pr="value"in wi?wi.value:wi.textContent,at=!0)),nt=$f(G,He),0<nt.length&&(He=new Ya(He,n,null,a,re),fe.push({event:He,listeners:nt}),Pe?He.data=Pe:(Pe=ve(a),Pe!==null&&(He.data=Pe)))),(Pe=y?hn(n,a):ot(n,a))&&(He=$f(G,"onBeforeInput"),0<He.length&&(nt=new Ya("onBeforeInput","beforeinput",null,a,re),fe.push({event:nt,listeners:He}),nt.data=Pe)),IS(fe,n,G,a,re)}n0(fe,r)})}function ih(n,r,a){return{instance:n,listener:r,currentTarget:a}}function $f(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ks(n,a),f!=null&&u.unshift(ih(n,f,g)),f=Ks(n,r),f!=null&&u.push(ih(n,f,g))),n=n.return}return u}function Pu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function r0(n,r,a,u,f){for(var g=r._reactName,w=[];a!==null&&a!==u;){var R=a,P=R.alternate,G=R.stateNode;if(R=R.tag,P!==null&&P===u)break;R!==5&&R!==26&&R!==27||G===null||(P=G,f?(G=Ks(a,g),G!=null&&w.unshift(ih(a,G,P))):f||(G=Ks(a,g),G!=null&&w.push(ih(a,G,P)))),a=a.return}w.length!==0&&n.push({event:r,listeners:w})}var kS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function s0(n){return(typeof n=="string"?n:""+n).replace(kS,`
`).replace(MS,"")}function a0(n,r){return r=s0(r),s0(n)===r}function Gf(){}function It(n,r,a,u,f,g){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Rn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Rn(n,""+u);break;case"className":zr(n,"class",u);break;case"tabIndex":zr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(n,a,u);break;case"style":Mi(n,u,g);break;case"data":if(r!=="object"){zr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Wi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&It(n,r,"name",f.name,f,null),It(n,r,"formEncType",f.formEncType,f,null),It(n,r,"formMethod",f.formMethod,f,null),It(n,r,"formTarget",f.formTarget,f,null)):(It(n,r,"encType",f.encType,f,null),It(n,r,"method",f.method,f,null),It(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Wi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Gf);break;case"onScroll":u!=null&&dt("scroll",n);break;case"onScrollEnd":u!=null&&dt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Wi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":dt("beforetoggle",n),dt("toggle",n),Ur(n,"popover",u);break;case"xlinkActuate":vi(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vi(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vi(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vi(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vi(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vi(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vi(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ur(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fr.get(a)||a,Ur(n,a,u))}}function Gp(n,r,a,u,f,g){switch(a){case"style":Mi(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Rn(n,u):(typeof u=="number"||typeof u=="bigint")&&Rn(n,""+u);break;case"onScroll":u!=null&&dt("scroll",n);break;case"onScrollEnd":u!=null&&dt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),g=n[un]||null,g=g!=null?g[a]:null,typeof g=="function"&&n.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Ur(n,a,u)}}}function ni(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",n),dt("load",n);var u=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var w=a[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:It(n,r,g,w,a,null)}}f&&It(n,r,"srcSet",a.srcSet,a,null),u&&It(n,r,"src",a.src,a,null);return;case"input":dt("invalid",n);var R=g=w=f=null,P=null,G=null;for(u in a)if(a.hasOwnProperty(u)){var re=a[u];if(re!=null)switch(u){case"name":f=re;break;case"type":w=re;break;case"checked":P=re;break;case"defaultChecked":G=re;break;case"value":g=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:It(n,r,u,re,a,null)}}Ei(n,g,R,P,G,w,f,!1),cn(n);return;case"select":dt("invalid",n),u=w=g=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":g=R;break;case"defaultValue":w=R;break;case"multiple":u=R;default:It(n,r,f,R,a,null)}r=g,a=w,n.multiple=!!u,r!=null?et(n,!!u,r,!1):a!=null&&et(n,!!u,a,!0);return;case"textarea":dt("invalid",n),g=f=u=null;for(w in a)if(a.hasOwnProperty(w)&&(R=a[w],R!=null))switch(w){case"value":u=R;break;case"defaultValue":f=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:It(n,r,w,R,a,null)}Hr(n,u,f,g),cn(n);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:It(n,r,P,u,a,null)}return;case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":dt("load",n);break;case"video":case"audio":for(u=0;u<nh.length;u++)dt(nh[u],n);break;case"image":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"embed":case"source":case"link":dt("error",n),dt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(u=a[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:It(n,r,G,u,a,null)}return;default:if(rl(r)){for(re in a)a.hasOwnProperty(re)&&(u=a[re],u!==void 0&&Gp(n,r,re,u,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(u=a[R],u!=null&&It(n,r,R,u,a,null))}function LS(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,R=null,P=null,G=null,re=null;for(ie in a){var fe=a[ie];if(a.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":P=fe;default:u.hasOwnProperty(ie)||It(n,r,ie,null,u,fe)}}for(var Z in u){var ie=u[Z];if(fe=a[Z],u.hasOwnProperty(Z)&&(ie!=null||fe!=null))switch(Z){case"type":g=ie;break;case"name":f=ie;break;case"checked":G=ie;break;case"defaultChecked":re=ie;break;case"value":w=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==fe&&It(n,r,Z,ie,u,fe)}}Sn(n,w,R,P,G,re,g,f);return;case"select":ie=w=R=Z=null;for(g in a)if(P=a[g],a.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":ie=P;default:u.hasOwnProperty(g)||It(n,r,g,null,u,P)}for(f in u)if(g=u[f],P=a[f],u.hasOwnProperty(f)&&(g!=null||P!=null))switch(f){case"value":Z=g;break;case"defaultValue":R=g;break;case"multiple":w=g;default:g!==P&&It(n,r,f,g,u,P)}r=R,a=w,u=ie,Z!=null?et(n,!!a,Z,!1):!!u!=!!a&&(r!=null?et(n,!!a,r,!0):et(n,!!a,a?[]:"",!1));return;case"textarea":ie=Z=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(n,r,R,null,u,f)}for(w in u)if(f=u[w],g=a[w],u.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":Z=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&It(n,r,w,f,u,g)}Fr(n,Z,ie);return;case"option":for(var De in a)if(Z=a[De],a.hasOwnProperty(De)&&Z!=null&&!u.hasOwnProperty(De))switch(De){case"selected":n.selected=!1;break;default:It(n,r,De,null,u,Z)}for(P in u)if(Z=u[P],ie=a[P],u.hasOwnProperty(P)&&Z!==ie&&(Z!=null||ie!=null))switch(P){case"selected":n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:It(n,r,P,Z,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in a)Z=a[Ye],a.hasOwnProperty(Ye)&&Z!=null&&!u.hasOwnProperty(Ye)&&It(n,r,Ye,null,u,Z);for(G in u)if(Z=u[G],ie=a[G],u.hasOwnProperty(G)&&Z!==ie&&(Z!=null||ie!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:It(n,r,G,Z,u,ie)}return;default:if(rl(r)){for(var on in a)Z=a[on],a.hasOwnProperty(on)&&Z!==void 0&&!u.hasOwnProperty(on)&&Gp(n,r,on,void 0,u,Z);for(re in u)Z=u[re],ie=a[re],!u.hasOwnProperty(re)||Z===ie||Z===void 0&&ie===void 0||Gp(n,r,re,Z,u,ie);return}}for(var Q in a)Z=a[Q],a.hasOwnProperty(Q)&&Z!=null&&!u.hasOwnProperty(Q)&&It(n,r,Q,null,u,Z);for(fe in u)Z=u[fe],ie=a[fe],!u.hasOwnProperty(fe)||Z===ie||Z==null&&ie==null||It(n,r,fe,Z,u,ie)}var Kp=null,Qp=null;function Kf(n){return n.nodeType===9?n:n.ownerDocument}function o0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Yp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wp=null;function PS(){var n=window.event;return n&&n.type==="popstate"?n===Wp?!1:(Wp=n,!0):(Wp=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(n){return c0.resolve(null).then(n).catch(US)}:u0;function US(n){setTimeout(function(){throw n})}function Xp(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),hh(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);hh(r)}function Zp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zp(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function zS(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[qt])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=is(n.nextSibling),n===null)break}return null}function BS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=is(n.nextSibling),n===null))return null;return n}function is(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function h0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function f0(n,r,a){switch(r=Kf(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Ir=new Map,d0=new Set;function Qf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ea=ye.d;ye.d={f:FS,r:HS,D:qS,C:$S,L:GS,m:KS,X:YS,S:QS,M:WS};function FS(){var n=Ea.f(),r=zf();return n||r}function HS(n){var r=Qn(n);r!==null&&r.tag===5&&r.type==="form"?zy(r):Ea.r(n)}var Vu=typeof document>"u"?null:document;function m0(n,r,a){var u=Vu;if(u&&typeof r=="string"&&r){var f=Lt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),d0.has(f)||(d0.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),ni(r,"link",n),Ot(r),u.head.appendChild(r)))}}function qS(n){Ea.D(n),m0("dns-prefetch",n,null)}function $S(n,r){Ea.C(n,r),m0("preconnect",n,r)}function GS(n,r,a){Ea.L(n,r,a);var u=Vu;if(u&&n&&r){var f='link[rel="preload"][as="'+Lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Lt(a.imageSizes)+'"]')):f+='[href="'+Lt(n)+'"]';var g=f;switch(r){case"style":g=ju(n);break;case"script":g=Uu(n)}Ir.has(g)||(n=V({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Ir.set(g,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(rh(g))||r==="script"&&u.querySelector(sh(g))||(r=u.createElement("link"),ni(r,"link",n),Ot(r),u.head.appendChild(r)))}}function KS(n,r){Ea.m(n,r);var a=Vu;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Lt(u)+'"][href="'+Lt(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Uu(n)}if(!Ir.has(g)&&(n=V({rel:"modulepreload",href:n},r),Ir.set(g,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sh(g)))return}u=a.createElement("link"),ni(u,"link",n),Ot(u),a.head.appendChild(u)}}}function QS(n,r,a){Ea.S(n,r,a);var u=Vu;if(u&&n){var f=jr(u).hoistableStyles,g=ju(n);r=r||"default";var w=f.get(g);if(!w){var R={loading:0,preload:null};if(w=u.querySelector(rh(g)))R.loading=5;else{n=V({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Ir.get(g))&&Jp(n,a);var P=w=u.createElement("link");Ot(P),ni(P,"link",n),P._p=new Promise(function(G,re){P.onload=G,P.onerror=re}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Yf(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:R},f.set(g,w)}}}function YS(n,r){Ea.X(n,r);var a=Vu;if(a&&n){var u=jr(a).hoistableScripts,f=Uu(n),g=u.get(f);g||(g=a.querySelector(sh(f)),g||(n=V({src:n,async:!0},r),(r=Ir.get(f))&&eg(n,r),g=a.createElement("script"),Ot(g),ni(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function WS(n,r){Ea.M(n,r);var a=Vu;if(a&&n){var u=jr(a).hoistableScripts,f=Uu(n),g=u.get(f);g||(g=a.querySelector(sh(f)),g||(n=V({src:n,async:!0,type:"module"},r),(r=Ir.get(f))&&eg(n,r),g=a.createElement("script"),Ot(g),ni(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function p0(n,r,a,u){var f=(f=Ft.current)?Qf(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ju(a.href),a=jr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ju(a.href);var g=jr(f).hoistableStyles,w=g.get(n);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,w),(g=f.querySelector(rh(n)))&&!g._p&&(w.instance=g,w.state.loading=5),Ir.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ir.set(n,a),g||XS(f,n,a,w.state))),r&&u===null)throw Error(s(528,""));return w}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Uu(a),a=jr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ju(n){return'href="'+Lt(n)+'"'}function rh(n){return'link[rel="stylesheet"]['+n+"]"}function g0(n){return V({},n,{"data-precedence":n.precedence,precedence:null})}function XS(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),ni(r,"link",a),Ot(r),n.head.appendChild(r))}function Uu(n){return'[src="'+Lt(n)+'"]'}function sh(n){return"script[async]"+n}function _0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(u)return r.instance=u,Ot(u),u;var f=V({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ot(u),ni(u,"style",f),Yf(u,a.precedence,n),r.instance=u;case"stylesheet":f=ju(a.href);var g=n.querySelector(rh(f));if(g)return r.state.loading|=4,r.instance=g,Ot(g),g;u=g0(a),(f=Ir.get(f))&&Jp(u,f),g=(n.ownerDocument||n).createElement("link"),Ot(g);var w=g;return w._p=new Promise(function(R,P){w.onload=R,w.onerror=P}),ni(g,"link",u),r.state.loading|=4,Yf(g,a.precedence,n),r.instance=g;case"script":return g=Uu(a.src),(f=n.querySelector(sh(g)))?(r.instance=f,Ot(f),f):(u=a,(f=Ir.get(g))&&(u=V({},a),eg(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ot(f),ni(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Yf(u,a.precedence,n));return r.instance}function Yf(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,w=0;w<u.length;w++){var R=u[w];if(R.dataset.precedence===r)g=R;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Jp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function eg(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Wf=null;function y0(n,r,a){if(Wf===null){var u=new Map,f=Wf=new Map;f.set(a,u)}else f=Wf,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var g=a[f];if(!(g[qt]||g[Jt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(r)||"";w=n+w;var R=u.get(w);R?R.push(g):u.set(w,[g])}}return u}function v0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function ZS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function E0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ah=null;function JS(){}function eR(n,r,a){if(ah===null)throw Error(s(475));var u=ah;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ju(a.href),g=n.querySelector(rh(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Xf.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=g,Ot(g);return}g=n.ownerDocument||n,a=g0(a),(f=Ir.get(f))&&Jp(a,f),g=g.createElement("link"),Ot(g);var w=g;w._p=new Promise(function(R,P){w.onload=R,w.onerror=P}),ni(g,"link",a),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Xf.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function tR(){if(ah===null)throw Error(s(475));var n=ah;return n.stylesheets&&n.count===0&&tg(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&tg(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Xf(){if(this.count--,this.count===0){if(this.stylesheets)tg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zf=null;function tg(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zf=new Map,r.forEach(nR,n),Zf=null,Xf.call(n))}function nR(n,r){if(!(r.state.loading&4)){var a=Zf.get(n);if(a)var u=a.get(null);else{a=new Map,Zf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),u=w)}u&&a.set(null,u)}f=r.instance,w=f.getAttribute("data-precedence"),g=a.get(w)||u,g===u&&a.set(null,f),a.set(w,f),this.count++,u=Xf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var oh={$$typeof:M,Provider:null,Consumer:null,_currentValue:Ue,_currentValue2:Ue,_threadCount:0};function iR(n,r,a,u,f,g,w,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.hiddenUpdates=za(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function b0(n,r,a,u,f,g,w,R,P,G,re,fe){return n=new iR(n,r,a,w,R,P,G,fe),r=1,g===!0&&(r|=24),g=Cr(3,null,null,r),n.current=g,g.stateNode=n,r=bu(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:r},dp(g),n}function T0(n){return n?(n=to,n):to}function w0(n,r,a,u,f,g){f=T0(f),u.context===null?u.context=f:u.pendingContext=f,u=go(r),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=_o(n,u,r),a!==null&&(Ii(a,n,r),qc(a,n,r))}function A0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function ng(n,r){A0(n,r),(n=n.alternate)&&A0(n,r)}function S0(n){if(n.tag===13){var r=Yr(n,67108864);r!==null&&Ii(r,n,67108864),ng(n,67108864)}}var Jf=!0;function rR(n,r,a,u){var f=D.T;D.T=null;var g=ye.p;try{ye.p=2,ig(n,r,a,u)}finally{ye.p=g,D.T=f}}function sR(n,r,a,u){var f=D.T;D.T=null;var g=ye.p;try{ye.p=8,ig(n,r,a,u)}finally{ye.p=g,D.T=f}}function ig(n,r,a,u){if(Jf){var f=rg(u);if(f===null)$p(n,r,u,ed,a),C0(n,u);else if(oR(f,n,r,a,u))u.stopPropagation();else if(C0(n,u),r&4&&-1<aR.indexOf(n)){for(;f!==null;){var g=Qn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Gi(g.pendingLanes);if(w!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var P=1<<31-Kn(w);R.entanglements[1]|=P,w&=~P}Os(g),(Yt&6)===0&&(Vf=Zt()+500,th(0))}}break;case 13:R=Yr(g,2),R!==null&&Ii(R,g,2),zf(),ng(g,2)}if(g=rg(u),g===null&&$p(n,r,u,ed,a),g===f)break;f=g}f!==null&&u.stopPropagation()}else $p(n,r,u,null,a)}}function rg(n){return n=_s(n),sg(n)}var ed=null;function sg(n){if(ed=null,n=kn(n),n!==null){var r=Te(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=it(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return ed=n,null}function R0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_i()){case je:return 2;case Tt:return 8;case Tn:case kr:return 32;case fs:return 268435456;default:return 32}default:return 32}}var ag=!1,Ao=null,So=null,Ro=null,lh=new Map,uh=new Map,Co=[],aR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C0(n,r){switch(n){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":lh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(r.pointerId)}}function ch(n,r,a,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=Qn(r),r!==null&&S0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function oR(n,r,a,u,f){switch(r){case"focusin":return Ao=ch(Ao,n,r,a,u,f),!0;case"dragenter":return So=ch(So,n,r,a,u,f),!0;case"mouseover":return Ro=ch(Ro,n,r,a,u,f),!0;case"pointerover":var g=f.pointerId;return lh.set(g,ch(lh.get(g)||null,n,r,a,u,f)),!0;case"gotpointercapture":return g=f.pointerId,uh.set(g,ch(uh.get(g)||null,n,r,a,u,f)),!0}return!1}function x0(n){var r=kn(n.target);if(r!==null){var a=Te(r);if(a!==null){if(r=a.tag,r===13){if(r=it(a),r!==null){n.blockedOn=r,Ki(n.priority,function(){if(a.tag===13){var u=rr(),f=Yr(a,u);f!==null&&Ii(f,a,u),ng(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function td(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=rg(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Pn=u,a.target.dispatchEvent(u),Pn=null}else return r=Qn(a),r!==null&&S0(r),n.blockedOn=a,!1;r.shift()}return!0}function I0(n,r,a){td(n)&&a.delete(r)}function lR(){ag=!1,Ao!==null&&td(Ao)&&(Ao=null),So!==null&&td(So)&&(So=null),Ro!==null&&td(Ro)&&(Ro=null),lh.forEach(I0),uh.forEach(I0)}function nd(n,r){n.blockedOn===r&&(n.blockedOn=null,ag||(ag=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lR)))}var id=null;function N0(n){id!==n&&(id=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){id===n&&(id=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(sg(u||a)===null)continue;break}var g=Qn(a);g!==null&&(n.splice(r,3),r-=3,Ym(g,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function hh(n){function r(P){return nd(P,n)}Ao!==null&&nd(Ao,n),So!==null&&nd(So,n),Ro!==null&&nd(Ro,n),lh.forEach(r),uh.forEach(r);for(var a=0;a<Co.length;a++){var u=Co[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Co.length&&(a=Co[0],a.blockedOn===null);)x0(a),a.blockedOn===null&&Co.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],g=a[u+1],w=f[un]||null;if(typeof g=="function")w||N0(a);else if(w){var R=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[un]||null)R=w.formAction;else if(sg(f)!==null)continue}else R=w.action;typeof R=="function"?a[u+1]=R:(a.splice(u,3),u-=3),N0(a)}}}function og(n){this._internalRoot=n}rd.prototype.render=og.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=rr();w0(a,u,n,r,null,null)},rd.prototype.unmount=og.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Mu(),w0(n.current,2,null,n,null,null),zf(),r[Vr]=null}};function rd(n){this._internalRoot=n}rd.prototype.unstable_scheduleHydration=function(n){if(n){var r=Pr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Co.length&&r!==0&&r<Co[a].priority;a++);Co.splice(a,0,n),a===0&&x0(n)}};var O0=e.version;if(O0!=="19.0.0")throw Error(s(527,O0,"19.0.0"));ye.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ue(r),n=n!==null?Se(n):null,n=n===null?null:n.stateNode,n};var uR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{ds=sd.inject(uR),Dn=sd}catch{}}return dh.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=Qy,g=Yy,w=Wy,R=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=b0(n,1,!1,null,null,a,u,f,g,w,R,null),n[Vr]=r.current,qp(n.nodeType===8?n.parentNode:n),new og(r)},dh.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",g=Qy,w=Yy,R=Wy,P=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=b0(n,1,!0,r,a??null,u,f,g,w,R,P,G),r.context=T0(null),a=r.current,u=rr(),f=go(u),f.callback=null,_o(a,f,u),r.current.lanes=u,Kt(r,u),Os(r),n[Vr]=r.current,qp(n),new rd(r)},dh.version="19.0.0",dh}var B0;function yR(){if(B0)return ug.exports;B0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ug.exports=_R(),ug.exports}var vR=yR(),k=__();const Fi=sm(k);var mh={},F0;function ER(){if(F0)return mh;F0=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.parse=h,mh.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function h(x,M){const U=new l,W=x.length;if(W<2)return U;const B=(M==null?void 0:M.decode)||T;let z=0;do{const te=x.indexOf("=",z);if(te===-1)break;const ne=x.indexOf(";",z),_e=ne===-1?W:ne;if(te>_e){z=x.lastIndexOf(";",te-1)+1;continue}const Ee=m(x,z,te),Ce=p(x,te,Ee),F=x.slice(Ee,Ce);if(U[F]===void 0){let L=m(x,te+1,_e),D=p(x,_e,L);const V=B(x.slice(L,D));U[F]=V}z=_e+1}while(z<W);return U}function m(x,M,U){do{const W=x.charCodeAt(M);if(W!==32&&W!==9)return M}while(++M<U);return U}function p(x,M,U){for(;M>U;){const W=x.charCodeAt(--M);if(W!==32&&W!==9)return M+1}return U}function _(x,M,U){const W=(U==null?void 0:U.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const B=W(M);if(!e.test(B))throw new TypeError(`argument val is invalid: ${M}`);let z=x+"="+B;if(!U)return z;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);z+="; Max-Age="+U.maxAge}if(U.domain){if(!t.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);z+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);z+="; Path="+U.path}if(U.expires){if(!S(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);z+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(z+="; HttpOnly"),U.secure&&(z+="; Secure"),U.partitioned&&(z+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return z}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function S(x){return o.call(x)==="[object Date]"}return mh}ER();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H0="popstate";function bR(i={}){function e(s,o){let{pathname:l,search:h,hash:m}=s.location;return jg("",{pathname:l,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ih(o)}return wR(e,t,null,i)}function Gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ss(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TR(){return Math.random().toString(36).substring(2,10)}function q0(i,e){return{usr:i.state,key:i.key,idx:e}}function jg(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?oc(e):e,state:t,key:e&&e.key||s||TR()}}function Ih({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function oc(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function wR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,m="POP",p=null,_=T();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function T(){return(h.state||{idx:null}).idx}function S(){m="POP";let B=T(),z=B==null?null:B-_;_=B,p&&p({action:m,location:W.location,delta:z})}function x(B,z){m="PUSH";let te=jg(W.location,B,z);_=T()+1;let ne=q0(te,_),_e=W.createHref(te);try{h.pushState(ne,"",_e)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(_e)}l&&p&&p({action:m,location:W.location,delta:1})}function M(B,z){m="REPLACE";let te=jg(W.location,B,z);_=T();let ne=q0(te,_),_e=W.createHref(te);h.replaceState(ne,"",_e),l&&p&&p({action:m,location:W.location,delta:0})}function U(B){let z=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof B=="string"?B:Ih(B);return te=te.replace(/ $/,"%20"),Gt(z,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,z)}let W={get action(){return m},get location(){return i(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(H0,S),p=B,()=>{o.removeEventListener(H0,S),p=null}},createHref(B){return e(o,B)},createURL:U,encodeLocation(B){let z=U(B);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:M,go(B){return h.go(B)}};return W}function $b(i,e,t="/"){return AR(i,e,t,!1)}function AR(i,e,t,s){let o=typeof e=="string"?oc(e):e,l=Ia(o.pathname||"/",t);if(l==null)return null;let h=Gb(i);SR(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let _=PR(l);m=MR(h[p],_,s)}return m}function Gb(i,e=[],t=[],s=""){let o=(l,h,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Gt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=Sa([s,p.relativePath]),T=t.concat(p);l.children&&l.children.length>0&&(Gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Gb(l.children,e,T,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:DR(_,l.index),routesMeta:T})};return i.forEach((l,h)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,h);else for(let p of Kb(l.path))o(l,h,p)}),e}function Kb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Kb(s.join("/")),m=[];return m.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function SR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:kR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var RR=/^:[\w-]+$/,CR=3,xR=2,IR=1,NR=10,OR=-2,$0=i=>i==="*";function DR(i,e){let t=i.split("/"),s=t.length;return t.some($0)&&(s+=OR),e&&(s+=xR),t.filter(o=>!$0(o)).reduce((o,l)=>o+(RR.test(l)?CR:l===""?IR:NR),s)}function kR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function MR(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=l==="/"?e:e.slice(l.length)||"/",S=Od({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),x=p.route;if(!S&&_&&t&&!s[s.length-1].route.index&&(S=Od({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Sa([l,S.pathname]),pathnameBase:zR(Sa([l,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(l=Sa([l,S.pathnameBase]))}return h}function Od(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=LR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:S},x)=>{if(T==="*"){let U=m[x]||"";h=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[x];return S&&!M?_[T]=void 0:_[T]=(M||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:h,pattern:i}}function LR(i,e=!1,t=!0){ss(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ss(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ia(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function VR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?oc(i):i;return{pathname:t?t.startsWith("/")?t:jR(t,e):e,search:BR(s),hash:FR(o)}}function jR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function mg(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function y_(i){let e=UR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function v_(i,e,t,s=!1){let o;typeof i=="string"?o=oc(i):(o={...i},Gt(!o.pathname||!o.pathname.includes("?"),mg("?","pathname","search",o)),Gt(!o.pathname||!o.pathname.includes("#"),mg("#","pathname","hash",o)),Gt(!o.search||!o.search.includes("#"),mg("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}m=S>=0?e[S]:"/"}let p=VR(o,m),_=h&&h!=="/"&&h.endsWith("/"),T=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var Sa=i=>i.join("/").replace(/\/\/+/g,"/"),zR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),BR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,FR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function HR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Qb=["POST","PUT","PATCH","DELETE"];new Set(Qb);var qR=["GET",...Qb];new Set(qR);var lc=k.createContext(null);lc.displayName="DataRouter";var am=k.createContext(null);am.displayName="DataRouterState";var Yb=k.createContext({isTransitioning:!1});Yb.displayName="ViewTransition";var $R=k.createContext(new Map);$R.displayName="Fetchers";var GR=k.createContext(null);GR.displayName="Await";var ls=k.createContext(null);ls.displayName="Navigation";var Bh=k.createContext(null);Bh.displayName="Location";var zs=k.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var E_=k.createContext(null);E_.displayName="RouteError";function KR(i,{relative:e}={}){Gt(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=k.useContext(ls),{hash:o,pathname:l,search:h}=Fh(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Sa([t,l])),s.createHref({pathname:m,search:h,hash:o})}function uc(){return k.useContext(Bh)!=null}function Bs(){return Gt(uc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Bh).location}var Wb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xb(i){k.useContext(ls).static||k.useLayoutEffect(i)}function om(){let{isDataRoute:i}=k.useContext(zs);return i?aC():QR()}function QR(){Gt(uc(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(lc),{basename:e,navigator:t}=k.useContext(ls),{matches:s}=k.useContext(zs),{pathname:o}=Bs(),l=JSON.stringify(y_(s)),h=k.useRef(!1);return Xb(()=>{h.current=!0}),k.useCallback((p,_={})=>{if(ss(h.current,Wb),!h.current)return;if(typeof p=="number"){t.go(p);return}let T=v_(p,JSON.parse(l),o,_.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Sa([e,T.pathname])),(_.replace?t.replace:t.push)(T,_.state,_)},[e,t,l,o,i])}k.createContext(null);function Fh(i,{relative:e}={}){let{matches:t}=k.useContext(zs),{pathname:s}=Bs(),o=JSON.stringify(y_(t));return k.useMemo(()=>v_(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function YR(i,e){return Zb(i,e)}function Zb(i,e,t,s){var te;Gt(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=k.useContext(ls),{matches:h}=k.useContext(zs),m=h[h.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let ne=S&&S.path||"";Jb(_,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let x=Bs(),M;if(e){let ne=typeof e=="string"?oc(e):e;Gt(T==="/"||((te=ne.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),M=ne}else M=x;let U=M.pathname||"/",W=U;if(T!=="/"){let ne=T.replace(/^\//,"").split("/");W="/"+U.replace(/^\//,"").split("/").slice(ne.length).join("/")}let B=!l&&t&&t.matches&&t.matches.length>0?t.matches:$b(i,{pathname:W});ss(S||B!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ss(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=eC(B&&B.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:Sa([T,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?T:Sa([T,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),h,t,s);return e&&z?k.createElement(Bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},z):z}function WR(){let i=sC(),e=HR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:o},t):null,h)}var XR=k.createElement(WR,null),ZR=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?k.createElement(zs.Provider,{value:this.props.routeContext},k.createElement(E_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JR({routeContext:i,match:e,children:t}){let s=k.useContext(lc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(zs.Provider,{value:i},t)}function eC(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);Gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:S}=t,x=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||x){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let S,x=!1,M=null,U=null;t&&(S=l&&_.route.id?l[_.route.id]:void 0,M=_.route.errorElement||XR,h&&(m<0&&T===0?(Jb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,U=null):m===T&&(x=!0,U=_.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,T+1)),B=()=>{let z;return S?z=M:x?z=U:_.route.Component?z=k.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=p,k.createElement(JR,{match:_,routeContext:{outlet:p,matches:W,isDataRoute:t!=null},children:z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?k.createElement(ZR,{location:t.location,revalidation:t.revalidation,component:M,error:S,children:B(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):B()},null)}function b_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tC(i){let e=k.useContext(lc);return Gt(e,b_(i)),e}function nC(i){let e=k.useContext(am);return Gt(e,b_(i)),e}function iC(i){let e=k.useContext(zs);return Gt(e,b_(i)),e}function T_(i){let e=iC(i),t=e.matches[e.matches.length-1];return Gt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function rC(){return T_("useRouteId")}function sC(){var s;let i=k.useContext(E_),e=nC("useRouteError"),t=T_("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function aC(){let{router:i}=tC("useNavigate"),e=T_("useNavigate"),t=k.useRef(!1);return Xb(()=>{t.current=!0}),k.useCallback(async(o,l={})=>{ss(t.current,Wb),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var G0={};function Jb(i,e,t){!e&&!G0[i]&&(G0[i]=!0,ss(!1,t))}k.memo(oC);function oC({routes:i,future:e,state:t}){return Zb(i,void 0,t,e)}function gd({to:i,replace:e,state:t,relative:s}){Gt(uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(ls);ss(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(zs),{pathname:h}=Bs(),m=om(),p=v_(i,y_(l),h,s==="path"),_=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(_),{replace:e,state:t,relative:s})},[m,_,s,e,t]),null}function qn(i){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lC({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){Gt(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=oc(t));let{pathname:p="/",search:_="",hash:T="",state:S=null,key:x="default"}=t,M=k.useMemo(()=>{let U=Ia(p,h);return U==null?null:{location:{pathname:U,search:_,hash:T,state:S,key:x},navigationType:s}},[h,p,_,T,S,x,s]);return ss(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:k.createElement(ls.Provider,{value:m},k.createElement(Bh.Provider,{children:e,value:M}))}function uC({children:i,location:e}){return YR(Ug(i),e)}function Ug(i,e=[]){let t=[];return k.Children.forEach(i,(s,o)=>{if(!k.isValidElement(s))return;let l=[...e,o];if(s.type===k.Fragment){t.push.apply(t,Ug(s.props.children,l));return}Gt(s.type===qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ug(s.props.children,l)),t.push(h)}),t}var _d="get",yd="application/x-www-form-urlencoded";function lm(i){return i!=null&&typeof i.tagName=="string"}function cC(i){return lm(i)&&i.tagName.toLowerCase()==="button"}function hC(i){return lm(i)&&i.tagName.toLowerCase()==="form"}function fC(i){return lm(i)&&i.tagName.toLowerCase()==="input"}function dC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function mC(i,e){return i.button===0&&(!e||e==="_self")&&!dC(i)}var ad=null;function pC(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pg(i){return i!=null&&!gC.has(i)?(ss(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yd}"`),null):i}function _C(i,e){let t,s,o,l,h;if(hC(i)){let m=i.getAttribute("action");s=m?Ia(m,e):null,t=i.getAttribute("method")||_d,o=pg(i.getAttribute("enctype"))||yd,l=new FormData(i)}else if(cC(i)||fC(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ia(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||_d,o=pg(i.getAttribute("formenctype"))||pg(m.getAttribute("enctype"))||yd,l=new FormData(m,i),!pC()){let{name:_,type:T,value:S}=i;if(T==="image"){let x=_?`${_}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else _&&l.append(_,S)}}else{if(lm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_d,s=null,o=yd,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function w_(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function yC(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function EC(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await yC(l,t);return h.links?h.links():[]}return[]}));return AC(s.flat(1).filter(vC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function K0(i,e,t,s,o,l){let h=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,m=(p,_)=>{var T;return t[_].pathname!==p.pathname||((T=t[_].route.path)==null?void 0:T.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,_)=>h(p,_)||m(p,_)):l==="data"?e.filter((p,_)=>{var S;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function bC(i,e,{includeHydrateFallback:t}={}){return TC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function TC(i){return[...new Set(i)]}function wC(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function AC(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(wC(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function SC(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Ia(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function eT(){let i=k.useContext(lc);return w_(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function RC(){let i=k.useContext(am);return w_(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var A_=k.createContext(void 0);A_.displayName="FrameworkContext";function tT(){let i=k.useContext(A_);return w_(i,"You must render this element inside a <HydratedRouter> element"),i}function CC(i,e){let t=k.useContext(A_),[s,o]=k.useState(!1),[l,h]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:S}=e,x=k.useRef(null);k.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let W=z=>{z.forEach(te=>{h(te.isIntersecting)})},B=new IntersectionObserver(W,{threshold:.5});return x.current&&B.observe(x.current),()=>{B.disconnect()}}},[i]),k.useEffect(()=>{if(s){let W=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(W)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,x,{}]:[l,x,{onFocus:ph(m,M),onBlur:ph(p,U),onMouseEnter:ph(_,M),onMouseLeave:ph(T,U),onTouchStart:ph(S,M)}]:[!1,x,{}]}function ph(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function xC({page:i,...e}){let{router:t}=eT(),s=k.useMemo(()=>$b(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?k.createElement(NC,{page:i,matches:s,...e}):null}function IC(i){let{manifest:e,routeModules:t}=tT(),[s,o]=k.useState([]);return k.useEffect(()=>{let l=!1;return EC(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function NC({page:i,matches:e,...t}){let s=Bs(),{manifest:o,routeModules:l}=tT(),{basename:h}=eT(),{loaderData:m,matches:p}=RC(),_=k.useMemo(()=>K0(i,e,p,o,s,"data"),[i,e,p,o,s]),T=k.useMemo(()=>K0(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,W=!1;if(e.forEach(z=>{var ne;let te=o.routes[z.route.id];!te||!te.hasLoader||(!_.some(_e=>_e.route.id===z.route.id)&&z.route.id in m&&((ne=l[z.route.id])!=null&&ne.shouldRevalidate)||te.hasClientLoader?W=!0:U.add(z.route.id))}),U.size===0)return[];let B=SC(i,h);return W&&U.size>0&&B.searchParams.set("_routes",e.filter(z=>U.has(z.route.id)).map(z=>z.route.id).join(",")),[B.pathname+B.search]},[h,m,s,o,_,e,i,l]),x=k.useMemo(()=>bC(T,o),[T,o]),M=IC(T);return k.createElement(k.Fragment,null,S.map(U=>k.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),x.map(U=>k.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),M.map(({key:U,link:W})=>k.createElement("link",{key:U,...W})))}function OC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.3.0")}catch{}function DC({basename:i,children:e,window:t}){let s=k.useRef();s.current==null&&(s.current=bR({window:t,v5Compat:!0}));let o=s.current,[l,h]=k.useState({action:o.action,location:o.location}),m=k.useCallback(p=>{k.startTransition(()=>h(p))},[h]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(lC,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=k.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:m,target:p,to:_,preventScrollReset:T,viewTransition:S,...x},M){let{basename:U}=k.useContext(ls),W=typeof _=="string"&&iT.test(_),B,z=!1;if(typeof _=="string"&&W&&(B=_,nT))try{let D=new URL(window.location.href),V=_.startsWith("//")?new URL(D.protocol+_):new URL(_),j=Ia(V.pathname,U);V.origin===D.origin&&j!=null?_=j+V.search+V.hash:z=!0}catch{ss(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=KR(_,{relative:o}),[ne,_e,Ee]=CC(s,x),Ce=LC(_,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:S});function F(D){e&&e(D),D.defaultPrevented||Ce(D)}let L=k.createElement("a",{...x,...Ee,href:B||te,onClick:z||l?e:F,ref:OC(M,_e),target:p,"data-discover":!W&&t==="render"?"true":void 0});return ne&&!W?k.createElement(k.Fragment,null,L,k.createElement(xC,{page:te})):L});wh.displayName="Link";var Nt=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:m,children:p,..._},T){let S=Fh(h,{relative:_.relative}),x=Bs(),M=k.useContext(am),{navigator:U,basename:W}=k.useContext(ls),B=M!=null&&zC(S)&&m===!0,z=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,te=x.pathname,ne=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(te=te.toLowerCase(),ne=ne?ne.toLowerCase():null,z=z.toLowerCase()),ne&&W&&(ne=Ia(ne,W)||ne);const _e=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Ee=te===z||!o&&te.startsWith(z)&&te.charAt(_e)==="/",Ce=ne!=null&&(ne===z||!o&&ne.startsWith(z)&&ne.charAt(z.length)==="/"),F={isActive:Ee,isPending:Ce,isTransitioning:B},L=Ee?e:void 0,D;typeof s=="function"?D=s(F):D=[s,Ee?"active":null,Ce?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(F):l;return k.createElement(wh,{..._,"aria-current":L,className:D,ref:T,style:V,to:h,viewTransition:m},typeof p=="function"?p(F):p)});Nt.displayName="NavLink";var kC=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=_d,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:S,...x},M)=>{let U=jC(),W=UC(m,{relative:_}),B=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&iT.test(m),te=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let _e=ne.nativeEvent.submitter,Ee=(_e==null?void 0:_e.getAttribute("formmethod"))||h;U(_e||ne.currentTarget,{fetcherKey:e,method:Ee,navigate:t,replace:o,state:l,relative:_,preventScrollReset:T,viewTransition:S})};return k.createElement("form",{ref:M,method:B,action:W,onSubmit:s?p:te,...x,"data-discover":!z&&i==="render"?"true":void 0})});kC.displayName="Form";function MC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(i){let e=k.useContext(lc);return Gt(e,MC(i)),e}function LC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let m=om(),p=Bs(),_=Fh(i,{relative:l});return k.useCallback(T=>{if(mC(T,e)){T.preventDefault();let S=t!==void 0?t:Ih(p)===Ih(_);m(i,{replace:S,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,m,_,t,s,e,i,o,l,h])}var PC=0,VC=()=>`__${String(++PC)}__`;function jC(){let{router:i}=rT("useSubmit"),{basename:e}=k.useContext(ls),t=rC();return k.useCallback(async(s,o={})=>{let{action:l,method:h,encType:m,formData:p,body:_}=_C(s,e);if(o.navigate===!1){let T=o.fetcherKey||VC();await i.fetch(T,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function UC(i,{relative:e}={}){let{basename:t}=k.useContext(ls),s=k.useContext(zs);Gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Fh(i||".",{relative:e})},h=Bs();if(i==null){l.search=h.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();l.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Sa([t,l.pathname])),Ih(l)}function zC(i,e={}){let t=k.useContext(Yb);Gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rT("useViewTransitionState"),o=Fh(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ia(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ia(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Od(o.pathname,h)!=null||Od(o.pathname,l)!=null}new TextEncoder;var BC=qb();const Ku=sm(BC),FC=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},HC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,_=p?i[o+2]:0,T=l>>2,S=(l&3)<<4|m>>4;let x=(m&15)<<2|_>>6,M=_&63;p||(M=64,h||(x=64)),s.push(t[T],t[S],t[x],t[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(sT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):HC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const _=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||_==null||S==null)throw new qC;const x=l<<2|m>>4;if(s.push(x),_!==64){const M=m<<4&240|_>>2;if(s.push(M),S!==64){const U=_<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class qC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $C=function(i){const e=sT(i);return aT.encodeByteArray(e,!0)},Dd=function(i){return $C(i).replace(/\./g,"")},oT=function(i){try{return aT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=()=>GC().__FIREBASE_DEFAULTS__,QC=()=>{if(typeof process>"u"||typeof Q0>"u")return;const i=Q0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&oT(i[1]);return e&&JSON.parse(e)},um=()=>{try{return FC()||KC()||QC()||YC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},lT=i=>{var e,t;return(t=(e=um())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},uT=i=>{const e=lT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},cT=()=>{var i;return(i=um())===null||i===void 0?void 0:i.config},hT=i=>{var e;return(e=um())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Dd(JSON.stringify(t)),Dd(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}function ZC(){var i;const e=(i=um())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ex(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function tx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nx(){const i=gi();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ix(){return!ZC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rx(){try{return typeof indexedDB=="object"}catch{return!1}}function sx(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="FirebaseError";class Fs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=ax,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?ox(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Fs(o,m,s)}}function ox(i,e){return i.replace(lx,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lx=/\{\$([^}]+)}/g;function ux(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Vl(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(Y0(l)&&Y0(h)){if(!Vl(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Y0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gh(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function _h(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function cx(i,e){const t=new hx(i,e);return t.subscribe.bind(t)}class hx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");fx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=gg),o.error===void 0&&(o.error=gg),o.complete===void 0&&(o.complete=gg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fx(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(i){return i&&i._delegate?i._delegate:i}class zo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dx=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new WC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(px(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mx(i){return i===Ol?void 0:i}function px(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ut||(ut={}));const _x={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},yx=ut.INFO,vx={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Ex=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=vx[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=yx,this._logHandler=Ex,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_x[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const bx=(i,e)=>e.some(t=>i instanceof t);let W0,X0;function Tx(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wx(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,zg=new WeakMap,mT=new WeakMap,_g=new WeakMap,R_=new WeakMap;function Ax(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(Po(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&dT.set(t,i)}).catch(()=>{}),R_.set(e,i),e}function Sx(i){if(zg.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});zg.set(i,e)}let Bg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return zg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Rx(i){Bg=i(Bg)}function Cx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(yg(this),e,...t);return mT.set(s,e.sort?e.sort():[e]),Po(s)}:wx().includes(i)?function(...e){return i.apply(yg(this),e),Po(dT.get(this))}:function(...e){return Po(i.apply(yg(this),e))}}function xx(i){return typeof i=="function"?Cx(i):(i instanceof IDBTransaction&&Sx(i),bx(i,Tx())?new Proxy(i,Bg):i)}function Po(i){if(i instanceof IDBRequest)return Ax(i);if(_g.has(i))return _g.get(i);const e=xx(i);return e!==i&&(_g.set(i,e),R_.set(e,i)),e}const yg=i=>R_.get(i);function Ix(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),m=Po(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Po(h.result),p.oldVersion,p.newVersion,Po(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const Nx=["get","getKey","getAll","getAllKeys","count"],Ox=["put","add","delete","clear"],vg=new Map;function Z0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Ox.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Nx.includes(t)))return;const l=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),o&&p.done]))[0]};return vg.set(e,l),l}Rx(i=>({...i,get:(e,t,s)=>Z0(e,t)||i.get(e,t,s),has:(e,t)=>!!Z0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function kx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fg="@firebase/app",J0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new S_("@firebase/app"),Mx="@firebase/app-compat",Lx="@firebase/analytics-compat",Px="@firebase/analytics",Vx="@firebase/app-check-compat",jx="@firebase/app-check",Ux="@firebase/auth",zx="@firebase/auth-compat",Bx="@firebase/database",Fx="@firebase/data-connect",Hx="@firebase/database-compat",qx="@firebase/functions",$x="@firebase/functions-compat",Gx="@firebase/installations",Kx="@firebase/installations-compat",Qx="@firebase/messaging",Yx="@firebase/messaging-compat",Wx="@firebase/performance",Xx="@firebase/performance-compat",Zx="@firebase/remote-config",Jx="@firebase/remote-config-compat",e1="@firebase/storage",t1="@firebase/storage-compat",n1="@firebase/firestore",i1="@firebase/vertexai",r1="@firebase/firestore-compat",s1="firebase",a1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="[DEFAULT]",o1={[Fg]:"fire-core",[Mx]:"fire-core-compat",[Px]:"fire-analytics",[Lx]:"fire-analytics-compat",[jx]:"fire-app-check",[Vx]:"fire-app-check-compat",[Ux]:"fire-auth",[zx]:"fire-auth-compat",[Bx]:"fire-rtdb",[Fx]:"fire-data-connect",[Hx]:"fire-rtdb-compat",[qx]:"fire-fn",[$x]:"fire-fn-compat",[Gx]:"fire-iid",[Kx]:"fire-iid-compat",[Qx]:"fire-fcm",[Yx]:"fire-fcm-compat",[Wx]:"fire-perf",[Xx]:"fire-perf-compat",[Zx]:"fire-rc",[Jx]:"fire-rc-compat",[e1]:"fire-gcs",[t1]:"fire-gcs-compat",[n1]:"fire-fst",[r1]:"fire-fst-compat",[i1]:"fire-vertex","fire-js":"fire-js",[s1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,l1=new Map,qg=new Map;function eE(i,e){try{i.container.addComponent(e)}catch(t){Na.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function jl(i){const e=i.name;if(qg.has(e))return Na.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,i);for(const t of kd.values())eE(t,i);for(const t of l1.values())eE(t,i);return!0}function cm(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function sr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vo=new Hh("app","Firebase",u1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=a1;function pT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hg,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Vo.create("bad-app-name",{appName:String(o)});if(t||(t=cT()),!t)throw Vo.create("no-options");const l=kd.get(o);if(l){if(Vl(t,l.options)&&Vl(s,l.config))return l;throw Vo.create("duplicate-app",{appName:o})}const h=new gx(o);for(const p of qg.values())h.addComponent(p);const m=new c1(t,s,h);return kd.set(o,m),m}function C_(i=Hg){const e=kd.get(i);if(!e&&i===Hg&&cT())return pT();if(!e)throw Vo.create("no-app",{appName:i});return e}function ks(i,e,t){var s;let o=(s=o1[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Na.warn(m.join(" "));return}jl(new zo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",f1=1,Nh="firebase-heartbeat-store";let Eg=null;function gT(){return Eg||(Eg=Ix(h1,f1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Nh)}catch(t){console.warn(t)}}}}).catch(i=>{throw Vo.create("idb-open",{originalErrorMessage:i.message})})),Eg}async function d1(i){try{const t=(await gT()).transaction(Nh),s=await t.objectStore(Nh).get(_T(i));return await t.done,s}catch(e){if(e instanceof Fs)Na.warn(e.message);else{const t=Vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Na.warn(t.message)}}}async function tE(i,e){try{const s=(await gT()).transaction(Nh,"readwrite");await s.objectStore(Nh).put(e,_T(i)),await s.done}catch(t){if(t instanceof Fs)Na.warn(t.message);else{const s=Vo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Na.warn(s.message)}}}function _T(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=1024,p1=30;class g1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new y1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=nE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>p1){const h=v1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Na.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nE(),{heartbeatsToSend:s,unsentEntries:o}=_1(this._heartbeatsCache.heartbeats),l=Dd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Na.warn(t),""}}}function nE(){return new Date().toISOString().substring(0,10)}function _1(i,e=m1){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),iE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),iE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rx()?sx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await d1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iE(i){return Dd(JSON.stringify({version:2,heartbeats:i})).length}function v1(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i){jl(new zo("platform-logger",e=>new Dx(e),"PRIVATE")),jl(new zo("heartbeat",e=>new g1(e),"PRIVATE")),ks(Fg,J0,i),ks(Fg,J0,"esm2017"),ks("fire-js","")}E1("");var b1="firebase",T1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(b1,T1,"app");function x_(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w1=yT,vT=new Hh("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new S_("@firebase/auth");function A1(i,...e){Md.logLevel<=ut.WARN&&Md.warn(`Auth (${Hl}): ${i}`,...e)}function vd(i,...e){Md.logLevel<=ut.ERROR&&Md.error(`Auth (${Hl}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(i,...e){throw I_(i,...e)}function Ms(i,...e){return I_(i,...e)}function ET(i,e,t){const s=Object.assign(Object.assign({},w1()),{[e]:t});return new Hh("auth","Firebase",s).create(e,{appName:i.name})}function Ra(i){return ET(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I_(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return vT.create(i,...e)}function qe(i,e,...t){if(!i)throw I_(e,...t)}function ba(i){const e="INTERNAL ASSERTION FAILED: "+i;throw vd(e),new Error(e)}function Oa(i,e){i||ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function S1(){return rE()==="http:"||rE()==="https:"}function rE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S1()||ex()||"connection"in navigator)?navigator.onLine:!0}function C1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oa(t>e,"Short delay should be less than long delay!"),this.isMobile=XC()||tx()}get(){return R1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(i,e){Oa(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new $h(3e4,6e4);function Pa(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Va(i,e,t,s,o={}){return TT(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const m=qh(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const _=Object.assign({method:e,headers:p},l);return JC()||(_.referrerPolicy="no-referrer"),bT.fetch()(wT(i,i.config.apiHost,t,m),_)})}async function TT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},x1),e);try{const o=new O1(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw od(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw od(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw od(i,"user-disabled",h);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw ET(i,T,_);as(i,T)}}catch(o){if(o instanceof Fs)throw o;as(i,"network-request-failed",{message:String(o)})}}async function Gh(i,e,t,s,o={}){const l=await Va(i,e,t,s,o);return"mfaPendingCredential"in l&&as(i,"multi-factor-auth-required",{_serverResponse:l}),l}function wT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?N_(i.config,o):`${i.config.apiScheme}://${o}`}function N1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ms(this.auth,"network-request-failed")),I1.get())})}}function od(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ms(i,e,s);return o.customData._tokenResponse=t,o}function sE(i){return i!==void 0&&i.enterprise!==void 0}class D1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return N1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k1(i,e){return Va(i,"GET","/v2/recaptchaConfig",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(i,e){return Va(i,"POST","/v1/accounts:delete",e)}async function AT(i,e){return Va(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L1(i,e=!1){const t=pn(i),s=await t.getIdToken(e),o=O_(s);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Ah(bg(o.auth_time)),issuedAtTime:Ah(bg(o.iat)),expirationTime:Ah(bg(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bg(i){return Number(i)*1e3}function O_(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const o=oT(t);return o?JSON.parse(o):(vd("Failed to decode base64 JWT payload"),null)}catch(o){return vd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function aE(i){const e=O_(i);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Fs&&P1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function P1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ah(this.lastLoginAt),this.creationTime=Ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Oh(i,AT(t,{idToken:s}));qe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ST(l.providerUserInfo):[],m=U1(i.providerData,h),p=i.isAnonymous,_=!(i.email&&l.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Gg(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(i,S)}async function j1(i){const e=pn(i);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ST(i){return i.map(e=>{var{providerId:t}=e,s=x_(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(i,e){const t=await TT(i,{},async()=>{const s=qh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=wT(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",bT.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B1(i,e){return Va(i,"POST","/v2/accounts:revokeToken",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=aE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await z1(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Yu;return s&&(qe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(qe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yu,this.toJSON())}_performRefresh(){return ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(i,e){qe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ta{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=x_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Oh(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return L1(this,e)}reload(){return j1(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ld(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await Oh(this,M1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,m,p,_,T;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,M=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(h=t.photoURL)!==null&&h!==void 0?h:void 0,W=(m=t.tenantId)!==null&&m!==void 0?m:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(_=t.createdAt)!==null&&_!==void 0?_:void 0,te=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ne,emailVerified:_e,isAnonymous:Ee,providerData:Ce,stsTokenManager:F}=t;qe(ne&&F,e,"internal-error");const L=Yu.fromJSON(this.name,F);qe(typeof ne=="string",e,"internal-error"),Io(S,e.name),Io(x,e.name),qe(typeof _e=="boolean",e,"internal-error"),qe(typeof Ee=="boolean",e,"internal-error"),Io(M,e.name),Io(U,e.name),Io(W,e.name),Io(B,e.name),Io(z,e.name),Io(te,e.name);const D=new Ta({uid:ne,auth:e,email:x,emailVerified:_e,displayName:S,isAnonymous:Ee,photoURL:U,phoneNumber:M,tenantId:W,stsTokenManager:L,createdAt:z,lastLoginAt:te});return Ce&&Array.isArray(Ce)&&(D.providerData=Ce.map(V=>Object.assign({},V))),B&&(D._redirectEventId=B),D}static async _fromIdTokenResponse(e,t,s=!1){const o=new Yu;o.updateFromServerResponse(t);const l=new Ta({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ld(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?ST(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new Yu;m.updateFromIdToken(s);const p=new Ta({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function wa(i){Oa(i instanceof Function,"Expected a class definition");let e=oE.get(i);return e?(Oa(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,oE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RT.type="NONE";const lE=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(i,e,t){return`firebase:${i}:${e}:${t}`}class Wu{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Ed(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ed("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Wu(wa(lE),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||wa(lE);const h=Ed(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const T=await _._get(h);if(T){const S=Ta._fromJSON(e,T);_!==l&&(m=S),l=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Wu(l,e,s):(l=p[0],m&&await l._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new Wu(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DT(e))return"Blackberry";if(kT(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function CT(i=gi()){return/firefox\//i.test(i)}function xT(i=gi()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(i=gi()){return/crios\//i.test(i)}function NT(i=gi()){return/iemobile/i.test(i)}function OT(i=gi()){return/android/i.test(i)}function DT(i=gi()){return/blackberry/i.test(i)}function kT(i=gi()){return/webos/i.test(i)}function D_(i=gi()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function F1(i=gi()){var e;return D_(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H1(){return nx()&&document.documentMode===10}function MT(i=gi()){return D_(i)||OT(i)||kT(i)||DT(i)||/windows phone/i.test(i)||NT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(i,e=[]){let t;switch(i){case"Browser":t=uE(gi());break;case"Worker":t=`${uE(gi())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,m)=>{try{const p=e(l);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(i,e={}){return Va(i,"GET","/v2/passwordPolicy",Pa(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=6;class K1{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:G1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new q1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wa(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Wu.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await AT(this,{idToken:e}),s=await Ta._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Ra(this));const t=e?pn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $1(this),t=new K1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await B1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wa(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Wu.create(this,[wa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&A1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ko(i){return pn(i)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=cx(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y1(i){hm=i}function PT(i){return hm.loadJS(i)}function W1(){return hm.recaptchaEnterpriseScript}function X1(){return hm.gapiScript}function Z1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class J1{constructor(){this.enterprise=new eI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tI="recaptcha-enterprise",VT="NO_RECAPTCHA";class nI{constructor(e){this.type=tI,this.auth=Ko(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,m)=>{k1(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new D1(p);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,h(_.siteKey)}}).catch(p=>{m(p)})})}function o(l,h,m){const p=window.grecaptcha;sE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(_=>{h(_)}).catch(()=>{h(VT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J1().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(m=>{if(!t&&sE(window.grecaptcha))o(m,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=W1();p.length!==0&&(p+=m),PT(p).then(()=>{o(m,l,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function hE(i,e,t,s=!1,o=!1){const l=new nI(i);let h;if(o)h=VT;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Pd(i,e,t,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await hE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await hE(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(i,e){const t=cm(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Vl(l,e??{}))return o;as(o,"already-initialized")}return t.initialize({options:e})}function rI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(wa);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sI(i,e,t){const s=Ko(i);qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=jT(e),{host:h,port:m}=aI(e),p=m===null?"":`:${m}`,_={url:`${l}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){qe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qe(Vl(_,s.config.emulator)&&Vl(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oI()}function jT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function aI(i){const e=jT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:fE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:fE(h)}}}function fE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function oI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ba("not implemented")}_getIdTokenResponse(e){return ba("not implemented")}_linkToIdToken(e,t){return ba("not implemented")}_getReauthenticationResolver(e){return ba("not implemented")}}async function lI(i,e){return Va(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(i,e){return Gh(i,"POST","/v1/accounts:signInWithPassword",Pa(i,e))}async function cI(i,e){return Va(i,"POST","/v1/accounts:sendOobCode",Pa(i,e))}async function hI(i,e){return cI(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(i,e){return Gh(i,"POST","/v1/accounts:signInWithEmailLink",Pa(i,e))}async function dI(i,e){return Gh(i,"POST","/v1/accounts:signInWithEmailLink",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends k_{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Dh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Dh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,t,"signInWithPassword",uI);case"emailLink":return fI(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,s,"signUpPassword",lI);case"emailLink":return dI(e,{idToken:t,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(i,e){return Gh(i,"POST","/v1/accounts:signInWithIdp",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="http://localhost";class Ul extends k_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):as("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=x_(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ul(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Xu(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Xu(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xu(e,t)}buildRequest(){const e={requestUri:mI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gI(i){const e=gh(_h(i)).link,t=e?gh(_h(e)).deep_link_id:null,s=gh(_h(i)).deep_link_id;return(s?gh(_h(s)).link:null)||s||t||e||i}class M_{constructor(e){var t,s,o,l,h,m;const p=gh(_h(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,S=pI((o=p.mode)!==null&&o!==void 0?o:null);qe(_&&T&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=T,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=gI(e);try{return new M_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.providerId=cc.PROVIDER_ID}static credential(e,t){return Dh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=M_.parseLink(t);return qe(s,"argument-error"),Dh._fromEmailAndCode(e,s.code,s.tenantId)}}cc.PROVIDER_ID="password";cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends UT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Kh{constructor(){super("facebook.com")}static credential(e){return Ul._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ul._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Do.credential(t,s)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Kh{constructor(){super("github.com")}static credential(e){return Ul._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.GITHUB_SIGN_IN_METHOD="github.com";ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Kh{constructor(){super("twitter.com")}static credential(e,t){return Ul._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Mo.credential(t,s)}catch{return null}}}Mo.TWITTER_SIGN_IN_METHOD="twitter.com";Mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(i,e){return Gh(i,"POST","/v1/accounts:signUp",Pa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Ta._fromIdTokenResponse(e,s,o),h=dE(s);return new zl({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=dE(s);return new zl({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function dE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Fs{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Vd(e,t,s,o)}}function zT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(i,l,e,s):l})}async function yI(i,e,t=!1){const s=await Oh(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return zl._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(i,e,t=!1){const{auth:s}=i;if(sr(s.app))return Promise.reject(Ra(s));const o="reauthenticate";try{const l=await Oh(i,zT(s,o,e,i),t);qe(l.idToken,s,"internal-error");const h=O_(l.idToken);qe(h,s,"internal-error");const{sub:m}=h;return qe(i.uid===m,s,"user-mismatch"),zl._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&as(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(i,e,t=!1){if(sr(i.app))return Promise.reject(Ra(i));const s="signIn",o=await zT(i,s,e),l=await zl._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function EI(i,e){return BT(Ko(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(i){const e=Ko(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HT(i,e,t){const s=Ko(i);await Pd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hI)}async function bI(i,e,t){if(sr(i.app))return Promise.reject(Ra(i));const s=Ko(i),h=await Pd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_I).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FT(i),p}),m=await zl._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function TI(i,e,t){return sr(i.app)?Promise.reject(Ra(i)):EI(pn(i),cc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&FT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(i,e){return pn(i).setPersistence(e)}function wI(i,e,t,s){return pn(i).onIdTokenChanged(e,t,s)}function AI(i,e,t){return pn(i).beforeAuthStateChanged(e,t)}function L_(i,e,t,s){return pn(i).onAuthStateChanged(e,t,s)}function SI(i){return pn(i).signOut()}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1e3,CI=10;class GT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);H1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},RI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}GT.type="LOCAL";const P_=GT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KT.type="SESSION";const QT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new fm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async _=>_(t.origin,l)),p=await xI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,p)=>{const _=V_("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(x.data.response);break;default:clearTimeout(T),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function NI(i){Ls().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function OI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function kI(){return YT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",MI=1,Ud="firebaseLocalStorage",XT="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(i,e){return i.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function LI(){const i=indexedDB.deleteDatabase(WT);return new Qh(i).toPromise()}function Kg(){const i=indexedDB.open(WT,MI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ud,{keyPath:XT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ud)?e(s):(s.close(),await LI(),e(await Kg()))})})}async function mE(i,e,t){const s=dm(i,!0).put({[XT]:e,value:t});return new Qh(s).toPromise()}async function PI(i,e){const t=dm(i,!1).get(e),s=await new Qh(t).toPromise();return s===void 0?null:s.value}function pE(i,e){const t=dm(i,!0).delete(e);return new Qh(t).toPromise()}const VI=800,jI=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>jI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(kI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await OI(),!this.activeServiceWorker)return;this.sender=new II(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await mE(e,jd,"1"),await pE(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>mE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=dm(o,!1).getAll();return new Qh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const UI=ZT;new $h(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(i,e){return e?wa(e):(qe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends k_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BI(i){return BT(i.auth,new j_(i),i.bypassAuthState)}function FI(i){const{auth:e,user:t}=i;return qe(t,e,"internal-error"),vI(t,new j_(i),i.bypassAuthState)}async function HI(i){const{auth:e,user:t}=i;return qe(t,e,"internal-error"),yI(t,new j_(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BI;case"linkViaPopup":case"linkViaRedirect":return HI;case"reauthViaPopup":case"reauthViaRedirect":return FI;default:as(this.auth,"internal-error")}}resolve(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new $h(2e3,1e4);class Qu extends JT{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Qu.currentPopupAction&&Qu.currentPopupAction.cancel(),Qu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Oa(this.filter.length===1,"Popup operations only handle one event");const e=V_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qI.get())};e()}}Qu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="pendingRedirect",bd=new Map;class GI extends JT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=bd.get(this.auth._key());if(!e){try{const s=await KI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KI(i,e){const t=WI(e),s=YI(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function QI(i,e){bd.set(i._key(),e)}function YI(i){return wa(i._redirectPersistence)}function WI(i){return Ed($I,i.config.apiKey,i.name)}async function XI(i,e,t=!1){if(sr(i.app))return Promise.reject(Ra(i));const s=Ko(i),o=zI(s,e),h=await new GI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=10*60*1e3;class JI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ew(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ms(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZI&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ew({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ew(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(i,e={}){return Va(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function rN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tN(i);for(const t of e)try{if(sN(t))return}catch{}as(i,"unauthorized-domain")}function sN(i){const e=$g(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!iN.test(t))return!1;if(nN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new $h(3e4,6e4);function _E(){const i=Ls().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function oN(i){return new Promise((e,t)=>{var s,o,l;function h(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),t(Ms(i,"network-request-failed"))},timeout:aN.get()})}if(!((o=(s=Ls().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ls().gapi)===null||l===void 0)&&l.load)h();else{const m=Z1("iframefcb");return Ls()[m]=()=>{gapi.load?h():t(Ms(i,"network-request-failed"))},PT(`${X1()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Td=null,e})}let Td=null;function lN(i){return Td=Td||oN(i),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new $h(5e3,15e3),cN="__/auth/iframe",hN="emulator/auth/iframe",fN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mN(i){const e=i.config;qe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?N_(e,hN):`https://${i.config.authDomain}/${cN}`,s={apiKey:e.apiKey,appName:i.name,v:Hl},o=dN.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${qh(s).slice(1)}`}async function pN(i){const e=await lN(i),t=Ls().gapi;return qe(t,i,"internal-error"),e.open({where:document.body,url:mN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Ms(i,"network-request-failed"),m=Ls().setTimeout(()=>{l(h)},uN.get());function p(){Ls().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,yN=600,vN="_blank",EN="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bN(i,e,t,s=_N,o=yN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},gN),{width:s.toString(),height:o.toString(),top:l,left:h}),_=gi().toLowerCase();t&&(m=IT(_)?vN:t),CT(_)&&(e=e||EN,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[M,U])=>`${x}${M}=${U},`,"");if(F1(_)&&m!=="_self")return TN(e||"",m),new yE(null);const S=window.open(e||"",m,T);qe(S,i,"popup-blocked");try{S.focus()}catch{}return new yE(S)}function TN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__/auth/handler",AN="emulator/auth/handler",SN=encodeURIComponent("fac");async function vE(i,e,t,s,o,l){qe(i.config.authDomain,i,"auth-domain-config-required"),qe(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Hl,eventId:o};if(e instanceof UT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",ux(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))h[T]=S}if(e instanceof Kh){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),_=p?`#${SN}=${encodeURIComponent(p)}`:"";return`${RN(i)}?${qh(m).slice(1)}${_}`}function RN({config:i}){return i.emulator?N_(i,AN):`https://${i.authDomain}/${wN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="webStorageSupport";class CN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=XI,this._overrideRedirectResult=QI}async _openPopup(e,t,s,o){var l;Oa((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await vE(e,t,s,$g(),o);return bN(e,h,V_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await vE(e,t,s,$g(),o);return NI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Oa(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await pN(e),s=new JI(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tg,{type:Tg},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Tg];h!==void 0&&t(!!h),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MT()||xT()||D_()}}const xN=CN;var EE="@firebase/auth",bE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(i){jl(new zo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;qe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LT(i)},_=new Q1(s,o,l,p);return rI(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),jl(new zo("auth-internal",e=>{const t=Ko(e.getProvider("auth").getImmediate());return(s=>new IN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(EE,bE,NN(i)),ks(EE,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=5*60,kN=hT("authIdTokenMaxAge")||DN;let TE=null;const MN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>kN)return;const o=t==null?void 0:t.token;TE!==o&&(TE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mm(i=C_()){const e=cm(i,"auth");if(e.isInitialized())return e.getImmediate();const t=iI(i,{popupRedirectResolver:xN,persistence:[UI,P_,QT]}),s=hT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=MN(l.toString());AI(t,h,()=>h(t.currentUser)),wI(t,m=>h(m))}}const o=lT("auth");return o&&sI(t,`http://${o}`),t}function LN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Y1({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Ms("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",LN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,tw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,L){function D(){}D.prototype=L.prototype,F.D=L.prototype,F.prototype=new D,F.prototype.constructor=F,F.C=function(V,j,$){for(var O=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)O[Me-2]=arguments[Me];return L.prototype[j].apply(V,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(F,L,D){D||(D=0);var V=Array(16);if(typeof L=="string")for(var j=0;16>j;++j)V[j]=L.charCodeAt(D++)|L.charCodeAt(D++)<<8|L.charCodeAt(D++)<<16|L.charCodeAt(D++)<<24;else for(j=0;16>j;++j)V[j]=L[D++]|L[D++]<<8|L[D++]<<16|L[D++]<<24;L=F.g[0],D=F.g[1],j=F.g[2];var $=F.g[3],O=L+($^D&(j^$))+V[0]+3614090360&4294967295;L=D+(O<<7&4294967295|O>>>25),O=$+(j^L&(D^j))+V[1]+3905402710&4294967295,$=L+(O<<12&4294967295|O>>>20),O=j+(D^$&(L^D))+V[2]+606105819&4294967295,j=$+(O<<17&4294967295|O>>>15),O=D+(L^j&($^L))+V[3]+3250441966&4294967295,D=j+(O<<22&4294967295|O>>>10),O=L+($^D&(j^$))+V[4]+4118548399&4294967295,L=D+(O<<7&4294967295|O>>>25),O=$+(j^L&(D^j))+V[5]+1200080426&4294967295,$=L+(O<<12&4294967295|O>>>20),O=j+(D^$&(L^D))+V[6]+2821735955&4294967295,j=$+(O<<17&4294967295|O>>>15),O=D+(L^j&($^L))+V[7]+4249261313&4294967295,D=j+(O<<22&4294967295|O>>>10),O=L+($^D&(j^$))+V[8]+1770035416&4294967295,L=D+(O<<7&4294967295|O>>>25),O=$+(j^L&(D^j))+V[9]+2336552879&4294967295,$=L+(O<<12&4294967295|O>>>20),O=j+(D^$&(L^D))+V[10]+4294925233&4294967295,j=$+(O<<17&4294967295|O>>>15),O=D+(L^j&($^L))+V[11]+2304563134&4294967295,D=j+(O<<22&4294967295|O>>>10),O=L+($^D&(j^$))+V[12]+1804603682&4294967295,L=D+(O<<7&4294967295|O>>>25),O=$+(j^L&(D^j))+V[13]+4254626195&4294967295,$=L+(O<<12&4294967295|O>>>20),O=j+(D^$&(L^D))+V[14]+2792965006&4294967295,j=$+(O<<17&4294967295|O>>>15),O=D+(L^j&($^L))+V[15]+1236535329&4294967295,D=j+(O<<22&4294967295|O>>>10),O=L+(j^$&(D^j))+V[1]+4129170786&4294967295,L=D+(O<<5&4294967295|O>>>27),O=$+(D^j&(L^D))+V[6]+3225465664&4294967295,$=L+(O<<9&4294967295|O>>>23),O=j+(L^D&($^L))+V[11]+643717713&4294967295,j=$+(O<<14&4294967295|O>>>18),O=D+($^L&(j^$))+V[0]+3921069994&4294967295,D=j+(O<<20&4294967295|O>>>12),O=L+(j^$&(D^j))+V[5]+3593408605&4294967295,L=D+(O<<5&4294967295|O>>>27),O=$+(D^j&(L^D))+V[10]+38016083&4294967295,$=L+(O<<9&4294967295|O>>>23),O=j+(L^D&($^L))+V[15]+3634488961&4294967295,j=$+(O<<14&4294967295|O>>>18),O=D+($^L&(j^$))+V[4]+3889429448&4294967295,D=j+(O<<20&4294967295|O>>>12),O=L+(j^$&(D^j))+V[9]+568446438&4294967295,L=D+(O<<5&4294967295|O>>>27),O=$+(D^j&(L^D))+V[14]+3275163606&4294967295,$=L+(O<<9&4294967295|O>>>23),O=j+(L^D&($^L))+V[3]+4107603335&4294967295,j=$+(O<<14&4294967295|O>>>18),O=D+($^L&(j^$))+V[8]+1163531501&4294967295,D=j+(O<<20&4294967295|O>>>12),O=L+(j^$&(D^j))+V[13]+2850285829&4294967295,L=D+(O<<5&4294967295|O>>>27),O=$+(D^j&(L^D))+V[2]+4243563512&4294967295,$=L+(O<<9&4294967295|O>>>23),O=j+(L^D&($^L))+V[7]+1735328473&4294967295,j=$+(O<<14&4294967295|O>>>18),O=D+($^L&(j^$))+V[12]+2368359562&4294967295,D=j+(O<<20&4294967295|O>>>12),O=L+(D^j^$)+V[5]+4294588738&4294967295,L=D+(O<<4&4294967295|O>>>28),O=$+(L^D^j)+V[8]+2272392833&4294967295,$=L+(O<<11&4294967295|O>>>21),O=j+($^L^D)+V[11]+1839030562&4294967295,j=$+(O<<16&4294967295|O>>>16),O=D+(j^$^L)+V[14]+4259657740&4294967295,D=j+(O<<23&4294967295|O>>>9),O=L+(D^j^$)+V[1]+2763975236&4294967295,L=D+(O<<4&4294967295|O>>>28),O=$+(L^D^j)+V[4]+1272893353&4294967295,$=L+(O<<11&4294967295|O>>>21),O=j+($^L^D)+V[7]+4139469664&4294967295,j=$+(O<<16&4294967295|O>>>16),O=D+(j^$^L)+V[10]+3200236656&4294967295,D=j+(O<<23&4294967295|O>>>9),O=L+(D^j^$)+V[13]+681279174&4294967295,L=D+(O<<4&4294967295|O>>>28),O=$+(L^D^j)+V[0]+3936430074&4294967295,$=L+(O<<11&4294967295|O>>>21),O=j+($^L^D)+V[3]+3572445317&4294967295,j=$+(O<<16&4294967295|O>>>16),O=D+(j^$^L)+V[6]+76029189&4294967295,D=j+(O<<23&4294967295|O>>>9),O=L+(D^j^$)+V[9]+3654602809&4294967295,L=D+(O<<4&4294967295|O>>>28),O=$+(L^D^j)+V[12]+3873151461&4294967295,$=L+(O<<11&4294967295|O>>>21),O=j+($^L^D)+V[15]+530742520&4294967295,j=$+(O<<16&4294967295|O>>>16),O=D+(j^$^L)+V[2]+3299628645&4294967295,D=j+(O<<23&4294967295|O>>>9),O=L+(j^(D|~$))+V[0]+4096336452&4294967295,L=D+(O<<6&4294967295|O>>>26),O=$+(D^(L|~j))+V[7]+1126891415&4294967295,$=L+(O<<10&4294967295|O>>>22),O=j+(L^($|~D))+V[14]+2878612391&4294967295,j=$+(O<<15&4294967295|O>>>17),O=D+($^(j|~L))+V[5]+4237533241&4294967295,D=j+(O<<21&4294967295|O>>>11),O=L+(j^(D|~$))+V[12]+1700485571&4294967295,L=D+(O<<6&4294967295|O>>>26),O=$+(D^(L|~j))+V[3]+2399980690&4294967295,$=L+(O<<10&4294967295|O>>>22),O=j+(L^($|~D))+V[10]+4293915773&4294967295,j=$+(O<<15&4294967295|O>>>17),O=D+($^(j|~L))+V[1]+2240044497&4294967295,D=j+(O<<21&4294967295|O>>>11),O=L+(j^(D|~$))+V[8]+1873313359&4294967295,L=D+(O<<6&4294967295|O>>>26),O=$+(D^(L|~j))+V[15]+4264355552&4294967295,$=L+(O<<10&4294967295|O>>>22),O=j+(L^($|~D))+V[6]+2734768916&4294967295,j=$+(O<<15&4294967295|O>>>17),O=D+($^(j|~L))+V[13]+1309151649&4294967295,D=j+(O<<21&4294967295|O>>>11),O=L+(j^(D|~$))+V[4]+4149444226&4294967295,L=D+(O<<6&4294967295|O>>>26),O=$+(D^(L|~j))+V[11]+3174756917&4294967295,$=L+(O<<10&4294967295|O>>>22),O=j+(L^($|~D))+V[2]+718787259&4294967295,j=$+(O<<15&4294967295|O>>>17),O=D+($^(j|~L))+V[9]+3951481745&4294967295,F.g[0]=F.g[0]+L&4294967295,F.g[1]=F.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,F.g[2]=F.g[2]+j&4294967295,F.g[3]=F.g[3]+$&4294967295}s.prototype.u=function(F,L){L===void 0&&(L=F.length);for(var D=L-this.blockSize,V=this.B,j=this.h,$=0;$<L;){if(j==0)for(;$<=D;)o(this,F,$),$+=this.blockSize;if(typeof F=="string"){for(;$<L;)if(V[j++]=F.charCodeAt($++),j==this.blockSize){o(this,V),j=0;break}}else for(;$<L;)if(V[j++]=F[$++],j==this.blockSize){o(this,V),j=0;break}}this.h=j,this.o+=L},s.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var L=1;L<F.length-8;++L)F[L]=0;var D=8*this.o;for(L=F.length-8;L<F.length;++L)F[L]=D&255,D/=256;for(this.u(F),F=Array(16),L=D=0;4>L;++L)for(var V=0;32>V;V+=8)F[D++]=this.g[L]>>>V&255;return F};function l(F,L){var D=m;return Object.prototype.hasOwnProperty.call(D,F)?D[F]:D[F]=L(F)}function h(F,L){this.h=L;for(var D=[],V=!0,j=F.length-1;0<=j;j--){var $=F[j]|0;V&&$==L||(D[j]=$,V=!1)}this.g=D}var m={};function p(F){return-128<=F&&128>F?l(F,function(L){return new h([L|0],0>L?-1:0)}):new h([F|0],0>F?-1:0)}function _(F){if(isNaN(F)||!isFinite(F))return S;if(0>F)return B(_(-F));for(var L=[],D=1,V=0;F>=D;V++)L[V]=F/D|0,D*=4294967296;return new h(L,0)}function T(F,L){if(F.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(F.charAt(0)=="-")return B(T(F.substring(1),L));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(L,8)),V=S,j=0;j<F.length;j+=8){var $=Math.min(8,F.length-j),O=parseInt(F.substring(j,j+$),L);8>$?($=_(Math.pow(L,$)),V=V.j($).add(_(O))):(V=V.j(D),V=V.add(_(O)))}return V}var S=p(0),x=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(W(this))return-B(this).m();for(var F=0,L=1,D=0;D<this.g.length;D++){var V=this.i(D);F+=(0<=V?V:4294967296+V)*L,L*=4294967296}return F},i.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(U(this))return"0";if(W(this))return"-"+B(this).toString(F);for(var L=_(Math.pow(F,6)),D=this,V="";;){var j=_e(D,L).g;D=z(D,j.j(L));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(F);if(D=j,U(D))return $+V;for(;6>$.length;)$="0"+$;V=$+V}},i.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function U(F){if(F.h!=0)return!1;for(var L=0;L<F.g.length;L++)if(F.g[L]!=0)return!1;return!0}function W(F){return F.h==-1}i.l=function(F){return F=z(this,F),W(F)?-1:U(F)?0:1};function B(F){for(var L=F.g.length,D=[],V=0;V<L;V++)D[V]=~F.g[V];return new h(D,~F.h).add(x)}i.abs=function(){return W(this)?B(this):this},i.add=function(F){for(var L=Math.max(this.g.length,F.g.length),D=[],V=0,j=0;j<=L;j++){var $=V+(this.i(j)&65535)+(F.i(j)&65535),O=($>>>16)+(this.i(j)>>>16)+(F.i(j)>>>16);V=O>>>16,$&=65535,O&=65535,D[j]=O<<16|$}return new h(D,D[D.length-1]&-2147483648?-1:0)};function z(F,L){return F.add(B(L))}i.j=function(F){if(U(this)||U(F))return S;if(W(this))return W(F)?B(this).j(B(F)):B(B(this).j(F));if(W(F))return B(this.j(B(F)));if(0>this.l(M)&&0>F.l(M))return _(this.m()*F.m());for(var L=this.g.length+F.g.length,D=[],V=0;V<2*L;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<F.g.length;j++){var $=this.i(V)>>>16,O=this.i(V)&65535,Me=F.i(j)>>>16,Ne=F.i(j)&65535;D[2*V+2*j]+=O*Ne,te(D,2*V+2*j),D[2*V+2*j+1]+=$*Ne,te(D,2*V+2*j+1),D[2*V+2*j+1]+=O*Me,te(D,2*V+2*j+1),D[2*V+2*j+2]+=$*Me,te(D,2*V+2*j+2)}for(V=0;V<L;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=L;V<2*L;V++)D[V]=0;return new h(D,0)};function te(F,L){for(;(F[L]&65535)!=F[L];)F[L+1]+=F[L]>>>16,F[L]&=65535,L++}function ne(F,L){this.g=F,this.h=L}function _e(F,L){if(U(L))throw Error("division by zero");if(U(F))return new ne(S,S);if(W(F))return L=_e(B(F),L),new ne(B(L.g),B(L.h));if(W(L))return L=_e(F,B(L)),new ne(B(L.g),L.h);if(30<F.g.length){if(W(F)||W(L))throw Error("slowDivide_ only works with positive integers.");for(var D=x,V=L;0>=V.l(F);)D=Ee(D),V=Ee(V);var j=Ce(D,1),$=Ce(V,1);for(V=Ce(V,2),D=Ce(D,2);!U(V);){var O=$.add(V);0>=O.l(F)&&(j=j.add(D),$=O),V=Ce(V,1),D=Ce(D,1)}return L=z(F,j.j(L)),new ne(j,L)}for(j=S;0<=F.l(L);){for(D=Math.max(1,Math.floor(F.m()/L.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),$=_(D),O=$.j(L);W(O)||0<O.l(F);)D-=V,$=_(D),O=$.j(L);U($)&&($=x),j=j.add($),F=z(F,O)}return new ne(j,F)}i.A=function(F){return _e(this,F).h},i.and=function(F){for(var L=Math.max(this.g.length,F.g.length),D=[],V=0;V<L;V++)D[V]=this.i(V)&F.i(V);return new h(D,this.h&F.h)},i.or=function(F){for(var L=Math.max(this.g.length,F.g.length),D=[],V=0;V<L;V++)D[V]=this.i(V)|F.i(V);return new h(D,this.h|F.h)},i.xor=function(F){for(var L=Math.max(this.g.length,F.g.length),D=[],V=0;V<L;V++)D[V]=this.i(V)^F.i(V);return new h(D,this.h^F.h)};function Ee(F){for(var L=F.g.length+1,D=[],V=0;V<L;V++)D[V]=F.i(V)<<1|F.i(V-1)>>>31;return new h(D,F.h)}function Ce(F,L){var D=L>>5;L%=32;for(var V=F.g.length-D,j=[],$=0;$<V;$++)j[$]=0<L?F.i($+D)>>>L|F.i($+D+1)<<32-L:F.i($+D);return new h(j,F.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=T,jo=h}).apply(typeof wE<"u"?wE:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nw,yh,iw,wd,Qg,rw,sw,aw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var Y=c[I];if(!(Y in b))break e;b=b[Y]}c=c[c.length-1],I=b[c],y=y(I),y!=I&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var b=0,I=!1,Y={next:function(){if(!I&&b<c.length){var J=b++;return{value:y(J,c[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,b){return c.call.apply(c.bind,arguments)}function S(c,y,b){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,I),c.apply(y,Y)}}return function(){return c.apply(y,arguments)}}function x(c,y,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,x.apply(null,arguments)}function M(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function U(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(I,Y,J){for(var ve=Array(arguments.length-2),at=2;at<arguments.length;at++)ve[at-2]=arguments[at];return y.prototype[Y].apply(I,ve)}}function W(c){const y=c.length;if(0<y){const b=Array(y);for(let I=0;I<y;I++)b[I]=c[I];return b}return[]}function B(c,y){for(let b=1;b<arguments.length;b++){const I=arguments[b];if(p(I)){const Y=c.length||0,J=I.length||0;c.length=Y+J;for(let ve=0;ve<J;ve++)c[Y+ve]=I[ve]}else c.push(I)}}class z{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var Ee=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ce(c,y,b){for(const I in c)y.call(b,c[I],I,c)}function F(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function L(c){const y={};for(const b in c)y[b]=c[b];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let b,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(b in I)c[b]=I[b];for(let J=0;J<D.length;J++)b=D[J],Object.prototype.hasOwnProperty.call(I,b)&&(c[b]=I[b])}}function j(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function $(c){m.setTimeout(()=>{throw c},0)}function O(){var c=it;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Me{constructor(){this.h=this.g=null}add(y,b){const I=Ne.get();I.set(y,b),this.h?this.h.next=I:this.g=I,this.h=I}}var Ne=new z(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,Te=!1,it=new Me,N=()=>{const c=m.Promise.resolve(void 0);Ae=()=>{c.then(ue)}};var ue=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(b){$(b)}var y=Ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Te=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};m.addEventListener("test",b,y),m.removeEventListener("test",b,y)}catch{}return c}();function Ue(c,y){if(be.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Ee){e:{try{_e(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ke[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ue.aa.h.call(this)}}U(Ue,be);var ke={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ge=0;function yt(c,y,b,I,Y){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!I,this.ha=Y,this.key=++ge,this.da=this.fa=!1}function Ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,y,b,I,Y){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var ve=Ft(c,y,I,Y);return-1<ve?(y=c[ve],b||(y.fa=!1)):(y=new yt(y,this.src,J,!!I,Y),y.fa=b,c.push(y)),y};function Nn(c,y){var b=y.type;if(b in c.g){var I=c.g[b],Y=Array.prototype.indexOf.call(I,y,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(I,Y,1),J&&(Ze(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ft(c,y,b,I){for(var Y=0;Y<c.length;++Y){var J=c[Y];if(!J.da&&J.listener==y&&J.capture==!!b&&J.ha==I)return Y}return-1}var On="closure_lm_"+(1e6*Math.random()|0),Je={};function ln(c,y,b,I,Y){if(Array.isArray(y)){for(var J=0;J<y.length;J++)ln(c,y[J],b,I,Y);return null}return b=_i(b),c&&c[Ct]?c.K(y,b,_(I)?!!I.capture:!1,Y):qi(c,y,b,!1,I,Y)}function qi(c,y,b,I,Y,J){if(!y)throw Error("Invalid event type");var ve=_(Y)?!!Y.capture:!!Y,at=qs(c);if(at||(c[On]=at=new Xt(c)),b=at.add(y,b,I,ve,J),b.proxy)return b;if(I=us(),b.proxy=I,I.src=c,I.listener=b,c.addEventListener)ye||(Y=ve),Y===void 0&&(Y=!1),c.addEventListener(y.toString(),I,Y);else if(c.attachEvent)c.attachEvent(hs(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function us(){function c(b){return y.call(c.src,c.listener,b)}const y=Xo;return c}function cs(c,y,b,I,Y){if(Array.isArray(y))for(var J=0;J<y.length;J++)cs(c,y[J],b,I,Y);else I=_(I)?!!I.capture:!!I,b=_i(b),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],b=Ft(J,b,I,Y),-1<b&&(Ze(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=qs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ft(y,b,I,Y)),(b=-1<c?y[c]:null)&&Dr(b))}function Dr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])Nn(y.i,c);else{var b=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(b,I,c.capture):y.detachEvent?y.detachEvent(hs(b),I):y.addListener&&y.removeListener&&y.removeListener(I),(b=qs(y))?(Nn(b,c),b.h==0&&(b.src=null,y[On]=null)):Ze(c)}}}function hs(c){return c in Je?Je[c]:Je[c]="on"+c}function Xo(c,y){if(c.da)c=!0;else{y=new Ue(y,this);var b=c.listener,I=c.ha||c.src;c.fa&&Dr(c),c=b.call(I,y)}return c}function qs(c){return c=c[On],c instanceof Xt?c:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _i(c){return typeof c=="function"?c:(c[Zt]||(c[Zt]=function(y){return c.handleEvent(y)}),c[Zt])}function je(){Se.call(this),this.i=new Xt(this),this.M=this,this.F=null}U(je,Se),je.prototype[Ct]=!0,je.prototype.removeEventListener=function(c,y,b,I){cs(this,c,y,b,I)};function Tt(c,y){var b,I=c.F;if(I)for(b=[];I;I=I.F)b.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new be(y,c);else if(y instanceof be)y.target=y.target||c;else{var Y=y;y=new be(I,c),V(y,Y)}if(Y=!0,b)for(var J=b.length-1;0<=J;J--){var ve=y.g=b[J];Y=Tn(ve,I,!0,y)&&Y}if(ve=y.g=c,Y=Tn(ve,I,!0,y)&&Y,Y=Tn(ve,I,!1,y)&&Y,b)for(J=0;J<b.length;J++)ve=y.g=b[J],Y=Tn(ve,I,!1,y)&&Y}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],I=0;I<b.length;I++)Ze(b[I]);delete c.g[y],c.h--}}this.F=null},je.prototype.K=function(c,y,b,I){return this.i.add(String(c),y,!1,b,I)},je.prototype.L=function(c,y,b,I){return this.i.add(String(c),y,!0,b,I)};function Tn(c,y,b,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,J=0;J<y.length;++J){var ve=y[J];if(ve&&!ve.da&&ve.capture==b){var at=ve.listener,hn=ve.ha||ve.src;ve.fa&&Nn(c.i,ve),Y=at.call(hn,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function kr(c,y,b){if(typeof c=="function")b&&(c=x(c,b));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function fs(c){c.g=kr(()=>{c.g=null,c.i&&(c.i=!1,fs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gc extends Se{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(c){Se.call(this),this.h=c,this.g={}}U(Mr,Se);var ds=[];function Dn(c){Ce(c.g,function(y,b){this.g.hasOwnProperty(b)&&Dr(y)},c),c.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Dn(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zo=m.JSON.stringify,or=m.JSON.parse,Kn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Jo(){}Jo.prototype.h=null;function el(c){return c.h||(c.h=c.i())}function $s(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){be.call(this,"d")}U(Lr,be);function Gi(){be.call(this,"c")}U(Gi,be);var Ni={},ms=null;function Ua(){return ms=ms||new je}Ni.La="serverreachability";function lr(c){be.call(this,Ni.La,c)}U(lr,be);function Oi(c){const y=Ua();Tt(y,new lr(y))}Ni.STAT_EVENT="statevent";function za(c,y){be.call(this,Ni.STAT_EVENT,c),this.stat=y}U(za,be);function Kt(c){const y=Ua();Tt(y,new za(y,c))}Ni.Ma="timingevent";function Kl(c,y){be.call(this,Ni.Ma,c),this.size=y}U(Kl,be);function ps(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function Ba(c,y,b,I,Y,J){c.info(function(){if(c.g)if(J)for(var ve="",at=J.split("&"),hn=0;hn<at.length;hn++){var ot=at[hn].split("=");if(1<ot.length){var At=ot[0];ot=ot[1];var nn=At.split("_");ve=2<=nn.length&&nn[1]=="type"?ve+(At+"="+ot+"&"):ve+(At+"=redacted&")}}else ve=null;else ve=J;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+y+`
`+b+`
`+ve})}function Pr(c,y,b,I,Y,J,ve){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+y+`
`+b+`
`+J+" "+ve})}function Ki(c,y,b,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Jt(c,b)+(I?" "+I:"")})}function ur(c,y){c.info(function(){return"TIMEOUT: "+y})}gs.prototype.info=function(){};function Jt(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var I=b[c];if(!(2>I.length)){var Y=I[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return Zo(b)}catch{return y}}var un={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Di;function en(){}U(en,Jo),en.prototype.g=function(){return new XMLHttpRequest},en.prototype.i=function(){return{}},Di=new en;function Ht(c,y,b,I){this.j=c,this.i=y,this.l=b,this.R=I||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wn}function wn(){this.i=null,this.g="",this.h=!1}var qt={},cr={};function kn(c,y,b){c.L=1,c.v=Fr(Lt(y)),c.m=b,c.P=!0,Qn(c,null)}function Qn(c,y){c.F=Date.now(),Ot(c),c.A=Lt(c.v);var b=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),dr(b.i,"t",I),c.C=0,b=c.j.J,c.h=new wn,c.g=nu(c.j,b?y:null,!c.m),0<c.O&&(c.M=new gc(x(c.Y,c,c.g),c.O)),y=c.U,b=c.g,I=c.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ds[0]=Y.toString()),Y=ds);for(var J=0;J<Y.length;J++){var ve=ln(b,Y[J],I||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=c.H?L(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Oi(),Ba(c.i,c.u,c.A,c.l,c.R,c.m)}Ht.prototype.ca=function(c){c=c.target;const y=this.M;y&&Ai(c)==3?y.j():this.Y(c)},Ht.prototype.Y=function(c){try{if(c==this.g)e:{const nn=Ai(this.g);var y=this.g.Ba();const vr=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||sl(this.g)))){this.J||nn!=4||y==7||(y==8||0>=vr?Oi(3):Oi(2)),Gs(this);var b=this.g.Z();this.X=b;t:if(yi(this)){var I=sl(this.g);c="";var Y=I.length,J=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Yn(this);var ve="";break t}this.h.i=new m.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,c+=this.h.i.decode(I[y],{stream:!(J&&y==Y-1)});I.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=b==200,Pr(this.i,this.u,this.A,this.l,this.R,nn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var at,hn=this.g;if((at=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(at)){var ot=at;break t}}ot=null}if(b=ot)Ki(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oi(this,b);else{this.o=!1,this.s=3,Kt(12),Mn(this),Yn(this);break e}}if(this.P){b=!0;let gn;for(;!this.J&&this.C<ve.length;)if(gn=jr(this,ve),gn==cr){nn==4&&(this.s=4,Kt(14),b=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==qt){this.s=4,Kt(15),Ki(this.i,this.l,ve,"[Invalid Chunk]"),b=!1;break}else Ki(this.i,this.l,gn,null),oi(this,gn);if(yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ve.length!=0||this.h.h||(this.s=1,Kt(16),b=!1),this.o=this.o&&b,!b)Ki(this.i,this.l,ve,"[Invalid Chunked Response]"),Mn(this),Yn(this);else if(0<ve.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Es(At),At.M=!0,Kt(11))}}else Ki(this.i,this.l,ve,null),oi(this,ve);nn==4&&Mn(this),this.o&&!this.J&&(nn==4?Wa(this.j,this):(this.o=!1,Ot(this)))}else Yl(this.g),b==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Mn(this),Yn(this)}}}catch{}finally{}};function yi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jr(c,y){var b=c.C,I=y.indexOf(`
`,b);return I==-1?cr:(b=Number(y.substring(b,I)),isNaN(b)?qt:(I+=1,I+b>y.length?cr:(y=y.slice(I,I+b),c.C=I+b,y)))}Ht.prototype.cancel=function(){this.J=!0,Mn(this)};function Ot(c){c.S=Date.now()+c.I,hr(c,c.I)}function hr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ps(x(c.ba,c),y)}function Gs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ht.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ur(this.i,this.A),this.L!=2&&(Oi(),Kt(17)),Mn(this),this.s=2,Yn(this)):hr(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Wa(c.j,c)}function Mn(c){Gs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Dn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function oi(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Ur(b.h,c))){if(!c.K&&Ur(b.h,c)&&b.G==3){try{var I=b.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Li(b),ta(b);else break e;na(b),Kt(18)}}else b.za=Y[1],0<b.za-b.T&&37500>Y[2]&&b.F&&b.v==0&&!b.C&&(b.C=ps(x(b.Za,b),6e3));if(1>=tl(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else yr(b,11)}else if((c.K||b.g==c)&&Li(b),!te(y))for(Y=b.Da.g.parse(y),y=0;y<Y.length;y++){let ot=Y[y];if(b.T=ot[0],ot=ot[1],b.G==2)if(ot[0]=="c"){b.K=ot[1],b.ia=ot[2];const At=ot[3];At!=null&&(b.la=At,b.j.info("VER="+b.la));const nn=ot[4];nn!=null&&(b.Aa=nn,b.j.info("SVER="+b.Aa));const vr=ot[5];vr!=null&&typeof vr=="number"&&0<vr&&(I=1.5*vr,b.L=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const gn=c.g;if(gn){const Er=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var J=I.h;J.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(zr(J,J.h),J.h=null))}if(I.D){const ll=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(I.ya=ll,et(I.I,I.D,ll))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),I=b;var ve=c;if(I.qa=tu(I,I.J?I.ia:null,I.W),ve.K){vi(I.h,ve);var at=ve,hn=I.L;hn&&(at.I=hn),at.B&&(Gs(at),Ot(at)),I.g=ve}else Jl(I);0<b.i.length&&Qa(b)}else ot[0]!="stop"&&ot[0]!="close"||yr(b,7);else b.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?yr(b,7):ea(b):ot[0]!="noop"&&b.l&&b.l.ta(ot),b.v=0)}}Oi(4)}catch{}}var Ql=class{constructor(c,y){this.g=c,this.map=y}};function Fa(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ha(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function tl(c){return c.h?1:c.g?c.g.size:0}function Ur(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function zr(c,y){c.g?c.g.add(y):c.h=y}function vi(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Fa.prototype.cancel=function(){if(this.i=Ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ln(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return W(c.i)}function nl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],b=c.length,I=0;I<b;I++)y.push(c[I]);return y}y=[],b=0;for(I in c)y[b++]=c[I];return y}function ki(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const I in c)y[b++]=I;return y}}}function cn(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=ki(c),I=nl(c),Y=I.length,J=0;J<Y;J++)y.call(void 0,I[J],b&&b[J],c)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function An(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var I=c[b].indexOf("="),Y=null;if(0<=I){var J=c[b].substring(0,I);Y=c[b].substring(I+1)}else J=c[b];y(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yi){this.h=c.h,Sn(this,c.j),this.o=c.o,this.g=c.g,Ei(this,c.s),this.l=c.l;var y=c.i,b=new Wi;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Br(this,b),this.m=c.m}else c&&(y=String(c).match(Qi))?(this.h=!1,Sn(this,y[1]||"",!0),this.o=Hr(y[2]||""),this.g=Hr(y[3]||"",!0),Ei(this,y[4]),this.l=Hr(y[5]||"",!0),Br(this,y[6]||"",!0),this.m=Hr(y[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Yi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Rn(y,qa,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rn(y,qa,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Rn(b,b.charAt(0)=="/"?rl:Mi,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Rn(b,$a)),c.join("")};function Lt(c){return new Yi(c)}function Sn(c,y,b){c.j=b?Hr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ei(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Br(c,y,b){y instanceof Wi?(c.i=y,Ga(c.i,c.h)):(b||(y=Rn(y,fr)),c.i=new Wi(y,c.h))}function et(c,y,b){c.i.set(y,b)}function Fr(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rn(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,il),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function il(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qa=/[#\/\?@]/g,Mi=/[#\?:]/g,rl=/[#\?]/g,fr=/[#\?@]/g,$a=/#/g;function Wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&An(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Wi.prototype,i.add=function(c,y){Pn(this),this.i=null,c=mr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function _s(c,y){Pn(c),y=mr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function bi(c,y){return Pn(c),y=mr(c,y),c.g.has(y)}i.forEach=function(c,y){Pn(this),this.g.forEach(function(b,I){b.forEach(function(Y){c.call(y,Y,I,this)},this)},this)},i.na=function(){Pn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let I=0;I<y.length;I++){const Y=c[I];for(let J=0;J<Y.length;J++)b.push(y[I])}return b},i.V=function(c){Pn(this);let y=[];if(typeof c=="string")bi(this,c)&&(y=y.concat(this.g.get(mr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},i.set=function(c,y){return Pn(this),this.i=null,c=mr(this,c),bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function dr(c,y,b){_s(c,y),0<b.length&&(c.i=null,c.g.set(mr(c,y),W(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var I=y[b];const J=encodeURIComponent(String(I)),ve=this.V(I);for(I=0;I<ve.length;I++){var Y=J;ve[I]!==""&&(Y+="="+encodeURIComponent(String(ve[I]))),c.push(Y)}}return this.i=c.join("&")};function mr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ga(c,y){y&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(b,I){var Y=I.toLowerCase();I!=Y&&(_s(this,I),dr(this,Y,b))},c)),c.j=y}function qr(c,y){const b=new gs;if(m.Image){const I=new Image;I.onload=M(Ti,b,"TestLoadImage: loaded",!0,y,I),I.onerror=M(Ti,b,"TestLoadImage: error",!1,y,I),I.onabort=M(Ti,b,"TestLoadImage: abort",!1,y,I),I.ontimeout=M(Ti,b,"TestLoadImage: timeout",!1,y,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function Ks(c,y){const b=new gs,I=new AbortController,Y=setTimeout(()=>{I.abort(),Ti(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(J=>{clearTimeout(Y),J.ok?Ti(b,"TestPingServer: ok",!0,y):Ti(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Ti(b,"TestPingServer: error",!1,y)})}function Ti(c,y,b,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(b)}catch{}}function $r(){this.g=new Kn}function wi(c,y,b){const I=b||"";try{cn(c,function(Y,J){let ve=Y;_(Y)&&(ve=Zo(Y)),y.push(I+J+"="+encodeURIComponent(ve))})}catch(Y){throw y.push(I+"type="+encodeURIComponent("_badmap")),Y}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(pr,Jo),pr.prototype.g=function(){return new Gr(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function Gr(c,y){je.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Gr,je),i=Gr.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Xi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ys(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ys(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gr(this):Xi(this),this.readyState==3&&ys(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,gr(this))},i.Qa=function(c){this.g&&(this.response=c,gr(this))},i.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Xi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qs(c){let y="";return Ce(c,function(b,I){y+=I,y+=":",y+=b,y+=`\r
`}),y}function tn(c,y,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=Qs(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):et(c,y,b))}function pt(c){je.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(pt,je);var Ys=/^https?$/i,Zi=["POST","PUT"];i=pt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Di.g(),this.v=this.o?el(this.o):el(Di),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){Ka(this,J);return}if(c=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)b.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())b.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),Y=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Zi,y,void 0))||I||Y||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of b)this.g.setRequestHeader(J,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Ka(this,J)}};function Ka(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ws(c),Wn(c)}function Ws(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),Wn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),pt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},i.bb=function(){Xs(this)};function Xs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Ai(c)!=4||c.Z()!=2)){if(c.u&&Ai(c)==4)kr(c.Ea,0,c);else if(Tt(c,"readystatechange"),Ai(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var I;if(I=ve===0){var Y=String(c.D).match(Qi)[1]||null;!Y&&m.self&&m.self.location&&(Y=m.self.location.protocol.slice(0,-1)),I=!Ys.test(Y?Y.toLowerCase():"")}b=I}if(b)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var J=2<Ai(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Ws(c)}}finally{Wn(c)}}}}function Wn(c,y){if(c.g){Zs(c);const b=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Tt(c,"ready");try{b.onreadystatechange=I}catch{}}}function Zs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Ai(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),or(y)}};function sl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yl(c){const y={};c=(c.g&&2<=Ai(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(te(c[I]))continue;var b=j(c[I]);const Y=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=y[Y]||[];y[Y]=J,J.push(b)}F(y,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Js(c){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fa(c&&c.concurrentRequestLimit),this.Da=new $r,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Js.prototype,i.la=8,i.G=1,i.connect=function(c,y,b,I){Kt(0),this.W=c,this.H=y||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.I=tu(this,null,this.W),Qa(this)};function ea(c){if(Wl(c),c.G==3){var y=c.U++,b=Lt(c.I);if(et(b,"SID",c.K),et(b,"RID",y),et(b,"TYPE","terminate"),_r(c,b),y=new Ht(c,c.j,y),y.L=2,y.v=Fr(Lt(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=y.v,b=!0),b||(y.g=nu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ot(y)}eu(c)}function ta(c){c.g&&(Es(c),c.g.cancel(),c.g=null)}function Wl(c){ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),Li(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Qa(c){if(!Ha(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ae||N(),Te||(Ae(),Te=!0),it.add(y,c),c.B=0}}function Xl(c,y){return tl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ps(x(c.Ga,c,y),ol(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Y=new Ht(this,this.j,c);let J=this.o;if(this.S&&(J?(J=L(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Zl(this,Y,y),b=Lt(this.I),et(b,"RID",c),et(b,"CVER",22),this.D&&et(b,"X-HTTP-Session-Id",this.D),_r(this,b),J&&(this.O?y="headers="+encodeURIComponent(String(Qs(J)))+"&"+y:this.m&&tn(b,this.m,J)),zr(this.h,Y),this.Ua&&et(b,"TYPE","init"),this.P?(et(b,"$req",y),et(b,"SID","null"),Y.T=!0,kn(Y,b,null)):kn(Y,b,y),this.G=2}}else this.G==3&&(c?Ya(this,c):this.i.length==0||Ha(this.h)||Ya(this))};function Ya(c,y){var b;y?b=y.l:b=c.U++;const I=Lt(c.I);et(I,"SID",c.K),et(I,"RID",b),et(I,"AID",c.T),_r(c,I),c.m&&c.o&&tn(I,c.m,c.o),b=new Ht(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zl(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zr(c.h,b),kn(b,I,y)}function _r(c,y){c.H&&Ce(c.H,function(b,I){et(y,I,b)}),c.l&&cn({},function(b,I){et(y,I,b)})}function Zl(c,y,b){b=Math.min(c.i.length,b);var I=c.l?x(c.l.Na,c.l,c):null;e:{var Y=c.i;let J=-1;for(;;){const ve=["count="+b];J==-1?0<b?(J=Y[0].g,ve.push("ofs="+J)):J=0:ve.push("ofs="+J);let at=!0;for(let hn=0;hn<b;hn++){let ot=Y[hn].g;const At=Y[hn].map;if(ot-=J,0>ot)J=Math.max(0,Y[hn].g-100),at=!1;else try{wi(At,ve,"req"+ot+"_")}catch{I&&I(At)}}if(at){I=ve.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,I}function Jl(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ae||N(),Te||(Ae(),Te=!0),it.add(y,c),c.v=0}}function na(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ps(x(c.Fa,c),ol(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,al(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ps(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),ta(this),al(this))};function Es(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function al(c){c.g=new Ht(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Lt(c.qa);et(y,"RID","rpc"),et(y,"SID",c.K),et(y,"AID",c.T),et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(y,"TO",c.ja),et(y,"TYPE","xmlhttp"),_r(c,y),c.m&&c.o&&tn(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Fr(Lt(y)),b.m=null,b.P=!0,Qn(b,c)}i.Za=function(){this.C!=null&&(this.C=null,ta(this),na(this),Kt(19))};function Li(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wa(c,y){var b=null;if(c.g==y){Li(c),Es(c),c.g=null;var I=2}else if(Ur(c.h,y))b=y.D,vi(c.h,y),I=1;else return;if(c.G!=0){if(y.o)if(I==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var Y=c.B;I=Ua(),Tt(I,new Kl(I,b)),Qa(c)}else Jl(c);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(I==1&&Xl(c,y)||I==2&&na(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),Y){case 1:yr(c,5);break;case 4:yr(c,10);break;case 3:yr(c,6);break;default:yr(c,2)}}}function ol(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function yr(c,y){if(c.j.info("Error code "+y),y==2){var b=x(c.fb,c),I=c.Xa;const Y=!I;I=new Yi(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Sn(I,"https"),Fr(I),Y?qr(I.toString(),b):Ks(I.toString(),b)}else Kt(2);c.G=0,c.l&&c.l.sa(y),eu(c),Wl(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function eu(c){if(c.G=0,c.ka=[],c.l){const y=Ln(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function tu(c,y,b){var I=b instanceof Yi?Lt(b):new Yi(b);if(I.g!="")y&&(I.g=y+"."+I.g),Ei(I,I.s);else{var Y=m.location;I=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new Yi(null);I&&Sn(J,I),y&&(J.g=y),Y&&Ei(J,Y),b&&(J.l=b),I=J}return b=c.D,y=c.ya,b&&y&&et(I,b,y),et(I,"VER",c.la),_r(c,I),I}function nu(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new pr({eb:b})):new pt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}i=iu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ia(){}ia.prototype.g=function(c,y){return new Vn(c,y)};function Vn(c,y){je.call(this),this.g=new Js(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new jn(this)}U(Vn,je),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){ea(this.g)},Vn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=Zo(c),c=b);y.i.push(new Ql(y.Ya++,c)),y.G==3&&Qa(y)},Vn.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,Vn.aa.N.call(this)};function ru(c){Lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(ru,Lr);function Kr(){Gi.call(this),this.status=1}U(Kr,Gi);function jn(c){this.g=c}U(jn,iu),jn.prototype.ua=function(){Tt(this.g,"a")},jn.prototype.ta=function(c){Tt(this.g,new ru(c))},jn.prototype.sa=function(c){Tt(this.g,new Kr)},jn.prototype.ra=function(){Tt(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,aw=function(){return new ia},sw=function(){return Ua()},rw=Ni,Qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,wd=un,Vr.COMPLETE="complete",iw=Vr,$s.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",je.prototype.listen=je.prototype.K,yh=$s,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,nw=pt}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore",SE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new S_("@firebase/firestore");function Hu(){return Bl.logLevel}function Re(i,...e){if(Bl.logLevel<=ut.DEBUG){const t=e.map(U_);Bl.debug(`Firestore (${hc}): ${i}`,...t)}}function Da(i,...e){if(Bl.logLevel<=ut.ERROR){const t=e.map(U_);Bl.error(`Firestore (${hc}): ${i}`,...t)}}function Ju(i,...e){if(Bl.logLevel<=ut.WARN){const t=e.map(U_);Bl.warn(`Firestore (${hc}): ${i}`,...t)}}function U_(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(i="Unexpected state"){const e=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: `+i;throw Da(e),new Error(e)}function Rt(i,e){i||$e()}function We(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(di.UNAUTHENTICATED))}shutdown(){}}class VN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jN{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ca,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ca)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Rt(typeof s.accessToken=="string"),new ow(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new di(e)}}class UN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=di.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new UN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0);const s=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new RE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string"),this.R=t.token,new RE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function mt(i,e){return i<e?-1:i>e?1:0}function ec(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=-62135596800,xE=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*xE);return new xn(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<CE)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new xn(0,0))}static max(){return new Ke(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="__name__";class Ds{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(),s===void 0?s=e.length-t:s>e.length-t&&$e(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Ds.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ds.isNumericId(e),o=Ds.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ds.extractNumericId(e).compare(Ds.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class Bt extends Ds{construct(e,t,s){return new Bt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const HN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends Ds{construct(e,t,s){return new ri(e,t,s)}static isValidIdentifier(e){return HN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IE}static keyField(){return new ri([IE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ri(t)}static emptyPath(){return new ri([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Bt.fromString(e))}static fromName(e){return new Ve(Bt.fromString(e).popFirst(5))}static empty(){return new Ve(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=-1;function qN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(s===1e9?new xn(t+1,0):new xn(t,s));return new Bo(o,Ve.empty(),e)}function $N(i){return new Bo(i.readTime,i.key,kh)}class Bo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Bo(Ke.min(),Ve.empty(),kh)}static max(){return new Bo(Ke.max(),Ve.empty(),kh)}}function GN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(i.documentKey,e.documentKey),t!==0?t:mt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==KN)throw i;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,s)=>{t(e)})}static reject(e){return new oe((t,s)=>{s(e)})}static waitFor(e){return new oe((t,s)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=oe.resolve(!1);for(const s of e)t=t.next(o=>o?oe.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new oe((s,o)=>{const l=e.length,h=new Array(l);let m=0;for(let p=0;p<l;p++){const _=p;t(e[_]).next(T=>{h[_]=T,++m,m===l&&s(h)},T=>o(T))}})}static doWhile(e,t){return new oe((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function YN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dc(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}pm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-1;function gm(i){return i==null}function zd(i){return i===0&&1/i==-1/0}function WN(i){return typeof i=="number"&&Number.isInteger(i)&&!zd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="";function XN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=NE(e)),e=ZN(i.get(t),e);return NE(e)}function ZN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case uw:t+="";break;default:t+=l}}return t}function NE(i){return i+uw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Qo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function cw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??ii.RED,this.left=o??ii.EMPTY,this.right=l??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new ii(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return ii.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1;ii.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,t,s,o,l){return this}insert(e,t,s){return new ii(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(ri.comparator)}static empty(){return new ar([])}unionWith(e){let t=new In(ri.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hw("Invalid base64 string: "+l):l}}(e);return new ai(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const JN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(i){if(Rt(!!i),typeof i=="string"){let e=0;const t=JN.exec(i);if(Rt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mn(i.seconds),nanos:mn(i.nanos)}}function mn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ho(i){return typeof i=="string"?ai.fromBase64String(i):ai.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="server_timestamp",dw="__type__",mw="__previous_value__",pw="__local_write_time__";function B_(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[dw])===null||t===void 0?void 0:t.stringValue)===fw}function _m(i){const e=i.mapValue.fields[mw];return B_(e)?_m(e):e}function Mh(i){const e=Fo(i.mapValue.fields[pw].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t,s,o,l,h,m,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const Bd="(default)";class Lh{constructor(e,t){this.projectId=e,this.database=t||Bd}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="__type__",t2="__max__",cd={mapValue:{}},_w="__vector__",Fd="value";function qo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?B_(i)?4:i2(i)?9007199254740991:n2(i)?10:11:$e()}function js(i,e){if(i===e)return!0;const t=qo(i);if(t!==qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Mh(i).isEqual(Mh(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Fo(o.timestampValue),m=Fo(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Ho(o.bytesValue).isEqual(Ho(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return mn(o.geoPointValue.latitude)===mn(l.geoPointValue.latitude)&&mn(o.geoPointValue.longitude)===mn(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return mn(o.integerValue)===mn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=mn(o.doubleValue),m=mn(l.doubleValue);return h===m?zd(h)===zd(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return ec(i.arrayValue.values||[],e.arrayValue.values||[],js);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(OE(h)!==OE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!js(h[p],m[p])))return!1;return!0}(i,e);default:return $e()}}function Ph(i,e){return(i.values||[]).find(t=>js(t,e))!==void 0}function tc(i,e){if(i===e)return 0;const t=qo(i),s=qo(e);if(t!==s)return mt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(i.booleanValue,e.booleanValue);case 2:return function(l,h){const m=mn(l.integerValue||l.doubleValue),p=mn(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return kE(i.timestampValue,e.timestampValue);case 4:return kE(Mh(i),Mh(e));case 5:return mt(i.stringValue,e.stringValue);case 6:return function(l,h){const m=Ho(l),p=Ho(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),p=h.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=mt(m[_],p[_]);if(T!==0)return T}return mt(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const m=mt(mn(l.latitude),mn(h.latitude));return m!==0?m:mt(mn(l.longitude),mn(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return ME(i.arrayValue,e.arrayValue);case 10:return function(l,h){var m,p,_,T;const S=l.fields||{},x=h.fields||{},M=(m=S[Fd])===null||m===void 0?void 0:m.arrayValue,U=(p=x[Fd])===null||p===void 0?void 0:p.arrayValue,W=mt(((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0,((T=U==null?void 0:U.values)===null||T===void 0?void 0:T.length)||0);return W!==0?W:ME(M,U)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===cd.mapValue&&h===cd.mapValue)return 0;if(l===cd.mapValue)return 1;if(h===cd.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),_=h.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const x=mt(p[S],T[S]);if(x!==0)return x;const M=tc(m[p[S]],_[T[S]]);if(M!==0)return M}return mt(p.length,T.length)}(i.mapValue,e.mapValue);default:throw $e()}}function kE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return mt(i,e);const t=Fo(i),s=Fo(e),o=mt(t.seconds,s.seconds);return o!==0?o:mt(t.nanos,s.nanos)}function ME(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=tc(t[o],s[o]);if(l)return l}return mt(t.length,s.length)}function nc(i){return Yg(i)}function Yg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Fo(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ho(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Yg(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Yg(t.fields[h])}`;return o+"}"}(i.mapValue):$e()}function Ad(i){switch(qo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_m(i);return e?16+Ad(e):16;case 5:return 2*i.stringValue.length;case 6:return Ho(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Ad(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Qo(s.fields,(l,h)=>{o+=l.length+Ad(h)}),o}(i.mapValue);default:throw $e()}}function LE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wg(i){return!!i&&"integerValue"in i}function F_(i){return!!i&&"arrayValue"in i}function PE(i){return!!i&&"nullValue"in i}function VE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sd(i){return!!i&&"mapValue"in i}function n2(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[gw])===null||t===void 0?void 0:t.stringValue)===_w}function Sh(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Qo(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Sh(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sh(i.arrayValue.values[t]);return e}return Object.assign({},i)}function i2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sh(t)}setAll(e){let t=ri.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Sh(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return js(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Sd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Qo(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Bi(Sh(this.value))}}function yw(i){const e=[];return Qo(i.fields,(t,s)=>{const o=new ri([t]);if(Sd(s)){const l=yw(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,s,o,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new mi(e,0,Ke.min(),Ke.min(),Ke.min(),Bi.empty(),0)}static newFoundDocument(e,t,s,o){return new mi(e,1,t,Ke.min(),s,o,0)}static newNoDocument(e,t){return new mi(e,2,t,Ke.min(),Ke.min(),Bi.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,Ke.min(),Ke.min(),Bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.position=e,this.inclusive=t}}function jE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=Ve.comparator(Ve.fromName(h.referenceValue),t.key):s=tc(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function UE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!js(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t="asc"){this.field=e,this.dir=t}}function r2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{}class En extends vw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new a2(e,t,s):t==="array-contains"?new u2(e,s):t==="in"?new c2(e,s):t==="not-in"?new h2(e,s):t==="array-contains-any"?new f2(e,s):new En(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new o2(e,s):new l2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(tc(t,this.value)):t!==null&&qo(this.value)===qo(t)&&this.matchesComparison(tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends vw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new os(e,t)}matches(e){return Ew(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ew(i){return i.op==="and"}function bw(i){return s2(i)&&Ew(i)}function s2(i){for(const e of i.filters)if(e instanceof os)return!1;return!0}function Xg(i){if(i instanceof En)return i.field.canonicalString()+i.op.toString()+nc(i.value);if(bw(i))return i.filters.map(e=>Xg(e)).join(",");{const e=i.filters.map(t=>Xg(t)).join(",");return`${i.op}(${e})`}}function Tw(i,e){return i instanceof En?function(s,o){return o instanceof En&&s.op===o.op&&s.field.isEqual(o.field)&&js(s.value,o.value)}(i,e):i instanceof os?function(s,o){return o instanceof os&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,m)=>l&&Tw(h,o.filters[m]),!0):!1}(i,e):void $e()}function ww(i){return i instanceof En?function(t){return`${t.field.canonicalString()} ${t.op} ${nc(t.value)}`}(i):i instanceof os?function(t){return t.op.toString()+" {"+t.getFilters().map(ww).join(" ,")+"}"}(i):"Filter"}class a2 extends En{constructor(e,t,s){super(e,t,s),this.key=Ve.fromName(s.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class o2 extends En{constructor(e,t){super(e,"in",t),this.keys=Aw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class l2 extends En{constructor(e,t){super(e,"not-in",t),this.keys=Aw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Aw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ve.fromName(s.referenceValue))}class u2 extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return F_(t)&&Ph(t.arrayValue,this.value)}}class c2 extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ph(this.value.arrayValue,t)}}class h2 extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ph(this.value.arrayValue,t)}}class f2 extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!F_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ph(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t=null,s=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.le=null}}function zE(i,e=null,t=[],s=[],o=null,l=null,h=null){return new d2(i,e,t,s,o,l,h)}function H_(i){const e=We(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Xg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),gm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>nc(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>nc(s)).join(",")),e.le=t}return e.le}function q_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!r2(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Tw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!UE(i.startAt,e.startAt)&&UE(i.endAt,e.endAt)}function Zg(i){return Ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t=null,s=[],o=[],l=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function m2(i,e,t,s,o,l,h,m){return new Yh(i,e,t,s,o,l,h,m)}function ym(i){return new Yh(i)}function BE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Sw(i){return i.collectionGroup!==null}function Rh(i){const e=We(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new In(ri.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new qd(l,s))}),t.has(ri.keyField().canonicalString())||e.he.push(new qd(ri.keyField(),s))}return e.he}function Ps(i){const e=We(i);return e.Pe||(e.Pe=p2(e,Rh(i))),e.Pe}function p2(i,e){if(i.limitType==="F")return zE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new qd(o.field,l)});const t=i.endAt?new Hd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hd(i.startAt.position,i.startAt.inclusive):null;return zE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Jg(i,e){const t=i.filters.concat([e]);return new Yh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function e_(i,e,t){return new Yh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function vm(i,e){return q_(Ps(i),Ps(e))&&i.limitType===e.limitType}function Rw(i){return`${H_(Ps(i))}|lt:${i.limitType}`}function qu(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>ww(o)).join(", ")}]`),gm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>nc(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>nc(o)).join(",")),`Target(${s})`}(Ps(i))}; limitType=${i.limitType})`}function Em(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of Rh(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const _=jE(h,m,p);return h.inclusive?_<=0:_<0}(s.startAt,Rh(s),o)||s.endAt&&!function(h,m,p){const _=jE(h,m,p);return h.inclusive?_>=0:_>0}(s.endAt,Rh(s),o))}(i,e)}function g2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Cw(i){return(e,t)=>{let s=!1;for(const o of Rh(i)){const l=_2(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function _2(i,e,t){const s=i.field.isKeyField()?Ve.comparator(e.key,t.key):function(l,h,m){const p=h.data.field(l),_=m.data.field(l);return p!==null&&_!==null?tc(p,_):$e()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return $e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return cw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Wt(Ve.comparator);function ka(){return y2}const xw=new Wt(Ve.comparator);function vh(...i){let e=xw;for(const t of i)e=e.insert(t.key,t);return e}function Iw(i){let e=xw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ll(){return Ch()}function Nw(){return Ch()}function Ch(){return new ql(i=>i.toString(),(i,e)=>i.isEqual(e))}const v2=new Wt(Ve.comparator),E2=new In(Ve.comparator);function ct(...i){let e=E2;for(const t of i)e=e.add(t);return e}const b2=new In(mt);function T2(){return b2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function Ow(i){return{integerValue:""+i}}function w2(i,e){return WN(e)?Ow(e):$_(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this._=void 0}}function A2(i,e,t){return i instanceof Vh?function(o,l){const h={fields:{[dw]:{stringValue:fw},[pw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&B_(l)&&(l=_m(l)),l&&(h.fields[mw]=l),{mapValue:h}}(t,e):i instanceof jh?kw(i,e):i instanceof Uh?Mw(i,e):function(o,l){const h=Dw(o,l),m=FE(h)+FE(o.Ie);return Wg(h)&&Wg(o.Ie)?Ow(m):$_(o.serializer,m)}(i,e)}function S2(i,e,t){return i instanceof jh?kw(i,e):i instanceof Uh?Mw(i,e):t}function Dw(i,e){return i instanceof $d?function(s){return Wg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Vh extends bm{}class jh extends bm{constructor(e){super(),this.elements=e}}function kw(i,e){const t=Lw(e);for(const s of i.elements)t.some(o=>js(o,s))||t.push(s);return{arrayValue:{values:t}}}class Uh extends bm{constructor(e){super(),this.elements=e}}function Mw(i,e){let t=Lw(e);for(const s of i.elements)t=t.filter(o=>!js(o,s));return{arrayValue:{values:t}}}class $d extends bm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function FE(i){return mn(i.integerValue||i.doubleValue)}function Lw(i){return F_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t){this.field=e,this.transform=t}}function C2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof jh&&o instanceof jh||s instanceof Uh&&o instanceof Uh?ec(s.elements,o.elements,js):s instanceof $d&&o instanceof $d?js(s.Ie,o.Ie):s instanceof Vh&&o instanceof Vh}(i.transform,e.transform)}class x2{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tm{}function Pw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new G_(i.key,Nr.none()):new Wh(i.key,i.data,Nr.none());{const t=i.data,s=Bi.empty();let o=new In(ri.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Yo(i.key,s,new ar(o.toArray()),Nr.none())}}function I2(i,e,t){i instanceof Wh?function(o,l,h){const m=o.value.clone(),p=qE(o.fieldTransforms,l,h.transformResults);m.setAll(p),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Yo?function(o,l,h){if(!Rd(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=qE(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Vw(o)),p.setAll(m),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function xh(i,e,t,s){return i instanceof Wh?function(l,h,m,p){if(!Rd(l.precondition,h))return m;const _=l.value.clone(),T=$E(l.fieldTransforms,p,h);return _.setAll(T),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,t,s):i instanceof Yo?function(l,h,m,p){if(!Rd(l.precondition,h))return m;const _=$E(l.fieldTransforms,p,h),T=h.data;return T.setAll(Vw(l)),T.setAll(_),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(l,h,m){return Rd(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function N2(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=Dw(s.transform,o||null);l!=null&&(t===null&&(t=Bi.empty()),t.set(s.field,l))}return t||null}function HE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ec(s,o,(l,h)=>C2(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Wh extends Tm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yo extends Tm{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function qE(i,e,t){const s=new Map;Rt(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,m=e.data.field(l.field);s.set(l.field,S2(h,m,t[o]))}return s}function $E(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,A2(l,h,e))}return s}class G_ extends Tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O2 extends Tm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&I2(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=xh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=xh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Nw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const p=Pw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ke.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,s)=>HE(t,s))&&ec(this.baseMutations,e.baseMutations,(t,s)=>HE(t,s))}}class K_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Rt(e.mutations.length===s.length);let o=function(){return v2}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new K_(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,_t;function L2(i){switch(i){case le.OK:return $e();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return $e()}}function jw(i){if(i===void 0)return Da("GRPC error has no .code"),le.UNKNOWN;switch(i){case vn.OK:return le.OK;case vn.CANCELLED:return le.CANCELLED;case vn.UNKNOWN:return le.UNKNOWN;case vn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case vn.INTERNAL:return le.INTERNAL;case vn.UNAVAILABLE:return le.UNAVAILABLE;case vn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case vn.NOT_FOUND:return le.NOT_FOUND;case vn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case vn.ABORTED:return le.ABORTED;case vn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case vn.DATA_LOSS:return le.DATA_LOSS;default:return $e()}}(_t=vn||(vn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new jo([4294967295,4294967295],0);function GE(i){const e=P2().encode(i),t=new tw;return t.update(e),new Uint8Array(t.digest())}function KE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new jo([t,s],0),new jo([o,l],0)]}class Q_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Eh(`Invalid padding: ${t}`);if(s<0)throw new Eh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=jo.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(jo.fromNumber(s)));return o.compare(V2)===1&&(o=new jo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=GE(e),[s,o]=KE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Q_(l,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=GE(e),[s,o]=KE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wm(Ke.min(),o,new Wt(mt),ka(),ct())}}class Xh{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xh(s,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Uw{constructor(e,t){this.targetId=e,this.ge=t}}class zw{constructor(e,t,s=ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class QE{constructor(){this.pe=0,this.ye=YE(),this.we=ai.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ct(),t=ct(),s=ct();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:$e()}}),new Xh(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=YE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class j2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ka(),this.$e=hd(),this.Ke=hd(),this.Ue=new Wt(mt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:$e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Zg(l))if(s===0){const h=new Ve(l.path);this.ze(t,h,mi.newNoDocument(h,Ke.min()))}else Rt(s===1);else{const h=this.et(t);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=Ho(s).toUint8Array()}catch(p){if(p instanceof hw)return Ju("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Q_(h,o,l)}catch(p){return Ju(p instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const m=this.Xe(h);if(m){if(l.current&&Zg(m.target)){const p=new Ve(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,mi.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=ct();this.Ke.forEach((l,h)=>{let m=!0;h.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new wm(e,t,this.Ue,this.Qe,s);return this.Qe=ka(),this.$e=hd(),this.Ke=hd(),this.Ue=new Wt(mt),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new QE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new In(mt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new In(mt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new QE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function hd(){return new Wt(Ve.comparator)}function YE(){return new Wt(Ve.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class F2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function t_(i,e){return i.useProto3Json||gm(e)?e:{value:e}}function Gd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function H2(i,e){return Gd(i,e.toTimestamp())}function Vs(i){return Rt(!!i),Ke.fromTimestamp(function(t){const s=Fo(t);return new xn(s.seconds,s.nanos)}(i))}function Y_(i,e){return n_(i,e).canonicalString()}function n_(i,e){const t=function(o){return new Bt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Fw(i){const e=Bt.fromString(i);return Rt(Kw(e)),e}function i_(i,e){return Y_(i.databaseId,e.path)}function wg(i,e){const t=Fw(e);if(t.get(1)!==i.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ve(qw(t))}function Hw(i,e){return Y_(i.databaseId,e)}function q2(i){const e=Fw(i);return e.length===4?Bt.emptyPath():qw(e)}function r_(i){return new Bt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qw(i){return Rt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function WE(i,e,t){return{name:i_(i,e),fields:t.value.mapValue.fields}}function $2(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:$e()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,T){return _.useProto3Json?(Rt(T===void 0||typeof T=="string"),ai.fromBase64String(T||"")):(Rt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),ai.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const T=_.code===void 0?le.UNKNOWN:jw(_.code);return new xe(T,_.message||"")}(h);t=new zw(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wg(i,s.document.name),l=Vs(s.document.updateTime),h=s.document.createTime?Vs(s.document.createTime):Ke.min(),m=new Bi({mapValue:{fields:s.document.fields}}),p=mi.newFoundDocument(o,l,h,m),_=s.targetIds||[],T=s.removedTargetIds||[];t=new Cd(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wg(i,s.document),l=s.readTime?Vs(s.readTime):Ke.min(),h=mi.newNoDocument(o,l),m=s.removedTargetIds||[];t=new Cd([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wg(i,s.document),l=s.removedTargetIds||[];t=new Cd([],l,o,null)}else{if(!("filter"in e))return $e();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new M2(o,l),m=s.targetId;t=new Uw(m,h)}}return t}function G2(i,e){let t;if(e instanceof Wh)t={update:WE(i,e.key,e.value)};else if(e instanceof G_)t={delete:i_(i,e.key)};else if(e instanceof Yo)t={update:WE(i,e.key,e.data),updateMask:tO(e.fieldMask)};else{if(!(e instanceof O2))return $e();t={verify:i_(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $d)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw $e()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:H2(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$e()}(i,e.precondition)),t}function K2(i,e){return i&&i.length>0?(Rt(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?Vs(o.updateTime):Vs(l);return h.isEqual(Ke.min())&&(h=Vs(l)),new x2(h,o.transformResults||[])}(t,e))):[]}function Q2(i,e){return{documents:[Hw(i,e.path)]}}function Y2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Hw(i,o);const l=function(_){if(_.length!==0)return Gw(os.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(_){if(_.length!==0)return _.map(T=>function(x){return{field:$u(x.field),direction:Z2(x.dir)}}(T))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=t_(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:o}}function W2(i){let e=q2(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Rt(s===1);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=function(S){const x=$w(S);return x instanceof os&&bw(x)?x.getFilters():[x]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(x=>function(U){return new qd(Gu(U.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(x))}(t.orderBy));let m=null;t.limit&&(m=function(S){let x;return x=typeof S=="object"?S.value:S,gm(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(S){const x=!!S.before,M=S.values||[];return new Hd(M,x)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const x=!S.before,M=S.values||[];return new Hd(M,x)}(t.endAt)),m2(e,o,h,l,m,"F",p,_)}function X2(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $w(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Gu(t.unaryFilter.field);return En.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Gu(t.unaryFilter.field);return En.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Gu(t.unaryFilter.field);return En.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Gu(t.unaryFilter.field);return En.create(h,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(i):i.fieldFilter!==void 0?function(t){return En.create(Gu(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return os.create(t.compositeFilter.filters.map(s=>$w(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e()}}(t.compositeFilter.op))}(i):$e()}function Z2(i){return U2[i]}function J2(i){return z2[i]}function eO(i){return B2[i]}function $u(i){return{fieldPath:i.canonicalString()}}function Gu(i){return ri.fromServerFormat(i.fieldPath)}function Gw(i){return i instanceof En?function(t){if(t.op==="=="){if(VE(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NAN"}};if(PE(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VE(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NOT_NAN"}};if(PE(t.value))return{unaryFilter:{field:$u(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$u(t.field),op:J2(t.op),value:t.value}}}(i):i instanceof os?function(t){const s=t.getFilters().map(o=>Gw(o));return s.length===1?s[0]:{compositeFilter:{op:eO(t.op),filters:s}}}(i):$e()}function tO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t,s,o,l=Ke.min(),h=Ke.min(),m=ai.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.Tt=e}}function iO(i){const e=W2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?e_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.Tn=new sO}addToCollectionParentIndex(e,t){return this.Tn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Bo.min())}updateCollectionGroup(e,t,s){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class sO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new In(Bt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new In(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qw=41943040;class zi{static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(Qw,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ic(0)}static Un(){return new ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="LruGarbageCollector",aO=1048576;function JE([i,e],[t,s]){const o=mt(i,t);return o===0?mt(e,s):o}class oO{constructor(e){this.Hn=e,this.buffer=new In(JE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();JE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(ZE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dc(t)?Re(ZE,"Ignoring IndexedDB error during garbage collection: ",t):await fc(t)}await this.er(3e5)})}}class uO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(pm.ae);const s=new oO(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(XE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),Hu()<=ut.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function cO(i,e){return new uO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new ql(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?oe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&xh(s.mutation,o,ar.empty(),xn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ct()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ct()){const o=Ll();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=vh();return l.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ll();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ct()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let l=ka();const h=Ch(),m=function(){return Ch()}();return t.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Yo)?l=l.insert(_.key,_):T!==void 0?(h.set(_.key,T.mutation.getFieldMask()),xh(T.mutation,_,T.mutation.getFieldMask(),xn.now())):h.set(_.key,ar.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((_,T)=>h.set(_,T)),t.forEach((_,T)=>{var S;return m.set(_,new fO(T,(S=h.get(_))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Ch();let o=new Wt((h,m)=>h-m),l=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let T=s.get(p)||ar.empty();T=m.applyToLocalView(_,T),s.set(p,T);const S=(o.get(m.batchId)||ct()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,S=Nw();T.forEach(x=>{if(!l.has(x)){const M=Pw(t.get(x),s.get(x));M!==null&&S.set(x,M),l=l.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,S))}return oe.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):oe.resolve(Ll());let m=kh,p=l;return h.next(_=>oe.forEach(_,(T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),l.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{p=p.insert(T,x)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,p,_,ct())).next(T=>({batchId:m,changes:Iw(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(s=>{let o=vh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=vh();return this.indexManager.getCollectionParents(e,l).next(m=>oe.forEach(m,p=>{const _=function(S,x){return new Yh(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((S,x)=>{h=h.insert(S,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,_)=>{const T=_.getKey();h.get(T)===null&&(h=h.insert(T,mi.newInvalidDocument(T)))});let m=vh();return h.forEach((p,_)=>{const T=l.get(p);T!==void 0&&xh(T.mutation,_,ar.empty(),xn.now()),Em(t,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return oe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:iO(o.bundledQuery),readTime:Vs(o.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.overlays=new Wt(Ve.comparator),this.Rr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ll();return oe.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),oe.resolve()}getOverlaysForCollection(e,t,s){const o=Ll(),l=t.length+1,h=new Ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new Wt((_,T)=>_-T);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let T=l.get(_.largestBatchId);T===null&&(T=Ll(),l=l.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=Ll(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return oe.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new k2(t,s));let l=this.Rr.get(t);l===void 0&&(l=ct(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.sessionToken=ai.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Vr=new In($n.mr),this.gr=new In($n.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new $n(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new $n(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new Ve(new Bt([])),s=new $n(t,e),o=new $n(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ve(new Bt([])),s=new $n(t,e),o=new $n(t,e+1);let l=ct();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new $n(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class $n{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ve.comparator(e.key,t.key)||mt(e.Cr,t.Cr)}static pr(e,t){return mt(e.Cr,t.Cr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new In($n.mr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new D2(l,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new $n(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,t){return oe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?z_:this.Fr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $n(t,0),o=new $n(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);l.push(m)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new In(mt);return t.forEach(o=>{const l=new $n(o,0),h=new $n(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],m=>{s=s.add(m.Cr)})}),oe.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ve.isDocumentKey(l)||(l=l.child(""));const h=new $n(new Ve(l),0);let m=new In(mt);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},h),oe.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return oe.forEach(t.mutations,o=>{const l=new $n(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new $n(t,0),o=this.Mr.firstAfterOrEqual(s);return oe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.kr=e,this.docs=function(){return new Wt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return oe.resolve(s?s.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let s=ka();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():mi.newInvalidDocument(o))}),oe.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=ka();const h=t.path,m=new Ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||GN($N(T),s)<=0||(o.has(T.key)||Em(t,T))&&(l=l.insert(T.key,T.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,s,o){$e()}qr(e,t){return oe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new vO(this)}getSize(e){return oe.resolve(this.size)}}class vO extends hO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),oe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.persistence=e,this.Qr=new ql(t=>H_(t),q_),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new W_,this.targetCount=0,this.Ur=ic.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),oe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ic(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.zn(t),oe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),oe.waitFor(l).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return oe.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),oe.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return oe.resolve(s)}containsKey(e,t){return oe.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new pm(0),this.zr=!1,this.zr=!0,this.jr=new gO,this.referenceDelegate=e(this),this.Hr=new EO(this),this.indexManager=new rO,this.remoteDocumentCache=function(o){return new yO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new nO(t),this.Yr=new mO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new _O(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Re("MemoryPersistence","Starting transaction:",e);const o=new bO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return oe.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class bO extends QN{constructor(e){super(),this.currentSequenceNumber=e}}class X_{constructor(e){this.persistence=e,this.ti=new W_,this.ni=null}static ri(e){return new X_(e)}get ii(){if(this.ni)return this.ni;throw $e()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),oe.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),oe.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.ii,s=>{const o=Ve.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return oe.or([()=>oe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Kd{constructor(e,t){this.persistence=e,this.oi=new ql(s=>XN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=cO(this,t)}static ri(e,t){return new Kd(e,t)}Zr(){}Xr(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return oe.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?oe.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(m=>{m||(s++,l.removeEntry(h,Ke.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ad(e.data.value)),t}ar(e,t,s){return oe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ct(),o=ct();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Z_(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ix()?8:YN(gi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new TO;return this._s(e,t,h).next(m=>{if(l.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Hu()<=ut.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",qu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),oe.resolve()):(Hu()<=ut.DEBUG&&Re("QueryEngine","Query:",qu(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Hu()<=ut.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",qu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(t))):oe.resolve())}rs(e,t){if(BE(t))return oe.resolve(null);let s=Ps(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=e_(t,null,"F"),s=Ps(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ct(...l);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(t,m);return this.ls(t,_,h,p.readTime)?this.rs(e,e_(t,null,"F")):this.hs(e,_,t,p)}))})))}ss(e,t,s,o){return BE(t)||o.isEqual(Ke.min())?oe.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?oe.resolve(null):(Hu()<=ut.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qu(t)),this.hs(e,h,t,qN(o,kh)).next(m=>m))})}cs(e,t){let s=new In(Cw(e));return t.forEach((o,l)=>{Em(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return Hu()<=ut.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",qu(t)),this.ns.getDocumentsMatchingQuery(e,t,Bo.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="LocalStore",AO=3e8;class SO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Wt(mt),this.Is=new ql(l=>H_(l),q_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function RO(i,e,t,s){return new SO(i,e,t,s)}async function Ww(i,e){const t=We(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let p=ct();for(const _ of o){h.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of l){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return t.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:m}))})})}function CO(i,e){const t=We(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const S=_.batch,x=S.keys();let M=oe.resolve();return x.forEach(U=>{M=M.next(()=>T.getEntry(p,U)).next(W=>{const B=_.docVersions.get(U);Rt(B!==null),W.version.compareTo(B)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ct();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Xw(i){const e=We(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function xO(i,e){const t=We(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((T,S)=>{const x=o.get(S);if(!x)return;m.push(t.Hr.removeMatchingKeys(l,T.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,T.addedDocuments,S)));let M=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(ai.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(S,M),function(W,B,z){return W.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=AO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(x,M,T)&&m.push(t.Hr.updateTargetData(l,M))});let p=ka(),_=ct();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),m.push(IO(l,h,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Ke.min())){const T=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(T)}return oe.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,_)).next(()=>p)}).then(l=>(t.Ts=o,l))}function IO(i,e,t){let s=ct(),o=ct();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=ka();return t.forEach((m,p)=>{const _=l.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):Re(J_,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function NO(i,e){const t=We(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=z_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function OO(i,e){const t=We(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,oe.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Lo(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function s_(i,e,t){const s=We(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!dc(h))throw h;Re(J_,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function eb(i,e,t){const s=We(i);let o=Ke.min(),l=ct();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,_,T){const S=We(p),x=S.Is.get(T);return x!==void 0?oe.resolve(S.Ts.get(x)):S.Hr.getTargetData(_,T)}(s,h,Ps(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ke.min(),t?l:ct())).next(m=>(DO(s,g2(e),m),{documents:m,gs:l})))}function DO(i,e,t){let s=i.Es.get(e)||Ke.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class tb{constructor(){this.activeTargetIds=T2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kO{constructor(){this.ho=new tb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="ConnectivityMonitor";class ib{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(nb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd=null;function a_(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="RestConnection",LO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Bd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,l){const h=a_(),m=this.So(e,t.toUriEncodedString());Re(Ag,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,m,p,s).then(_=>(Re(Ag,`Received RPC '${e}' ${h}: `,_),_),_=>{throw Ju(Ag,`RPC '${e}' ${h} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,t,s,o,l,h){return this.bo(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}So(e,t){const s=LO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="WebChannelConnection";class jO extends PO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=a_();return new Promise((h,m)=>{const p=new nw;p.setWithCredentials(!0),p.listenOnce(iw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wd.NO_ERROR:const T=p.getResponseJson();Re(fi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(T)),h(T);break;case wd.TIMEOUT:Re(fi,`RPC '${e}' ${l} timed out`),m(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const S=p.getStatus();if(Re(fi,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const M=x==null?void 0:x.error;if(M&&M.status&&M.message){const U=function(B){const z=B.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(z)>=0?z:le.UNKNOWN}(M.status);m(new xe(U,M.message))}else m(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new xe(le.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Re(fi,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);Re(fi,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",_,s,15)})}Wo(e,t,s){const o=a_(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=aw(),m=sw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const T=l.join("");Re(fi,`Creating RPC '${e}' stream ${o}: ${T}`,p);const S=h.createWebChannel(T,p);let x=!1,M=!1;const U=new VO({Fo:B=>{M?Re(fi,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(x||(Re(fi,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),Re(fi,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Mo:()=>S.close()}),W=(B,z,te)=>{B.listen(z,ne=>{try{te(ne)}catch(_e){setTimeout(()=>{throw _e},0)}})};return W(S,yh.EventType.OPEN,()=>{M||(Re(fi,`RPC '${e}' stream ${o} transport opened.`),U.Qo())}),W(S,yh.EventType.CLOSE,()=>{M||(M=!0,Re(fi,`RPC '${e}' stream ${o} transport closed`),U.Ko())}),W(S,yh.EventType.ERROR,B=>{M||(M=!0,Ju(fi,`RPC '${e}' stream ${o} transport errored:`,B),U.Ko(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),W(S,yh.EventType.MESSAGE,B=>{var z;if(!M){const te=B.data[0];Rt(!!te);const ne=te,_e=(ne==null?void 0:ne.error)||((z=ne[0])===null||z===void 0?void 0:z.error);if(_e){Re(fi,`RPC '${e}' stream ${o} received error:`,_e);const Ee=_e.status;let Ce=function(D){const V=vn[D];if(V!==void 0)return jw(V)}(Ee),F=_e.message;Ce===void 0&&(Ce=le.INTERNAL,F="Unknown error status: "+Ee+" with message "+_e.message),M=!0,U.Ko(new xe(Ce,F)),S.close()}else Re(fi,`RPC '${e}' stream ${o} received:`,te),U.Uo(te)}}),W(m,rw.STAT_EVENT,B=>{B.stat===Qg.PROXY?Re(fi,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Qg.NOPROXY&&Re(fi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(i){return new F2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="PersistentStream";class Jw{constructor(e,t,s,o,l,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Zw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Da(t.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new xe(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(rb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Re(rb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UO extends Jw{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$2(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ke.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ke.min():h.readTime?Vs(h.readTime):Ke.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=r_(this.serializer),t.addTarget=function(l,h){let m;const p=h.target;if(m=Zg(p)?{documents:Q2(l,p)}:{query:Y2(l,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Bw(l,h.resumeToken);const _=t_(l,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ke.min())>0){m.readTime=Gd(l,h.snapshotVersion.toTimestamp());const _=t_(l,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=X2(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=r_(this.serializer),t.removeTarget=e,this.I_(t)}}class zO extends Jw{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=K2(e.writeResults,e.commitTime),s=Vs(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=r_(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>G2(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{}class FO extends BO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.bo(e,n_(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(le.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,n_(t,s),o,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new xe(le.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Da(t),this.N_=!1):Re("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="RemoteStore";class qO{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{$l(this)&&(Re(Fl,"Restarting streams for network reachability change."),await async function(p){const _=We(p);_.W_.add(4),await Zh(_),_.j_.set("Unknown"),_.W_.delete(4),await Sm(_)}(this))})}),this.j_=new HO(s,o)}}async function Sm(i){if($l(i))for(const e of i.G_)await e(!0)}async function Zh(i){for(const e of i.G_)await e(!1)}function eA(i,e){const t=We(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),iy(t)?ny(t):mc(t).c_()&&ty(t,e))}function ey(i,e){const t=We(i),s=mc(t);t.U_.delete(e),s.c_()&&tA(t,e),t.U_.size===0&&(s.c_()?s.P_():$l(t)&&t.j_.set("Unknown"))}function ty(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mc(i).y_(e)}function tA(i,e){i.H_.Ne(e),mc(i).w_(e)}function ny(i){i.H_=new j2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),mc(i).start(),i.j_.B_()}function iy(i){return $l(i)&&!mc(i).u_()&&i.U_.size>0}function $l(i){return We(i).W_.size===0}function nA(i){i.H_=void 0}async function $O(i){i.j_.set("Online")}async function GO(i){i.U_.forEach((e,t)=>{ty(i,e)})}async function KO(i,e){nA(i),iy(i)?(i.j_.q_(e),ny(i)):i.j_.set("Unknown")}async function QO(i,e,t){if(i.j_.set("Online"),e instanceof zw&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const m of l.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){Re(Fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qd(i,s)}else if(e instanceof Cd?i.H_.We(e):e instanceof Uw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ke.min()))try{const s=await Xw(i.localStore);t.compareTo(s)>=0&&await function(l,h){const m=l.H_.ot(h);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=l.U_.get(_);T&&l.U_.set(_,T.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,_)=>{const T=l.U_.get(p);if(!T)return;l.U_.set(p,T.withResumeToken(ai.EMPTY_BYTE_STRING,T.snapshotVersion)),tA(l,p);const S=new Lo(T.target,p,_,T.sequenceNumber);ty(l,S)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){Re(Fl,"Failed to raise snapshot:",s),await Qd(i,s)}}async function Qd(i,e,t){if(!dc(e))throw e;i.W_.add(1),await Zh(i),i.j_.set("Offline"),t||(t=()=>Xw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Re(Fl,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Sm(i)})}function iA(i,e){return e().catch(t=>Qd(i,t,e))}async function Rm(i){const e=We(i),t=$o(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:z_;for(;YO(e);)try{const o=await NO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,WO(e,o)}catch(o){await Qd(e,o)}rA(e)&&sA(e)}function YO(i){return $l(i)&&i.K_.length<10}function WO(i,e){i.K_.push(e);const t=$o(i);t.c_()&&t.b_&&t.S_(e.mutations)}function rA(i){return $l(i)&&!$o(i).u_()&&i.K_.length>0}function sA(i){$o(i).start()}async function XO(i){$o(i).C_()}async function ZO(i){const e=$o(i);for(const t of i.K_)e.S_(t.mutations)}async function JO(i,e,t){const s=i.K_.shift(),o=K_.from(s,e,t);await iA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Rm(i)}async function eD(i,e){e&&$o(i).b_&&await async function(s,o){if(function(h){return L2(h)&&h!==le.ABORTED}(o.code)){const l=s.K_.shift();$o(s).h_(),await iA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Rm(s)}}(i,e),rA(i)&&sA(i)}async function sb(i,e){const t=We(i);t.asyncQueue.verifyOperationInProgress(),Re(Fl,"RemoteStore received new credentials");const s=$l(t);t.W_.add(3),await Zh(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Sm(t)}async function tD(i,e){const t=We(i);e?(t.W_.delete(2),await Sm(t)):e||(t.W_.add(2),await Zh(t),t.j_.set("Unknown"))}function mc(i){return i.J_||(i.J_=function(t,s,o){const l=We(t);return l.M_(),new UO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:$O.bind(null,i),No:GO.bind(null,i),Lo:KO.bind(null,i),p_:QO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),iy(i)?ny(i):i.j_.set("Unknown")):(await i.J_.stop(),nA(i))})),i.J_}function $o(i){return i.Y_||(i.Y_=function(t,s,o){const l=We(t);return l.M_(),new zO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:XO.bind(null,i),Lo:eD.bind(null,i),D_:ZO.bind(null,i),v_:JO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Rm(i)):(await i.Y_.stop(),i.K_.length>0&&(Re(Fl,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,m=new ry(e,t,h,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(i,e){if(Da("AsyncQueue",`${e}: ${i}`),dc(i))return new xe(le.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{static emptySet(e){return new Zu(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ve.comparator(t.key,s.key):(t,s)=>Ve.comparator(t.key,s.key),this.keyedMap=vh(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Zu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.Z_=new Wt(Ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):$e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class rc{constructor(e,t,s,o,l,h,m,p,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new rc(e,t,Zu.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class iD{constructor(){this.queries=ob(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=We(t),l=o.queries;o.queries=ob(),l.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new xe(le.ABORTED,"Firestore shutting down"))}}function ob(){return new ql(i=>Rw(i),vm)}async function ay(i,e){const t=We(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new nD,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=sy(h,`Initialization of query '${qu(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&ly(t)}async function oy(i,e){const t=We(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function rD(i,e){const t=We(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&ly(t)}function sD(i,e,t){const s=We(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function ly(i){i.ia.forEach(e=>{e.next()})}var o_,lb;(lb=o_||(o_={}))._a="default",lb.Cache="cache";class uy{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new rc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==o_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class aD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ct(),this.mutatedKeys=ct(),this.ya=Cw(e),this.wa=new Zu(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new ab,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,S)=>{const x=o.get(T),M=Em(this.query,S)?S:null,U=!!x&&this.mutatedKeys.has(x.key),W=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;x&&M?x.data.isEqual(M.data)?U!==W&&(s.track({type:3,doc:M}),B=!0):this.va(x,M)||(s.track({type:2,doc:M}),B=!0,(p&&this.ya(M,p)>0||_&&this.ya(M,_)<0)&&(m=!0)):!x&&M?(s.track({type:0,doc:M}),B=!0):x&&!M&&(s.track({type:1,doc:x}),B=!0,(p||_)&&(m=!0)),B&&(M?(h=h.add(M),l=W?l.add(T):l.delete(T)):(h=h.delete(T),l=l.delete(T)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),l=l.delete(T.key),s.track({type:1,doc:T})}return{wa:h,Da:s,ls:m,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((T,S)=>function(M,U){const W=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return W(M)-W(U)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,h.length!==0||_?{snapshot:new rc(this.query,e.wa,l,h,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ab,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ct(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new oA(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new aA(s))}),t}Oa(e){this.fa=e.gs,this.pa=ct();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return rc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cy="SyncEngine";class oD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class lD{constructor(e){this.key=e,this.Ba=!1}}class uD{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ql(m=>Rw(m),vm),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(Ve.comparator),this.Ka=new Map,this.Ua=new W_,this.Wa={},this.Ga=new Map,this.za=ic.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cD(i,e,t=!0){const s=dA(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await lA(s,e,t,!0),o}async function hD(i,e){const t=dA(i);await lA(t,e,!0,!1)}async function lA(i,e,t,s){const o=await OO(i.localStore,Ps(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await fD(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&eA(i.remoteStore,o),m}async function fD(i,e,t,s,o){i.Ha=(S,x,M)=>async function(W,B,z,te){let ne=B.view.Sa(z);ne.ls&&(ne=await eb(W.localStore,B.query,!1).then(({documents:F})=>B.view.Sa(F,ne)));const _e=te&&te.targetChanges.get(B.targetId),Ee=te&&te.targetMismatches.get(B.targetId)!=null,Ce=B.view.applyChanges(ne,W.isPrimaryClient,_e,Ee);return cb(W,B.targetId,Ce.Ma),Ce.snapshot}(i,S,x,M);const l=await eb(i.localStore,e,!0),h=new aD(e,l.gs),m=h.Sa(l.documents),p=Xh.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),_=h.applyChanges(m,i.isPrimaryClient,p);cb(i,t,_.Ma);const T=new oD(e,t,h);return i.ka.set(e,T),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),_.snapshot}async function dD(i,e,t){const s=We(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!vm(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await s_(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ey(s.remoteStore,o.targetId),l_(s,o.targetId)}).catch(fc)):(l_(s,o.targetId),await s_(s.localStore,o.targetId,!0))}async function mD(i,e){const t=We(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ey(t.remoteStore,s.targetId))}async function pD(i,e,t){const s=TD(i);try{const o=await function(h,m){const p=We(h),_=xn.now(),T=m.reduce((M,U)=>M.add(U.key),ct());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=ka(),W=ct();return p.ds.getEntries(M,T).next(B=>{U=B,U.forEach((z,te)=>{te.isValidDocument()||(W=W.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,U)).next(B=>{S=B;const z=[];for(const te of m){const ne=N2(te,S.get(te.key).overlayedDocument);ne!=null&&z.push(new Yo(te.key,ne,yw(ne.value.mapValue),Nr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,_,z,m)}).next(B=>{x=B;const z=B.applyToLocalDocumentSet(S,W);return p.documentOverlayCache.saveOverlays(M,B.batchId,z)})}).then(()=>({batchId:x.batchId,changes:Iw(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let _=h.Wa[h.currentUser.toKey()];_||(_=new Wt(mt)),_=_.insert(m,p),h.Wa[h.currentUser.toKey()]=_}(s,o.batchId,t),await Jh(s,o.changes),await Rm(s.remoteStore)}catch(o){const l=sy(o,"Failed to persist write");t.reject(l)}}async function uA(i,e){const t=We(i);try{const s=await xO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(Rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Rt(h.Ba):o.removedDocuments.size>0&&(Rt(h.Ba),h.Ba=!1))}),await Jh(t,s,e)}catch(s){await fc(s)}}function ub(i,e,t){const s=We(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=We(h);p.onlineState=m;let _=!1;p.queries.forEach((T,S)=>{for(const x of S.ta)x.sa(m)&&(_=!0)}),_&&ly(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gD(i,e,t){const s=We(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let h=new Wt(Ve.comparator);h=h.insert(l,mi.newNoDocument(l,Ke.min()));const m=ct().add(l),p=new wm(Ke.min(),new Map,new Wt(mt),h,m);await uA(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),hy(s)}else await s_(s.localStore,e,!1).then(()=>l_(s,e,t)).catch(fc)}async function _D(i,e){const t=We(i),s=e.batch.batchId;try{const o=await CO(t.localStore,e);hA(t,s,null),cA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Jh(t,o)}catch(o){await fc(o)}}async function yD(i,e,t){const s=We(i);try{const o=await function(h,m){const p=We(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(S=>(Rt(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);hA(s,e,t),cA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Jh(s,o)}catch(o){await fc(o)}}function cA(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function hA(i,e,t){const s=We(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function l_(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||fA(i,s)})}function fA(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(ey(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),hy(i))}function cb(i,e,t){for(const s of t)s instanceof aA?(i.Ua.addReference(s.key,e),vD(i,s)):s instanceof oA?(Re(cy,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||fA(i,s.key)):$e()}function vD(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(Re(cy,"New document in limbo: "+t),i.Qa.add(s),hy(i))}function hy(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Ve(Bt.fromString(e)),s=i.za.next();i.Ka.set(s,new lD(t)),i.$a=i.$a.insert(t,s),eA(i.remoteStore,new Lo(Ps(ym(t.path)),s,"TargetPurposeLimboResolution",pm.ae))}}async function Jh(i,e,t){const s=We(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,t).then(_=>{var T;if((_||t)&&s.isPrimaryClient){const S=_?!_.fromCache:(T=t==null?void 0:t.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Z_.Yi(p.targetId,_);l.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,_){const T=We(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>oe.forEach(_,x=>oe.forEach(x.Hi,M=>T.persistence.referenceDelegate.addReference(S,x.targetId,M)).next(()=>oe.forEach(x.Ji,M=>T.persistence.referenceDelegate.removeReference(S,x.targetId,M)))))}catch(S){if(!dc(S))throw S;Re(J_,"Failed to update sequence numbers: "+S)}for(const S of _){const x=S.targetId;if(!S.fromCache){const M=T.Ts.get(x),U=M.snapshotVersion,W=M.withLastLimboFreeSnapshotVersion(U);T.Ts=T.Ts.insert(x,W)}}}(s.localStore,l))}async function ED(i,e){const t=We(i);if(!t.currentUser.isEqual(e)){Re(cy,"User change. New user:",e.toKey());const s=await Ww(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(m=>{m.forEach(p=>{p.reject(new xe(le.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Jh(t,s.Rs)}}function bD(i,e){const t=We(i),s=t.Ka.get(e);if(s&&s.Ba)return ct().add(s.key);{let o=ct();const l=t.qa.get(e);if(!l)return o;for(const h of l){const m=t.ka.get(h);o=o.unionWith(m.view.ba)}return o}}function dA(i){const e=We(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gD.bind(null,e),e.La.p_=rD.bind(null,e.eventManager),e.La.Ja=sD.bind(null,e.eventManager),e}function TD(i){const e=We(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return RO(this.persistence,new wO,e.initialUser,this.serializer)}Xa(e){return new Yw(X_.ri,this.serializer)}Za(e){return new kO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class wD extends Yd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Rt(this.persistence.referenceDelegate instanceof Kd);const s=this.persistence.referenceDelegate.garbageCollector;return new lO(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new Yw(s=>Kd.ri(s,t),this.serializer)}}class u_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ub(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ED.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iD}()}createDatastore(e){const t=Am(e.databaseInfo.databaseId),s=function(l){return new jO(l)}(e.databaseInfo);return function(l,h,m,p){return new FO(l,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,m){return new qO(s,o,l,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ub(this.syncEngine,t,0),function(){return ib.D()?new ib:new MO}())}createSyncEngine(e,t){return function(o,l,h,m,p,_,T){const S=new uD(o,l,h,m,p,_);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=We(o);Re(Fl,"RemoteStore shutting down."),l.W_.add(5),await Zh(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}u_.provider={build:()=>new u_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Da("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="FirestoreClient";class AD{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=di.UNAUTHENTICATED,this.clientId=lw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{Re(Go,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(Re(Go,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=sy(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rg(i,e){i.asyncQueue.verifyOperationInProgress(),Re(Go,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Ww(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function hb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await SD(i);Re(Go,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>sb(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>sb(e.remoteStore,o)),i._onlineComponents=e}async function SD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Re(Go,"Using user provided OfflineComponentProvider");try{await Rg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ju("Error using user provided cache. Falling back to memory cache: "+t),await Rg(i,new Yd)}}else Re(Go,"Using default OfflineComponentProvider"),await Rg(i,new wD(void 0));return i._offlineComponents}async function mA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Re(Go,"Using user provided OnlineComponentProvider"),await hb(i,i._uninitializedComponentsProvider._online)):(Re(Go,"Using default OnlineComponentProvider"),await hb(i,new u_))),i._onlineComponents}function RD(i){return mA(i).then(e=>e.syncEngine)}async function Wd(i){const e=await mA(i),t=e.eventManager;return t.onListen=cD.bind(null,e.syncEngine),t.onUnlisten=dD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mD.bind(null,e.syncEngine),t}function CD(i,e,t={}){const s=new Ca;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,p,_){const T=new fy({next:x=>{T.su(),h.enqueueAndForget(()=>oy(l,S));const M=x.docs.has(m);!M&&x.fromCache?_.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&x.fromCache&&p&&p.source==="server"?_.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new uy(ym(m.path),T,{includeMetadataChanges:!0,Ta:!0});return ay(l,S)}(await Wd(i),i.asyncQueue,e,t,s)),s.promise}function xD(i,e,t={}){const s=new Ca;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,p,_){const T=new fy({next:x=>{T.su(),h.enqueueAndForget(()=>oy(l,S)),x.fromCache&&p.source==="server"?_.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new uy(m,T,{includeMetadataChanges:!0,Ta:!0});return ay(l,S)}(await Wd(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(i,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ID(i,e,t,s){if(e===!0&&s===!0)throw new xe(le.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function db(i){if(!Ve.isDocumentKey(i))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mb(i){if(Ve.isDocumentKey(i))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Cm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":$e()}function Hi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cm(i);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firestore.googleapis.com",pb=!0;class gb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_A,this.ssl=pb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:pb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aO)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ID("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PN;switch(s.type){case"firstParty":return new zN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=fb.get(t);s&&(Re("ComponentProvider","Removing Datastore"),fb.delete(t),s.terminate())}(this),Promise.resolve()}}function ND(i,e,t,s={}){var o;const l=(i=Hi(i,xm))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;l.host!==_A&&l.host!==m&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:m,ssl:!1,emulatorOptions:s});if(!Vl(p,h)&&(i._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=di.MOCK_USER;else{_=fT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new di(S)}i._authCredentials=new VN(new ow(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gl(this.firestore,e,this._query)}}class pi{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}}class Uo extends Gl{constructor(e,t,s){super(e,t,ym(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new Ve(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function sc(i,e,...t){if(i=pn(i),gA("collection","path",e),i instanceof xm){const s=Bt.fromString(e,...t);return mb(s),new Uo(i,null,s)}{if(!(i instanceof pi||i instanceof Uo))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Bt.fromString(e,...t));return mb(s),new Uo(i.firestore,null,s)}}function Or(i,e,...t){if(i=pn(i),arguments.length===1&&(e=lw.newId()),gA("doc","path",e),i instanceof xm){const s=Bt.fromString(e,...t);return db(s),new pi(i,null,new Ve(s))}{if(!(i instanceof pi||i instanceof Uo))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Bt.fromString(e,...t));return db(s),new pi(i.firestore,i instanceof Uo?i.converter:null,new Ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="AsyncQueue";class yb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Zw(this,"async_queue_retry"),this.bu=()=>{const s=Sg();s&&Re(_b,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=Sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Sg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ca;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!dc(e))throw e;Re(_b,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Da("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ry.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&$e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function vb(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(i,["next","error","complete"])}class Ma extends xm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new yb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yb(e),this._firestoreClient=void 0,await e}}}function OD(i,e){const t=typeof i=="object"?i:C_(),s=typeof i=="string"?i:Bd,o=cm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=uT("firestore");l&&ND(o,...l)}return o}function Im(i){if(i._terminated)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DD(i),i._firestoreClient}function DD(i){var e,t,s;const o=i._freezeSettings(),l=function(m,p,_,T){return new e2(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,pA(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new AD(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(ai.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ac(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^__.*__$/;class MD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wh(e,this.data,t,this.fieldTransforms)}}class yA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Yo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class py{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(vA(this.Lu)&&kD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class LD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Am(e)}ju(e,t,s,o=!1){return new py({Lu:e,methodName:t,zu:s,path:ri.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dm(i){const e=i._freezeSettings(),t=Am(i._databaseId);return new LD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function EA(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);_y("Data must be an object, but it was:",h,s);const m=bA(s,h);let p,_;if(l.merge)p=new ar(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const T=[];for(const S of l.mergeFields){const x=c_(e,S,t);if(!h.contains(x))throw new xe(le.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);wA(T,x)||T.push(x)}p=new ar(T),_=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=h.fieldTransforms;return new MD(new Bi(m),p,_)}class km extends Om{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof km}}class gy extends Om{_toFieldTransform(e){return new R2(e.path,new Vh)}isEqual(e){return e instanceof gy}}function PD(i,e,t,s){const o=i.ju(1,e,t);_y("Data must be an object, but it was:",o,s);const l=[],h=Bi.empty();Qo(s,(p,_)=>{const T=yy(e,p,t);_=pn(_);const S=o.Ku(T);if(_ instanceof km)l.push(T);else{const x=ef(_,S);x!=null&&(l.push(T),h.set(T,x))}});const m=new ar(l);return new yA(h,m,o.fieldTransforms)}function VD(i,e,t,s,o,l){const h=i.ju(1,e,t),m=[c_(e,s,t)],p=[o];if(l.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)m.push(c_(e,l[x])),p.push(l[x+1]);const _=[],T=Bi.empty();for(let x=m.length-1;x>=0;--x)if(!wA(_,m[x])){const M=m[x];let U=p[x];U=pn(U);const W=h.Ku(M);if(U instanceof km)_.push(M);else{const B=ef(U,W);B!=null&&(_.push(M),T.set(M,B))}}const S=new ar(_);return new yA(T,S,h.fieldTransforms)}function jD(i,e,t,s=!1){return ef(t,i.ju(s?4:3,e))}function ef(i,e){if(TA(i=pn(i)))return _y("Unsupported field value:",e,i),bA(i,e);if(i instanceof Om)return function(s,o){if(!vA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const m of s){let p=ef(m,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=xn.fromDate(s);return{timestampValue:Gd(o.serializer,l)}}if(s instanceof xn){const l=new xn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gd(o.serializer,l)}}if(s instanceof dy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ac)return{bytesValue:Bw(o.serializer,s._byteString)};if(s instanceof pi){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Y_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof my)return function(h,m){return{mapValue:{fields:{[gw]:{stringValue:_w},[Fd]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return $_(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Cm(s)}`)}(i,e)}function bA(i,e){const t={};return cw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(i,(s,o)=>{const l=ef(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function TA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xn||i instanceof dy||i instanceof ac||i instanceof pi||i instanceof Om||i instanceof my)}function _y(i,e,t){if(!TA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Cm(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function c_(i,e,t){if((e=pn(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return yy(i,e);throw Xd("Field path arguments must be of type string or ",i,!1,void 0,t)}const UD=new RegExp("[~\\*/\\[\\]]");function yy(i,e,t){if(e.search(UD)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Nm(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xd(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new xe(le.INVALID_ARGUMENT,m+i+p)}function wA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zD extends AA{data(){return super.data()}}function vy(i,e){return typeof e=="string"?yy(i,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ey{}class BD extends Ey{}function FD(i,e,...t){let s=[];e instanceof Ey&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof by).length,m=l.filter(p=>p instanceof Mm).length;if(h>1||h>0&&m>0)throw new xe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Mm extends BD{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Mm(e,t,s)}_apply(e){const t=this._parse(e);return RA(e._query,t),new Gl(e.firestore,e.converter,Jg(e._query,t))}_parse(e){const t=Dm(e.firestore);return function(l,h,m,p,_,T,S){let x;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){bb(S,T);const U=[];for(const W of S)U.push(Eb(p,l,W));x={arrayValue:{values:U}}}else x=Eb(p,l,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||bb(S,T),x=jD(m,h,S,T==="in"||T==="not-in");return En.create(_,T,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function HD(i,e,t){const s=e,o=vy("where",i);return Mm._create(o,s,t)}class by extends Ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new by(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:os.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const m=l.getFlattenedFilters();for(const p of m)RA(h,p),h=Jg(h,p)}(e._query,t),new Gl(e.firestore,e.converter,Jg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Eb(i,e,t){if(typeof(t=pn(t))=="string"){if(t==="")throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sw(e)&&t.indexOf("/")!==-1)throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Bt.fromString(t));if(!Ve.isDocumentKey(s))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return LE(i,new Ve(s))}if(t instanceof pi)return LE(i,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(t)}.`)}function bb(i,e){if(!Array.isArray(i)||i.length===0)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(i,e){const t=function(o,l){for(const h of o)for(const m of h.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qD{convertValue(e,t="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Qo(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Fd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>mn(h.doubleValue));return new my(l)}convertGeoPoint(e){return new dy(mn(e.latitude),mn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=_m(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Mh(e));default:return null}}convertTimestamp(e){const t=Fo(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Bt.fromString(e);Rt(Kw(s));const o=new Lh(s.get(1),s.get(3)),l=new Ve(s.popFirst(5));return o.isEqual(t)||Da(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xA extends AA{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(vy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class xd extends xA{data(e={}){return super.data(e)}}class IA{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new xd(this._firestore,this._userDataWriter,s.key,s,new bh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new xd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new xd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:$D(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $D(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(i){i=Hi(i,pi);const e=Hi(i.firestore,Ma);return CD(Im(e),i._key).then(t=>OA(e,i,t))}class Ty extends qD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pi(this.firestore,null,t)}}function wy(i){i=Hi(i,Gl);const e=Hi(i.firestore,Ma),t=Im(e),s=new Ty(e);return SA(i._query),xD(t,i._query).then(o=>new IA(e,s,i,o))}function GD(i,e,t){i=Hi(i,pi);const s=Hi(i.firestore,Ma),o=CA(i.converter,e);return Pm(s,[EA(Dm(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Nr.none())])}function zh(i,e,t,...s){i=Hi(i,pi);const o=Hi(i.firestore,Ma),l=Dm(o);let h;return h=typeof(e=pn(e))=="string"||e instanceof Nm?VD(l,"updateDoc",i._key,e,t,s):PD(l,"updateDoc",i._key,e),Pm(o,[h.toMutation(i._key,Nr.exists(!0))])}function KD(i){return Pm(Hi(i.firestore,Ma),[new G_(i._key,Nr.none())])}function NA(i,e){const t=Hi(i.firestore,Ma),s=Or(i),o=CA(i.converter,e);return Pm(t,[EA(Dm(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Nr.exists(!1))]).then(()=>s)}function QD(i,...e){var t,s,o;i=pn(i);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||vb(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(vb(e[h])){const S=e[h];e[h]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[h+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,_,T;if(i instanceof pi)_=Hi(i.firestore,Ma),T=ym(i._key.path),p={next:S=>{e[h]&&e[h](OA(_,i,S))},error:e[h+1],complete:e[h+2]};else{const S=Hi(i,Gl);_=Hi(S.firestore,Ma),T=S._query;const x=new Ty(_);p={next:M=>{e[h]&&e[h](new IA(_,x,S,M))},error:e[h+1],complete:e[h+2]},SA(i._query)}return function(x,M,U,W){const B=new fy(W),z=new uy(M,B,U);return x.asyncQueue.enqueueAndForget(async()=>ay(await Wd(x),z)),()=>{B.su(),x.asyncQueue.enqueueAndForget(async()=>oy(await Wd(x),z))}}(Im(_),T,m,p)}function Pm(i,e){return function(s,o){const l=new Ca;return s.asyncQueue.enqueueAndForget(async()=>pD(await RD(s),o,l)),l.promise}(Im(i),e)}function OA(i,e,t){const s=t.docs.get(e._key),o=new Ty(i);return new xA(i,o,e._key,s,new bh(t.hasPendingWrites,t.fromCache),e.converter)}function YD(){return new gy("serverTimestamp")}(function(e,t=!0){(function(o){hc=o})(Hl),jl(new zo("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new Ma(new jN(s.getProvider("auth-internal")),new BN(h,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(_.options.projectId,T)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),ks(AE,SE,e),ks(AE,SE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebasestorage.googleapis.com",WD="storageBucket",XD=2*60*1e3,ZD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Fs{constructor(e,t,s=0){super(Cg(e),`Firebase Storage: ${t} (${Cg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Us;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Us||(Us={}));function Cg(i){return"storage/"+i}function JD(){const i="An unknown error occurred, please check the error payload for server response.";return new Hs(Us.UNKNOWN,i)}function ek(){return new Hs(Us.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tk(){return new Hs(Us.CANCELED,"User canceled the upload/download.")}function nk(i){return new Hs(Us.INVALID_URL,"Invalid URL '"+i+"'.")}function ik(i){return new Hs(Us.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Tb(i){return new Hs(Us.INVALID_ARGUMENT,i)}function kA(){return new Hs(Us.APP_DELETED,"The Firebase app was deleted.")}function rk(i){return new Hs(Us.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=rs.makeFromUrl(e,t)}catch{return new rs(e,"")}if(s.path==="")return s;throw ik(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(_e){_e.path.charAt(_e.path.length-1)==="/"&&(_e.path_=_e.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function _(_e){_e.path_=decodeURIComponent(_e.path)}const T="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${T}/b/${o}/o${x}`,"i"),U={bucket:1,path:3},W=t===DA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",z=new RegExp(`^https?://${W}/${o}/${B}`,"i"),ne=[{regex:m,indices:p,postModify:l},{regex:M,indices:U,postModify:_},{regex:z,indices:{bucket:1,path:2},postModify:_}];for(let _e=0;_e<ne.length;_e++){const Ee=ne[_e],Ce=Ee.regex.exec(e);if(Ce){const F=Ce[Ee.indices.bucket];let L=Ce[Ee.indices.path];L||(L=""),s=new rs(F,L),Ee.postModify(s);break}}if(s==null)throw nk(e);return s}}class sk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(i,e,t){let s=1,o=null,l=null,h=!1,m=0;function p(){return m===2}let _=!1;function T(...B){_||(_=!0,e.apply(null,B))}function S(B){o=setTimeout(()=>{o=null,i(M,p())},B)}function x(){l&&clearTimeout(l)}function M(B,...z){if(_){x();return}if(B){x(),T.call(null,B,...z);return}if(p()||h){x(),T.call(null,B,...z);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,S(ne)}let U=!1;function W(B){U||(U=!0,x(),!_&&(o!==null?(B||(m=2),clearTimeout(o),S(0)):B||(m=1)))}return S(0),l=setTimeout(()=>{h=!0,W(!0)},t),W}function ok(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(i){return i!==void 0}function wb(i,e,t,s){if(s<e)throw Tb(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Tb(`Invalid value for '${i}'. Expected ${t} or less.`)}function uk(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Zd;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Zd||(Zd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,s,o,l,h,m,p,_,T,S,x=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=T,this.connectionFactory_=S,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,U)=>{this.resolve_=M,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new dd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=m=>{const p=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const m=l.getErrorCode()===Zd.NO_ERROR,p=l.getStatus();if(!m||ck(p,this.additionalRetryCodes_)&&this.retry){const T=l.getErrorCode()===Zd.ABORT;s(!1,new dd(!1,null,T));return}const _=this.successCodes_.indexOf(p)!==-1;s(!0,new dd(_,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());lk(p)?l(p):l()}catch(p){h(p)}else if(m!==null){const p=JD();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?kA():tk();h(p)}else{const p=ek();h(p)}};this.canceled_?t(!1,new dd(!1,null,!0)):this.backoffId_=ak(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ok(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dd{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function fk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function dk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function pk(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function gk(i,e,t,s,o,l,h=!0){const m=uk(i.urlParams),p=i.url+m,_=Object.assign({},i.headers);return mk(_,e),fk(_,t),dk(_,l),pk(_,s),new hk(p,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function yk(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t){this._service=e,t instanceof rs?this._location=t:this._location=rs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jd(e,t)}get root(){const e=new rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yk(this._location.path)}get storage(){return this._service}get parent(){const e=_k(this._location.path);if(e===null)return null;const t=new rs(this._location.bucket,e);return new Jd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw rk(e)}}function Ab(i,e){const t=e==null?void 0:e[WD];return t==null?null:rs.makeFromBucketSpec(t,i)}function vk(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:fT(o,i.app.options.projectId))}class Ek{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=DA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XD,this._maxUploadRetryTime=ZD,this._requests=new Set,o!=null?this._bucket=rs.makeFromBucketSpec(o,this._host):this._bucket=Ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rs.makeFromBucketSpec(this._url,e):this._bucket=Ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jd(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new sk(kA());{const h=gk(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Sb="@firebase/storage",Rb="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="storage";function bk(i=C_(),e){i=pn(i);const s=cm(i,MA).getImmediate({identifier:e}),o=uT("storage");return o&&Tk(s,...o),s}function Tk(i,e,t,s={}){vk(i,e,t,s)}function wk(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Ek(t,s,o,e,Hl)}function Ak(){jl(new zo(MA,wk,"PUBLIC").setMultipleInstances(!0)),ks(Sb,Rb,""),ks(Sb,Rb,"esm2017")}Ak();const Sk={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},Ay=pT(Sk),Aa=mm(Ay),si=OD(Ay);bk(Ay);(async()=>{try{await qT(Aa,P_)}catch(i){console.error("❌ Error setting auth persistence:",i)}})();const xg=({children:i,requiredRoles:e})=>{const[t,s]=k.useState(null),[o,l]=k.useState(!0),[h,m]=k.useState(null);return k.useEffect(()=>{const p=Aa.onAuthStateChanged(async _=>{if(_){m(_);try{const T=await Lm(Or(si,"Users",_.uid));T.exists()?s(T.data().role):s(null)}catch(T){console.error("Error fetching user role:",T),s(null)}}else m(null),s(null);l(!1)});return()=>p()},[]),o?E.jsx("div",{className:"h-screen flex items-center justify-center",children:"Loading...."}):!h||!e.includes(t)?E.jsx(gd,{to:"/",replace:!0}):i},Id="/cargofran/assets/logo-6SCz_op0.png";var Ig={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Cb;function Rk(){return Cb||(Cb=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var m in l)e.call(l,m)&&l[m]&&(h=o(h,m));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(Ig)),Ig.exports}var Ck=Rk();const Mt=sm(Ck);function xk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function h_(i,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},h_(i,e)}function Ik(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,h_(i,e)}const Nk=["xxl","xl","lg","md","sm","xs"],Ok="xs",tf=k.createContext({prefixes:{},breakpoints:Nk,minBreakpoint:Ok}),{Consumer:GL,Provider:KL}=tf;function bn(i,e){const{prefixes:t}=k.useContext(tf);return i||t[e]||e}function Dk(){const{breakpoints:i}=k.useContext(tf);return i}function kk(){const{minBreakpoint:i}=k.useContext(tf);return i}function Mk(){const{dir:i}=k.useContext(tf);return i==="rtl"}function Vm(i){return i&&i.ownerDocument||document}function Lk(i){var e=Vm(i);return e&&e.defaultView||window}function Pk(i,e){return Lk(i).getComputedStyle(i,e)}var Vk=/([A-Z])/g;function jk(i){return i.replace(Vk,"-$1").toLowerCase()}var Uk=/^ms-/;function md(i){return jk(i).replace(Uk,"-ms-")}var zk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Bk(i){return!!(i&&zk.test(i))}function Pl(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(md(e))||Pk(i).getPropertyValue(md(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(md(o)):Bk(o)?s+=o+"("+l+") ":t+=md(o)+": "+l+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}var Ng={exports:{}},Og,xb;function Fk(){if(xb)return Og;xb=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Og=i,Og}var Dg,Ib;function Hk(){if(Ib)return Dg;Ib=1;var i=Fk();function e(){}function t(){}return t.resetWarningCache=e,Dg=function(){function s(h,m,p,_,T,S){if(S!==i){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Dg}var Nb;function qk(){return Nb||(Nb=1,Ng.exports=Hk()()),Ng.exports}var $k=qk();const xa=sm($k),Ob={disabled:!1},LA=Fi.createContext(null);var Gk=function(e){return e.scrollTop},Th="unmounted",Dl="exited",No="entering",kl="entered",f_="exiting",ja=function(i){Ik(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?m?(p=Dl,l.appearStatus=No):p=kl:s.unmountOnExit||s.mountOnEnter?p=Th:p=Dl,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===Th?{status:Dl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==No&&h!==kl&&(l=No):(h===No||h===kl)&&(l=f_)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,l,h,m;return l=h=m=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:m}},t.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===No){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Ku.findDOMNode(this);h&&Gk(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dl&&this.setState({status:Th})},t.performEnter=function(o){var l=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[Ku.findDOMNode(this),m],_=p[0],T=p[1],S=this.getTimeouts(),x=m?S.appear:S.enter;if(!o&&!h||Ob.disabled){this.safeSetState({status:kl},function(){l.props.onEntered(_)});return}this.props.onEnter(_,T),this.safeSetState({status:No},function(){l.props.onEntering(_,T),l.onTransitionEnd(x,function(){l.safeSetState({status:kl},function(){l.props.onEntered(_,T)})})})},t.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:Ku.findDOMNode(this);if(!l||Ob.disabled){this.safeSetState({status:Dl},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:f_},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:Dl},function(){o.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},t.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:Ku.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],_=p[0],T=p[1];this.props.addEndListener(_,T)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===Th)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=xk(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fi.createElement(LA.Provider,{value:null},typeof h=="function"?h(o,m):Fi.cloneElement(Fi.Children.only(h),m))},e}(Fi.Component);ja.contextType=LA;ja.propTypes={};function zu(){}ja.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zu,onEntering:zu,onEntered:zu,onExit:zu,onExiting:zu,onExited:zu};ja.UNMOUNTED=Th;ja.EXITED=Dl;ja.ENTERING=No;ja.ENTERED=kl;ja.EXITING=f_;function Kk(i){return i.code==="Escape"||i.keyCode===27}function Qk(){const i=k.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function jm(i){if(!i||typeof i=="function")return null;const{major:e}=Qk();return e>=19?i.props.ref:i.ref}const pc=!!(typeof window<"u"&&window.document&&window.document.createElement);var d_=!1,m_=!1;try{var kg={get passive(){return d_=!0},get once(){return m_=d_=!0}};pc&&(window.addEventListener("test",kg,kg),window.removeEventListener("test",kg,!0))}catch{}function PA(i,e,t,s){if(s&&typeof s!="boolean"&&!m_){var o=s.once,l=s.capture,h=t;!m_&&o&&(h=t.__once||function m(p){this.removeEventListener(e,m,l),t.call(this,p)},t.__once=h),i.addEventListener(e,h,d_?s:l)}i.addEventListener(e,t,s)}function p_(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}function em(i,e,t,s){return PA(i,e,t,s),function(){p_(i,e,t,s)}}function Yk(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function Wk(i){var e=Pl(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Xk(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||Yk(i,"transitionend",!0)},e+t),l=em(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function VA(i,e,t,s){t==null&&(t=Wk(i)||0);var o=Xk(i,t,s),l=em(i,"transitionend",e);return function(){o(),l()}}function Db(i,e){const t=Pl(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Zk(i,e){const t=Db(i,"transitionDuration"),s=Db(i,"transitionDelay"),o=VA(i,l=>{l.target===i&&(o(),e(l))},t+s)}function Jk(i){i.offsetHeight}const kb=i=>!i||typeof i=="function"?i:e=>{i.current=e};function eM(i,e){const t=kb(i),s=kb(e);return o=>{t&&t(o),s&&s(o)}}function jA(i,e){return k.useMemo(()=>eM(i,e),[i,e])}function tM(i){return i&&"setState"in i?Ku.findDOMNode(i):i??null}const nM=Fi.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:m,childRef:p,..._},T)=>{const S=k.useRef(null),x=jA(S,p),M=Ce=>{x(tM(Ce))},U=Ce=>F=>{Ce&&S.current&&Ce(S.current,F)},W=k.useCallback(U(i),[i]),B=k.useCallback(U(e),[e]),z=k.useCallback(U(t),[t]),te=k.useCallback(U(s),[s]),ne=k.useCallback(U(o),[o]),_e=k.useCallback(U(l),[l]),Ee=k.useCallback(U(h),[h]);return E.jsx(ja,{ref:T,..._,onEnter:W,onEntered:z,onEntering:B,onExit:te,onExited:_e,onExiting:ne,addEndListener:Ee,nodeRef:S,children:typeof m=="function"?(Ce,F)=>m(Ce,{...F,ref:M}):Fi.cloneElement(m,{ref:M})})});function iM(i){const e=k.useRef(i);return k.useEffect(()=>{e.current=i},[i]),e}function g_(i){const e=iM(i);return k.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const rM=i=>k.forwardRef((e,t)=>E.jsx("div",{...e,ref:t,className:Mt(e.className,i)}));function sM(i){const e=k.useRef(i);return k.useEffect(()=>{e.current=i},[i]),e}function Ml(i){const e=sM(i);return k.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function aM(){const i=k.useRef(!0),e=k.useRef(()=>i.current);return k.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function oM(i){const e=k.useRef(null);return k.useEffect(()=>{e.current=i}),e.current}const lM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",uM=typeof document<"u",Mb=uM||lM?k.useLayoutEffect:k.useEffect,cM=["as","disabled"];function hM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function fM(i){return!i||i.trim()==="#"}function UA({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:h,tabIndex:m=0,type:p}){i||(t!=null||s!=null||o!=null?i="a":i="button");const _={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},_];const T=x=>{if((e||i==="a"&&fM(t))&&x.preventDefault(),e){x.stopPropagation();return}h==null||h(x)},S=x=>{x.key===" "&&(x.preventDefault(),T(x))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:T,onKeyDown:S},_]}const dM=k.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=hM(i,cM);const[l,{tagName:h}]=UA(Object.assign({tagName:t,disabled:s},o));return E.jsx(h,Object.assign({},o,l,{ref:e}))});dM.displayName="Button";const mM={[No]:"show",[kl]:"show"},Sy=k.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=k.useCallback((p,_)=>{Jk(p),s==null||s(p,_)},[s]);return E.jsx(nM,{ref:l,addEndListener:Zk,...h,onEnter:m,childRef:jm(e),children:(p,_)=>k.cloneElement(e,{..._,className:Mt("fade",i,e.props.className,mM[p],t[p])})})});Sy.displayName="Fade";const pM={"aria-label":xa.string,onClick:xa.func,variant:xa.oneOf(["white"])},Ry=k.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>E.jsx("button",{ref:o,type:"button",className:Mt("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));Ry.displayName="CloseButton";Ry.propTypes=pM;const Gn=k.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:h,...m},p)=>{const _=bn(e,"btn"),[T,{tagName:S}]=UA({tagName:i,disabled:l,...m}),x=S;return E.jsx(x,{...T,...m,ref:p,disabled:l,className:Mt(h,_,o&&"active",t&&`${_}-${t}`,s&&`${_}-${s}`,m.href&&l&&"disabled")})});Gn.displayName="Button";function gM(i){const e=k.useRef(i);return e.current=i,e}function _M(i){const e=gM(i);k.useEffect(()=>()=>e.current(),[])}function yM(i,e){return k.Children.toArray(i).some(t=>k.isValidElement(t)&&t.type===e)}function vM({as:i,bsPrefix:e,className:t,...s}){e=bn(e,"col");const o=Dk(),l=kk(),h=[],m=[];return o.forEach(p=>{const _=s[p];delete s[p];let T,S,x;typeof _=="object"&&_!=null?{span:T,offset:S,order:x}=_:T=_;const M=p!==l?`-${p}`:"";T&&h.push(T===!0?`${e}${M}`:`${e}${M}-${T}`),x!=null&&m.push(`order${M}-${x}`),S!=null&&m.push(`offset${M}-${S}`)}),[{...s,className:Mt(t,...h,...m)},{as:i,bsPrefix:e,spans:h}]}const zA=k.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:l,spans:h}]=vM(i);return E.jsx(o,{...s,ref:e,className:Mt(t,!h.length&&l)})});zA.displayName="Col";var EM=Function.prototype.bind.call(Function.prototype.call,[].slice);function Bu(i,e){return EM(i.querySelectorAll(e))}function Lb(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const bM="data-rr-ui-";function TM(i){return`${bM}${i}`}const BA=k.createContext(pc?window:void 0);BA.Provider;function Cy(){return k.useContext(BA)}const wM={type:xa.string,tooltip:xa.bool,as:xa.elementType},Um=k.forwardRef(({as:i="div",className:e,type:t="valid",tooltip:s=!1,...o},l)=>E.jsx(i,{...o,ref:l,className:Mt(e,`${t}-${s?"tooltip":"feedback"}`)}));Um.displayName="Feedback";Um.propTypes=wM;const La=k.createContext({}),xy=k.forwardRef(({id:i,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...m},p)=>{const{controlId:_}=k.useContext(La);return e=bn(e,"form-check-input"),E.jsx(h,{...m,ref:p,type:s,id:i||_,className:Mt(t,e,o&&"is-valid",l&&"is-invalid")})});xy.displayName="FormCheckInput";const tm=k.forwardRef(({bsPrefix:i,className:e,htmlFor:t,...s},o)=>{const{controlId:l}=k.useContext(La);return i=bn(i,"form-check-label"),E.jsx("label",{...s,ref:o,htmlFor:t||l,className:Mt(e,i)})});tm.displayName="FormCheckLabel";const FA=k.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:_,feedbackType:T,className:S,style:x,title:M="",type:U="checkbox",label:W,children:B,as:z="input",...te},ne)=>{e=bn(e,"form-check"),t=bn(t,"form-switch");const{controlId:_e}=k.useContext(La),Ee=k.useMemo(()=>({controlId:i||_e}),[_e,i]),Ce=!B&&W!=null&&W!==!1||yM(B,tm),F=E.jsx(xy,{...te,type:U==="switch"?"checkbox":U,ref:ne,isValid:h,isInvalid:m,disabled:l,as:z});return E.jsx(La.Provider,{value:Ee,children:E.jsx("div",{style:x,className:Mt(S,Ce&&e,s&&`${e}-inline`,o&&`${e}-reverse`,U==="switch"&&t),children:B||E.jsxs(E.Fragment,{children:[F,Ce&&E.jsx(tm,{title:M,children:W}),_&&E.jsx(Um,{type:T,tooltip:p,children:_})]})})})});FA.displayName="FormCheck";const nm=Object.assign(FA,{Input:xy,Label:tm}),HA=k.forwardRef(({bsPrefix:i,type:e,size:t,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:_,as:T="input",...S},x)=>{const{controlId:M}=k.useContext(La);return i=bn(i,"form-control"),E.jsx(T,{...S,type:e,size:s,ref:x,readOnly:_,id:o||M,className:Mt(l,p?`${i}-plaintext`:i,t&&`${i}-${t}`,e==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});HA.displayName="FormControl";const AM=Object.assign(HA,{Feedback:Um}),qA=k.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=bn(e,"form-floating"),E.jsx(t,{ref:o,className:Mt(i,e),...s})));qA.displayName="FormFloating";const Iy=k.forwardRef(({controlId:i,as:e="div",...t},s)=>{const o=k.useMemo(()=>({controlId:i}),[i]);return E.jsx(La.Provider,{value:o,children:E.jsx(e,{...t,ref:s})})});Iy.displayName="FormGroup";const $A=k.forwardRef(({as:i="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},m)=>{const{controlId:p}=k.useContext(La);e=bn(e,"form-label");let _="col-form-label";typeof t=="string"&&(_=`${_} ${_}-${t}`);const T=Mt(o,e,s&&"visually-hidden",t&&_);return l=l||p,t?E.jsx(zA,{ref:m,as:"label",className:T,htmlFor:l,...h}):E.jsx(i,{ref:m,className:T,htmlFor:l,...h})});$A.displayName="FormLabel";const GA=k.forwardRef(({bsPrefix:i,className:e,id:t,...s},o)=>{const{controlId:l}=k.useContext(La);return i=bn(i,"form-range"),E.jsx("input",{...s,type:"range",ref:o,className:Mt(e,i),id:t||l})});GA.displayName="FormRange";const KA=k.forwardRef(({bsPrefix:i,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...m},p)=>{const{controlId:_}=k.useContext(La);return i=bn(i,"form-select"),E.jsx("select",{...m,size:t,ref:p,className:Mt(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:h||_})});KA.displayName="FormSelect";const QA=k.forwardRef(({bsPrefix:i,className:e,as:t="small",muted:s,...o},l)=>(i=bn(i,"form-text"),E.jsx(t,{...o,ref:l,className:Mt(e,i,s&&"text-muted")})));QA.displayName="FormText";const YA=k.forwardRef((i,e)=>E.jsx(nm,{...i,ref:e,type:"switch"}));YA.displayName="Switch";const SM=Object.assign(YA,{Input:nm.Input,Label:nm.Label}),WA=k.forwardRef(({bsPrefix:i,className:e,children:t,controlId:s,label:o,...l},h)=>(i=bn(i,"form-floating"),E.jsxs(Iy,{ref:h,className:Mt(e,i),controlId:s,...l,children:[t,E.jsx("label",{htmlFor:s,children:o})]})));WA.displayName="FloatingLabel";const RM={_ref:xa.any,validated:xa.bool,as:xa.elementType},Ny=k.forwardRef(({className:i,validated:e,as:t="form",...s},o)=>E.jsx(t,{...s,ref:o,className:Mt(i,e&&"was-validated")}));Ny.displayName="Form";Ny.propTypes=RM;const we=Object.assign(Ny,{Group:Iy,Control:AM,Floating:qA,Check:nm,Switch:SM,Label:$A,Text:QA,Range:GA,Select:KA,FloatingLabel:WA}),Pb=i=>!i||typeof i=="function"?i:e=>{i.current=e};function CM(i,e){const t=Pb(i),s=Pb(e);return o=>{t&&t(o),s&&s(o)}}function Oy(i,e){return k.useMemo(()=>CM(i,e),[i,e])}var pd;function Vb(i){if((!pd&&pd!==0||i)&&pc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),pd=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return pd}function xM(){return k.useState(null)}function Mg(i){i===void 0&&(i=Vm());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function IM(i){const e=k.useRef(i);return e.current=i,e}function NM(i){const e=IM(i);k.useEffect(()=>()=>e.current(),[])}function OM(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const jb=TM("modal-open");class Dy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return OM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(Pl(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(jb,""),Pl(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(jb),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Lg=(i,e)=>pc?i==null?(e||Vm()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function DM(i,e){const t=Cy(),[s,o]=k.useState(()=>Lg(i,t==null?void 0:t.document));if(!s){const l=Lg(i);l&&o(l)}return k.useEffect(()=>{},[e,s]),k.useEffect(()=>{const l=Lg(i);l!==s&&o(l)},[i,s]),s}function kM({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const l=k.useRef(null),h=k.useRef(e),m=Ml(t);k.useEffect(()=>{e?h.current=!0:m(l.current)},[e,m]);const p=Oy(l,jm(i)),_=k.cloneElement(i,{ref:p});return e?_:o||!h.current&&s?null:_}const MM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function LM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function PM(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:m,children:p}=i,_=LM(i,MM);const T=k.useRef(null),S=Oy(T,jm(p)),x=_e=>Ee=>{_e&&T.current&&_e(T.current,Ee)},M=k.useCallback(x(e),[e]),U=k.useCallback(x(t),[t]),W=k.useCallback(x(s),[s]),B=k.useCallback(x(o),[o]),z=k.useCallback(x(l),[l]),te=k.useCallback(x(h),[h]),ne=k.useCallback(x(m),[m]);return Object.assign({},_,{nodeRef:T},e&&{onEnter:M},t&&{onEntering:U},s&&{onEntered:W},o&&{onExit:B},l&&{onExiting:z},h&&{onExited:te},m&&{addEndListener:ne},{children:typeof p=="function"?(_e,Ee)=>p(_e,Object.assign({},Ee,{ref:S})):k.cloneElement(p,{ref:S})})}const VM=["component"];function jM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const UM=k.forwardRef((i,e)=>{let{component:t}=i,s=jM(i,VM);const o=PM(s);return E.jsx(t,Object.assign({ref:e},o))});function zM({in:i,onTransition:e}){const t=k.useRef(null),s=k.useRef(!0),o=Ml(e);return Mb(()=>{if(!t.current)return;let l=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),Mb(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function BM({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[l,h]=k.useState(!e);e&&l&&h(!1);const m=zM({in:!!e,onTransition:_=>{const T=()=>{_.isStale()||(_.in?s==null||s(_.element,_.initial):(h(!0),t==null||t(_.element)))};Promise.resolve(o(_)).then(T,S=>{throw _.in||h(!0),S})}}),p=Oy(m,jm(i));return l&&!e?null:k.cloneElement(i,{ref:p})}function Ub(i,e,t){return i?E.jsx(UM,Object.assign({},t,{component:i})):e?E.jsx(BM,Object.assign({},t,{transition:e})):E.jsx(kM,Object.assign({},t))}const FM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function HM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let Pg;function qM(i){return Pg||(Pg=new Dy({ownerDocument:i==null?void 0:i.document})),Pg}function $M(i){const e=Cy(),t=i||qM(e),s=k.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:k.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:k.useCallback(o=>{s.current.backdrop=o},[])})}const XA=k.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:l,children:h,backdrop:m=!0,keyboard:p=!0,onBackdropClick:_,onEscapeKeyDown:T,transition:S,runTransition:x,backdropTransition:M,runBackdropTransition:U,autoFocus:W=!0,enforceFocus:B=!0,restoreFocus:z=!0,restoreFocusOptions:te,renderDialog:ne,renderBackdrop:_e=Je=>E.jsx("div",Object.assign({},Je)),manager:Ee,container:Ce,onShow:F,onHide:L=()=>{},onExit:D,onExited:V,onExiting:j,onEnter:$,onEntering:O,onEntered:Me}=i,Ne=HM(i,FM);const ce=Cy(),Ae=DM(Ce),Te=$M(Ee),it=aM(),N=oM(t),[ue,Se]=k.useState(!t),be=k.useRef(null);k.useImperativeHandle(e,()=>Te,[Te]),pc&&!N&&t&&(be.current=Mg(ce==null?void 0:ce.document)),t&&ue&&Se(!1);const ye=Ml(()=>{if(Te.add(),Ze.current=em(document,"keydown",ge),yt.current=em(document,"focus",()=>setTimeout(ke),!0),F&&F(),W){var Je,ln;const qi=Mg((Je=(ln=Te.dialog)==null?void 0:ln.ownerDocument)!=null?Je:ce==null?void 0:ce.document);Te.dialog&&qi&&!Lb(Te.dialog,qi)&&(be.current=qi,Te.dialog.focus())}}),Ue=Ml(()=>{if(Te.remove(),Ze.current==null||Ze.current(),yt.current==null||yt.current(),z){var Je;(Je=be.current)==null||Je.focus==null||Je.focus(te),be.current=null}});k.useEffect(()=>{!t||!Ae||ye()},[t,Ae,ye]),k.useEffect(()=>{ue&&Ue()},[ue,Ue]),NM(()=>{Ue()});const ke=Ml(()=>{if(!B||!it()||!Te.isTopModal())return;const Je=Mg(ce==null?void 0:ce.document);Te.dialog&&Je&&!Lb(Te.dialog,Je)&&Te.dialog.focus()}),Ct=Ml(Je=>{Je.target===Je.currentTarget&&(_==null||_(Je),m===!0&&L())}),ge=Ml(Je=>{p&&Kk(Je)&&Te.isTopModal()&&(T==null||T(Je),Je.defaultPrevented||L())}),yt=k.useRef(),Ze=k.useRef(),Xt=(...Je)=>{Se(!0),V==null||V(...Je)};if(!Ae)return null;const Nn=Object.assign({role:s,ref:Te.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ne,{style:l,className:o,tabIndex:-1});let Ft=ne?ne(Nn):E.jsx("div",Object.assign({},Nn,{children:k.cloneElement(h,{role:"document"})}));Ft=Ub(S,x,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:D,onExiting:j,onExited:Xt,onEnter:$,onEntering:O,onEntered:Me,children:Ft});let On=null;return m&&(On=_e({ref:Te.setBackdropRef,onClick:Ct}),On=Ub(M,U,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:On})),E.jsx(E.Fragment,{children:Ku.createPortal(E.jsxs(E.Fragment,{children:[On,Ft]}),Ae)})});XA.displayName="Modal";const GM=Object.assign(XA,{Manager:Dy});function KM(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function QM(i,e){i.classList?i.classList.add(e):KM(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function zb(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function YM(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=zb(i.className,e):i.setAttribute("class",zb(i.className&&i.className.baseVal||"",e))}const Fu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class WM extends Dy{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,Pl(t,{[e]:`${parseFloat(Pl(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],Pl(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(QM(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Bu(t,Fu.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),Bu(t,Fu.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),Bu(t,Fu.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();YM(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Bu(t,Fu.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Bu(t,Fu.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Bu(t,Fu.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let Vg;function XM(i){return Vg||(Vg=new WM(i)),Vg}const ZA=k.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=bn(e,"modal-body"),E.jsx(t,{ref:o,className:Mt(i,e),...s})));ZA.displayName="ModalBody";const JA=k.createContext({onHide(){}}),ky=k.forwardRef(({bsPrefix:i,className:e,contentClassName:t,centered:s,size:o,fullscreen:l,children:h,scrollable:m,...p},_)=>{i=bn(i,"modal");const T=`${i}-dialog`,S=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return E.jsx("div",{...p,ref:_,className:Mt(T,e,o&&`${i}-${o}`,s&&`${T}-centered`,m&&`${T}-scrollable`,l&&S),children:E.jsx("div",{className:Mt(`${i}-content`,t),children:h})})});ky.displayName="ModalDialog";const eS=k.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=bn(e,"modal-footer"),E.jsx(t,{ref:o,className:Mt(i,e),...s})));eS.displayName="ModalFooter";const ZM=k.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...l},h)=>{const m=k.useContext(JA),p=g_(()=>{m==null||m.onHide(),s==null||s()});return E.jsxs("div",{ref:h,...l,children:[o,t&&E.jsx(Ry,{"aria-label":i,variant:e,onClick:p})]})}),tS=k.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=bn(i,"modal-header"),E.jsx(ZM,{ref:l,...o,className:Mt(e,i),closeLabel:t,closeButton:s})));tS.displayName="ModalHeader";const JM=rM("h4"),nS=k.forwardRef(({className:i,bsPrefix:e,as:t=JM,...s},o)=>(e=bn(e,"modal-title"),E.jsx(t,{ref:o,className:Mt(i,e),...s})));nS.displayName="ModalTitle";function eL(i){return E.jsx(Sy,{...i,timeout:null})}function tL(i){return E.jsx(Sy,{...i,timeout:null})}const iS=k.forwardRef(({bsPrefix:i,className:e,style:t,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=ky,"data-bs-theme":m,"aria-labelledby":p,"aria-describedby":_,"aria-label":T,show:S=!1,animation:x=!0,backdrop:M=!0,keyboard:U=!0,onEscapeKeyDown:W,onShow:B,onHide:z,container:te,autoFocus:ne=!0,enforceFocus:_e=!0,restoreFocus:Ee=!0,restoreFocusOptions:Ce,onEntered:F,onExit:L,onExiting:D,onEnter:V,onEntering:j,onExited:$,backdropClassName:O,manager:Me,...Ne},ce)=>{const[Ae,Te]=k.useState({}),[it,N]=k.useState(!1),ue=k.useRef(!1),Se=k.useRef(!1),be=k.useRef(null),[ye,Ue]=xM(),ke=jA(ce,Ue),Ct=g_(z),ge=Mk();i=bn(i,"modal");const yt=k.useMemo(()=>({onHide:Ct}),[Ct]);function Ze(){return Me||XM({isRTL:ge})}function Xt(je){if(!pc)return;const Tt=Ze().getScrollbarWidth()>0,Tn=je.scrollHeight>Vm(je).documentElement.clientHeight;Te({paddingRight:Tt&&!Tn?Vb():void 0,paddingLeft:!Tt&&Tn?Vb():void 0})}const Nn=g_(()=>{ye&&Xt(ye.dialog)});_M(()=>{p_(window,"resize",Nn),be.current==null||be.current()});const Ft=()=>{ue.current=!0},On=je=>{ue.current&&ye&&je.target===ye.dialog&&(Se.current=!0),ue.current=!1},Je=()=>{N(!0),be.current=VA(ye.dialog,()=>{N(!1)})},ln=je=>{je.target===je.currentTarget&&Je()},qi=je=>{if(M==="static"){ln(je);return}if(Se.current||je.target!==je.currentTarget){Se.current=!1;return}z==null||z()},us=je=>{U?W==null||W(je):(je.preventDefault(),M==="static"&&Je())},cs=(je,Tt)=>{je&&Xt(je),V==null||V(je,Tt)},Dr=je=>{be.current==null||be.current(),L==null||L(je)},hs=(je,Tt)=>{j==null||j(je,Tt),PA(window,"resize",Nn)},Xo=je=>{je&&(je.style.display=""),$==null||$(je),p_(window,"resize",Nn)},qs=k.useCallback(je=>E.jsx("div",{...je,className:Mt(`${i}-backdrop`,O,!x&&"show")}),[x,O,i]),Zt={...t,...Ae};Zt.display="block";const _i=je=>E.jsx("div",{role:"dialog",...je,style:Zt,className:Mt(e,i,it&&`${i}-static`,!x&&"show"),onClick:M?qi:void 0,onMouseUp:On,"data-bs-theme":m,"aria-label":T,"aria-labelledby":p,"aria-describedby":_,children:E.jsx(h,{...Ne,onMouseDown:Ft,className:s,contentClassName:o,children:l})});return E.jsx(JA.Provider,{value:yt,children:E.jsx(GM,{show:S,ref:ke,backdrop:M,container:te,keyboard:!0,autoFocus:ne,enforceFocus:_e,restoreFocus:Ee,restoreFocusOptions:Ce,onEscapeKeyDown:us,onShow:B,onHide:z,onEnter:cs,onEntering:hs,onEntered:F,onExit:Dr,onExiting:D,onExited:Xo,manager:Ze(),transition:x?eL:void 0,backdropTransition:x?tL:void 0,renderBackdrop:qs,renderDialog:_i})})});iS.displayName="Modal";const $t=Object.assign(iS,{Body:ZA,Header:tS,Title:nS,Footer:eS,Dialog:ky,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),nL=k.forwardRef(({bsPrefix:i,className:e,striped:t,bordered:s,borderless:o,hover:l,size:h,variant:m,responsive:p,..._},T)=>{const S=bn(i,"table"),x=Mt(e,S,m&&`${S}-${m}`,h&&`${S}-${h}`,t&&`${S}-${typeof t=="string"?`striped-${t}`:"striped"}`,s&&`${S}-bordered`,o&&`${S}-borderless`,l&&`${S}-hover`),M=E.jsx("table",{..._,className:x,ref:T});if(p){let U=`${S}-responsive`;return typeof p=="string"&&(U=`${U}-${p}`),E.jsx("div",{className:U,children:M})}return M});function iL({setIsOpen:i}){const[e,t]=k.useState(!1),[s,o]=k.useState("login"),[l,h]=k.useState(""),[m,p]=k.useState(""),[_,T]=k.useState(""),[S,x]=k.useState(""),[M,U]=k.useState(""),[W,B]=k.useState(""),[z,te]=k.useState(""),ne=om(),_e=()=>{t(!1),o("login"),B(""),te("")},Ee=j=>{o(j),B(""),te("")},Ce=()=>t(!0),F=async j=>{i(!1),j.preventDefault(),B("");try{await qT(Aa,P_);const O=(await TI(Aa,_,S)).user,Me=await Lm(Or(si,"Users",O.uid));if(Me.exists()){const Ne=Me.data();Ne.role==="admin"||Ne.role==="staff"?ne("/AdminDashboard"):ne("/UserDashboard"),Ne.verified||te("Your account is not verified yet. Some features may be restricted.")}else{B("User role not found in database.");return}_e()}catch($){$.code==="auth/invalid-credential"?B("Invalid email or password. Please try again."):$.code==="auth/too-many-requests"?B("Too many failed attempts. Please try again later or reset your password."):$.code==="auth/network-request-failed"?B("Network error. Check your connection and try again."):B("Login failed. Please check your credentials and try again.")}},L=async j=>{if(j.preventDefault(),B(""),te(""),S!==M){B("Passwords do not match");return}try{const Me=(await bI(Aa,_,S)).user.uid,Ne=Or(si,"Users",Me);await GD(Ne,{uid:Me,firstName:l,lastName:m,email:_,role:"user",verified:!1,createdAt:new Date}),te("Account created! You can now log in."),o("login")}catch($){B($.message)}},D=async j=>{if(j.preventDefault(),B(""),te(""),!_){B("Please enter your email address.");return}try{const $=_.trim().toLowerCase(),O=sc(si,"Users"),Me=FD(O,HD("email","==",$));if((await wy(Me)).empty){B("No account found with this email. Please check or sign up.");return}await HT(Aa,$),te("Password reset link sent to your email."),T("")}catch($){B("Failed to send reset link. Please try again later."),console.error("Reset Password Error:",$)}},V=j=>j.toLowerCase().replace(/\b\w/g,$=>$.toUpperCase());return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`lexend text-xl drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-110 active:scale-95 
                  after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/90 after:transition-all after:duration-300 
                  hover:after:w-full text-white/100 hover:text-green-400 cursor-pointer`,onClick:Ce,children:"Log In / Sign Up"}),E.jsxs($t,{show:e,onHide:_e,centered:!0,children:[E.jsx($t.Header,{closeButton:!0,children:E.jsxs($t.Title,{className:"lexend",children:[s==="login"&&"Log In",s==="signup"&&"Sign Up",s==="forgotPassword"&&"Reset Password"]})}),E.jsxs($t.Body,{children:[W&&E.jsx("p",{className:"text-danger text-center",children:W}),z&&E.jsx("p",{className:"text-success text-center",children:z}),s==="forgotPassword"&&E.jsxs(we,{onSubmit:D,children:[E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"forgot-email",children:"Email Address"}),E.jsx(we.Control,{type:"email",id:"forgot-email",name:"email",placeholder:"Enter your email",value:_,onChange:j=>T(j.target.value),required:!0,autoComplete:"email"})]}),E.jsx(Gn,{variant:"primary",type:"submit",className:"w-100",children:"Send Reset Link"}),E.jsx("div",{className:"mt-3 text-center",children:E.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),Ee("login")},children:"Back to Login"})})]}),s==="login"&&E.jsxs(we,{onSubmit:F,children:[E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"login-email",children:"Email"}),E.jsx(we.Control,{type:"email",id:"login-email",name:"email",placeholder:"Enter your email",value:_,onChange:j=>T(j.target.value),required:!0,autoComplete:"email"})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"login-password",children:"Password"}),E.jsx(we.Control,{type:"password",id:"login-password",name:"password",placeholder:"Enter password",value:S,onChange:j=>x(j.target.value),required:!0,autoComplete:"current-password"}),E.jsx("div",{className:"lexend text-end mt-2",children:E.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),Ee("forgotPassword")},children:"Forgot Password?"})})]}),E.jsx(Gn,{variant:"primary",type:"submit",className:"lexend w-100",children:"Log In"}),E.jsx("div",{className:"lexend mt-3 text-center",children:E.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),Ee("signup")},children:"First time? Sign up"})})]}),s==="signup"&&E.jsxs(we,{onSubmit:L,children:[E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"signup-first-name",children:"First Name"}),E.jsx(we.Control,{type:"text",id:"signup-first-name",name:"firstName",placeholder:"Enter first name",value:l,onChange:j=>h(V(j.target.value)),required:!0})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"signup-last-name",children:"Last Name"}),E.jsx(we.Control,{type:"text",id:"signup-last-name",name:"lastName",placeholder:"Enter last name",value:m,onChange:j=>p(V(j.target.value)),required:!0})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"signup-email",children:"Email"}),E.jsx(we.Control,{type:"email",id:"signup-email",name:"email",placeholder:"Enter email",value:_,onChange:j=>T(j.target.value),required:!0,autoComplete:"email"})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"signup-password",children:"Password"}),E.jsx(we.Control,{type:"password",id:"signup-password",name:"password",placeholder:"Enter password",value:S,onChange:j=>x(j.target.value),required:!0,autoComplete:"new-password"})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),E.jsx(we.Control,{type:"password",id:"signup-confirm-password",name:"confirmPassword",placeholder:"Confirm password",value:M,onChange:j=>U(j.target.value),required:!0,autoComplete:"new-password"})]}),E.jsx(Gn,{variant:"primary",type:"submit",className:"w-100",children:"Sign Up"}),E.jsx("div",{className:"mt-3 lexend text-center",children:E.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),Ee("login")},children:"Back to Login"})})]})]})]})]})}function rL({show:i,onHide:e}){const[t,s]=k.useState([]),[o,l]=k.useState(""),[h,m]=k.useState(!1),[p,_]=k.useState(""),[T,S]=k.useState(""),[x,M]=k.useState(""),[U,W]=k.useState(""),[B,z]=k.useState("user"),[te,ne]=k.useState({}),_e=sc(si,"Users"),Ee=mm();k.useEffect(()=>{(async()=>{const Ne=(await wy(_e)).docs.map(ce=>({id:ce.id,...ce.data()}));Ne.sort((ce,Ae)=>new Date(ce.createdAt)-new Date(Ae.createdAt)),s(Ne)})()},[]),k.useEffect(()=>{const O=setInterval(()=>{ne(Me=>{const Ne={...Me};return Object.keys(Ne).forEach(ce=>{Ne[ce]>0?Ne[ce]-=1:delete Ne[ce]}),Ne})},1e3);return()=>clearInterval(O)},[]);const Ce=async(O,Me)=>{const Ne=Me==="staff"?"user":"staff";await zh(Or(si,"Users",O),{role:Ne}),s(ce=>ce.map(Ae=>Ae.id===O?{...Ae,role:Ne}:Ae))},F=async O=>{if(te[O]){alert("Please wait before sending another reset email.");return}try{await HT(Ee,O),alert(`Password reset email sent to ${O}`),ne(Me=>({...Me,[O]:60}))}catch(Me){console.error("Error sending reset email:",Me.message),alert("Failed to send reset email. Please try again.")}},L=()=>{m(!0)},D=async()=>{if(!p||!T||!x||!U){alert("Please fill in all fields.");return}if(U.length<6){alert("Password must be at least 6 characters long.");return}const O=new Date().toISOString();try{const Me=await fetch("http://localhost:5000/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:p,lastName:T,email:x,password:U,role:B,createdAt:new Date().toISOString()})}),Ne=await Me.json();Me.ok?(s(ce=>[...ce,{id:Ne.uid,firstName:p,lastName:T,email:x,role:B,createdAt:O,verified:!1}].sort((Ae,Te)=>new Date(Te.createdAt)-new Date(Ae.createdAt))),alert("User created successfully!"),m(!1),_(""),S(""),M(""),W(""),z("user")):alert("Failed to create user: "+Ne.error)}catch(Me){console.error("Error:",Me),alert("Something went wrong.")}},V=async O=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const Ne=await fetch(`http://localhost:5000/deleteUser/${O}`,{method:"DELETE"}),ce=await Ne.json();Ne.ok?(s(Ae=>Ae.filter(Te=>Te.id!==O)),alert("User deleted successfully!")):alert("Failed to delete user: "+ce.error)}catch(Ne){console.error("Error:",Ne),alert("Something went wrong while deleting the user.")}},j=async(O,Me)=>{const Ne=!Me;try{await zh(Or(si,"Users",O),{verified:Ne}),s(ce=>ce.map(Ae=>Ae.id===O?{...Ae,verified:Ne}:Ae))}catch(ce){console.error("Error updating verification status:",ce),alert("Failed to update verification status.")}},$=()=>{m(!1)};return E.jsxs(E.Fragment,{children:[E.jsxs($t,{show:i,onHide:e,centered:!0,size:"xl",className:"sm:max-w-full sm:h-screen sm:modal-dialog",children:[E.jsx($t.Header,{closeButton:!0,children:E.jsx($t.Title,{children:"Manage Users"})}),E.jsxs($t.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:[E.jsx(we.Control,{type:"text",placeholder:"Search by email...",value:o,onChange:O=>l(O.target.value),className:"mb-3"}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-gray-200",children:[E.jsx("th",{className:"p-2 border",children:"Email"}),E.jsx("th",{className:"p-2 border",children:"Role"}),E.jsx("th",{className:"p-2 border"}),E.jsx("th",{className:"p-2 border",children:"Verified"}),E.jsx("th",{className:"p-2 border"}),E.jsx("th",{className:"p-2 border",children:"Reset Password"})]})}),E.jsx("tbody",{className:"max-h-[300px] overflow-y-auto",children:t.filter(O=>O.email.toLowerCase().includes(o.toLowerCase())).map(O=>E.jsxs("tr",{className:"text-center",children:[E.jsx("td",{className:"p-2 border",children:O.email}),E.jsx("td",{className:"p-2 border",children:O.role}),E.jsx("td",{className:"p-2 border",children:E.jsx(Gn,{variant:O.role==="staff"?"danger":"success",onClick:()=>O.role!=="admin"&&Ce(O.id,O.role),disabled:O.role==="admin",className:O.role==="admin"?"bg-gray-400 text-gray-700 cursor-not-allowed":"",children:O.role==="admin"?"Admin":`Change to ${O.role==="staff"?"User":"Staff"}`})}),E.jsx("td",{className:"p-2 border",children:O.verified?"Yes":"No"}),E.jsx("td",{className:"p-2 border",children:E.jsx(Gn,{variant:O.verified?"danger":"success",onClick:()=>j(O.id,O.verified),children:O.verified?"Unverify":"Verify"})}),E.jsx("td",{className:"p-2 border",children:E.jsx(Gn,{variant:"warning",onClick:()=>F(O.email),disabled:!!te[O.email],children:te[O.email]?`Wait (${te[O.email]}s)`:"Send Reset Email"})}),E.jsx("td",{className:"p-2 border",children:E.jsx(Gn,{variant:"danger",onClick:()=>V(O.id),children:"Delete"})})]},O.id))})]})})]}),E.jsx($t.Footer,{className:"flex justify-end",children:E.jsx(Gn,{variant:"primary",onClick:L,children:"Add New User"})})]}),E.jsxs($t,{show:h,onHide:()=>m(!1),centered:!0,size:"md",children:[E.jsx($t.Header,{closeButton:!0,children:E.jsx($t.Title,{className:"text-center w-full",children:"Add New User"})}),E.jsx($t.Body,{children:E.jsxs(we,{children:[E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"First Name"}),E.jsx(we.Control,{type:"text",value:p,onChange:O=>{const Me=O.target.value.toLowerCase().replace(/\b\w/g,Ne=>Ne.toUpperCase());_(Me)}})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Last Name"}),E.jsx(we.Control,{type:"text",value:T,onChange:O=>{const Me=O.target.value.toLowerCase().replace(/\b\w/g,Ne=>Ne.toUpperCase());S(Me)}})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Email"}),E.jsx(we.Control,{type:"email",value:x,onChange:O=>M(O.target.value)})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Password"}),E.jsx(we.Control,{type:"password",value:U,onChange:O=>W(O.target.value)})]})]})}),E.jsxs($t.Footer,{className:"flex justify-between w-full",children:[E.jsx(Gn,{variant:"secondary",onClick:$,children:"Back"}),E.jsx(Gn,{variant:"success",onClick:async()=>{await D()},children:"Add User"})]})]})]})}var rS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bb=Fi.createContext&&Fi.createContext(rS),sL=["attr","size","title"];function aL(i,e){if(i==null)return{};var t=oL(i,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function oL(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function im(){return im=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},im.apply(this,arguments)}function Fb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function rm(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fb(Object(t),!0).forEach(function(s){lL(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Fb(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function lL(i,e,t){return e=uL(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function uL(i){var e=cL(i,"string");return typeof e=="symbol"?e:e+""}function cL(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function sS(i){return i&&i.map((e,t)=>Fi.createElement(e.tag,rm({key:t},e.attr),sS(e.child)))}function Wo(i){return e=>Fi.createElement(hL,im({attr:rm({},i.attr)},e),sS(i.child))}function hL(i){var e=t=>{var{attr:s,size:o,title:l}=i,h=aL(i,sL),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),Fi.createElement("svg",im({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:rm(rm({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&Fi.createElement("title",null,l),i.children)};return Bb!==void 0?Fi.createElement(Bb.Consumer,null,t=>e(t)):e(rS)}function fL(i){return Wo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(i)}function dL(i){return Wo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(i)}function mL(i){return Wo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(i)}function pL(i){return Wo({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(i)}const gL=()=>{const[i,e]=k.useState(!1),[t,s]=k.useState(!1),[o,l]=k.useState(null),[h,m]=k.useState(""),[p,_]=k.useState(void 0),[T,S]=k.useState(!1),[x,M]=k.useState(!1),U=om(),W=k.useRef(null);k.useEffect(()=>{const z=Aa.onAuthStateChanged(async te=>{if(l(te),te)try{const ne=await Lm(Or(si,"Users",te.uid));ne.exists()?(m(ne.data().firstName),_(ne.data().role)):_(null)}catch(ne){console.error("Error fetching user data: ",ne),_(null)}else _(null)});return()=>z()},[]),k.useEffect(()=>{const z=te=>{W.current&&!W.current.contains(te.target)&&s(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]);const B=async()=>{try{s(!1),e(!1),await SI(Aa),U("/")}catch(z){console.error("Error signing out: ",z)}};return p===void 0?E.jsx("nav",{className:"border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700 font-semibold z-40"}):E.jsx(E.Fragment,{children:p!==void 0&&E.jsxs("nav",{className:`font-semibold z-40 
        ${p==="admin"||p==="staff"?"bg-blue-300 border-b-2":"bg-white"} 
        `,children:[E.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-3",children:[p==="user"||p===void 0?E.jsx(Nt,{to:"/",className:`flex items-center space-x-3 transition-transform duration-300 
              hover:scale-110
            }`,children:E.jsx("img",{src:Id,className:"h-12 w-auto",alt:"FCL"})}):E.jsx(E.Fragment,{children:E.jsx(Nt,{to:p==="admin"||p==="staff"?"/AdminDashboard":"/",className:`flex items-center space-x-3 transition-transform duration-300 
                hover:scale-110 
                ${p==="admin"||p==="staff"?"md:hidden":""}
              `,children:E.jsx("img",{src:Id,className:"h-12 w-auto",alt:"FCL"})})}),E.jsxs("div",{className:"hidden md:flex items-center gap-1 ml-auto",children:[p==="admin"?E.jsx(E.Fragment,{children:E.jsx("div",{className:`lexend mr-3 cursor-pointer relative block py-2 px-3 text-black no-underline rounded transition-all duration-200 transform hover:scale-105 active:scale-95 
                          after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:w-0 after:bg-blue-500 after:transition-all after:duration-300 
                          hover:after:w-full`,onClick:()=>S(!0),children:"Manage Users"})}):p==="staff"?E.jsxs(E.Fragment,{children:[E.jsx(Nt,{to:"/About",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Manage Something"}),E.jsx(Nt,{to:"/Services",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Messages"}),E.jsx(Nt,{to:"/OurCommitment",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Idunno"})]}):p==="user"?E.jsxs(E.Fragment,{children:[E.jsx(Nt,{to:"/About",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"About Us"}),E.jsx(Nt,{to:"/Services",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Services"}),E.jsx(Nt,{to:"/OurCommitment",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Our Commitment"})]}):E.jsxs(E.Fragment,{children:[E.jsx(Nt,{to:"/About",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"About Us"}),E.jsx(Nt,{to:"/Services",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Services"}),E.jsx(Nt,{to:"/OurCommitment",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Our Commitment"})]}),(p==="admin"||p==="staff")&&E.jsxs("div",{className:"relative z-40",ref:W,children:[E.jsx("button",{onClick:()=>s(!t),className:`text-black text-3xl p-2 transition-transform duration-300 ease-in-out scale-150
                          hover:scale-120 active:scale-150`,children:E.jsx(pL,{className:`transition-all duration-300 ${t?"text-black scale-110":"text-gray-700"}`})}),E.jsx("div",{className:`absolute right-0 mt-2 w-40 bg-white shadow-lg rounded-md 
                            transition-all duration-300 ease-in-out ${t?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:E.jsxs("ul",{className:"border rounded !pl-0 !mb-0 w-full text-gray-800",children:[E.jsx("li",{className:"px-4 py-3 hover:bg-gray-300 transition duration-200 cursor-pointer",children:"Authentication"}),E.jsx("li",{onClick:B,className:"px-4 py-3 hover:bg-gray-300 transition duration-200 cursor-pointer",children:"Log Out"})]})})]})]}),p==="admin"||p==="staff"?E.jsx("div",{className:"md:hidden flex items-center space-x-2 md:space-x-3",children:E.jsx("button",{onClick:()=>e(!0),className:"p-2 text-black rounded-lg hover:bg-gray-100 focus:outline-none",children:E.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),E.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),E.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}):E.jsx(E.Fragment,{children:E.jsx("div",{className:"flex items-center space-x-2 md:space-x-3",children:E.jsx("button",{onClick:()=>e(!0),className:"p-2 text-black rounded-lg hover:bg-gray-100 focus:outline-none",children:E.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),E.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),E.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})})})]}),i&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 backdrop-blur-md z-40",onClick:()=>e(!1)}),E.jsxs("div",{className:`fixed inset-y-0 right-0 w-full sm:w-80 bg-white text-black shadow-lg transform ${i?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out z-50 flex flex-col h-full`,children:[E.jsxs("div",{className:"p-5 flex justify-between items-center border-b border-gray-500 bg-[rgba(0,127,130,255)]",children:[E.jsx("span",{className:"text-md font-semibold",children:E.jsx("a",{children:o?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"lexend drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] text-white text-xl mb-3",children:["Welcome, ",p==="admin"?"Admin":h||"User","!"]}),E.jsx("button",{onClick:B,className:`lexend drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                      after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/100 after:transition-all after:duration-300 
                      hover:after:w-full text-white/100 hover:text-blue-300 cursor-pointer text-sm`,children:"Log Out"})]}):E.jsx(iL,{setIsOpen:e})})}),E.jsx("button",{onClick:()=>e(!1),className:"text-black hover:text-black",children:"✕"})]}),E.jsxs("ul",{className:"p-0 space-y-0 flex flex-col items-center text-center flex-grow w-full text-xl",children:[p==="admin"?E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"w-full",children:E.jsx("div",{className:`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 hover:bg-blue-200 active:bg-blue-300 
                              hover:scale-105 cursor-pointer`,onClick:()=>S(!0),children:"Manage Users"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/Messages",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Messages"})})]}):p==="staff"?E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/AdminDashboard",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Dashboard"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Messages"})})]}):p==="user"?E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/About",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"About Us"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/Services",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Services"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/OurCommitment",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Our Commitment"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/TrackPackage",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Track Package"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/Messages",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Chat with Admin"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/Contact",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Contact Us!"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Need Help?"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/About",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"About Us"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/Services",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Services"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/OurCommitment",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Our Commitment"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/TrackPackage",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Track Package"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/Contact",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Contact Us!"})}),E.jsx("li",{className:"w-full",children:E.jsx(Nt,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Need Help?"})})]}),E.jsxs("li",{className:"bg-white mt-auto pt-4 border-t w-full text-center text-gray-500 text-sm",children:["© 2022 Frances Logistics. All rights reserved.",E.jsx("img",{src:Id,className:"mx-auto h-15 w-auto mt-2",alt:"FCL"})]})]}),E.jsx(rL,{show:T,onHide:()=>S(!1)})]})]})})};function _L(i){return Wo({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(i)}function yL(i){return Wo({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM224 448a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM304 64L80 64l0 320 224 0 0-320z"},child:[]}]})(i)}function vL(i){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(i)}function EL(i){return Wo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(i)}const bL=()=>E.jsxs("footer",{className:"bg-white text-black py-10 border-t",children:[E.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col items-center md:flex-row md:justify-between text-center md:text-left",children:[E.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[E.jsx("div",{className:"flex justify-center md:justify-start w-full",children:E.jsx("img",{src:Id,className:"h-18 w-auto mb-2",alt:"FCL"})}),E.jsx("p",{className:"lexend mt-2 font-semibold text-center md:text-left",children:"Connecting countries one movement at a time."})]}),E.jsxs("div",{className:"lexend border-t md:border-t-0 flex flex-col items-center md:items-start mt-6 pt-5 md:!pt-0 md:mt-0",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Contact Us"}),E.jsxs("p",{className:"flex items-center space-x-2 ",children:[E.jsx(vL,{className:"text-lg h-4"}),E.jsx("span",{className:"ml-1",children:"+46 230 2842"})]}),E.jsxs("p",{className:"flex items-center space-x-2",children:[E.jsx(yL,{className:"text-lg"}),E.jsx("span",{className:"ml-1",children:"+63 912 345 6789"})]}),E.jsxs("p",{className:"flex items-center space-x-2",children:[E.jsx(EL,{className:"text-lg"}),E.jsx("span",{className:"ml-2",children:"cessamoroso@francesslogistics.com"})]}),E.jsxs("p",{className:"flex items-left md:!items-start space-x-2",children:[E.jsx(_L,{className:"text-lg"}),E.jsx("span",{className:"ml-2 text-center md:!text-left",children:"FAJC Building 2/F Unit-4 Buhay na Tubig, Imus, Cavite, Philippines"})]})]})]}),E.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-sm",children:["© ",new Date().getFullYear()," Francess Logistic Services OPC. All rights reserved."]})]}),TL="/cargofran/assets/background-jpV12ZVP.mp4",wL=()=>E.jsxs("div",{className:"relative w-full min-h-screen overflow-hidden",children:[E.jsxs("video",{className:"absolute inset-0 w-full h-full object-cover -z-10",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[E.jsx("source",{src:TL,type:"video/mp4"}),"Your browser does not support the video tag."]}),E.jsxs("div",{className:"relative flex flex-col pt-35 text-white px-6 text-center min-h-screen",children:[E.jsx("div",{className:"absolute inset-0 bg-cyan-300 opacity-30"}),E.jsx("h1",{className:"oswald drop-shadow-[2px_2px_2px_rgba(0,0,0,1)] relative !text-5xl md:!text-6xl font-bold",children:"CONNECTING COUNTRIES ONE MOVEMENT AT A TIME"}),E.jsx("p",{className:"kanit-thin drop-shadow-[2px_2px_2px_rgba(0,0,0,1)] relative mt-4 !text-lg md:!text-2xl",children:"Experience Seamless Freight and Logistics Services with FLS-OPC"})]})]}),AL=()=>E.jsx("div",{children:E.jsx(wL,{})}),SL=()=>E.jsx("div",{children:E.jsx("h1",{children:"This is about page"})}),RL=()=>E.jsx("div",{children:E.jsx("h1",{children:"This is services page"})}),CL=()=>E.jsx("div",{children:E.jsx("h1",{children:"HI THIS IS OUR COMMITMENT"})}),xL=()=>E.jsx("div",{children:E.jsx("h1",{children:"This is contact page"})});function IL(){const[i,e]=k.useState([]),[t,s]=k.useState({driver:"",status:"",trackingNumber:""}),[o,l]=k.useState(1);k.useEffect(()=>{const _=QD(sc(si,"DeliverTrack"),T=>{const S=T.docs.map(x=>({id:x.id,...x.data()}));if(e(S),S.length>0){const x=Math.max(...S.map(M=>M.autoIncrementId||0));l(x+1)}});return()=>_()},[]);const h=async()=>{t.driver&&t.status&&t.trackingNumber&&(await NA(sc(si,"DeliverTrack"),{driver:t.driver,status:t.status,trackingNumber:t.trackingNumber,autoIncrementId:o,timestamp:YD()}),s({driver:"",status:"",trackingNumber:""}),l(o+1))},m=async _=>{const T=prompt("Enter new status:");if(T){const S=Or(si,"DeliverTrack",_);await zh(S,{status:T})}},p=async _=>{const T=Or(si,"DeliverTrack",_);await KD(T)};return E.jsxs("div",{className:"p-4",children:[E.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Tracking System"}),E.jsxs("div",{className:"mb-4",children:[E.jsx("input",{type:"text",placeholder:"Driver Name",value:t.driver,onChange:_=>s({...t,driver:_.target.value}),className:"border p-2 mr-2"}),E.jsx("input",{type:"text",placeholder:"Status",value:t.status,onChange:_=>s({...t,status:_.target.value}),className:"border p-2 mr-2"}),E.jsx("input",{type:"text",placeholder:"Tracking Number",value:t.trackingNumber,onChange:_=>s({...t,trackingNumber:_.target.value}),className:"border p-2 mr-2"}),E.jsx("button",{onClick:h,className:"bg-blue-500 text-white p-2",children:"Add Delivery"})]}),E.jsx("ul",{children:i.map(_=>{var T;return E.jsxs("li",{className:"border-b p-2 flex justify-between",children:[E.jsxs("div",{children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Driver:"})," ",_.driver]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Status:"})," ",_.status]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Tracking #:"})," ",_.trackingNumber]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Package ID:"})," ",_.autoIncrementId]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Timestamp:"})," ",(T=_.timestamp)==null?void 0:T.toDate().toString()]})]}),E.jsxs("div",{children:[E.jsx("button",{onClick:()=>m(_.id),className:"text-yellow-500 mr-2",children:"Update"}),E.jsx("button",{onClick:()=>p(_.id),className:"text-red-500",children:"Delete"})]})]},_.id)})})]})}const NL=()=>E.jsx("div",{children:E.jsx("h1",{children:"aaa"})});function OL(){const[i,e]=k.useState(null),t=mm();return k.useEffect(()=>{const s=L_(t,o=>{e(o)});return()=>s()},[]),E.jsx("div",{children:E.jsxs("h1",{children:["Welcome ",i?i.email:"Guest"]})})}const DL=()=>{const[i,e]=k.useState(""),t=s=>{if(s.preventDefault(),!i)return;const o=`https://www.track-trace.com/aircargo?awb=${i}`;window.location.href=o};return E.jsxs("div",{className:"p-5 border rounded-lg shadow-md max-w-lg mx-auto",children:[E.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Track Your Air Cargo Shipment"}),E.jsxs("form",{onSubmit:t,className:"flex flex-col space-y-3",children:[E.jsx("label",{htmlFor:"awb",className:"text-sm font-medium",children:"Enter Air Waybill (AWB):"}),E.jsx("input",{type:"text",id:"awb",value:i,onChange:s=>e(s.target.value),placeholder:"Example: 123-45678901",required:!0,className:"border p-2 rounded w-full"}),E.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:"Track"})]})]})},kL=()=>E.jsx("div",{children:E.jsx(E.Fragment,{children:"HIIIIIIIII"})}),ML=()=>E.jsx("div",{children:E.jsx("h1",{children:"HIIIIII"})}),LL="/cargofran/assets/logo2-B_i3sFNE.png",My=()=>{const i=Bs();return E.jsx("div",{className:"flex hidden md:block w-64",children:E.jsxs("div",{className:"hidden md:flex flex-col w-64 min-w-[250px] h-screen bg-blue-200 border-r-2 p-5",children:[E.jsx("div",{className:"relative",children:E.jsx("img",{src:LL,className:`absolute top-[-20px] left-1/2 transform -translate-x-1/2 
                    w-220 max-w-[220px] h-30 object-contain z-10`,alt:"FCL"})}),E.jsxs("nav",{className:"m-auto space-y-6 text-2xl",children:[E.jsxs(wh,{to:"/AdminDashboard",className:`flex items-center p-3 rounded transition-all duration-300 transform 
              ${i.pathname==="/AdminDashboard"?"bg-gray-800 text-white scale-105 shadow-lg":"text-black hover:bg-gray-700 hover:text-white hover:scale-105"}`,children:[E.jsx(dL,{className:"mr-3"})," Dashboard"]}),E.jsxs(wh,{to:"/Shipments",className:`flex items-center p-3 rounded transition-all duration-300 transform 
              ${i.pathname==="/Shipments"?"bg-gray-800 text-white scale-105 shadow-lg":"text-black hover:bg-gray-700 hover:text-white hover:scale-105"}`,children:[E.jsx(mL,{className:"mr-3"})," Shipments"]}),E.jsxs(wh,{to:"/AdminMessages",className:`flex items-center p-3 rounded transition-all duration-300 transform 
              ${i.pathname==="/AdminMessages"?"bg-gray-800 text-white scale-105 shadow-lg":"text-black hover:bg-gray-700 hover:text-white hover:scale-105"}`,children:[E.jsx(fL,{className:"mr-3"})," Messages"]})]})]})})};function PL(){const[i,e]=k.useState(null),t=mm();return k.useEffect(()=>{const s=L_(t,o=>{e(o)});return()=>s()},[]),E.jsx("div",{children:E.jsx("div",{className:"flex flex-col md:flex-row",children:E.jsx(My,{})})})}const VL=()=>{const[i,e]=k.useState([]),[t,s]=k.useState(!1),[o,l]=k.useState(!1),[h,m]=k.useState(null),[p,_]=k.useState({packageNumber:"",shipperName:"",email:"",serviceType:"",packageStatus:"On the way",paid:!1,airwayBill:"",dateStarted:null});k.useEffect(()=>{(async()=>{const W=(await wy(sc(si,"Packages"))).docs.map(B=>({customId:B.data().customId,docId:B.id,...B.data()}));e(W)})()},[]);const T=async()=>{if(!p.packageNumber||!p.shipperName||!p.serviceType){alert("Please fill in Package Number, Shipper Name, and Service Type.");return}if(!window.confirm("Are you sure you want to add this shipment?"))return;const W=i.reduce((z,te)=>Math.max(z,te.customId||0),0)+1,B={...p,customId:W,dateStarted:new Date().toISOString()};try{const z=await NA(sc(si,"Packages"),B);e(te=>[...te,{customId:W,docId:z.id,...B}]),s(!1),_({packageNumber:"",shipperName:"",email:"",serviceType:"",packageStatus:"On the way",paid:!1,airwayBill:"",dateStarted:null})}catch(z){console.error("Error adding shipment:",z),alert("Failed to add shipment. Please try again.")}},S=async()=>{if(h&&window.confirm("Are you sure you want to save changes?"))try{await zh(Or(si,"Packages",h.docId),p),e(U=>U.map(W=>W.docId===h.docId?{...W,...p}:W)),l(!1),m(null)}catch(U){console.error("Error updating shipment:",U),alert("Failed to update shipment. Please try again.")}},x=async M=>{if(window.confirm("Are you sure you want to cancel this shipment?"))try{await zh(Or(si,"Packages",M.docId),{canceled:!0}),e(W=>W.map(B=>B.docId===M.docId?{...B,canceled:!0}:B))}catch(W){console.error("Error canceling shipment:",W),alert("Failed to cancel shipment. Please try again.")}};return E.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[E.jsx(My,{}),E.jsxs("div",{className:"flex-1 p-4 md:p-6 relative",children:[E.jsx("h2",{className:"text-xl font-semibold text-center mb-6",children:"Shipment Information"}),E.jsx("div",{className:"overflow-x-auto shadow rounded-lg",children:E.jsxs(nL,{striped:!0,bordered:!0,hover:!0,className:"min-w-full",children:[E.jsx("thead",{className:"bg-gray-200",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2",children:"ID"}),E.jsx("th",{className:"p-2",children:"Package Number"}),E.jsx("th",{className:"p-2",children:"Shipper"}),E.jsx("th",{className:"p-2",children:"Service"}),E.jsx("th",{className:"p-2",children:"Status"}),E.jsx("th",{className:"p-2",children:"Paid"}),E.jsx("th",{className:"p-2",children:"Date Started"}),E.jsx("th",{className:"p-2",children:"Actions"})]})}),E.jsx("tbody",{children:i.map(M=>E.jsxs("tr",{className:`text-center ${M.canceled?"bg-gray-100":""}`,children:[E.jsx("td",{className:"p-2",children:M.customId||M.docId}),E.jsx("td",{className:"p-2",children:M.packageNumber}),E.jsx("td",{className:"p-2",children:M.shipperName}),E.jsx("td",{className:"p-2",children:M.serviceType}),E.jsx("td",{className:"p-2",children:M.packageStatus}),E.jsx("td",{className:`p-2 ${M.paid?"bg-green-200":"bg-red-200"}`,children:M.paid?"Yes":"No"}),E.jsx("td",{className:"p-2",children:M.dateStarted?new Date(M.dateStarted).toLocaleDateString():"N/A"}),E.jsx("td",{className:"p-2",children:M.canceled?E.jsx("span",{className:"text-gray-500 font-semibold",children:"Canceled"}):E.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[E.jsx(Gn,{variant:"warning",size:"sm",onClick:()=>{m(M),_(M),l(!0)},children:"Edit"}),E.jsx(Gn,{variant:"danger",size:"sm",onClick:()=>x(M),children:"Cancel"})]})})]},M.docId))})]})}),E.jsx("div",{className:"mt-4 flex justify-center md:justify-end",children:E.jsx(Gn,{variant:"primary",onClick:()=>s(!0),children:"Add Shipment"})}),E.jsxs($t,{show:t,onHide:()=>s(!1),centered:!0,children:[E.jsx($t.Header,{closeButton:!0,children:E.jsx($t.Title,{children:"Add Shipment"})}),E.jsx($t.Body,{children:E.jsxs(we,{children:[E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Package Number"}),E.jsx(we.Control,{type:"text",value:p.packageNumber,onChange:M=>_({...p,packageNumber:M.target.value}),required:!0})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Shipper Full Name"}),E.jsx(we.Control,{type:"text",value:p.shipperName,onChange:M=>_({...p,shipperName:M.target.value}),required:!0})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Service Type"}),E.jsxs(we.Control,{as:"select",value:p.serviceType,onChange:M=>_({...p,serviceType:M.target.value}),required:!0,children:[E.jsx("option",{value:"",children:"Select"}),E.jsx("option",{children:"Import & Export (Air/Sea Freight)"}),E.jsx("option",{children:"Domestic (Air/Sea Freight)"}),E.jsx("option",{children:"Full Container Load (FCL)"}),E.jsx("option",{children:"Less than Container Load (LCL)"}),E.jsx("option",{children:"Pick-up and Delivery"}),E.jsx("option",{children:"Full Truckload (FTL)"}),E.jsx("option",{children:"Less than Truckload (LTL)"})]})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Airway Bill (Optional)"}),E.jsx(we.Control,{type:"text",value:p.airwayBill,onChange:M=>_({...p,airwayBill:M.target.value})})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Email (Optional)"}),E.jsx(we.Control,{type:"email",value:p.email,onChange:M=>_({...p,email:M.target.value})})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Package Status"}),E.jsxs(we.Control,{as:"select",value:p.packageStatus,onChange:M=>_({...p,packageStatus:M.target.value}),children:[E.jsx("option",{children:"On the way"}),E.jsx("option",{children:"In warehouse"}),E.jsx("option",{children:"On transit"}),E.jsx("option",{children:"Landed"}),E.jsx("option",{children:"Delivered"})]})]}),E.jsx(we.Group,{children:E.jsx(we.Check,{type:"checkbox",label:"Paid",checked:p.paid,onChange:M=>_({...p,paid:M.target.checked})})})]})}),E.jsxs($t.Footer,{children:[E.jsx(Gn,{variant:"secondary",onClick:()=>s(!1),children:"Close"}),E.jsx(Gn,{variant:"primary",onClick:T,children:"Add"})]})]}),E.jsxs($t,{show:o,onHide:()=>l(!1),centered:!0,children:[E.jsx($t.Header,{closeButton:!0,children:E.jsx($t.Title,{children:"Edit Shipment"})}),E.jsx($t.Body,{children:E.jsxs(we,{children:[E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Package Number"}),E.jsx("p",{className:"form-control-plaintext",children:p.packageNumber})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Shipper Full Name"}),E.jsx("p",{className:"form-control-plaintext",children:p.shipperName})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Airway Bill"}),E.jsx(we.Control,{type:"text",value:p.airwayBill,onChange:M=>_({...p,airwayBill:M.target.value})})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Email"}),E.jsx(we.Control,{type:"email",value:p.email,onChange:M=>_({...p,email:M.target.value})})]}),E.jsxs(we.Group,{className:"mb-3",children:[E.jsx(we.Label,{children:"Package Status"}),E.jsxs(we.Control,{as:"select",value:p.packageStatus,onChange:M=>_({...p,packageStatus:M.target.value}),children:[E.jsx("option",{children:"On the way"}),E.jsx("option",{children:"In warehouse"}),E.jsx("option",{children:"On transit"}),E.jsx("option",{children:"Landed"}),E.jsx("option",{children:"Delivered"})]})]}),E.jsx(we.Group,{children:E.jsx(we.Check,{type:"checkbox",label:"Paid",checked:p.paid,onChange:M=>_({...p,paid:M.target.checked})})})]})}),E.jsxs($t.Footer,{children:[E.jsx(Gn,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),E.jsx(Gn,{variant:"primary",onClick:S,children:"Save Changes"})]})]})]})]})},jL=()=>E.jsx("div",{children:E.jsx("div",{className:"flex flex-col md:flex-row",children:E.jsx(My,{})})}),UL=()=>{const i=Bs(),e=["/Shipments","/AdminMessages","/AdminDashboard"];return E.jsxs(E.Fragment,{children:[E.jsx(gL,{}),E.jsxs(uC,{children:[E.jsx(qn,{path:"/",element:E.jsx(AL,{})}),E.jsx(qn,{path:"/About",element:E.jsx(SL,{})}),E.jsx(qn,{path:"/Services",element:E.jsx(RL,{})}),E.jsx(qn,{path:"/OurCommitment",element:E.jsx(CL,{})}),E.jsx(qn,{path:"/Contact",element:E.jsx(xL,{})}),E.jsx(qn,{path:"/FirebaseTest",element:E.jsx(IL,{})}),E.jsx(qn,{path:"/TrackPackage",element:E.jsx(NL,{})}),E.jsx(qn,{path:"/AirCargoTracking",element:E.jsx(DL,{})}),E.jsx(qn,{path:"/UserDashboard",element:E.jsx(OL,{})}),E.jsx(qn,{path:"/ChatHelp",element:E.jsx(kL,{})}),E.jsx(qn,{path:"/Messages",element:E.jsx(ML,{})}),E.jsx(qn,{path:"/AdminDashboard",element:E.jsx(xg,{requiredRoles:["admin","staff"],children:E.jsx(PL,{})})}),E.jsx(qn,{path:"*",element:E.jsx(gd,{to:"/",replace:!0})}),E.jsx(qn,{path:"/Shipments",element:E.jsx(xg,{requiredRoles:["admin","staff"],children:E.jsx(VL,{})})}),E.jsx(qn,{path:"*",element:E.jsx(gd,{to:"/",replace:!0})}),E.jsx(qn,{path:"/AdminMessages",element:E.jsx(xg,{requiredRoles:["admin","staff"],children:E.jsx(jL,{})})}),E.jsx(qn,{path:"*",element:E.jsx(gd,{to:"/",replace:!0})})]}),!e.includes(i.pathname)&&E.jsx(bL,{})]})},zL=k.createContext(),BL=({children:i})=>{const[e,t]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{const l=L_(Aa,async h=>{if(h){const m=await Lm(Or(si,"Users",h.uid));m.exists()?t({...h,role:m.data().role}):t(h)}else t(null);o(!1)});return()=>l()},[]),E.jsx(zL.Provider,{value:{user:e,loading:s},children:i})};var Nd={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var FL=Nd.exports,Hb;function HL(){return Hb||(Hb=1,function(i,e){(function(t,s){i.exports=s()})(FL,function(){const t=new Map,s={set(A,d,v){t.has(A)||t.set(A,new Map);const C=t.get(A);C.has(d)||C.size===0?C.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(C.keys())[0]}.`)},get:(A,d)=>t.has(A)&&t.get(A).get(d)||null,remove(A,d){if(!t.has(A))return;const v=t.get(A);v.delete(d),v.size===0&&t.delete(A)}},o="transitionend",l=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),A),h=A=>{A.dispatchEvent(new Event(o))},m=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),p=A=>m(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(l(A)):null,_=A=>{if(!m(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",v=A.closest("details:not([open])");if(!v)return d;if(v!==A){const C=A.closest("summary");if(C&&C.parentNode!==v||C===null)return!1}return d},T=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),S=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?S(A.parentNode):null},x=()=>{},M=A=>{A.offsetHeight},U=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,W=[],B=()=>document.documentElement.dir==="rtl",z=A=>{var d;d=()=>{const v=U();if(v){const C=A.NAME,H=v.fn[C];v.fn[C]=A.jQueryInterface,v.fn[C].Constructor=A,v.fn[C].noConflict=()=>(v.fn[C]=H,A.jQueryInterface)}},document.readyState==="loading"?(W.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of W)v()}),W.push(d)):d()},te=(A,d=[],v=A)=>typeof A=="function"?A(...d):v,ne=(A,d,v=!0)=>{if(!v)return void te(A);const C=(ee=>{if(!ee)return 0;let{transitionDuration:ae,transitionDelay:pe}=window.getComputedStyle(ee);const he=Number.parseFloat(ae),de=Number.parseFloat(pe);return he||de?(ae=ae.split(",")[0],pe=pe.split(",")[0],1e3*(Number.parseFloat(ae)+Number.parseFloat(pe))):0})(d)+5;let H=!1;const K=({target:ee})=>{ee===d&&(H=!0,d.removeEventListener(o,K),te(A))};d.addEventListener(o,K),setTimeout(()=>{H||h(d)},C)},_e=(A,d,v,C)=>{const H=A.length;let K=A.indexOf(d);return K===-1?!v&&C?A[H-1]:A[0]:(K+=v?1:-1,C&&(K=(K+H)%H),A[Math.max(0,Math.min(K,H-1))])},Ee=/[^.]*(?=\..*)\.|.*/,Ce=/\..*/,F=/::\d+$/,L={};let D=1;const V={mouseenter:"mouseover",mouseleave:"mouseout"},j=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $(A,d){return d&&`${d}::${D++}`||A.uidEvent||D++}function O(A){const d=$(A);return A.uidEvent=d,L[d]=L[d]||{},L[d]}function Me(A,d,v=null){return Object.values(A).find(C=>C.callable===d&&C.delegationSelector===v)}function Ne(A,d,v){const C=typeof d=="string",H=C?v:d||v;let K=it(A);return j.has(K)||(K=A),[C,H,K]}function ce(A,d,v,C,H){if(typeof d!="string"||!A)return;let[K,ee,ae]=Ne(d,v,C);d in V&&(ee=(ze=>function(Be){if(!Be.relatedTarget||Be.relatedTarget!==Be.delegateTarget&&!Be.delegateTarget.contains(Be.relatedTarget))return ze.call(this,Be)})(ee));const pe=O(A),he=pe[ae]||(pe[ae]={}),de=Me(he,ee,K?v:null);if(de)return void(de.oneOff=de.oneOff&&H);const me=$(ee,d.replace(Ee,"")),Ge=K?function(Le,ze,Be){return function Fe(ht){const xt=Le.querySelectorAll(ze);for(let{target:Oe}=ht;Oe&&Oe!==this;Oe=Oe.parentNode)for(const ft of xt)if(ft===Oe)return ue(ht,{delegateTarget:Oe}),Fe.oneOff&&N.off(Le,ht.type,ze,Be),Be.apply(Oe,[ht])}}(A,v,ee):function(Le,ze){return function Be(Fe){return ue(Fe,{delegateTarget:Le}),Be.oneOff&&N.off(Le,Fe.type,ze),ze.apply(Le,[Fe])}}(A,ee);Ge.delegationSelector=K?v:null,Ge.callable=ee,Ge.oneOff=H,Ge.uidEvent=me,he[me]=Ge,A.addEventListener(ae,Ge,K)}function Ae(A,d,v,C,H){const K=Me(d[v],C,H);K&&(A.removeEventListener(v,K,!!H),delete d[v][K.uidEvent])}function Te(A,d,v,C){const H=d[v]||{};for(const[K,ee]of Object.entries(H))K.includes(C)&&Ae(A,d,v,ee.callable,ee.delegationSelector)}function it(A){return A=A.replace(Ce,""),V[A]||A}const N={on(A,d,v,C){ce(A,d,v,C,!1)},one(A,d,v,C){ce(A,d,v,C,!0)},off(A,d,v,C){if(typeof d!="string"||!A)return;const[H,K,ee]=Ne(d,v,C),ae=ee!==d,pe=O(A),he=pe[ee]||{},de=d.startsWith(".");if(K===void 0){if(de)for(const me of Object.keys(pe))Te(A,pe,me,d.slice(1));for(const[me,Ge]of Object.entries(he)){const Le=me.replace(F,"");ae&&!d.includes(Le)||Ae(A,pe,ee,Ge.callable,Ge.delegationSelector)}}else{if(!Object.keys(he).length)return;Ae(A,pe,ee,K,H?v:null)}},trigger(A,d,v){if(typeof d!="string"||!A)return null;const C=U();let H=null,K=!0,ee=!0,ae=!1;d!==it(d)&&C&&(H=C.Event(d,v),C(A).trigger(H),K=!H.isPropagationStopped(),ee=!H.isImmediatePropagationStopped(),ae=H.isDefaultPrevented());const pe=ue(new Event(d,{bubbles:K,cancelable:!0}),v);return ae&&pe.preventDefault(),ee&&A.dispatchEvent(pe),pe.defaultPrevented&&H&&H.preventDefault(),pe}};function ue(A,d={}){for(const[v,C]of Object.entries(d))try{A[v]=C}catch{Object.defineProperty(A,v,{configurable:!0,get:()=>C})}return A}function Se(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function be(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const ye={setDataAttribute(A,d,v){A.setAttribute(`data-bs-${be(d)}`,v)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${be(d)}`)},getDataAttributes(A){if(!A)return{};const d={},v=Object.keys(A.dataset).filter(C=>C.startsWith("bs")&&!C.startsWith("bsConfig"));for(const C of v){let H=C.replace(/^bs/,"");H=H.charAt(0).toLowerCase()+H.slice(1,H.length),d[H]=Se(A.dataset[C])}return d},getDataAttribute:(A,d)=>Se(A.getAttribute(`data-bs-${be(d)}`))};class Ue{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const C=m(v)?ye.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof C=="object"?C:{},...m(v)?ye.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[H,K]of Object.entries(v)){const ee=d[H],ae=m(ee)?"element":(C=ee)==null?`${C}`:Object.prototype.toString.call(C).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(K).test(ae))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${H}" provided type "${ae}" but expected type "${K}".`)}var C}}class ke extends Ue{constructor(d,v){super(),(d=p(d))&&(this._element=d,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,C=!0){ne(d,v,C)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(p(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Ct=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let v=A.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>l(v)).join(","):null},ge={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(v=>v.matches(d)),parents(A,d){const v=[];let C=A.parentNode.closest(d);for(;C;)v.push(C),C=C.parentNode.closest(d);return v},prev(A,d){let v=A.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(A,d){let v=A.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(v=>!T(v)&&_(v))},getSelectorFromElement(A){const d=Ct(A);return d&&ge.findOne(d)?d:null},getElementFromSelector(A){const d=Ct(A);return d?ge.findOne(d):null},getMultipleElementsFromSelector(A){const d=Ct(A);return d?ge.find(d):[]}},yt=(A,d="hide")=>{const v=`click.dismiss${A.EVENT_KEY}`,C=A.NAME;N.on(document,v,`[data-bs-dismiss="${C}"]`,function(H){if(["A","AREA"].includes(this.tagName)&&H.preventDefault(),T(this))return;const K=ge.getElementFromSelector(this)||this.closest(`.${C}`);A.getOrCreateInstance(K)[d]()})},Ze=".bs.alert",Xt=`close${Ze}`,Nn=`closed${Ze}`;class Ft extends ke{static get NAME(){return"alert"}close(){if(N.trigger(this._element,Xt).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),N.trigger(this._element,Nn),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=Ft.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}yt(Ft,"close"),z(Ft);const On='[data-bs-toggle="button"]';class Je extends ke{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Je.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}N.on(document,"click.bs.button.data-api",On,A=>{A.preventDefault();const d=A.target.closest(On);Je.getOrCreateInstance(d).toggle()}),z(Je);const ln=".bs.swipe",qi=`touchstart${ln}`,us=`touchmove${ln}`,cs=`touchend${ln}`,Dr=`pointerdown${ln}`,hs=`pointerup${ln}`,Xo={endCallback:null,leftCallback:null,rightCallback:null},qs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zt extends Ue{constructor(d,v){super(),this._element=d,d&&Zt.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Xo}static get DefaultType(){return qs}static get NAME(){return"swipe"}dispose(){N.off(this._element,ln)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),te(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&te(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,Dr,d=>this._start(d)),N.on(this._element,hs,d=>this._end(d)),this._element.classList.add("pointer-event")):(N.on(this._element,qi,d=>this._start(d)),N.on(this._element,us,d=>this._move(d)),N.on(this._element,cs,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const _i=".bs.carousel",je=".data-api",Tt="next",Tn="prev",kr="left",fs="right",gc=`slide${_i}`,Mr=`slid${_i}`,ds=`keydown${_i}`,Dn=`mouseenter${_i}`,Zo=`mouseleave${_i}`,or=`dragstart${_i}`,Kn=`load${_i}${je}`,Jo=`click${_i}${je}`,el="carousel",$s="active",$i=".active",Lr=".carousel-item",Gi=$i+Lr,Ni={ArrowLeft:fs,ArrowRight:kr},ms={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ua={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class lr extends ke{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ge.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===el&&this.cycle()}static get Default(){return ms}static get DefaultType(){return Ua}static get NAME(){return"carousel"}next(){this._slide(Tt)}nextWhenVisible(){!document.hidden&&_(this._element)&&this.next()}prev(){this._slide(Tn)}pause(){this._isSliding&&h(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?N.one(this._element,Mr,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void N.one(this._element,Mr,()=>this.to(d));const C=this._getItemIndex(this._getActive());if(C===d)return;const H=d>C?Tt:Tn;this._slide(H,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&N.on(this._element,ds,d=>this._keydown(d)),this._config.pause==="hover"&&(N.on(this._element,Dn,()=>this.pause()),N.on(this._element,Zo,()=>this._maybeEnableCycle())),this._config.touch&&Zt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ge.find(".carousel-item img",this._element))N.on(v,or,C=>C.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(kr)),rightCallback:()=>this._slide(this._directionToOrder(fs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Zt(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=Ni[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=ge.findOne($i,this._indicatorsElement);v.classList.remove($s),v.removeAttribute("aria-current");const C=ge.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);C&&(C.classList.add($s),C.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const C=this._getActive(),H=d===Tt,K=v||_e(this._getItems(),C,H,this._config.wrap);if(K===C)return;const ee=this._getItemIndex(K),ae=me=>N.trigger(this._element,me,{relatedTarget:K,direction:this._orderToDirection(d),from:this._getItemIndex(C),to:ee});if(ae(gc).defaultPrevented||!C||!K)return;const pe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ee),this._activeElement=K;const he=H?"carousel-item-start":"carousel-item-end",de=H?"carousel-item-next":"carousel-item-prev";K.classList.add(de),M(K),C.classList.add(he),K.classList.add(he),this._queueCallback(()=>{K.classList.remove(he,de),K.classList.add($s),C.classList.remove($s,de,he),this._isSliding=!1,ae(Mr)},C,this._isAnimated()),pe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ge.findOne(Gi,this._element)}_getItems(){return ge.find(Lr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return B()?d===kr?Tn:Tt:d===kr?Tt:Tn}_orderToDirection(d){return B()?d===Tn?kr:fs:d===Tn?fs:kr}static jQueryInterface(d){return this.each(function(){const v=lr.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}N.on(document,Jo,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=ge.getElementFromSelector(this);if(!d||!d.classList.contains(el))return;A.preventDefault();const v=lr.getOrCreateInstance(d),C=this.getAttribute("data-bs-slide-to");return C?(v.to(C),void v._maybeEnableCycle()):ye.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),N.on(window,Kn,()=>{const A=ge.find('[data-bs-ride="carousel"]');for(const d of A)lr.getOrCreateInstance(d)}),z(lr);const Oi=".bs.collapse",za=`show${Oi}`,Kt=`shown${Oi}`,Kl=`hide${Oi}`,ps=`hidden${Oi}`,gs=`click${Oi}.data-api`,Ba="show",Pr="collapse",Ki="collapsing",ur=`:scope .${Pr} .${Pr}`,Jt='[data-bs-toggle="collapse"]',un={parent:null,toggle:!0},Vr={parent:"(null|element)",toggle:"boolean"};class Di extends ke{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const C=ge.find(Jt);for(const H of C){const K=ge.getSelectorFromElement(H),ee=ge.find(K).filter(ae=>ae===this._element);K!==null&&ee.length&&this._triggerArray.push(H)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return un}static get DefaultType(){return Vr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(H=>H!==this._element).map(H=>Di.getOrCreateInstance(H,{toggle:!1}))),d.length&&d[0]._isTransitioning||N.trigger(this._element,za).defaultPrevented)return;for(const H of d)H.hide();const v=this._getDimension();this._element.classList.remove(Pr),this._element.classList.add(Ki),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(Pr,Ba),this._element.style[v]="",N.trigger(this._element,Kt)},this._element,!0),this._element.style[v]=`${this._element[C]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,Kl).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,M(this._element),this._element.classList.add(Ki),this._element.classList.remove(Pr,Ba);for(const v of this._triggerArray){const C=ge.getElementFromSelector(v);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(Pr),N.trigger(this._element,ps)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Ba)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=p(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Jt);for(const v of d){const C=ge.getElementFromSelector(v);C&&this._addAriaAndCollapsedClass([v],this._isShown(C))}}_getFirstLevelChildren(d){const v=ge.find(ur,this._config.parent);return ge.find(d,this._config.parent).filter(C=>!v.includes(C))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const C of d)C.classList.toggle("collapsed",!v),C.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const C=Di.getOrCreateInstance(this,v);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d]()}})}}N.on(document,gs,Jt,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of ge.getMultipleElementsFromSelector(this))Di.getOrCreateInstance(d,{toggle:!1}).toggle()}),z(Di);var en="top",Ht="bottom",wn="right",qt="left",cr="auto",kn=[en,Ht,wn,qt],Qn="start",yi="end",jr="clippingParents",Ot="viewport",hr="popper",Gs="reference",Yn=kn.reduce(function(A,d){return A.concat([d+"-"+Qn,d+"-"+yi])},[]),Mn=[].concat(kn,[cr]).reduce(function(A,d){return A.concat([d,d+"-"+Qn,d+"-"+yi])},[]),oi="beforeRead",Ql="read",Fa="afterRead",Ha="beforeMain",tl="main",Ur="afterMain",zr="beforeWrite",vi="write",Ln="afterWrite",nl=[oi,Ql,Fa,Ha,tl,Ur,zr,vi,Ln];function ki(A){return A?(A.nodeName||"").toLowerCase():null}function cn(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function Qi(A){return A instanceof cn(A).Element||A instanceof Element}function An(A){return A instanceof cn(A).HTMLElement||A instanceof HTMLElement}function Yi(A){return typeof ShadowRoot<"u"&&(A instanceof cn(A).ShadowRoot||A instanceof ShadowRoot)}const Lt={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(v){var C=d.styles[v]||{},H=d.attributes[v]||{},K=d.elements[v];An(K)&&ki(K)&&(Object.assign(K.style,C),Object.keys(H).forEach(function(ee){var ae=H[ee];ae===!1?K.removeAttribute(ee):K.setAttribute(ee,ae===!0?"":ae)}))})},effect:function(A){var d=A.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(C){var H=d.elements[C],K=d.attributes[C]||{},ee=Object.keys(d.styles.hasOwnProperty(C)?d.styles[C]:v[C]).reduce(function(ae,pe){return ae[pe]="",ae},{});An(H)&&ki(H)&&(Object.assign(H.style,ee),Object.keys(K).forEach(function(ae){H.removeAttribute(ae)}))})}},requires:["computeStyles"]};function Sn(A){return A.split("-")[0]}var Ei=Math.max,Br=Math.min,et=Math.round;function Fr(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Hr(){return!/^((?!chrome|android).)*safari/i.test(Fr())}function Rn(A,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var C=A.getBoundingClientRect(),H=1,K=1;d&&An(A)&&(H=A.offsetWidth>0&&et(C.width)/A.offsetWidth||1,K=A.offsetHeight>0&&et(C.height)/A.offsetHeight||1);var ee=(Qi(A)?cn(A):window).visualViewport,ae=!Hr()&&v,pe=(C.left+(ae&&ee?ee.offsetLeft:0))/H,he=(C.top+(ae&&ee?ee.offsetTop:0))/K,de=C.width/H,me=C.height/K;return{width:de,height:me,top:he,right:pe+de,bottom:he+me,left:pe,x:pe,y:he}}function il(A){var d=Rn(A),v=A.offsetWidth,C=A.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-C)<=1&&(C=d.height),{x:A.offsetLeft,y:A.offsetTop,width:v,height:C}}function qa(A,d){var v=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(v&&Yi(v)){var C=d;do{if(C&&A.isSameNode(C))return!0;C=C.parentNode||C.host}while(C)}return!1}function Mi(A){return cn(A).getComputedStyle(A)}function rl(A){return["table","td","th"].indexOf(ki(A))>=0}function fr(A){return((Qi(A)?A.ownerDocument:A.document)||window.document).documentElement}function $a(A){return ki(A)==="html"?A:A.assignedSlot||A.parentNode||(Yi(A)?A.host:null)||fr(A)}function Wi(A){return An(A)&&Mi(A).position!=="fixed"?A.offsetParent:null}function Pn(A){for(var d=cn(A),v=Wi(A);v&&rl(v)&&Mi(v).position==="static";)v=Wi(v);return v&&(ki(v)==="html"||ki(v)==="body"&&Mi(v).position==="static")?d:v||function(C){var H=/firefox/i.test(Fr());if(/Trident/i.test(Fr())&&An(C)&&Mi(C).position==="fixed")return null;var K=$a(C);for(Yi(K)&&(K=K.host);An(K)&&["html","body"].indexOf(ki(K))<0;){var ee=Mi(K);if(ee.transform!=="none"||ee.perspective!=="none"||ee.contain==="paint"||["transform","perspective"].indexOf(ee.willChange)!==-1||H&&ee.willChange==="filter"||H&&ee.filter&&ee.filter!=="none")return K;K=K.parentNode}return null}(A)||d}function _s(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function bi(A,d,v){return Ei(A,Br(d,v))}function dr(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function mr(A,d){return d.reduce(function(v,C){return v[C]=A,v},{})}const Ga={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,v=A.state,C=A.name,H=A.options,K=v.elements.arrow,ee=v.modifiersData.popperOffsets,ae=Sn(v.placement),pe=_s(ae),he=[qt,wn].indexOf(ae)>=0?"height":"width";if(K&&ee){var de=function(St,vt){return dr(typeof(St=typeof St=="function"?St(Object.assign({},vt.rects,{placement:vt.placement})):St)!="number"?St:mr(St,kn))}(H.padding,v),me=il(K),Ge=pe==="y"?en:qt,Le=pe==="y"?Ht:wn,ze=v.rects.reference[he]+v.rects.reference[pe]-ee[pe]-v.rects.popper[he],Be=ee[pe]-v.rects.reference[pe],Fe=Pn(K),ht=Fe?pe==="y"?Fe.clientHeight||0:Fe.clientWidth||0:0,xt=ze/2-Be/2,Oe=de[Ge],ft=ht-me[he]-de[Le],Qe=ht/2-me[he]/2+xt,tt=bi(Oe,Qe,ft),Et=pe;v.modifiersData[C]=((d={})[Et]=tt,d.centerOffset=tt-Qe,d)}},effect:function(A){var d=A.state,v=A.options.element,C=v===void 0?"[data-popper-arrow]":v;C!=null&&(typeof C!="string"||(C=d.elements.popper.querySelector(C)))&&qa(d.elements.popper,C)&&(d.elements.arrow=C)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qr(A){return A.split("-")[1]}var Ks={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ti(A){var d,v=A.popper,C=A.popperRect,H=A.placement,K=A.variation,ee=A.offsets,ae=A.position,pe=A.gpuAcceleration,he=A.adaptive,de=A.roundOffsets,me=A.isFixed,Ge=ee.x,Le=Ge===void 0?0:Ge,ze=ee.y,Be=ze===void 0?0:ze,Fe=typeof de=="function"?de({x:Le,y:Be}):{x:Le,y:Be};Le=Fe.x,Be=Fe.y;var ht=ee.hasOwnProperty("x"),xt=ee.hasOwnProperty("y"),Oe=qt,ft=en,Qe=window;if(he){var tt=Pn(v),Et="clientHeight",St="clientWidth";tt===cn(v)&&Mi(tt=fr(v)).position!=="static"&&ae==="absolute"&&(Et="scrollHeight",St="scrollWidth"),(H===en||(H===qt||H===wn)&&K===yi)&&(ft=Ht,Be-=(me&&tt===Qe&&Qe.visualViewport?Qe.visualViewport.height:tt[Et])-C.height,Be*=pe?1:-1),H!==qt&&(H!==en&&H!==Ht||K!==yi)||(Oe=wn,Le-=(me&&tt===Qe&&Qe.visualViewport?Qe.visualViewport.width:tt[St])-C.width,Le*=pe?1:-1)}var vt,zt=Object.assign({position:ae},he&&Ks),Jn=de===!0?function(Vt,lt){var ei=Vt.x,Un=Vt.y,Dt=lt.devicePixelRatio||1;return{x:et(ei*Dt)/Dt||0,y:et(Un*Dt)/Dt||0}}({x:Le,y:Be},cn(v)):{x:Le,y:Be};return Le=Jn.x,Be=Jn.y,pe?Object.assign({},zt,((vt={})[ft]=xt?"0":"",vt[Oe]=ht?"0":"",vt.transform=(Qe.devicePixelRatio||1)<=1?"translate("+Le+"px, "+Be+"px)":"translate3d("+Le+"px, "+Be+"px, 0)",vt)):Object.assign({},zt,((d={})[ft]=xt?Be+"px":"",d[Oe]=ht?Le+"px":"",d.transform="",d))}const $r={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,v=A.options,C=v.gpuAcceleration,H=C===void 0||C,K=v.adaptive,ee=K===void 0||K,ae=v.roundOffsets,pe=ae===void 0||ae,he={placement:Sn(d.placement),variation:qr(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:H,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Ti(Object.assign({},he,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:ee,roundOffsets:pe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Ti(Object.assign({},he,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var wi={passive:!0};const pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,v=A.instance,C=A.options,H=C.scroll,K=H===void 0||H,ee=C.resize,ae=ee===void 0||ee,pe=cn(d.elements.popper),he=[].concat(d.scrollParents.reference,d.scrollParents.popper);return K&&he.forEach(function(de){de.addEventListener("scroll",v.update,wi)}),ae&&pe.addEventListener("resize",v.update,wi),function(){K&&he.forEach(function(de){de.removeEventListener("scroll",v.update,wi)}),ae&&pe.removeEventListener("resize",v.update,wi)}},data:{}};var Gr={left:"right",right:"left",bottom:"top",top:"bottom"};function ys(A){return A.replace(/left|right|bottom|top/g,function(d){return Gr[d]})}var gr={start:"end",end:"start"};function Xi(A){return A.replace(/start|end/g,function(d){return gr[d]})}function Qs(A){var d=cn(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function tn(A){return Rn(fr(A)).left+Qs(A).scrollLeft}function pt(A){var d=Mi(A),v=d.overflow,C=d.overflowX,H=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+H+C)}function Ys(A){return["html","body","#document"].indexOf(ki(A))>=0?A.ownerDocument.body:An(A)&&pt(A)?A:Ys($a(A))}function Zi(A,d){var v;d===void 0&&(d=[]);var C=Ys(A),H=C===((v=A.ownerDocument)==null?void 0:v.body),K=cn(C),ee=H?[K].concat(K.visualViewport||[],pt(C)?C:[]):C,ae=d.concat(ee);return H?ae:ae.concat(Zi($a(ee)))}function Ka(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Ws(A,d,v){return d===Ot?Ka(function(C,H){var K=cn(C),ee=fr(C),ae=K.visualViewport,pe=ee.clientWidth,he=ee.clientHeight,de=0,me=0;if(ae){pe=ae.width,he=ae.height;var Ge=Hr();(Ge||!Ge&&H==="fixed")&&(de=ae.offsetLeft,me=ae.offsetTop)}return{width:pe,height:he,x:de+tn(C),y:me}}(A,v)):Qi(d)?function(C,H){var K=Rn(C,!1,H==="fixed");return K.top=K.top+C.clientTop,K.left=K.left+C.clientLeft,K.bottom=K.top+C.clientHeight,K.right=K.left+C.clientWidth,K.width=C.clientWidth,K.height=C.clientHeight,K.x=K.left,K.y=K.top,K}(d,v):Ka(function(C){var H,K=fr(C),ee=Qs(C),ae=(H=C.ownerDocument)==null?void 0:H.body,pe=Ei(K.scrollWidth,K.clientWidth,ae?ae.scrollWidth:0,ae?ae.clientWidth:0),he=Ei(K.scrollHeight,K.clientHeight,ae?ae.scrollHeight:0,ae?ae.clientHeight:0),de=-ee.scrollLeft+tn(C),me=-ee.scrollTop;return Mi(ae||K).direction==="rtl"&&(de+=Ei(K.clientWidth,ae?ae.clientWidth:0)-pe),{width:pe,height:he,x:de,y:me}}(fr(A)))}function Xs(A){var d,v=A.reference,C=A.element,H=A.placement,K=H?Sn(H):null,ee=H?qr(H):null,ae=v.x+v.width/2-C.width/2,pe=v.y+v.height/2-C.height/2;switch(K){case en:d={x:ae,y:v.y-C.height};break;case Ht:d={x:ae,y:v.y+v.height};break;case wn:d={x:v.x+v.width,y:pe};break;case qt:d={x:v.x-C.width,y:pe};break;default:d={x:v.x,y:v.y}}var he=K?_s(K):null;if(he!=null){var de=he==="y"?"height":"width";switch(ee){case Qn:d[he]=d[he]-(v[de]/2-C[de]/2);break;case yi:d[he]=d[he]+(v[de]/2-C[de]/2)}}return d}function Wn(A,d){d===void 0&&(d={});var v=d,C=v.placement,H=C===void 0?A.placement:C,K=v.strategy,ee=K===void 0?A.strategy:K,ae=v.boundary,pe=ae===void 0?jr:ae,he=v.rootBoundary,de=he===void 0?Ot:he,me=v.elementContext,Ge=me===void 0?hr:me,Le=v.altBoundary,ze=Le!==void 0&&Le,Be=v.padding,Fe=Be===void 0?0:Be,ht=dr(typeof Fe!="number"?Fe:mr(Fe,kn)),xt=Ge===hr?Gs:hr,Oe=A.rects.popper,ft=A.elements[ze?xt:Ge],Qe=function(lt,ei,Un,Dt){var Ui=ei==="clippingParents"?function(wt){var zn=Zi($a(wt)),xi=["absolute","fixed"].indexOf(Mi(wt).position)>=0&&An(wt)?Pn(wt):wt;return Qi(xi)?zn.filter(function(ts){return Qi(ts)&&qa(ts,xi)&&ki(ts)!=="body"}):[]}(lt):[].concat(ei),_n=[].concat(Ui,[Un]),es=_n[0],rn=_n.reduce(function(wt,zn){var xi=Ws(lt,zn,Dt);return wt.top=Ei(xi.top,wt.top),wt.right=Br(xi.right,wt.right),wt.bottom=Br(xi.bottom,wt.bottom),wt.left=Ei(xi.left,wt.left),wt},Ws(lt,es,Dt));return rn.width=rn.right-rn.left,rn.height=rn.bottom-rn.top,rn.x=rn.left,rn.y=rn.top,rn}(Qi(ft)?ft:ft.contextElement||fr(A.elements.popper),pe,de,ee),tt=Rn(A.elements.reference),Et=Xs({reference:tt,element:Oe,placement:H}),St=Ka(Object.assign({},Oe,Et)),vt=Ge===hr?St:tt,zt={top:Qe.top-vt.top+ht.top,bottom:vt.bottom-Qe.bottom+ht.bottom,left:Qe.left-vt.left+ht.left,right:vt.right-Qe.right+ht.right},Jn=A.modifiersData.offset;if(Ge===hr&&Jn){var Vt=Jn[H];Object.keys(zt).forEach(function(lt){var ei=[wn,Ht].indexOf(lt)>=0?1:-1,Un=[en,Ht].indexOf(lt)>=0?"y":"x";zt[lt]+=Vt[Un]*ei})}return zt}function Zs(A,d){d===void 0&&(d={});var v=d,C=v.placement,H=v.boundary,K=v.rootBoundary,ee=v.padding,ae=v.flipVariations,pe=v.allowedAutoPlacements,he=pe===void 0?Mn:pe,de=qr(C),me=de?ae?Yn:Yn.filter(function(ze){return qr(ze)===de}):kn,Ge=me.filter(function(ze){return he.indexOf(ze)>=0});Ge.length===0&&(Ge=me);var Le=Ge.reduce(function(ze,Be){return ze[Be]=Wn(A,{placement:Be,boundary:H,rootBoundary:K,padding:ee})[Sn(Be)],ze},{});return Object.keys(Le).sort(function(ze,Be){return Le[ze]-Le[Be]})}const Ai={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,C=A.name;if(!d.modifiersData[C]._skip){for(var H=v.mainAxis,K=H===void 0||H,ee=v.altAxis,ae=ee===void 0||ee,pe=v.fallbackPlacements,he=v.padding,de=v.boundary,me=v.rootBoundary,Ge=v.altBoundary,Le=v.flipVariations,ze=Le===void 0||Le,Be=v.allowedAutoPlacements,Fe=d.options.placement,ht=Sn(Fe),xt=pe||(ht!==Fe&&ze?function(wt){if(Sn(wt)===cr)return[];var zn=ys(wt);return[Xi(wt),zn,Xi(zn)]}(Fe):[ys(Fe)]),Oe=[Fe].concat(xt).reduce(function(wt,zn){return wt.concat(Sn(zn)===cr?Zs(d,{placement:zn,boundary:de,rootBoundary:me,padding:he,flipVariations:ze,allowedAutoPlacements:Be}):zn)},[]),ft=d.rects.reference,Qe=d.rects.popper,tt=new Map,Et=!0,St=Oe[0],vt=0;vt<Oe.length;vt++){var zt=Oe[vt],Jn=Sn(zt),Vt=qr(zt)===Qn,lt=[en,Ht].indexOf(Jn)>=0,ei=lt?"width":"height",Un=Wn(d,{placement:zt,boundary:de,rootBoundary:me,altBoundary:Ge,padding:he}),Dt=lt?Vt?wn:qt:Vt?Ht:en;ft[ei]>Qe[ei]&&(Dt=ys(Dt));var Ui=ys(Dt),_n=[];if(K&&_n.push(Un[Jn]<=0),ae&&_n.push(Un[Dt]<=0,Un[Ui]<=0),_n.every(function(wt){return wt})){St=zt,Et=!1;break}tt.set(zt,_n)}if(Et)for(var es=function(wt){var zn=Oe.find(function(xi){var ts=tt.get(xi);if(ts)return ts.slice(0,wt).every(function(yl){return yl})});if(zn)return St=zn,"break"},rn=ze?3:1;rn>0&&es(rn)!=="break";rn--);d.placement!==St&&(d.modifiersData[C]._skip=!0,d.placement=St,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function sl(A,d,v){return v===void 0&&(v={x:0,y:0}),{top:A.top-d.height-v.y,right:A.right-d.width+v.x,bottom:A.bottom-d.height+v.y,left:A.left-d.width-v.x}}function Yl(A){return[en,wn,Ht,qt].some(function(d){return A[d]>=0})}const vs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,v=A.name,C=d.rects.reference,H=d.rects.popper,K=d.modifiersData.preventOverflow,ee=Wn(d,{elementContext:"reference"}),ae=Wn(d,{altBoundary:!0}),pe=sl(ee,C),he=sl(ae,H,K),de=Yl(pe),me=Yl(he);d.modifiersData[v]={referenceClippingOffsets:pe,popperEscapeOffsets:he,isReferenceHidden:de,hasPopperEscaped:me},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":de,"data-popper-escaped":me})}},Js={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,v=A.options,C=A.name,H=v.offset,K=H===void 0?[0,0]:H,ee=Mn.reduce(function(de,me){return de[me]=function(Ge,Le,ze){var Be=Sn(Ge),Fe=[qt,en].indexOf(Be)>=0?-1:1,ht=typeof ze=="function"?ze(Object.assign({},Le,{placement:Ge})):ze,xt=ht[0],Oe=ht[1];return xt=xt||0,Oe=(Oe||0)*Fe,[qt,wn].indexOf(Be)>=0?{x:Oe,y:xt}:{x:xt,y:Oe}}(me,d.rects,K),de},{}),ae=ee[d.placement],pe=ae.x,he=ae.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=pe,d.modifiersData.popperOffsets.y+=he),d.modifiersData[C]=ee}},ea={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,v=A.name;d.modifiersData[v]=Xs({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},ta={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,C=A.name,H=v.mainAxis,K=H===void 0||H,ee=v.altAxis,ae=ee!==void 0&&ee,pe=v.boundary,he=v.rootBoundary,de=v.altBoundary,me=v.padding,Ge=v.tether,Le=Ge===void 0||Ge,ze=v.tetherOffset,Be=ze===void 0?0:ze,Fe=Wn(d,{boundary:pe,rootBoundary:he,padding:me,altBoundary:de}),ht=Sn(d.placement),xt=qr(d.placement),Oe=!xt,ft=_s(ht),Qe=ft==="x"?"y":"x",tt=d.modifiersData.popperOffsets,Et=d.rects.reference,St=d.rects.popper,vt=typeof Be=="function"?Be(Object.assign({},d.rects,{placement:d.placement})):Be,zt=typeof vt=="number"?{mainAxis:vt,altAxis:vt}:Object.assign({mainAxis:0,altAxis:0},vt),Jn=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Vt={x:0,y:0};if(tt){if(K){var lt,ei=ft==="y"?en:qt,Un=ft==="y"?Ht:wn,Dt=ft==="y"?"height":"width",Ui=tt[ft],_n=Ui+Fe[ei],es=Ui-Fe[Un],rn=Le?-St[Dt]/2:0,wt=xt===Qn?Et[Dt]:St[Dt],zn=xt===Qn?-St[Dt]:-Et[Dt],xi=d.elements.arrow,ts=Le&&xi?il(xi):{width:0,height:0},yl=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Dc=yl[ei],kc=yl[Un],ho=bi(0,Et[Dt],ts[Dt]),Tf=Oe?Et[Dt]/2-rn-ho-Dc-zt.mainAxis:wt-ho-Dc-zt.mainAxis,Gm=Oe?-Et[Dt]/2+rn+ho+kc+zt.mainAxis:zn+ho+kc+zt.mainAxis,Tu=d.elements.arrow&&Pn(d.elements.arrow),wf=Tu?ft==="y"?Tu.clientTop||0:Tu.clientLeft||0:0,Mc=(lt=Jn==null?void 0:Jn[ft])!=null?lt:0,Lc=Ui+Gm-Mc,Pc=bi(Le?Br(_n,Ui+Tf-Mc-wf):_n,Ui,Le?Ei(es,Lc):es);tt[ft]=Pc,Vt[ft]=Pc-Ui}if(ae){var Vc,Af=ft==="x"?en:qt,Sf=ft==="x"?Ht:wn,xs=tt[Qe],wu=Qe==="y"?"height":"width",jc=xs+Fe[Af],ua=xs-Fe[Sf],Au=[en,qt].indexOf(ht)!==-1,vl=(Vc=Jn==null?void 0:Jn[Qe])!=null?Vc:0,El=Au?jc:xs-Et[wu]-St[wu]-vl+zt.altAxis,Uc=Au?xs+Et[wu]+St[wu]-vl-zt.altAxis:ua,Su=Le&&Au?function(Rf,Cf,Ru){var zc=bi(Rf,Cf,Ru);return zc>Ru?Ru:zc}(El,xs,Uc):bi(Le?El:jc,xs,Le?Uc:ua);tt[Qe]=Su,Vt[Qe]=Su-xs}d.modifiersData[C]=Vt}},requiresIfExists:["offset"]};function Wl(A,d,v){v===void 0&&(v=!1);var C,H,K=An(d),ee=An(d)&&function(me){var Ge=me.getBoundingClientRect(),Le=et(Ge.width)/me.offsetWidth||1,ze=et(Ge.height)/me.offsetHeight||1;return Le!==1||ze!==1}(d),ae=fr(d),pe=Rn(A,ee,v),he={scrollLeft:0,scrollTop:0},de={x:0,y:0};return(K||!K&&!v)&&((ki(d)!=="body"||pt(ae))&&(he=(C=d)!==cn(C)&&An(C)?{scrollLeft:(H=C).scrollLeft,scrollTop:H.scrollTop}:Qs(C)),An(d)?((de=Rn(d,!0)).x+=d.clientLeft,de.y+=d.clientTop):ae&&(de.x=tn(ae))),{x:pe.left+he.scrollLeft-de.x,y:pe.top+he.scrollTop-de.y,width:pe.width,height:pe.height}}function Qa(A){var d=new Map,v=new Set,C=[];function H(K){v.add(K.name),[].concat(K.requires||[],K.requiresIfExists||[]).forEach(function(ee){if(!v.has(ee)){var ae=d.get(ee);ae&&H(ae)}}),C.push(K)}return A.forEach(function(K){d.set(K.name,K)}),A.forEach(function(K){v.has(K.name)||H(K)}),C}var Xl={placement:"bottom",modifiers:[],strategy:"absolute"};function Ya(){for(var A=arguments.length,d=new Array(A),v=0;v<A;v++)d[v]=arguments[v];return!d.some(function(C){return!(C&&typeof C.getBoundingClientRect=="function")})}function _r(A){A===void 0&&(A={});var d=A,v=d.defaultModifiers,C=v===void 0?[]:v,H=d.defaultOptions,K=H===void 0?Xl:H;return function(ee,ae,pe){pe===void 0&&(pe=K);var he,de,me={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xl,K),modifiersData:{},elements:{reference:ee,popper:ae},attributes:{},styles:{}},Ge=[],Le=!1,ze={state:me,setOptions:function(Fe){var ht=typeof Fe=="function"?Fe(me.options):Fe;Be(),me.options=Object.assign({},K,me.options,ht),me.scrollParents={reference:Qi(ee)?Zi(ee):ee.contextElement?Zi(ee.contextElement):[],popper:Zi(ae)};var xt,Oe,ft=function(Qe){var tt=Qa(Qe);return nl.reduce(function(Et,St){return Et.concat(tt.filter(function(vt){return vt.phase===St}))},[])}((xt=[].concat(C,me.options.modifiers),Oe=xt.reduce(function(Qe,tt){var Et=Qe[tt.name];return Qe[tt.name]=Et?Object.assign({},Et,tt,{options:Object.assign({},Et.options,tt.options),data:Object.assign({},Et.data,tt.data)}):tt,Qe},{}),Object.keys(Oe).map(function(Qe){return Oe[Qe]})));return me.orderedModifiers=ft.filter(function(Qe){return Qe.enabled}),me.orderedModifiers.forEach(function(Qe){var tt=Qe.name,Et=Qe.options,St=Et===void 0?{}:Et,vt=Qe.effect;if(typeof vt=="function"){var zt=vt({state:me,name:tt,instance:ze,options:St});Ge.push(zt||function(){})}}),ze.update()},forceUpdate:function(){if(!Le){var Fe=me.elements,ht=Fe.reference,xt=Fe.popper;if(Ya(ht,xt)){me.rects={reference:Wl(ht,Pn(xt),me.options.strategy==="fixed"),popper:il(xt)},me.reset=!1,me.placement=me.options.placement,me.orderedModifiers.forEach(function(vt){return me.modifiersData[vt.name]=Object.assign({},vt.data)});for(var Oe=0;Oe<me.orderedModifiers.length;Oe++)if(me.reset!==!0){var ft=me.orderedModifiers[Oe],Qe=ft.fn,tt=ft.options,Et=tt===void 0?{}:tt,St=ft.name;typeof Qe=="function"&&(me=Qe({state:me,options:Et,name:St,instance:ze})||me)}else me.reset=!1,Oe=-1}}},update:(he=function(){return new Promise(function(Fe){ze.forceUpdate(),Fe(me)})},function(){return de||(de=new Promise(function(Fe){Promise.resolve().then(function(){de=void 0,Fe(he())})})),de}),destroy:function(){Be(),Le=!0}};if(!Ya(ee,ae))return ze;function Be(){Ge.forEach(function(Fe){return Fe()}),Ge=[]}return ze.setOptions(pe).then(function(Fe){!Le&&pe.onFirstUpdate&&pe.onFirstUpdate(Fe)}),ze}}var Zl=_r(),Jl=_r({defaultModifiers:[pr,ea,$r,Lt]}),na=_r({defaultModifiers:[pr,ea,$r,Lt,Js,Ai,ta,Ga,vs]});const Es=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ur,afterRead:Fa,afterWrite:Ln,applyStyles:Lt,arrow:Ga,auto:cr,basePlacements:kn,beforeMain:Ha,beforeRead:oi,beforeWrite:zr,bottom:Ht,clippingParents:jr,computeStyles:$r,createPopper:na,createPopperBase:Zl,createPopperLite:Jl,detectOverflow:Wn,end:yi,eventListeners:pr,flip:Ai,hide:vs,left:qt,main:tl,modifierPhases:nl,offset:Js,placements:Mn,popper:hr,popperGenerator:_r,popperOffsets:ea,preventOverflow:ta,read:Ql,reference:Gs,right:wn,start:Qn,top:en,variationPlacements:Yn,viewport:Ot,write:vi},Symbol.toStringTag,{value:"Module"})),al="dropdown",Li=".bs.dropdown",Wa=".data-api",ol="ArrowUp",yr="ArrowDown",eu=`hide${Li}`,tu=`hidden${Li}`,nu=`show${Li}`,iu=`shown${Li}`,ia=`click${Li}${Wa}`,Vn=`keydown${Li}${Wa}`,ru=`keyup${Li}${Wa}`,Kr="show",jn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',c=`${jn}.${Kr}`,y=".dropdown-menu",b=B()?"top-end":"top-start",I=B()?"top-start":"top-end",Y=B()?"bottom-end":"bottom-start",J=B()?"bottom-start":"bottom-end",ve=B()?"left-start":"right-start",at=B()?"right-start":"left-start",hn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ot={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class At extends ke{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=ge.next(this._element,y)[0]||ge.prev(this._element,y)[0]||ge.findOne(y,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return hn}static get DefaultType(){return ot}static get NAME(){return al}toggle(){return this._isShown()?this.hide():this.show()}show(){if(T(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!N.trigger(this._element,nu,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))N.on(v,"mouseover",x);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Kr),this._element.classList.add(Kr),N.trigger(this._element,iu,d)}}hide(){if(T(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!N.trigger(this._element,eu,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))N.off(v,"mouseover",x);this._popper&&this._popper.destroy(),this._menu.classList.remove(Kr),this._element.classList.remove(Kr),this._element.setAttribute("aria-expanded","false"),ye.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,tu,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!m(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${al.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(Es===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;this._config.reference==="parent"?d=this._parent:m(this._config.reference)?d=p(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=na(d,this._menu,v)}_isShown(){return this._menu.classList.contains(Kr)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return ve;if(d.classList.contains("dropstart"))return at;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?I:b:v?J:Y}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ye.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...te(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:v}){const C=ge.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(H=>_(H));C.length&&_e(C,v,d===yr,!C.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=At.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=ge.find(c);for(const C of v){const H=At.getInstance(C);if(!H||H._config.autoClose===!1)continue;const K=d.composedPath(),ee=K.includes(H._menu);if(K.includes(H._element)||H._config.autoClose==="inside"&&!ee||H._config.autoClose==="outside"&&ee||H._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ae={relatedTarget:H._element};d.type==="click"&&(ae.clickEvent=d),H._completeHide(ae)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),C=d.key==="Escape",H=[ol,yr].includes(d.key);if(!H&&!C||v&&!C)return;d.preventDefault();const K=this.matches(jn)?this:ge.prev(this,jn)[0]||ge.next(this,jn)[0]||ge.findOne(jn,d.delegateTarget.parentNode),ee=At.getOrCreateInstance(K);if(H)return d.stopPropagation(),ee.show(),void ee._selectMenuItem(d);ee._isShown()&&(d.stopPropagation(),ee.hide(),K.focus())}}N.on(document,Vn,jn,At.dataApiKeydownHandler),N.on(document,Vn,y,At.dataApiKeydownHandler),N.on(document,ia,At.clearMenus),N.on(document,ru,At.clearMenus),N.on(document,ia,jn,function(A){A.preventDefault(),At.getOrCreateInstance(this).toggle()}),z(At);const nn="backdrop",vr="show",gn=`mousedown.bs.${nn}`,Er={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ll={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ul extends Ue{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Er}static get DefaultType(){return ll}static get NAME(){return nn}show(d){if(!this._config.isVisible)return void te(d);this._append();const v=this._getElement();this._config.isAnimated&&M(v),v.classList.add(vr),this._emulateAnimation(()=>{te(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(vr),this._emulateAnimation(()=>{this.dispose(),te(d)})):te(d)}dispose(){this._isAppended&&(N.off(this._element,gn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=p(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),N.on(d,gn,()=>{te(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){ne(d,this._getElement(),this._config.isAnimated)}}const cl=".bs.focustrap",nf=`focusin${cl}`,_c=`keydown.tab${cl}`,su="backward",rf={autofocus:!0,trapElement:null},sf={autofocus:"boolean",trapElement:"element"};class yc extends Ue{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rf}static get DefaultType(){return sf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,cl),N.on(document,nf,d=>this._handleFocusin(d)),N.on(document,_c,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,cl))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const C=ge.focusableChildren(v);C.length===0?v.focus():this._lastTabNavDirection===su?C[C.length-1].focus():C[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?su:"forward")}}const af=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",of=".sticky-top",au="padding-right",lf="margin-right";class vc{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,au,v=>v+d),this._setElementAttributes(af,au,v=>v+d),this._setElementAttributes(of,lf,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,au),this._resetElementAttributes(af,au),this._resetElementAttributes(of,lf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,C){const H=this.getWidth();this._applyManipulationCallback(d,K=>{if(K!==this._element&&window.innerWidth>K.clientWidth+H)return;this._saveInitialAttribute(K,v);const ee=window.getComputedStyle(K).getPropertyValue(v);K.style.setProperty(v,`${C(Number.parseFloat(ee))}px`)})}_saveInitialAttribute(d,v){const C=d.style.getPropertyValue(v);C&&ye.setDataAttribute(d,v,C)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,C=>{const H=ye.getDataAttribute(C,v);H!==null?(ye.removeDataAttribute(C,v),C.style.setProperty(v,H)):C.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(m(d))v(d);else for(const C of ge.find(d,this._element))v(C)}}const Pt=".bs.modal",hl=`hide${Pt}`,uf=`hidePrevented${Pt}`,Ec=`hidden${Pt}`,bc=`show${Pt}`,cf=`shown${Pt}`,Tc=`resize${Pt}`,zm=`click.dismiss${Pt}`,Bm=`mousedown.dismiss${Pt}`,Xa=`keydown.dismiss${Pt}`,wc=`click${Pt}.data-api`,Za="modal-open",ou="show",lu="modal-static",ra={backdrop:!0,focus:!0,keyboard:!0},Ja={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Qr extends ke{constructor(d,v){super(d,v),this._dialog=ge.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new vc,this._addEventListeners()}static get Default(){return ra}static get DefaultType(){return Ja}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||N.trigger(this._element,bc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Za),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(N.trigger(this._element,hl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ou),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){N.off(window,Pt),N.off(this._dialog,Pt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ul({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=ge.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),M(this._element),this._element.classList.add(ou),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,cf,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,Xa,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),N.on(window,Tc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,Bm,d=>{N.one(this._element,zm,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Za),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Ec)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(N.trigger(this._element,uf).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(lu)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(lu),this._queueCallback(()=>{this._element.classList.remove(lu),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),C=v>0;if(C&&!d){const H=B()?"paddingLeft":"paddingRight";this._element.style[H]=`${v}px`}if(!C&&d){const H=B()?"paddingRight":"paddingLeft";this._element.style[H]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const C=Qr.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d](v)}})}}N.on(document,wc,'[data-bs-toggle="modal"]',function(A){const d=ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),N.one(d,bc,C=>{C.defaultPrevented||N.one(d,Ec,()=>{_(this)&&this.focus()})});const v=ge.findOne(".modal.show");v&&Qr.getInstance(v).hide(),Qr.getOrCreateInstance(d).toggle(this)}),yt(Qr),z(Qr);const br=".bs.offcanvas",bs=".data-api",hf=`load${br}${bs}`,Ac="show",Sc="showing",ff="hiding",df=".offcanvas.show",Fm=`show${br}`,mf=`shown${br}`,pf=`hide${br}`,Rc=`hidePrevented${br}`,Pi=`hidden${br}`,Vi=`resize${br}`,eo=`click${br}${bs}`,Cc=`keydown.dismiss${br}`,uu={backdrop:!0,keyboard:!0,scroll:!1},cu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ji extends ke{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return uu}static get DefaultType(){return cu}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||N.trigger(this._element,Fm,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new vc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Sc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ac),this._element.classList.remove(Sc),N.trigger(this._element,mf,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(N.trigger(this._element,pf).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ff),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ac,ff),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new vc().reset(),N.trigger(this._element,Pi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new ul({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():N.trigger(this._element,Rc)}:null})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_addEventListeners(){N.on(this._element,Cc,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():N.trigger(this._element,Rc))})}static jQueryInterface(d){return this.each(function(){const v=Ji.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}N.on(document,eo,'[data-bs-toggle="offcanvas"]',function(A){const d=ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),T(this))return;N.one(d,Pi,()=>{_(this)&&this.focus()});const v=ge.findOne(df);v&&v!==d&&Ji.getInstance(v).hide(),Ji.getOrCreateInstance(d).toggle(this)}),N.on(window,hf,()=>{for(const A of ge.find(df))Ji.getOrCreateInstance(A).show()}),N.on(window,Vi,()=>{for(const A of ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&Ji.getOrCreateInstance(A).hide()}),yt(Ji),z(Ji);const Yr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},gf=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),hu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,to=(A,d)=>{const v=A.nodeName.toLowerCase();return d.includes(v)?!gf.has(v)||!!hu.test(A.nodeValue):d.filter(C=>C instanceof RegExp).some(C=>C.test(v))},_f={allowList:Yr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ji={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},no={entry:"(string|element|function|null)",selector:"(string|element)"};class io extends Ue{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return _f}static get DefaultType(){return ji}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[H,K]of Object.entries(this._config.content))this._setContent(d,K,H);const v=d.children[0],C=this._resolvePossibleFunction(this._config.extraClass);return C&&v.classList.add(...C.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,C]of Object.entries(d))super._typeCheckConfig({selector:v,entry:C},no)}_setContent(d,v,C){const H=ge.findOne(C,d);H&&((v=this._resolvePossibleFunction(v))?m(v)?this._putElementInTemplate(p(v),H):this._config.html?H.innerHTML=this._maybeSanitize(v):H.textContent=v:H.remove())}_maybeSanitize(d){return this._config.sanitize?function(v,C,H){if(!v.length)return v;if(H&&typeof H=="function")return H(v);const K=new window.DOMParser().parseFromString(v,"text/html"),ee=[].concat(...K.body.querySelectorAll("*"));for(const ae of ee){const pe=ae.nodeName.toLowerCase();if(!Object.keys(C).includes(pe)){ae.remove();continue}const he=[].concat(...ae.attributes),de=[].concat(C["*"]||[],C[pe]||[]);for(const me of he)to(me,de)||ae.removeAttribute(me.nodeName)}return K.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return te(d,[this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const fu=new Set(["sanitize","allowList","sanitizeFn"]),ro="fade",Xn="show",Si=".modal",Ts="hide.bs.modal",Ri="hover",er="focus",sa={AUTO:"auto",TOP:"top",RIGHT:B()?"left":"right",BOTTOM:"bottom",LEFT:B()?"right":"left"},yf={allowList:Yr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Wr extends ke{constructor(d,v){if(Es===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yf}static get DefaultType(){return xc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Si),Ts,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=N.trigger(this._element,this.constructor.eventName("show")),v=(S(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:H}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(H.append(C),N.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(C),C.classList.add(Xn),"ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))N.on(K,"mouseover",x);this._queueCallback(()=>{N.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!N.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Xn),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))N.off(d,"mouseover",x);this._activeTrigger.click=!1,this._activeTrigger[er]=!1,this._activeTrigger[Ri]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(ro,Xn),v.classList.add(`bs-${this.constructor.NAME}-auto`);const C=(H=>{do H+=Math.floor(1e6*Math.random());while(document.getElementById(H));return H})(this.constructor.NAME).toString();return v.setAttribute("id",C),this._isAnimated()&&v.classList.add(ro),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new io({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ro)}_isShown(){return this.tip&&this.tip.classList.contains(Xn)}_createPopper(d){const v=te(this._config.placement,[this,d,this._element]),C=sa[v.toUpperCase()];return na(this._element,d,this._getPopperConfig(C))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return te(d,[this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:C=>{this._getTipElement().setAttribute("data-popper-placement",C.state.placement)}}]};return{...v,...te(this._config.popperConfig,[v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")N.on(this._element,this.constructor.eventName("click"),this._config.selector,C=>{this._initializeOnDelegatedTarget(C).toggle()});else if(v!=="manual"){const C=v===Ri?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),H=v===Ri?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");N.on(this._element,C,this._config.selector,K=>{const ee=this._initializeOnDelegatedTarget(K);ee._activeTrigger[K.type==="focusin"?er:Ri]=!0,ee._enter()}),N.on(this._element,H,this._config.selector,K=>{const ee=this._initializeOnDelegatedTarget(K);ee._activeTrigger[K.type==="focusout"?er:Ri]=ee._element.contains(K.relatedTarget),ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Si),Ts,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=ye.getDataAttributes(this._element);for(const C of Object.keys(v))fu.has(C)&&delete v[C];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:p(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,C]of Object.entries(this._config))this.constructor.Default[v]!==C&&(d[v]=C);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Wr.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}z(Wr);const Zn={...Wr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Cn={...Wr.DefaultType,content:"(null|string|element|function)"};class rt extends Wr{static get Default(){return Zn}static get DefaultType(){return Cn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=rt.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}z(rt);const Ci=".bs.scrollspy",Tr=`activate${Ci}`,du=`click${Ci}`,aa=`load${Ci}.data-api`,oa="active",mu="[href]",so=".nav-link",fl=`${so}, .nav-item > ${so}, .list-group-item`,dl={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ml={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ao extends ke{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return dl}static get DefaultType(){return ml}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=p(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,du),N.on(this._config.target,du,mu,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const C=this._rootElement||window,H=v.offsetTop-this._element.offsetTop;if(C.scrollTo)return void C.scrollTo({top:H,behavior:"smooth"});C.scrollTop=H}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=ee=>this._targetLinks.get(`#${ee.target.id}`),C=ee=>{this._previousScrollData.visibleEntryTop=ee.target.offsetTop,this._process(v(ee))},H=(this._rootElement||document.documentElement).scrollTop,K=H>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=H;for(const ee of d){if(!ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(ee));continue}const ae=ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(K&&ae){if(C(ee),!H)return}else K||ae||C(ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ge.find(mu,this._config.target);for(const v of d){if(!v.hash||T(v))continue;const C=ge.findOne(decodeURI(v.hash),this._element);_(C)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,C))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(oa),this._activateParents(d),N.trigger(this._element,Tr,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ge.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(oa);else for(const v of ge.parents(d,".nav, .list-group"))for(const C of ge.prev(v,fl))C.classList.add(oa)}_clearActiveClass(d){d.classList.remove(oa);const v=ge.find(`${mu}.${oa}`,d);for(const C of v)C.classList.remove(oa)}static jQueryInterface(d){return this.each(function(){const v=ao.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}N.on(window,aa,()=>{for(const A of ge.find('[data-bs-spy="scroll"]'))ao.getOrCreateInstance(A)}),z(ao);const Xr=".bs.tab",vf=`hide${Xr}`,pu=`hidden${Xr}`,Ef=`show${Xr}`,pl=`shown${Xr}`,bf=`click${Xr}`,oo=`keydown${Xr}`,gl=`load${Xr}`,gu="ArrowLeft",lo="ArrowRight",_u="ArrowUp",Ic="ArrowDown",yu="Home",ws="End",As="active",la="fade",uo="show",Nc=".dropdown-toggle",_l=`:not(${Nc})`,vu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',li=`.nav-link${_l}, .list-group-item${_l}, [role="tab"]${_l}, ${vu}`,wr=`.${As}[data-bs-toggle="tab"], .${As}[data-bs-toggle="pill"], .${As}[data-bs-toggle="list"]`;class ui extends ke{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,oo,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),C=v?N.trigger(v,vf,{relatedTarget:d}):null;N.trigger(d,Ef,{relatedTarget:v}).defaultPrevented||C&&C.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(As),this._activate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),N.trigger(d,pl,{relatedTarget:v})):d.classList.add(uo)},d,d.classList.contains(la)))}_deactivate(d,v){d&&(d.classList.remove(As),d.blur(),this._deactivate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),N.trigger(d,pu,{relatedTarget:v})):d.classList.remove(uo)},d,d.classList.contains(la)))}_keydown(d){if(![gu,lo,_u,Ic,yu,ws].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(H=>!T(H));let C;if([yu,ws].includes(d.key))C=v[d.key===yu?0:v.length-1];else{const H=[lo,Ic].includes(d.key);C=_e(v,d.target,H,!0)}C&&(C.focus({preventScroll:!0}),ui.getOrCreateInstance(C).show())}_getChildren(){return ge.find(li,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const C of v)this._setInitialAttributesOnChild(C)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),C=this._getOuterElement(d);d.setAttribute("aria-selected",v),C!==d&&this._setAttributeIfNotExists(C,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=ge.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const C=this._getOuterElement(d);if(!C.classList.contains("dropdown"))return;const H=(K,ee)=>{const ae=ge.findOne(K,C);ae&&ae.classList.toggle(ee,v)};H(Nc,As),H(".dropdown-menu",uo),C.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,C){d.hasAttribute(v)||d.setAttribute(v,C)}_elemIsActive(d){return d.classList.contains(As)}_getInnerElement(d){return d.matches(li)?d:ge.findOne(li,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=ui.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}N.on(document,bf,vu,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),T(this)||ui.getOrCreateInstance(this).show()}),N.on(window,gl,()=>{for(const A of ge.find(wr))ui.getOrCreateInstance(A)}),z(ui);const Zr=".bs.toast",Ss=`mouseover${Zr}`,Jr=`mouseout${Zr}`,fn=`focusin${Zr}`,Eu=`focusout${Zr}`,Hm=`hide${Zr}`,qm=`hidden${Zr}`,$m=`show${Zr}`,dn=`shown${Zr}`,bu="hide",Rs="show",Cs="showing",Oc={animation:"boolean",autohide:"boolean",delay:"number"},co={animation:!0,autohide:!0,delay:5e3};class Ar extends ke{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return co}static get DefaultType(){return Oc}static get NAME(){return"toast"}show(){N.trigger(this._element,$m).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(bu),M(this._element),this._element.classList.add(Rs,Cs),this._queueCallback(()=>{this._element.classList.remove(Cs),N.trigger(this._element,dn),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(N.trigger(this._element,Hm).defaultPrevented||(this._element.classList.add(Cs),this._queueCallback(()=>{this._element.classList.add(bu),this._element.classList.remove(Cs,Rs),N.trigger(this._element,qm)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Rs),super.dispose()}isShown(){return this._element.classList.contains(Rs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const C=d.relatedTarget;this._element===C||this._element.contains(C)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,Ss,d=>this._onInteraction(d,!0)),N.on(this._element,Jr,d=>this._onInteraction(d,!1)),N.on(this._element,fn,d=>this._onInteraction(d,!0)),N.on(this._element,Eu,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=Ar.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return yt(Ar),z(Ar),{Alert:Ft,Button:Je,Carousel:lr,Collapse:Di,Dropdown:At,Modal:Qr,Offcanvas:Ji,Popover:rt,ScrollSpy:ao,Tab:ui,Toast:Ar,Tooltip:Wr}})}(Nd)),Nd.exports}HL();vR.createRoot(document.getElementById("root")).render(E.jsxs(BL,{children:[" ",E.jsx(DC,{basename:"/cargofran",children:E.jsx(UL,{})})]}));
