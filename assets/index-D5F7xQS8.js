(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function rf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Mm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function ER(){if(oE)return Yl;oE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Yl.Fragment=e,Yl.jsx=t,Yl.jsxs=t,Yl}var lE;function TR(){return lE||(lE=1,Mm.exports=ER()),Mm.exports}var C=TR(),km={exports:{}},Xl={},Vm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function SR(){return uE||(uE=1,function(i){function e(ae,pe){var ce=ae.length;ae.push(pe);e:for(;0<ce;){var Me=ce-1>>>1,V=ae[Me];if(0<o(V,pe))ae[Me]=pe,ae[ce]=V,ce=Me;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var pe=ae[0],ce=ae.pop();if(ce!==pe){ae[0]=ce;e:for(var Me=0,V=ae.length,te=V>>>1;Me<te;){var fe=2*(Me+1)-1,ue=ae[fe],oe=fe+1,_e=ae[oe];if(0>o(ue,ce))oe<V&&0>o(_e,ue)?(ae[Me]=_e,ae[oe]=ce,Me=oe):(ae[Me]=ue,ae[fe]=ce,Me=fe);else if(oe<V&&0>o(_e,ce))ae[Me]=_e,ae[oe]=ce,Me=oe;else break e}}return pe}function o(ae,pe){var ce=ae.sortIndex-pe.sortIndex;return ce!==0?ce:ae.id-pe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,w=3,N=!1,M=!1,q=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function K(ae){for(var pe=t(g);pe!==null;){if(pe.callback===null)s(g);else if(pe.startTime<=ae)s(g),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(g)}}function se(ae){if(q=!1,K(ae),!M)if(t(p)!==null)M=!0,tt();else{var pe=t(g);pe!==null&&it(se,pe.startTime-ae)}}var X=!1,re=-1,k=5,I=-1;function R(){return!(i.unstable_now()-I<k)}function x(){if(X){var ae=i.unstable_now();I=ae;var pe=!0;try{e:{M=!1,q&&(q=!1,G(re),re=-1),N=!0;var ce=w;try{t:{for(K(ae),T=t(p);T!==null&&!(T.expirationTime>ae&&R());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,w=T.priorityLevel;var V=Me(T.expirationTime<=ae);if(ae=i.unstable_now(),typeof V=="function"){T.callback=V,K(ae),pe=!0;break t}T===t(p)&&s(p),K(ae)}else s(p);T=t(p)}if(T!==null)pe=!0;else{var te=t(g);te!==null&&it(se,te.startTime-ae),pe=!1}}break e}finally{T=null,w=ce,N=!1}pe=void 0}}finally{pe?P():X=!1}}}var P;if(typeof ee=="function")P=function(){ee(x)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,O=B.port2;B.port1.onmessage=x,P=function(){O.postMessage(null)}}else P=function(){L(x,0)};function tt(){X||(X=!0,P())}function it(ae,pe){re=L(function(){ae(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_continueExecution=function(){M||N||(M=!0,tt())},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var ce=w;w=pe;try{return ae()}finally{w=ce}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ae,pe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=w;w=ae;try{return pe()}finally{w=ce}},i.unstable_scheduleCallback=function(ae,pe,ce){var Me=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,ae){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ce+V,ae={id:E++,callback:pe,priorityLevel:ae,startTime:ce,expirationTime:V,sortIndex:-1},ce>Me?(ae.sortIndex=ce,e(g,ae),t(p)===null&&ae===t(g)&&(q?(G(re),re=-1):q=!0,it(se,ce-Me))):(ae.sortIndex=V,e(p,ae),M||N||(M=!0,tt())),ae},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(ae){var pe=w;return function(){var ce=w;w=pe;try{return ae.apply(this,arguments)}finally{w=ce}}}}(Pm)),Pm}var cE;function wR(){return cE||(cE=1,Vm.exports=SR()),Vm.exports}var Lm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function bR(){if(hE)return Ie;hE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,q={};function L(V,te,fe){this.props=V,this.context=te,this.refs=q,this.updater=fe||N}L.prototype.isReactComponent={},L.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=L.prototype;function ee(V,te,fe){this.props=V,this.context=te,this.refs=q,this.updater=fe||N}var K=ee.prototype=new G;K.constructor=ee,M(K,L.prototype),K.isPureReactComponent=!0;var se=Array.isArray,X={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function k(V,te,fe,ue,oe,_e){return fe=_e.ref,{$$typeof:i,type:V,key:te,ref:fe!==void 0?fe:null,props:_e}}function I(V,te){return k(V.type,te,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function x(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return te[fe]})}var P=/\/+/g;function B(V,te){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):te.toString(36)}function O(){}function tt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function it(V,te,fe,ue,oe){var _e=typeof V;(_e==="undefined"||_e==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(_e){case"bigint":case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case i:case e:be=!0;break;case E:return be=V._init,it(be(V._payload),te,fe,ue,oe)}}if(be)return oe=oe(V),be=ue===""?"."+B(V,0):ue,se(oe)?(fe="",be!=null&&(fe=be.replace(P,"$&/")+"/"),it(oe,te,fe,"",function(Ze){return Ze})):oe!=null&&(R(oe)&&(oe=I(oe,fe+(oe.key==null||V&&V.key===oe.key?"":(""+oe.key).replace(P,"$&/")+"/")+be)),te.push(oe)),1;be=0;var at=ue===""?".":ue+":";if(se(V))for(var ke=0;ke<V.length;ke++)ue=V[ke],_e=at+B(ue,ke),be+=it(ue,te,fe,_e,oe);else if(ke=w(V),typeof ke=="function")for(V=ke.call(V),ke=0;!(ue=V.next()).done;)ue=ue.value,_e=at+B(ue,ke++),be+=it(ue,te,fe,_e,oe);else if(_e==="object"){if(typeof V.then=="function")return it(tt(V),te,fe,ue,oe);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function ae(V,te,fe){if(V==null)return V;var ue=[],oe=0;return it(V,ue,"","",function(_e){return te.call(fe,_e,oe++)}),ue}function pe(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ce=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Me(){}return Ie.Children={map:ae,forEach:function(V,te,fe){ae(V,function(){te.apply(this,arguments)},fe)},count:function(V){var te=0;return ae(V,function(){te++}),te},toArray:function(V){return ae(V,function(te){return te})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=L,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=ee,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cloneElement=function(V,te,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=M({},V.props),oe=V.key,_e=void 0;if(te!=null)for(be in te.ref!==void 0&&(_e=void 0),te.key!==void 0&&(oe=""+te.key),te)!re.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(ue[be]=te[be]);var be=arguments.length-2;if(be===1)ue.children=fe;else if(1<be){for(var at=Array(be),ke=0;ke<be;ke++)at[ke]=arguments[ke+2];ue.children=at}return k(V.type,oe,void 0,void 0,_e,ue)},Ie.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ie.createElement=function(V,te,fe){var ue,oe={},_e=null;if(te!=null)for(ue in te.key!==void 0&&(_e=""+te.key),te)re.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(oe[ue]=te[ue]);var be=arguments.length-2;if(be===1)oe.children=fe;else if(1<be){for(var at=Array(be),ke=0;ke<be;ke++)at[ke]=arguments[ke+2];oe.children=at}if(V&&V.defaultProps)for(ue in be=V.defaultProps,be)oe[ue]===void 0&&(oe[ue]=be[ue]);return k(V,_e,void 0,void 0,null,oe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:d,render:V}},Ie.isValidElement=R,Ie.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Ie.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Ie.startTransition=function(V){var te=X.T,fe={};X.T=fe;try{var ue=V(),oe=X.S;oe!==null&&oe(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Me,ce)}catch(_e){ce(_e)}finally{X.T=te}},Ie.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ie.use=function(V){return X.H.use(V)},Ie.useActionState=function(V,te,fe){return X.H.useActionState(V,te,fe)},Ie.useCallback=function(V,te){return X.H.useCallback(V,te)},Ie.useContext=function(V){return X.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,te){return X.H.useDeferredValue(V,te)},Ie.useEffect=function(V,te){return X.H.useEffect(V,te)},Ie.useId=function(){return X.H.useId()},Ie.useImperativeHandle=function(V,te,fe){return X.H.useImperativeHandle(V,te,fe)},Ie.useInsertionEffect=function(V,te){return X.H.useInsertionEffect(V,te)},Ie.useLayoutEffect=function(V,te){return X.H.useLayoutEffect(V,te)},Ie.useMemo=function(V,te){return X.H.useMemo(V,te)},Ie.useOptimistic=function(V,te){return X.H.useOptimistic(V,te)},Ie.useReducer=function(V,te,fe){return X.H.useReducer(V,te,fe)},Ie.useRef=function(V){return X.H.useRef(V)},Ie.useState=function(V){return X.H.useState(V)},Ie.useSyncExternalStore=function(V,te,fe){return X.H.useSyncExternalStore(V,te,fe)},Ie.useTransition=function(){return X.H.useTransition()},Ie.version="19.0.0",Ie}var fE;function qp(){return fE||(fE=1,Lm.exports=bR()),Lm.exports}var Um={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function AR(){if(dE)return en;dE=1;var i=qp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},en.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.0.0",en}var mE;function g0(){if(mE)return Um.exports;mE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=AR(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function RR(){if(pE)return Xl;pE=1;var i=wR(),e=qp(),t=g0();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),se=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=X&&n[X]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case M:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return r=n.displayName||null,r!==null?r:I(n.type)||"Memo";case ee:r=n._payload,n=n._init;try{return I(n(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,P,B;function O(n){if(P===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+B}var tt=!1;function it(n,r){if(!n||tt)return"";tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var $=Y}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Y){$=Y}n.call(ne.prototype)}}else{try{throw Error()}catch(Y){$=Y}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var D=_.split(`
`),j=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===j.length)for(u=D.length-1,f=j.length-1;1<=u&&0<=f&&D[u]!==j[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==j[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==j[f]){var W=`
`+D[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{tt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function ae(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=it(n.type,!1),n;case 11:return n=it(n.type.render,!1),n;case 1:return n=it(n.type,!0),n;default:return""}}function pe(n){try{var r="";do r+=ae(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ce(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Me(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(ce(n)!==n)throw Error(s(188))}function te(n){var r=n.alternate;if(!r){if(r=ce(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===u)return V(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,u=m;break}if(S===u){_=!0,u=f,a=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===a){_=!0,a=m,u=f;break}if(S===u){_=!0,u=m,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function fe(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=fe(n),r!==null)return r;n=n.sibling}return null}var ue=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},be=[],at=-1;function ke(n){return{current:n}}function Ze(n){0>at||(n.current=be[at],be[at]=null,at--)}function Ve(n,r){at++,be[at]=n.current,n.current=r}var Tt=ke(null),Wt=ke(null),Vt=ke(null),an=ke(null);function qe(n,r){switch(Ve(Vt,r),Ve(Wt,n),Ve(Tt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?P_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=P_(n),r=L_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ze(Tt),Ve(Tt,r)}function dn(){Ze(Tt),Ze(Wt),Ze(Vt)}function Qn(n){n.memoizedState!==null&&Ve(an,n);var r=Tt.current,a=L_(r,n.type);r!==a&&(Ve(Wt,n),Ve(Tt,a))}function Ir(n){Wt.current===n&&(Ze(Tt),Ze(Wt)),an.current===n&&(Ze(an),ql._currentValue=_e)}var Dr=Object.prototype.hasOwnProperty,Vi=i.unstable_scheduleCallback,Nr=i.unstable_cancelCallback,Go=i.unstable_shouldYield,ks=i.unstable_requestPaint,Ft=i.unstable_now,Aa=i.unstable_getCurrentPriorityLevel,Ee=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,Nn=i.unstable_NormalPriority,Hu=i.unstable_LowPriority,$o=i.unstable_IdlePriority,Pf=i.log,Vs=i.unstable_setDisableYieldValue,Or=null,Zt=null;function Ko(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Or,n,void 0,(n.current.flags&128)===128)}catch{}}function oi(n){if(typeof Pf=="function"&&Vs(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Or,n)}catch{}}var on=Math.clz32?Math.clz32:qu,Qo=Math.log,Fu=Math.LN2;function qu(n){return n>>>=0,n===0?32:31-(Qo(n)/Fu|0)|0}var li=128,xr=4194304;function Yn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function On(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~f,a!==0?u=Yn(a):(m&=S,m!==0?u=Yn(m):n||(_=S&~_,_!==0&&(u=Yn(_))))):(S=a&~f,S!==0?u=Yn(S):m!==0?u=Yn(m):n||(_=a&~_,_!==0&&(u=Yn(_)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,_=r&-r,f>=_||f===32&&(_&4194176)!==0)?r:u}function Mr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ra(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var n=li;return li<<=1,(li&4194176)===0&&(li=128),n}function kr(){var n=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),n}function Ca(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function vt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gu(n,r,a,u,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,j=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-on(a),ne=1<<W;S[W]=0,D[W]=-1;var $=j[W];if($!==null)for(j[W]=null,W=0;W<$.length;W++){var Y=$[W];Y!==null&&(Y.lane&=-536870913)}a&=~ne}u!==0&&Vr(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~r))}function Vr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-on(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Pr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-on(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function $u(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ku(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:tE(n.type))}function Lr(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var ui=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ui,Ct="__reactProps$"+ui,Pi="__reactContainer$"+ui,Ps="__reactEvents$"+ui,Ia="__reactListeners$"+ui,ci="__reactHandles$"+ui,Xo="__reactResources$"+ui,Ur="__reactMarker$"+ui;function Ls(n){delete n[Pt],delete n[Ct],delete n[Ps],delete n[Ia],delete n[ci]}function Xn(n){var r=n[Pt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Pi]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=B_(n);n!==null;){if(a=n[Pt])return a;n=B_(n)}return r}n=a,a=n.parentNode}return null}function Li(n){if(n=n[Pt]||n[Pi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function jr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Br(n){var r=n[Xo];return r||(r=n[Xo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(n){n[Ur]=!0}var Wo=new Set,Da={};function Tn(n,r){mn(n,r),mn(n+"Capture",r)}function mn(n,r){for(Da[n]=r,n=0;n<r.length;n++)Wo.add(r[n])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Jo={};function Qu(n){return Dr.call(Jo,n)?!0:Dr.call(Zo,n)?!1:Lf.test(n)?Jo[n]=!0:(Zo[n]=!0,!1)}function zr(n,r,a){if(Qu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Hr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function xn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Yu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Uf(n){var r=Yu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Us(n){n._valueTracker||(n._valueTracker=Uf(n))}function el(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Yu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Na(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ui=/[\n"\\]/g;function mt(n){return n.replace(Ui,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fr(n,r,a,u,f,m,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+ln(r)):n.value!==""+ln(r)&&(n.value=""+ln(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Oa(n,_,ln(r)):a!=null?Oa(n,_,ln(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+ln(S):n.removeAttribute("name")}function js(n,r,a,u,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Oa(n,r,a){r==="number"&&Na(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ge(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Bs(n,r,a){if(r!=null&&(r=""+ln(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+ln(a):""}function qr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=ln(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Mn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var jf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||jf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Xu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&tl(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&tl(n,m,r[m])}function nl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(n){return zf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kn=null;function xa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ji=null,Bi=null;function zi(n){var r=Li(n);if(r&&(n=r.stateNode)){var a=n[Ct]||null;e:switch(n=r.stateNode,r.type){case"input":if(Fr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[Ct]||null;if(!f)throw Error(s(90));Fr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&el(u)}break e;case"textarea":Bs(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ge(n,!!a.multiple,r,!1)}}}var il=!1;function Wu(n,r,a){if(il)return n(r,a);il=!0;try{var u=n(r);return u}finally{if(il=!1,(ji!==null||Bi!==null)&&(Hc(),ji&&(r=ji,n=Bi,Bi=ji=null,zi(r),n)))for(r=0;r<n.length;r++)zi(n[r])}}function zs(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Ct]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!1;if(Sn)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Vn=!1}var fi=null,Gr=null,Hi=null;function rl(){if(Hi)return Hi;var n,r=Gr,a=r.length,u,f="value"in fi?fi.value:fi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&r[a-u]===f[m-u];u++);return Hi=f.slice(n,1<u?1-u:void 0)}function di(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mi(){return!0}function sl(){return!1}function Lt(n){function r(a,u,f,m,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mi:sl,this.isPropagationStopped=sl,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Lt(Qe),Fs=x({},Qe,{view:0,detail:0}),Zu=Lt(Fs),ka,Va,pi,qs=x({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(ka=n.screenX-pi.screenX,Va=n.screenY-pi.screenY):Va=ka=0,pi=n),ka)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),Pn=Lt(qs),Ju=x({},qs,{dataTransfer:0}),Hf=Lt(Ju),Gs=x({},Fs,{relatedTarget:0}),Pa=Lt(Gs),al=x({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Lt(al),ec=x({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ua=Lt(ec),Ff=x({},Qe,{data:0}),ol=Lt(Ff),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=nc[n])?!!r[n]:!1}function Ks(){return ll}var ic=x({},Fs,{key:function(n){if(n.key){var r=$s[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(n){return n.type==="keypress"?di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ja=Lt(ic),rc=x({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Lt(rc),Fi=x({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),sc=Lt(Fi),ac=x({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Lt(ac),lc=x({},qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Lt(lc),un=x({},Qe,{newState:0,oldState:0}),uc=Lt(un),cc=[9,13,27,32],gi=Sn&&"CompositionEvent"in window,c=null;Sn&&"documentMode"in document&&(c=document.documentMode);var y=Sn&&"TextEvent"in window&&!c,v=Sn&&(!gi||c&&8<c&&11>=c),b=" ",H=!1;function Q(n,r){switch(n){case"keyup":return cc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function It(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(H=!0,b);case"textInput":return n=r.data,n===b&&H?null:n;default:return null}}function ze(n,r){if(Be)return n==="compositionend"||!gi&&Q(n,r)?(n=rl(),Hi=Gr=fi=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function qi(n,r,a,u){ji?Bi?Bi.push(u):Bi=[u]:ji=u,r=Kc(r,"onChange"),0<r.length&&(a=new Ma("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var qt=null,yi=null;function cl(n){O_(n,0)}function hc(n){var r=jr(n);if(el(r))return n}function ay(n,r){if(n==="change")return r}var oy=!1;if(Sn){var qf;if(Sn){var Gf="oninput"in document;if(!Gf){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),Gf=typeof ly.oninput=="function"}qf=Gf}else qf=!1;oy=qf&&(!document.documentMode||9<document.documentMode)}function uy(){qt&&(qt.detachEvent("onpropertychange",cy),yi=qt=null)}function cy(n){if(n.propertyName==="value"&&hc(yi)){var r=[];qi(r,yi,n,xa(n)),Wu(cl,r)}}function Xb(n,r,a){n==="focusin"?(uy(),qt=r,yi=a,qt.attachEvent("onpropertychange",cy)):n==="focusout"&&uy()}function Wb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hc(yi)}function Zb(n,r){if(n==="click")return hc(r)}function Jb(n,r){if(n==="input"||n==="change")return hc(r)}function eA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wn=typeof Object.is=="function"?Object.is:eA;function hl(n,r){if(wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Dr.call(r,f)||!wn(n[f],r[f]))return!1}return!0}function hy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fy(n,r){var a=hy(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hy(a)}}function dy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?dy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function my(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Na(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Na(n.document)}return r}function $f(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function tA(n,r){var a=my(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&dy(r.ownerDocument.documentElement,r)){if(u!==null&&$f(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=fy(r,m);var _=fy(r,u);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var nA=Sn&&"documentMode"in document&&11>=document.documentMode,za=null,Kf=null,fl=null,Qf=!1;function py(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qf||za==null||za!==Na(u)||(u=za,"selectionStart"in u&&$f(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fl&&hl(fl,u)||(fl=u,u=Kc(Kf,"onSelect"),0<u.length&&(r=new Ma("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=za)))}function Qs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ha={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Yf={},gy={};Sn&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Ys(n){if(Yf[n])return Yf[n];if(!Ha[n])return n;var r=Ha[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in gy)return Yf[n]=r[a];return n}var yy=Ys("animationend"),vy=Ys("animationiteration"),_y=Ys("animationstart"),iA=Ys("transitionrun"),rA=Ys("transitionstart"),sA=Ys("transitioncancel"),Ey=Ys("transitionend"),Ty=new Map,Sy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(n,r){Ty.set(n,r),Tn(r,[n])}var Ln=[],Fa=0,Xf=0;function fc(){for(var n=Fa,r=Xf=Fa=0;r<n;){var a=Ln[r];Ln[r++]=null;var u=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var m=Ln[r];if(Ln[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&wy(a,f,m)}}function dc(n,r,a,u){Ln[Fa++]=n,Ln[Fa++]=r,Ln[Fa++]=a,Ln[Fa++]=u,Xf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Wf(n,r,a,u){return dc(n,r,a,u),mc(n)}function $r(n,r){return dc(n,null,null,r),mc(n)}function wy(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-on(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function mc(n){if(50<Ll)throw Ll=0,im=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var qa={},by=new WeakMap;function Un(n,r){if(typeof n=="object"&&n!==null){var a=by.get(n);return a!==void 0?a:(r={value:n,source:r,stack:pe(r)},by.set(n,r),r)}return{value:n,source:r,stack:pe(r)}}var Ga=[],$a=0,pc=null,gc=0,jn=[],Bn=0,Xs=null,Gi=1,$i="";function Ws(n,r){Ga[$a++]=gc,Ga[$a++]=pc,pc=n,gc=r}function Ay(n,r,a){jn[Bn++]=Gi,jn[Bn++]=$i,jn[Bn++]=Xs,Xs=n;var u=Gi;n=$i;var f=32-on(u)-1;u&=~(1<<f),a+=1;var m=32-on(r)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Gi=1<<32-on(r)+f|a<<f|u,$i=m+n}else Gi=1<<m|a<<f|u,$i=n}function Zf(n){n.return!==null&&(Ws(n,1),Ay(n,1,0))}function Jf(n){for(;n===pc;)pc=Ga[--$a],Ga[$a]=null,gc=Ga[--$a],Ga[$a]=null;for(;n===Xs;)Xs=jn[--Bn],jn[Bn]=null,$i=jn[--Bn],jn[Bn]=null,Gi=jn[--Bn],jn[Bn]=null}var cn=null,Gt=null,$e=!1,Zn=null,vi=!1,ed=Error(s(519));function Zs(n){var r=Error(s(418,""));throw pl(Un(r,n)),ed}function Ry(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Pt]=n,r[Ct]=u,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)Ue(jl[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),js(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Us(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),qr(r,u.value,u.defaultValue,u.children),Us(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||V_(r.textContent,a)?(u.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),u.onScroll!=null&&Ue("scroll",r),u.onScrollEnd!=null&&Ue("scrollend",r),u.onClick!=null&&(r.onclick=Qc),r=!0):r=!1,r||Zs(n)}function Cy(n){for(cn=n.return;cn;)switch(cn.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:cn=cn.return}}function dl(n){if(n!==cn)return!1;if(!$e)return Cy(n),$e=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Em(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Gt&&Zs(n),Cy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Gt=ei(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Gt=null}}else Gt=cn?ei(n.stateNode.nextSibling):null;return!0}function ml(){Gt=cn=null,$e=!1}function pl(n){Zn===null?Zn=[n]:Zn.push(n)}var gl=Error(s(460)),Iy=Error(s(474)),td={then:function(){}};function Dy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function yc(){}function Ny(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(yc,yc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===gl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(yc,yc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===gl?Error(s(483)):n}throw yl=r,gl}}var yl=null;function Oy(){if(yl===null)throw Error(s(459));var n=yl;return yl=null,n}var Ka=null,vl=0;function vc(n){var r=vl;return vl+=1,Ka===null&&(Ka=[]),Ny(Ka,n,r)}function _l(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function _c(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function xy(n){var r=n._init;return r(n._payload)}function My(n){function r(z,U){if(n){var F=z.deletions;F===null?(z.deletions=[U],z.flags|=16):F.push(U)}}function a(z,U){if(!n)return null;for(;U!==null;)r(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=rs(z,U),z.index=0,z.sibling=null,z}function m(z,U,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<U?(z.flags|=33554434,U):F):(z.flags|=33554434,U)):(z.flags|=1048576,U)}function _(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function S(z,U,F,Z){return U===null||U.tag!==6?(U=Yd(F,z.mode,Z),U.return=z,U):(U=f(U,F),U.return=z,U)}function D(z,U,F,Z){var de=F.type;return de===p?W(z,U,F.props.children,Z,F.key):U!==null&&(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&xy(de)===U.type)?(U=f(U,F.props),_l(U,F),U.return=z,U):(U=Lc(F.type,F.key,F.props,null,z.mode,Z),_l(U,F),U.return=z,U)}function j(z,U,F,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=Xd(F,z.mode,Z),U.return=z,U):(U=f(U,F.children||[]),U.return=z,U)}function W(z,U,F,Z,de){return U===null||U.tag!==7?(U=la(F,z.mode,Z,de),U.return=z,U):(U=f(U,F),U.return=z,U)}function ne(z,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Yd(""+U,z.mode,F),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case h:return F=Lc(U.type,U.key,U.props,null,z.mode,F),_l(F,U),F.return=z,F;case d:return U=Xd(U,z.mode,F),U.return=z,U;case ee:var Z=U._init;return U=Z(U._payload),ne(z,U,F)}if(ue(U)||re(U))return U=la(U,z.mode,F,null),U.return=z,U;if(typeof U.then=="function")return ne(z,vc(U),F);if(U.$$typeof===N)return ne(z,kc(z,U),F);_c(z,U)}return null}function $(z,U,F,Z){var de=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return de!==null?null:S(z,U,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===de?D(z,U,F,Z):null;case d:return F.key===de?j(z,U,F,Z):null;case ee:return de=F._init,F=de(F._payload),$(z,U,F,Z)}if(ue(F)||re(F))return de!==null?null:W(z,U,F,Z,null);if(typeof F.then=="function")return $(z,U,vc(F),Z);if(F.$$typeof===N)return $(z,U,kc(z,F),Z);_c(z,F)}return null}function Y(z,U,F,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(F)||null,S(U,z,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return z=z.get(Z.key===null?F:Z.key)||null,D(U,z,Z,de);case d:return z=z.get(Z.key===null?F:Z.key)||null,j(U,z,Z,de);case ee:var Ne=Z._init;return Z=Ne(Z._payload),Y(z,U,F,Z,de)}if(ue(Z)||re(Z))return z=z.get(F)||null,W(U,z,Z,de,null);if(typeof Z.then=="function")return Y(z,U,F,vc(Z),de);if(Z.$$typeof===N)return Y(z,U,F,kc(U,Z),de);_c(U,Z)}return null}function me(z,U,F,Z){for(var de=null,Ne=null,ye=U,Te=U=0,zt=null;ye!==null&&Te<F.length;Te++){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var Ke=$(z,ye,F[Te],Z);if(Ke===null){ye===null&&(ye=zt);break}n&&ye&&Ke.alternate===null&&r(z,ye),U=m(Ke,U,Te),Ne===null?de=Ke:Ne.sibling=Ke,Ne=Ke,ye=zt}if(Te===F.length)return a(z,ye),$e&&Ws(z,Te),de;if(ye===null){for(;Te<F.length;Te++)ye=ne(z,F[Te],Z),ye!==null&&(U=m(ye,U,Te),Ne===null?de=ye:Ne.sibling=ye,Ne=ye);return $e&&Ws(z,Te),de}for(ye=u(ye);Te<F.length;Te++)zt=Y(ye,z,Te,F[Te],Z),zt!==null&&(n&&zt.alternate!==null&&ye.delete(zt.key===null?Te:zt.key),U=m(zt,U,Te),Ne===null?de=zt:Ne.sibling=zt,Ne=zt);return n&&ye.forEach(function(hs){return r(z,hs)}),$e&&Ws(z,Te),de}function Re(z,U,F,Z){if(F==null)throw Error(s(151));for(var de=null,Ne=null,ye=U,Te=U=0,zt=null,Ke=F.next();ye!==null&&!Ke.done;Te++,Ke=F.next()){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var hs=$(z,ye,Ke.value,Z);if(hs===null){ye===null&&(ye=zt);break}n&&ye&&hs.alternate===null&&r(z,ye),U=m(hs,U,Te),Ne===null?de=hs:Ne.sibling=hs,Ne=hs,ye=zt}if(Ke.done)return a(z,ye),$e&&Ws(z,Te),de;if(ye===null){for(;!Ke.done;Te++,Ke=F.next())Ke=ne(z,Ke.value,Z),Ke!==null&&(U=m(Ke,U,Te),Ne===null?de=Ke:Ne.sibling=Ke,Ne=Ke);return $e&&Ws(z,Te),de}for(ye=u(ye);!Ke.done;Te++,Ke=F.next())Ke=Y(ye,z,Te,Ke.value,Z),Ke!==null&&(n&&Ke.alternate!==null&&ye.delete(Ke.key===null?Te:Ke.key),U=m(Ke,U,Te),Ne===null?de=Ke:Ne.sibling=Ke,Ne=Ke);return n&&ye.forEach(function(_R){return r(z,_R)}),$e&&Ws(z,Te),de}function yt(z,U,F,Z){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:e:{for(var de=F.key;U!==null;){if(U.key===de){if(de=F.type,de===p){if(U.tag===7){a(z,U.sibling),Z=f(U,F.props.children),Z.return=z,z=Z;break e}}else if(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ee&&xy(de)===U.type){a(z,U.sibling),Z=f(U,F.props),_l(Z,F),Z.return=z,z=Z;break e}a(z,U);break}else r(z,U);U=U.sibling}F.type===p?(Z=la(F.props.children,z.mode,Z,F.key),Z.return=z,z=Z):(Z=Lc(F.type,F.key,F.props,null,z.mode,Z),_l(Z,F),Z.return=z,z=Z)}return _(z);case d:e:{for(de=F.key;U!==null;){if(U.key===de)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(z,U.sibling),Z=f(U,F.children||[]),Z.return=z,z=Z;break e}else{a(z,U);break}else r(z,U);U=U.sibling}Z=Xd(F,z.mode,Z),Z.return=z,z=Z}return _(z);case ee:return de=F._init,F=de(F._payload),yt(z,U,F,Z)}if(ue(F))return me(z,U,F,Z);if(re(F)){if(de=re(F),typeof de!="function")throw Error(s(150));return F=de.call(F),Re(z,U,F,Z)}if(typeof F.then=="function")return yt(z,U,vc(F),Z);if(F.$$typeof===N)return yt(z,U,kc(z,F),Z);_c(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(z,U.sibling),Z=f(U,F),Z.return=z,z=Z):(a(z,U),Z=Yd(F,z.mode,Z),Z.return=z,z=Z),_(z)):a(z,U)}return function(z,U,F,Z){try{vl=0;var de=yt(z,U,F,Z);return Ka=null,de}catch(ye){if(ye===gl)throw ye;var Ne=qn(29,ye,null,z.mode);return Ne.lanes=Z,Ne.return=z,Ne}finally{}}}var Js=My(!0),ky=My(!1),Qa=ke(null),Ec=ke(0);function Vy(n,r){n=ir,Ve(Ec,n),Ve(Qa,r),ir=n|r.baseLanes}function nd(){Ve(Ec,ir),Ve(Qa,Qa.current)}function id(){ir=Ec.current,Ze(Qa),Ze(Ec)}var zn=ke(null),_i=null;function Kr(n){var r=n.alternate;Ve(Nt,Nt.current&1),Ve(zn,n),_i===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(_i=n)}function Py(n){if(n.tag===22){if(Ve(Nt,Nt.current),Ve(zn,n),_i===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(_i=n)}}else Qr()}function Qr(){Ve(Nt,Nt.current),Ve(zn,zn.current)}function Ki(n){Ze(zn),_i===n&&(_i=null),Ze(Nt)}var Nt=ke(0);function Tc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var aA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},oA=i.unstable_scheduleCallback,lA=i.unstable_NormalPriority,Ot={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new aA,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&oA(lA,function(){n.controller.abort()})}var Tl=null,sd=0,Ya=0,Xa=null;function uA(n,r){if(Tl===null){var a=Tl=[];sd=0,Ya=hm(),Xa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return sd++,r.then(Ly,Ly),r}function Ly(){if(--sd===0&&Tl!==null){Xa!==null&&(Xa.status="fulfilled");var n=Tl;Tl=null,Ya=0,Xa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function cA(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Uy=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&uA(n,r),Uy!==null&&Uy(n,r)};var ea=ke(null);function ad(){var n=ea.current;return n!==null?n:rt.pooledCache}function Sc(n,r){r===null?Ve(ea,ea.current):Ve(ea,r.pool)}function jy(){var n=ad();return n===null?null:{parent:Ot._currentValue,pool:n}}var Yr=0,De=null,Je=null,St=null,wc=!1,Wa=!1,ta=!1,bc=0,Sl=0,Za=null,hA=0;function _t(){throw Error(s(321))}function od(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!wn(n[a],r[a]))return!1;return!0}function ld(n,r,a,u,f,m){return Yr=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?na:Xr,ta=!1,m=a(u,f),ta=!1,Wa&&(m=zy(r,a,u,f)),By(n),m}function By(n){R.H=Ei;var r=Je!==null&&Je.next!==null;if(Yr=0,St=Je=De=null,wc=!1,Sl=0,Za=null,r)throw Error(s(300));n===null||jt||(n=n.dependencies,n!==null&&Mc(n)&&(jt=!0))}function zy(n,r,a,u){De=n;var f=0;do{if(Wa&&(Za=null),Sl=0,Wa=!1,25<=f)throw Error(s(301));if(f+=1,St=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=ia,m=r(a,u)}while(Wa);return m}function fA(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?wl(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(De.flags|=1024),r}function ud(){var n=bc!==0;return bc=0,n}function cd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function hd(n){if(wc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}wc=!1}Yr=0,St=Je=De=null,Wa=!1,Sl=bc=0,Za=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?De.memoizedState=St=n:St=St.next=n,St}function wt(){if(Je===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=St===null?De.memoizedState:St.next;if(r!==null)St=r,Je=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?De.memoizedState=St=n:St=St.next=n}return St}var Ac;Ac=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function wl(n){var r=Sl;return Sl+=1,Za===null&&(Za=[]),n=Ny(Za,n,r),r=De,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?na:Xr),n}function Rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===N)return Jt(n)}throw Error(s(438,String(n)))}function fd(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ac(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=se;return r.index++,a}function Qi(n,r){return typeof r=="function"?r(n):r}function Cc(n){var r=wt();return dd(r,Je,n)}function dd(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var S=_=null,D=null,j=r,W=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(He&ne)===ne:(Yr&ne)===ne){var $=j.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===Ya&&(W=!0);else if((Yr&$)===$){j=j.next,$===Ya&&(W=!0);continue}else ne={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=ne,_=m):D=D.next=ne,De.lanes|=$,ss|=$;ne=j.action,ta&&a(m,ne),m=j.hasEagerState?j.eagerState:a(m,ne)}else $={lane:ne,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=$,_=m):D=D.next=$,De.lanes|=ne,ss|=ne;j=j.next}while(j!==null&&j!==r);if(D===null?_=m:D.next=S,!wn(m,n.memoizedState)&&(jt=!0,W&&(a=Xa,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function md(n){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);wn(m,r.memoizedState)||(jt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function Hy(n,r,a){var u=De,f=wt(),m=$e;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!wn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,jt=!0),f=f.queue,yd(Gy.bind(null,u,f,n),[n]),f.getSnapshot!==r||_||St!==null&&St.memoizedState.tag&1){if(u.flags|=2048,Ja(9,qy.bind(null,u,f,a,r),{destroy:void 0},null),rt===null)throw Error(s(349));m||(Yr&60)!==0||Fy(u,r,a)}return a}function Fy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Ac(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function qy(n,r,a,u){r.value=a,r.getSnapshot=u,$y(r)&&Ky(n)}function Gy(n,r,a){return a(function(){$y(r)&&Ky(n)})}function $y(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!wn(n,a)}catch{return!0}}function Ky(n){var r=$r(n,2);r!==null&&hn(r,n,2)}function pd(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),ta){oi(!0);try{a()}finally{oi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},r}function Qy(n,r,a,u){return n.baseState=a,dd(n,Je,typeof u=="function"?u:Qi)}function dA(n,r,a,u,f){if(Nc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};R.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,Yy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Yy(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=R.T,_={};R.T=_;try{var S=a(f,u),D=R.S;D!==null&&D(_,S),Xy(n,r,S)}catch(j){gd(n,r,j)}finally{R.T=m}}else try{m=a(f,u),Xy(n,r,m)}catch(j){gd(n,r,j)}}function Xy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Wy(n,r,u)},function(u){return gd(n,r,u)}):Wy(n,r,a)}function Wy(n,r,a){r.status="fulfilled",r.value=a,Zy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Yy(n,a)))}function gd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Zy(r),r=r.next;while(r!==u)}n.action=null}function Zy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Jy(n,r){return r}function ev(n,r){if($e){var a=rt.formState;if(a!==null){e:{var u=De;if($e){if(Gt){t:{for(var f=Gt,m=vi;f.nodeType!==8;){if(!m){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gt=ei(f.nextSibling),u=f.data==="F!";break e}}Zs(u)}u=!1}u&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:r},a.queue=u,a=vv.bind(null,De,u),u.dispatch=a,u=pd(!1),m=Sd.bind(null,De,!1,u.queue),u=pn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=dA.bind(null,De,f,m,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function tv(n){var r=wt();return nv(r,Je,n)}function nv(n,r,a){r=dd(n,r,Jy)[0],n=Cc(Qi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?wl(r):r;var u=wt(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(De.flags|=2048,Ja(9,mA.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function mA(n,r){n.action=r}function iv(n){var r=wt(),a=Je;if(a!==null)return nv(r,a,n);wt(),r=r.memoizedState,a=wt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Ja(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=De.updateQueue,r===null&&(r=Ac(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function rv(){return wt().memoizedState}function Ic(n,r,a,u){var f=pn();De.flags|=n,f.memoizedState=Ja(1|r,a,{destroy:void 0},u===void 0?null:u)}function Dc(n,r,a,u){var f=wt();u=u===void 0?null:u;var m=f.memoizedState.inst;Je!==null&&u!==null&&od(u,Je.memoizedState.deps)?f.memoizedState=Ja(r,a,m,u):(De.flags|=n,f.memoizedState=Ja(1|r,a,m,u))}function sv(n,r){Ic(8390656,8,n,r)}function yd(n,r){Dc(2048,8,n,r)}function av(n,r){return Dc(4,2,n,r)}function ov(n,r){return Dc(4,4,n,r)}function lv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function uv(n,r,a){a=a!=null?a.concat([n]):null,Dc(4,4,lv.bind(null,r,n),a)}function vd(){}function cv(n,r){var a=wt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&od(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function hv(n,r){var a=wt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&od(r,u[1]))return u[0];if(u=n(),ta){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,r],u}function _d(n,r,a){return a===void 0||(Yr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=d_(),De.lanes|=n,ss|=n,a)}function fv(n,r,a,u){return wn(a,r)?a:Qa.current!==null?(n=_d(n,a,u),wn(n,r)||(jt=!0),n):(Yr&42)===0?(jt=!0,n.memoizedState=a):(n=d_(),De.lanes|=n,ss|=n,r)}function dv(n,r,a,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var _=R.T,S={};R.T=S,Sd(n,!1,r,a);try{var D=f(),j=R.S;if(j!==null&&j(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=cA(D,u);bl(n,r,W,Cn(n))}else bl(n,r,u,Cn(n))}catch(ne){bl(n,r,{then:function(){},status:"rejected",reason:ne},Cn())}finally{oe.p=m,R.T=_}}function pA(){}function Ed(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=mv(n).queue;dv(n,f,r,_e,a===null?pA:function(){return pv(n),a(u)})}function mv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:_e},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function pv(n){var r=mv(n).next.queue;bl(n,r,{},Cn())}function Td(){return Jt(ql)}function gv(){return wt().memoizedState}function yv(){return wt().memoizedState}function gA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();n=Jr(a);var u=es(r,n,a);u!==null&&(hn(u,r,a),Cl(u,r,a)),r={cache:rd()},n.payload=r;return}r=r.return}}function yA(n,r,a){var u=Cn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(n)?_v(r,a):(a=Wf(n,r,a,u),a!==null&&(hn(a,n,u),Ev(a,r,u)))}function vv(n,r,a){var u=Cn();bl(n,r,a,u)}function bl(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(n))_v(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,S=m(_,a);if(f.hasEagerState=!0,f.eagerState=S,wn(S,_))return dc(n,r,f,0),rt===null&&fc(),!1}catch{}finally{}if(a=Wf(n,r,f,u),a!==null)return hn(a,n,u),Ev(a,r,u),!0}return!1}function Sd(n,r,a,u){if(u={lane:2,revertLane:hm(),action:u,hasEagerState:!1,eagerState:null,next:null},Nc(n)){if(r)throw Error(s(479))}else r=Wf(n,a,u,2),r!==null&&hn(r,n,2)}function Nc(n){var r=n.alternate;return n===De||r!==null&&r===De}function _v(n,r){Wa=wc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Ev(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Pr(n,a)}}var Ei={readContext:Jt,use:Rc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Ei.useCacheRefresh=_t,Ei.useMemoCache=_t,Ei.useHostTransitionStatus=_t,Ei.useFormState=_t,Ei.useActionState=_t,Ei.useOptimistic=_t;var na={readContext:Jt,use:Rc,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:Jt,useEffect:sv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Ic(4194308,4,lv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Ic(4194308,4,n,r)},useInsertionEffect:function(n,r){Ic(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var u=n();if(ta){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=pn();if(a!==void 0){var f=a(r);if(ta){oi(!0);try{a(r)}finally{oi(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=yA.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=pd(n);var r=n.queue,a=vv.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(n,r){var a=pn();return _d(a,n,r)},useTransition:function(){var n=pd(!1);return n=dv.bind(null,De,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=De,f=pn();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(He&60)!==0||Fy(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,sv(Gy.bind(null,u,m,n),[n]),u.flags|=2048,Ja(9,qy.bind(null,u,m,a,r),{destroy:void 0},null),a},useId:function(){var n=pn(),r=rt.identifierPrefix;if($e){var a=$i,u=Gi;a=(u&~(1<<32-on(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=bc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=hA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return pn().memoizedState=gA.bind(null,De)}};na.useMemoCache=fd,na.useHostTransitionStatus=Td,na.useFormState=ev,na.useActionState=ev,na.useOptimistic=function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Sd.bind(null,De,!0,a),a.dispatch=r,[n,r]};var Xr={readContext:Jt,use:Rc,useCallback:cv,useContext:Jt,useEffect:yd,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:hv,useReducer:Cc,useRef:rv,useState:function(){return Cc(Qi)},useDebugValue:vd,useDeferredValue:function(n,r){var a=wt();return fv(a,Je.memoizedState,n,r)},useTransition:function(){var n=Cc(Qi)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:Hy,useId:gv};Xr.useCacheRefresh=yv,Xr.useMemoCache=fd,Xr.useHostTransitionStatus=Td,Xr.useFormState=tv,Xr.useActionState=tv,Xr.useOptimistic=function(n,r){var a=wt();return Qy(a,Je,n,r)};var ia={readContext:Jt,use:Rc,useCallback:cv,useContext:Jt,useEffect:yd,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:hv,useReducer:md,useRef:rv,useState:function(){return md(Qi)},useDebugValue:vd,useDeferredValue:function(n,r){var a=wt();return Je===null?_d(a,n,r):fv(a,Je.memoizedState,n,r)},useTransition:function(){var n=md(Qi)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:wl(n),r]},useSyncExternalStore:Hy,useId:gv};ia.useCacheRefresh=yv,ia.useMemoCache=fd,ia.useHostTransitionStatus=Td,ia.useFormState=iv,ia.useActionState=iv,ia.useOptimistic=function(n,r){var a=wt();return Je!==null?Qy(a,Je,n,r):(a.baseState=n,[n,a.queue.dispatch])};function wd(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:x({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var bd={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=Cn(),f=Jr(u);f.payload=r,a!=null&&(f.callback=a),r=es(n,f,u),r!==null&&(hn(r,n,u),Cl(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=Cn(),f=Jr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=es(n,f,u),r!==null&&(hn(r,n,u),Cl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Cn(),u=Jr(a);u.tag=2,r!=null&&(u.callback=r),r=es(n,u,a),r!==null&&(hn(r,n,a),Cl(r,n,a))}};function Tv(n,r,a,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!hl(a,u)||!hl(f,m):!0}function Sv(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&bd.enqueueReplaceState(r,r.state,null)}function ra(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=x({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Oc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function wv(n){Oc(n)}function bv(n){console.error(n)}function Av(n){Oc(n)}function xc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Rv(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(n,r,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,r)},a}function Cv(n){return n=Jr(n),n.tag=3,n}function Iv(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Rv(r,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Rv(r,a,u),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vA(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Rl(r,a,f,!0),a=zn.current,a!==null){switch(a.tag){case 13:return _i===null?am():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===td?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),lm(n,u,f)),!1;case 22:return a.flags|=65536,u===td?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),lm(n,u,f)),!1}throw Error(s(435,a.tag))}return lm(n,u,f),am(),!1}if($e)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==ed&&(n=Error(s(422),{cause:u}),pl(Un(n,a)))):(u!==ed&&(r=Error(s(423),{cause:u}),pl(Un(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Un(u,a),f=Ad(n.stateNode,u,f),Bd(n,f),gt!==4&&(gt=2)),!1;var m=Error(s(520),{cause:u});if(m=Un(m,a),Vl===null?Vl=[m]:Vl.push(m),gt!==4&&(gt=2),r===null)return!0;u=Un(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ad(a.stateNode,u,n),Bd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Cv(f),Iv(f,n,a,u),Bd(a,f),!1}a=a.return}while(a!==null);return!1}var Dv=Error(s(461)),jt=!1;function $t(n,r,a,u){r.child=n===null?ky(r,null,a,u):Js(r,n.child,a,u)}function Nv(n,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return aa(r),u=ld(n,r,a,_,m,f),S=ud(),n!==null&&!jt?(cd(n,r,f),Yi(n,r,f)):($e&&S&&Zf(r),r.flags|=1,$t(n,r,u,f),r.child)}function Ov(n,r,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Qd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,xv(n,r,m,u,f)):(n=Lc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!kd(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(_,u)&&n.ref===r.ref)return Yi(n,r,f)}return r.flags|=1,n=rs(m,u),n.ref=r.ref,n.return=r,r.child=n}function xv(n,r,a,u,f){if(n!==null){var m=n.memoizedProps;if(hl(m,u)&&n.ref===r.ref)if(jt=!1,r.pendingProps=u=m,kd(n,f))(n.flags&131072)!==0&&(jt=!0);else return r.lanes=n.lanes,Yi(n,r,f)}return Rd(n,r,a,u,f)}function Mv(n,r,a){var u=r.pendingProps,f=u.children,m=(r.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Al(n,r),u.mode==="hidden"||m){if((r.flags&128)!==0){if(u=_!==null?_.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return kv(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Sc(r,_!==null?_.cachePool:null),_!==null?Vy(r,_):nd(),Py(r);else return r.lanes=r.childLanes=536870912,kv(n,r,_!==null?_.baseLanes|a:a,a)}else _!==null?(Sc(r,_.cachePool),Vy(r,_),Qr(),r.memoizedState=null):(n!==null&&Sc(r,null),nd(),Qr());return $t(n,r,f,a),r.child}function kv(n,r,a,u){var f=ad();return f=f===null?null:{parent:Ot._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Sc(r,null),nd(),Py(r),n!==null&&Rl(n,r,u,!0),null}function Al(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Rd(n,r,a,u,f){return aa(r),a=ld(n,r,a,u,void 0,f),u=ud(),n!==null&&!jt?(cd(n,r,f),Yi(n,r,f)):($e&&u&&Zf(r),r.flags|=1,$t(n,r,a,f),r.child)}function Vv(n,r,a,u,f,m){return aa(r),r.updateQueue=null,a=zy(r,u,a,f),By(n),u=ud(),n!==null&&!jt?(cd(n,r,m),Yi(n,r,m)):($e&&u&&Zf(r),r.flags|=1,$t(n,r,a,m),r.child)}function Pv(n,r,a,u,f){if(aa(r),r.stateNode===null){var m=qa,_=a.contextType;typeof _=="object"&&_!==null&&(m=Jt(_)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=bd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Ud(r),_=a.contextType,m.context=typeof _=="object"&&_!==null?Jt(_):qa,m.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(wd(r,a,_,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&bd.enqueueReplaceState(m,m.state,null),Dl(r,u,m,f),Il(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,D=ra(a,S);m.props=D;var j=m.context,W=a.contextType;_=qa,typeof W=="object"&&W!==null&&(_=Jt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||j!==_)&&Sv(r,m,u,_),Zr=!1;var $=r.memoizedState;m.state=$,Dl(r,u,m,f),Il(),j=r.memoizedState,S||$!==j||Zr?(typeof ne=="function"&&(wd(r,a,ne,u),j=r.memoizedState),(D=Zr||Tv(r,a,D,u,$,j,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),m.props=u,m.state=j,m.context=_,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,jd(n,r),_=r.memoizedProps,W=ra(a,_),m.props=W,ne=r.pendingProps,$=m.context,j=a.contextType,D=qa,typeof j=="object"&&j!==null&&(D=Jt(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||$!==D)&&Sv(r,m,u,D),Zr=!1,$=r.memoizedState,m.state=$,Dl(r,u,m,f),Il();var Y=r.memoizedState;_!==ne||$!==Y||Zr||n!==null&&n.dependencies!==null&&Mc(n.dependencies)?(typeof S=="function"&&(wd(r,a,S,u),Y=r.memoizedState),(W=Zr||Tv(r,a,W,u,$,Y,D)||n!==null&&n.dependencies!==null&&Mc(n.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),m.props=u,m.state=Y,m.context=D,u=W):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Al(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=Js(r,n.child,null,f),r.child=Js(r,null,a,f)):$t(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Yi(n,r,f),n}function Lv(n,r,a,u){return ml(),r.flags|=256,$t(n,r,a,u),r.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Id(n){return{baseLanes:n,cachePool:jy()}}function Dd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Gn),n}function Uv(n,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if($e){if(f?Kr(r):Qr(),$e){var S=Gt,D;if(D=S){e:{for(D=S,S=vi;D.nodeType!==8;){if(!S){S=null;break e}if(D=ei(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:Xs!==null?{id:Gi,overflow:$i}:null,retryLane:536870912},D=qn(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,cn=r,Gt=null,D=!0):D=!1}D||Zs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;Ki(r)}return S=u.children,u=u.fallback,f?(Qr(),f=r.mode,S=Od({mode:"hidden",children:S},f),u=la(u,f,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=Id(a),f.childLanes=Dd(n,_,a),r.memoizedState=Cd,u):(Kr(r),Nd(r,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(Kr(r),r.flags&=-257,r=xd(n,r,a)):r.memoizedState!==null?(Qr(),r.child=n.child,r.flags|=128,r=null):(Qr(),f=u.fallback,S=r.mode,u=Od({mode:"visible",children:u.children},S),f=la(f,S,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Js(r,n.child,null,a),u=r.child,u.memoizedState=Id(a),u.childLanes=Dd(n,_,a),r.memoizedState=Cd,r=f);else if(Kr(r),S.data==="$!"){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,u=Error(s(419)),u.stack="",u.digest=_,pl({value:u,source:null,stack:null}),r=xd(n,r,a)}else if(jt||Rl(n,r,a,!1),_=(a&n.childLanes)!==0,jt||_){if(_=rt,_!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,$r(n,u),hn(_,n,u),Dv}S.data==="$?"||am(),r=xd(n,r,a)}else S.data==="$?"?(r.flags|=128,r.child=n.child,r=MA.bind(null,n),S._reactRetry=r,r=null):(n=D.treeContext,Gt=ei(S.nextSibling),cn=r,$e=!0,Zn=null,vi=!1,n!==null&&(jn[Bn++]=Gi,jn[Bn++]=$i,jn[Bn++]=Xs,Gi=n.id,$i=n.overflow,Xs=r),r=Nd(r,u.children),r.flags|=4096);return r}return f?(Qr(),f=u.fallback,S=r.mode,D=n.child,j=D.sibling,u=rs(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,j!==null?f=rs(j,f):(f=la(f,S,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=n.child.memoizedState,S===null?S=Id(a):(D=S.cachePool,D!==null?(j=Ot._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=jy(),S={baseLanes:S.baseLanes|a,cachePool:D}),f.memoizedState=S,f.childLanes=Dd(n,_,a),r.memoizedState=Cd,u):(Kr(r),a=n.child,n=a.sibling,a=rs(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function Nd(n,r){return r=Od({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Od(n,r){return c_(n,r,0,null)}function xd(n,r,a){return Js(r,n.child,null,a),n=Nd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function jv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Pd(n.return,r,a)}function Md(n,r,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function Bv(n,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if($t(n,r,u.children,a),u=Nt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jv(n,a,r);else if(n.tag===19)jv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Ve(Nt,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Tc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Md(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Tc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Md(r,!0,a,null,m);break;case"together":Md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ss|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Rl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=rs(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=rs(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function kd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Mc(n)))}function _A(n,r,a){switch(r.tag){case 3:qe(r,r.stateNode.containerInfo),Wr(r,Ot,n.memoizedState.cache),ml();break;case 27:case 5:Qn(r);break;case 4:qe(r,r.stateNode.containerInfo);break;case 10:Wr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Uv(n,r,a):(Kr(r),n=Yi(n,r,a),n!==null?n.sibling:null);Kr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Rl(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return Bv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ve(Nt,Nt.current),u)break;return null;case 22:case 23:return r.lanes=0,Mv(n,r,a);case 24:Wr(r,Ot,n.memoizedState.cache)}return Yi(n,r,a)}function zv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)jt=!0;else{if(!kd(n,a)&&(r.flags&128)===0)return jt=!1,_A(n,r,a);jt=(n.flags&131072)!==0}else jt=!1,$e&&(r.flags&1048576)!==0&&Ay(r,gc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Qd(u)?(n=ra(u,n),r.tag=1,r=Pv(null,r,u,n,a)):(r.tag=0,r=Rd(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===M){r.tag=11,r=Nv(null,r,u,n,a);break e}else if(f===G){r.tag=14,r=Ov(null,r,u,n,a);break e}}throw r=I(u)||u,Error(s(306,r,""))}}return r;case 0:return Rd(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=ra(u,r.pendingProps),Pv(n,r,u,f,a);case 3:e:{if(qe(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,u=f.element,jd(n,r),Dl(r,m,null,a);var _=r.memoizedState;if(m=_.cache,Wr(r,Ot,m),m!==f.cache&&Ld(r,[Ot],a,!0),Il(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Lv(n,r,m,a);break e}else if(m!==u){u=Un(Error(s(424)),r),pl(u),r=Lv(n,r,m,a);break e}else for(Gt=ei(r.stateNode.containerInfo.firstChild),cn=r,$e=!0,Zn=null,vi=!0,a=ky(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ml(),m===u){r=Yi(n,r,a);break e}$t(n,r,m,a)}r=r.child}return r;case 26:return Al(n,r),n===null?(a=q_(r.type,null,r.pendingProps,null))?r.memoizedState=a:$e||(a=r.type,n=r.pendingProps,u=Yc(Vt.current).createElement(a),u[Pt]=r,u[Ct]=n,Kt(u,a,n),ct(u),r.stateNode=u):r.memoizedState=q_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Qn(r),n===null&&$e&&(u=r.stateNode=z_(r.type,r.pendingProps,Vt.current),cn=r,vi=!0,Gt=ei(u.firstChild)),u=r.pendingProps.children,n!==null||$e?$t(n,r,u,a):r.child=Js(r,null,u,a),Al(n,r),r.child;case 5:return n===null&&$e&&((f=u=Gt)&&(u=YA(u,r.type,r.pendingProps,vi),u!==null?(r.stateNode=u,cn=r,Gt=ei(u.firstChild),vi=!1,f=!0):f=!1),f||Zs(r)),Qn(r),f=r.type,m=r.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,Em(f,m)?u=null:_!==null&&Em(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=ld(n,r,fA,null,null,a),ql._currentValue=f),Al(n,r),$t(n,r,u,a),r.child;case 6:return n===null&&$e&&((n=a=Gt)&&(a=XA(a,r.pendingProps,vi),a!==null?(r.stateNode=a,cn=r,Gt=null,n=!0):n=!1),n||Zs(r)),null;case 13:return Uv(n,r,a);case 4:return qe(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Js(r,null,u,a):$t(n,r,u,a),r.child;case 11:return Nv(n,r,r.type,r.pendingProps,a);case 7:return $t(n,r,r.pendingProps,a),r.child;case 8:return $t(n,r,r.pendingProps.children,a),r.child;case 12:return $t(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Wr(r,r.type,u.value),$t(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,aa(r),f=Jt(f),u=u(f),r.flags|=1,$t(n,r,u,a),r.child;case 14:return Ov(n,r,r.type,r.pendingProps,a);case 15:return xv(n,r,r.type,r.pendingProps,a);case 19:return Bv(n,r,a);case 22:return Mv(n,r,a);case 24:return aa(r),u=Jt(Ot),n===null?(f=ad(),f===null&&(f=rt,m=rd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},Ud(r),Wr(r,Ot,f)):((n.lanes&a)!==0&&(jd(n,r),Dl(r,null,null,a),Il()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Wr(r,Ot,u)):(u=m.cache,Wr(r,Ot,u),u!==f.cache&&Ld(r,[Ot],a,!0))),$t(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Vd=ke(null),sa=null,Xi=null;function Wr(n,r,a){Ve(Vd,r._currentValue),r._currentValue=a}function Wi(n){n._currentValue=Vd.current,Ze(Vd)}function Pd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Ld(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Pd(m.return,a,n),u||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Pd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Rl(n,r,a,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;wn(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===an.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ql):n=[ql])}f=f.return}n!==null&&Ld(r,n,a,u),r.flags|=262144}function Mc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function aa(n){sa=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return Hv(sa,n)}function kc(n,r){return sa===null&&aa(n),Hv(n,r)}function Hv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Xi===null){if(n===null)throw Error(s(308));Xi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Xi=Xi.next=r;return a}var Zr=!1;function Ud(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Jr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function es(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=mc(n),wy(n,null,a),r}return dc(n,u,r,a),mc(n)}function Cl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Pr(n,a)}}function Bd(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var zd=!1;function Il(){if(zd){var n=Xa;if(n!==null)throw n}}function Dl(n,r,a,u){zd=!1;var f=n.updateQueue;Zr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,j=D.next;D.next=null,_===null?m=j:_.next=j,_=D;var W=n.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=j:S.next=j,W.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;_=0,W=j=D=null,S=m;do{var $=S.lane&-536870913,Y=$!==S.lane;if(Y?(He&$)===$:(u&$)===$){$!==0&&$===Ya&&(zd=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=n,Re=S;$=r;var yt=a;switch(Re.tag){case 1:if(me=Re.payload,typeof me=="function"){ne=me.call(yt,ne,$);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Re.payload,$=typeof me=="function"?me.call(yt,ne,$):me,$==null)break e;ne=x({},ne,$);break e;case 2:Zr=!0}}$=S.callback,$!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[$]:Y.push($))}else Y={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(j=W=Y,D=ne):W=W.next=Y,_|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),ss|=_,n.lanes=_,n.memoizedState=ne}}function Fv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function qv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Fv(a[n],r)}function Nl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,_=a.inst;u=m(),_.destroy=u}a=a.next}while(a!==f)}}catch(S){nt(r,r.return,S)}}function ts(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var D=a;try{S()}catch(j){nt(f,D,j)}}}u=u.next}while(u!==m)}}catch(j){nt(r,r.return,j)}}function Gv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{qv(r,a)}catch(u){nt(n,n.return,u)}}}function $v(n,r,a){a.props=ra(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){nt(n,r,u)}}function oa(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){nt(n,r,m)}}function bn(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){nt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,r,f)}else a.current=null}function Kv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function Qv(n,r,a){try{var u=n.stateNode;qA(u,n.type,a,r),u[Ct]=r}catch(f){nt(n,n.return,f)}}function Yv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Hd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Yv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fd(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Qc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Fd(n,r,a),n=n.sibling;n!==null;)Fd(n,r,a),n=n.sibling}function Vc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Vc(n,r,a),n=n.sibling;n!==null;)Vc(n,r,a),n=n.sibling}var Zi=!1,pt=!1,qd=!1,Xv=typeof WeakSet=="function"?WeakSet:Set,Bt=null,Wv=!1;function EA(n,r){if(n=n.containerInfo,vm=th,n=my(n),$f(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,j=0,W=0,ne=n,$=null;t:for(;;){for(var Y;ne!==a||f!==0&&ne.nodeType!==3||(S=_+f),ne!==m||u!==0&&ne.nodeType!==3||(D=_+u),ne.nodeType===3&&(_+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)$=ne,ne=Y;for(;;){if(ne===n)break t;if($===a&&++j===f&&(S=_),$===m&&++W===u&&(D=_),(Y=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=Y}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:n,selectionRange:a},th=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var me=ra(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(me,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Re){nt(a,a.return,Re)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)wm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}return me=Wv,Wv=!1,me}function Zv(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:er(n,a),u&4&&Nl(5,a);break;case 1:if(er(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){nt(a,a.return,S)}else{var f=ra(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){nt(a,a.return,S)}}u&64&&Gv(a),u&512&&oa(a,a.return);break;case 3:if(er(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qv(u,n)}catch(S){nt(a,a.return,S)}}break;case 26:er(n,a),u&512&&oa(a,a.return);break;case 27:case 5:er(n,a),r===null&&u&4&&Kv(a),u&512&&oa(a,a.return);break;case 12:er(n,a);break;case 13:er(n,a),u&4&&t_(n,a);break;case 22:if(f=a.memoizedState!==null||Zi,!f){r=r!==null&&r.memoizedState!==null||pt;var m=Zi,_=pt;Zi=f,(pt=r)&&!_?ns(n,a,(a.subtreeFlags&8772)!==0):er(n,a),Zi=m,pt=_}u&512&&(a.memoizedProps.mode==="manual"?oa(a,a.return):bn(a,a.return));break;default:er(n,a)}}function Jv(n){var r=n.alternate;r!==null&&(n.alternate=null,Jv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ls(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,An=!1;function Ji(n,r,a){for(a=a.child;a!==null;)e_(n,r,a),a=a.sibling}function e_(n,r,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Or,a)}catch{}switch(a.tag){case 26:pt||bn(a,r),Ji(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||bn(a,r);var u=bt,f=An;for(bt=a.stateNode,Ji(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ls(a),bt=u,An=f;break;case 5:pt||bn(a,r);case 6:f=bt;var m=An;if(bt=null,Ji(n,r,a),bt=f,An=m,bt!==null)if(An)try{n=bt,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){nt(a,r,_)}else try{bt.removeChild(a.stateNode)}catch(_){nt(a,r,_)}break;case 18:bt!==null&&(An?(r=bt,a=a.stateNode,r.nodeType===8?Sm(r.parentNode,a):r.nodeType===1&&Sm(r,a),Ql(r)):Sm(bt,a.stateNode));break;case 4:u=bt,f=An,bt=a.stateNode.containerInfo,An=!0,Ji(n,r,a),bt=u,An=f;break;case 0:case 11:case 14:case 15:pt||ts(2,a,r),pt||ts(4,a,r),Ji(n,r,a);break;case 1:pt||(bn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&$v(a,r,u)),Ji(n,r,a);break;case 21:Ji(n,r,a);break;case 22:pt||bn(a,r),pt=(u=pt)||a.memoizedState!==null,Ji(n,r,a),pt=u;break;default:Ji(n,r,a)}}function t_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ql(n)}catch(a){nt(r,r.return,a)}}function TA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Xv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Xv),r;default:throw Error(s(435,n.tag))}}function Gd(n,r){var a=TA(n);r.forEach(function(u){var f=kA.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Hn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:case 5:bt=S.stateNode,An=!1;break e;case 3:bt=S.stateNode.containerInfo,An=!0;break e;case 4:bt=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(bt===null)throw Error(s(160));e_(m,_,f),bt=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)n_(r,n),r=r.sibling}var Jn=null;function n_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(r,n),Fn(n),u&4&&(ts(3,n,n.return),Nl(3,n),ts(5,n,n.return));break;case 1:Hn(r,n),Fn(n),u&512&&(pt||a===null||bn(a,a.return)),u&64&&Zi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Jn;if(Hn(r,n),Fn(n),u&512&&(pt||a===null||bn(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ur]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Kt(m,u,a),m[Pt]=n,ct(m),u=m;break e;case"link":var _=K_("link","href",f).get(u+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(u),Kt(m,u,a),f.head.appendChild(m);break;case"meta":if(_=K_("meta","content",f).get(u+(a.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}m=f.createElement(u),Kt(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Pt]=n,ct(m),u=m}n.stateNode=u}else Q_(f,n.type,n.stateNode);else n.stateNode=$_(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?Q_(f,n.type,n.stateNode):$_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Qv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var D=f.firstChild;D;){var j=D.nextSibling,W=D.nodeName;D[Ur]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=j}for(var ne=n.type,$=f.attributes;$.length;)f.removeAttributeNode($[0]);Kt(f,ne,m),f[Pt]=n,f[Ct]=m}catch(me){nt(n,n.return,me)}}case 5:if(Hn(r,n),Fn(n),u&512&&(pt||a===null||bn(a,a.return)),n.flags&32){f=n.stateNode;try{Mn(f,"")}catch(me){nt(n,n.return,me)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Qv(n,f,a!==null?a.memoizedProps:f)),u&1024&&(qd=!0);break;case 6:if(Hn(r,n),Fn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(me){nt(n,n.return,me)}}break;case 3:if(Zc=null,f=Jn,Jn=Xc(r.containerInfo),Hn(r,n),Jn=f,Fn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Ql(r.containerInfo)}catch(me){nt(n,n.return,me)}qd&&(qd=!1,i_(n));break;case 4:u=Jn,Jn=Xc(n.stateNode.containerInfo),Hn(r,n),Fn(n),Jn=u;break;case 12:Hn(r,n),Fn(n);break;case 13:Hn(r,n),Fn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(em=Ft()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Gd(n,u)));break;case 22:if(u&512&&(pt||a===null||bn(a,a.return)),D=n.memoizedState!==null,j=a!==null&&a.memoizedState!==null,W=Zi,ne=pt,Zi=W||D,pt=ne||j,Hn(r,n),pt=ne,Zi=W,Fn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=Zi||pt,a===null||j||r||eo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){j=a=r;try{if(f=j.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=j.stateNode,S=j.memoizedProps.style;var Y=S!=null&&S.hasOwnProperty("display")?S.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){nt(j,j.return,me)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=D?"":j.memoizedProps}catch(me){nt(j,j.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Gd(n,a))));break;case 19:Hn(r,n),Fn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Gd(n,u)));break;case 21:break;default:Hn(r,n),Fn(n)}}function Fn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Yv(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Hd(n);Vc(n,m,f);break;case 5:var _=u.stateNode;u.flags&32&&(Mn(_,""),u.flags&=-33);var S=Hd(n);Vc(n,S,_);break;case 3:case 4:var D=u.stateNode.containerInfo,j=Hd(n);Fd(n,j,D);break;default:throw Error(s(161))}}}catch(W){nt(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function i_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;i_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function er(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zv(n,r.alternate,r),r=r.sibling}function eo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ts(4,r,r.return),eo(r);break;case 1:bn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&$v(r,r.return,a),eo(r);break;case 26:case 27:case 5:bn(r,r.return),eo(r);break;case 22:bn(r,r.return),r.memoizedState===null&&eo(r);break;default:eo(r)}n=n.sibling}}function ns(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:ns(f,m,a),Nl(4,m);break;case 1:if(ns(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){nt(u,u.return,j)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Fv(D[f],S)}catch(j){nt(u,u.return,j)}}a&&_&64&&Gv(m),oa(m,m.return);break;case 26:case 27:case 5:ns(f,m,a),a&&u===null&&_&4&&Kv(m),oa(m,m.return);break;case 12:ns(f,m,a);break;case 13:ns(f,m,a),a&&_&4&&t_(f,m);break;case 22:m.memoizedState===null&&ns(f,m,a),oa(m,m.return);break;default:ns(f,m,a)}r=r.sibling}}function $d(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&El(a))}function Kd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&El(n))}function is(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r_(n,r,a,u),r=r.sibling}function r_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:is(n,r,a,u),f&2048&&Nl(9,r);break;case 3:is(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&El(n)));break;case 12:if(f&2048){is(n,r,a,u),n=r.stateNode;try{var m=r.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){nt(r,r.return,D)}}else is(n,r,a,u);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?is(n,r,a,u):Ol(n,r):m._visibility&4?is(n,r,a,u):(m._visibility|=4,to(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&$d(r.alternate,r);break;case 24:is(n,r,a,u),f&2048&&Kd(r.alternate,r);break;default:is(n,r,a,u)}}function to(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,_=r,S=a,D=u,j=_.flags;switch(_.tag){case 0:case 11:case 15:to(m,_,S,D,f),Nl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?to(m,_,S,D,f):Ol(m,_):(W._visibility|=4,to(m,_,S,D,f)),f&&j&2048&&$d(_.alternate,_);break;case 24:to(m,_,S,D,f),f&&j&2048&&Kd(_.alternate,_);break;default:to(m,_,S,D,f)}r=r.sibling}}function Ol(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Ol(a,u),f&2048&&$d(u.alternate,u);break;case 24:Ol(a,u),f&2048&&Kd(u.alternate,u);break;default:Ol(a,u)}r=r.sibling}}var xl=8192;function no(n){if(n.subtreeFlags&xl)for(n=n.child;n!==null;)s_(n),n=n.sibling}function s_(n){switch(n.tag){case 26:no(n),n.flags&xl&&n.memoizedState!==null&&uR(Jn,n.memoizedState,n.memoizedProps);break;case 5:no(n);break;case 3:case 4:var r=Jn;Jn=Xc(n.stateNode.containerInfo),no(n),Jn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=xl,xl=16777216,no(n),xl=r):no(n));break;default:no(n)}}function a_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ml(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bt=u,l_(u,n)}a_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o_(n),n=n.sibling}function o_(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&ts(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Pc(n)):Ml(n);break;default:Ml(n)}}function Pc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bt=u,l_(u,n)}a_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ts(8,r,r.return),Pc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Pc(r));break;default:Pc(r)}n=n.sibling}}function l_(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:ts(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:El(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Bt=u;else e:for(a=n;Bt!==null;){u=Bt;var f=u.sibling,m=u.return;if(Jv(u),u===a){Bt=null;break e}if(f!==null){f.return=m,Bt=f;break e}Bt=m}}}function SA(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,r,a,u){return new SA(n,r,a,u)}function Qd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rs(n,r){var a=n.alternate;return a===null?(a=qn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function u_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Lc(n,r,a,u,f,m){var _=0;if(u=n,typeof n=="function")Qd(n)&&(_=1);else if(typeof n=="string")_=oR(n,a,Tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return la(a.children,f,m,r);case g:_=8,f|=24;break;case E:return n=qn(12,a,r,f|2),n.elementType=E,n.lanes=m,n;case q:return n=qn(13,a,r,f),n.elementType=q,n.lanes=m,n;case L:return n=qn(19,a,r,f),n.elementType=L,n.lanes=m,n;case K:return c_(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case N:_=10;break e;case w:_=9;break e;case M:_=11;break e;case G:_=14;break e;case ee:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=qn(_,a,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function la(n,r,a,u){return n=qn(7,n,u,r),n.lanes=a,n}function c_(n,r,a,u){n=qn(22,n,u,r),n.elementType=K,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=$r(m,2);_!==null&&(f._pendingVisibility|=2,hn(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=$r(m,2);_!==null&&(f._pendingVisibility&=-3,hn(_,m,2))}}};return n.stateNode=f,n}function Yd(n,r,a){return n=qn(6,n,null,r),n.lanes=a,n}function Xd(n,r,a){return r=qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function tr(n){n.flags|=4}function h_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Y_(r)){if(r=zn.current,r!==null&&((He&4194176)===He?_i!==null:(He&62914560)!==He&&(He&536870912)===0||r!==_i))throw yl=td,Iy;n.flags|=8192}}function Uc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?kr():536870912,n.lanes|=r,ro|=r)}function kl(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function wA(n,r,a){var u=r.pendingProps;switch(Jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Wi(Ot),dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(dl(r)?tr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zn!==null&&(rm(Zn),Zn=null))),ht(r),null;case 26:return a=r.memoizedState,n===null?(tr(r),a!==null?(ht(r),h_(r,a)):(ht(r),r.flags&=-16777217)):a?a!==n.memoizedState?(tr(r),ht(r),h_(r,a)):(ht(r),r.flags&=-16777217):(n.memoizedProps!==u&&tr(r),ht(r),r.flags&=-16777217),null;case 27:Ir(r),a=Vt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&tr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ht(r),null}n=Tt.current,dl(r)?Ry(r):(n=z_(f,u,a),r.stateNode=n,tr(r))}return ht(r),null;case 5:if(Ir(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&tr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(n=Tt.current,dl(r))Ry(r);else{switch(f=Yc(Vt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Pt]=r,n[Ct]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Kt(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&tr(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&tr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Vt.current,dl(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Pt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||V_(n.nodeValue,a)),n||Zs(r)}else n=Yc(n).createTextNode(u),n[Pt]=r,r.stateNode=n}return ht(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=dl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Pt]=r}else ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),f=!1}else Zn!==null&&(rm(Zn),Zn=null),f=!0;if(!f)return r.flags&256?(Ki(r),r):(Ki(r),null)}if(Ki(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Uc(r,r.updateQueue),ht(r),null;case 4:return dn(),n===null&&pm(r.stateNode.containerInfo),ht(r),null;case 10:return Wi(r.type),ht(r),null;case 19:if(Ze(Nt),f=r.memoizedState,f===null)return ht(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)kl(f,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Tc(n),m!==null){for(r.flags|=128,kl(f,!1),n=m.updateQueue,r.updateQueue=n,Uc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)u_(a,n),a=a.sibling;return Ve(Nt,Nt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Ft()>jc&&(r.flags|=128,u=!0,kl(f,!1),r.lanes=4194304)}else{if(!u)if(n=Tc(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Uc(r,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!$e)return ht(r),null}else 2*Ft()-f.renderingStartTime>jc&&a!==536870912&&(r.flags|=128,u=!0,kl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ft(),r.sibling=null,n=Nt.current,Ve(Nt,u?n&1|2:n&1),r):(ht(r),null);case 22:case 23:return Ki(r),id(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&Uc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Ze(ea),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Wi(Ot),ht(r),null;case 25:return null}throw Error(s(156,r.tag))}function bA(n,r){switch(Jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Wi(Ot),dn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ir(r),null;case 13:if(Ki(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ml()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ze(Nt),null;case 4:return dn(),null;case 10:return Wi(r.type),null;case 22:case 23:return Ki(r),id(),n!==null&&Ze(ea),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Wi(Ot),null;case 25:return null;default:return null}}function f_(n,r){switch(Jf(r),r.tag){case 3:Wi(Ot),dn();break;case 26:case 27:case 5:Ir(r);break;case 4:dn();break;case 13:Ki(r);break;case 19:Ze(Nt);break;case 10:Wi(r.type);break;case 22:case 23:Ki(r),id(),n!==null&&Ze(ea);break;case 24:Wi(Ot)}}var AA={getCacheForType:function(n){var r=Jt(Ot),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},RA=typeof WeakMap=="function"?WeakMap:Map,ft=0,rt=null,xe=null,He=0,st=0,Rn=null,nr=!1,io=!1,Wd=!1,ir=0,gt=0,ss=0,ua=0,Zd=0,Gn=0,ro=0,Vl=null,Ti=null,Jd=!1,em=0,jc=1/0,Bc=null,as=null,zc=!1,ca=null,Pl=0,tm=0,nm=null,Ll=0,im=null;function Cn(){if((ft&2)!==0&&He!==0)return He&-He;if(R.T!==null){var n=Ya;return n!==0?n:hm()}return Ku()}function d_(){Gn===0&&(Gn=(He&536870912)===0||$e?Yo():536870912);var n=zn.current;return n!==null&&(n.flags|=32),Gn}function hn(n,r,a){(n===rt&&st===2||n.cancelPendingCommit!==null)&&(so(n,0),rr(n,He,Gn,!1)),vt(n,a),((ft&2)===0||n!==rt)&&(n===rt&&((ft&2)===0&&(ua|=a),gt===4&&rr(n,He,Gn,!1)),Si(n))}function m_(n,r,a){if((ft&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Mr(n,r),f=u?DA(n,r):om(n,r,!0),m=u;do{if(f===0){io&&!u&&rr(n,r,0,!1);break}else if(f===6)rr(n,r,0,!nr);else{if(a=n.current.alternate,m&&!CA(a)){f=om(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=n;f=Vl;var D=S.current.memoizedState.isDehydrated;if(D&&(so(S,_).flags|=256),_=om(S,_,!1),_!==2){if(Wd&&!D){S.errorRecoveryDisabledLanes|=m,ua|=m,f=4;break e}m=Ti,Ti=f,m!==null&&rm(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){so(n,0),rr(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){rr(u,r,Gn,!nr);break e}break;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(m=em+300-Ft(),10<m)){if(rr(u,r,Gn,!nr),On(u,0)!==0)break e;u.timeoutHandle=U_(p_.bind(null,u,a,Ti,Bc,Jd,r,Gn,ua,ro,nr,2,-0,0),m);break e}p_(u,a,Ti,Bc,Jd,r,Gn,ua,ro,nr,0,-0,0)}}break}while(!0);Si(n)}function rm(n){Ti===null?Ti=n:Ti.push.apply(Ti,n)}function p_(n,r,a,u,f,m,_,S,D,j,W,ne,$){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:lR},s_(r),r=cR(),r!==null)){n.cancelPendingCommit=r(S_.bind(null,n,a,u,f,_,S,D,1,ne,$)),rr(n,m,_,!j);return}S_(n,a,u,f,_,S,D,W,ne,$)}function CA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!wn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rr(n,r,a,u){r&=~Zd,r&=~ua,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-on(f),_=1<<m;u[m]=-1,f&=~_}a!==0&&Vr(n,a,r)}function Hc(){return(ft&6)===0?(Ul(0),!1):!0}function sm(){if(xe!==null){if(st===0)var n=xe.return;else n=xe,Xi=sa=null,hd(n),Ka=null,vl=0,n=xe;for(;n!==null;)f_(n.alternate,n),n=n.return;xe=null}}function so(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,$A(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),sm(),rt=n,xe=a=rs(n.current,null),He=r,st=0,Rn=null,nr=!1,io=Mr(n,r),Wd=!1,ro=Gn=Zd=ua=ss=gt=0,Ti=Vl=null,Jd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-on(u),m=1<<f;r|=n[f],u&=~m}return ir=r,fc(),a}function g_(n,r){De=null,R.H=Ei,r===gl?(r=Oy(),st=3):r===Iy?(r=Oy(),st=4):st=r===Dv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,xe===null&&(gt=1,xc(n,Un(r,n.current)))}function y_(){var n=R.H;return R.H=Ei,n===null?Ei:n}function v_(){var n=R.A;return R.A=AA,n}function am(){gt=4,nr||(He&4194176)!==He&&zn.current!==null||(io=!0),(ss&134217727)===0&&(ua&134217727)===0||rt===null||rr(rt,He,Gn,!1)}function om(n,r,a){var u=ft;ft|=2;var f=y_(),m=v_();(rt!==n||He!==r)&&(Bc=null,so(n,r)),r=!1;var _=gt;e:do try{if(st!==0&&xe!==null){var S=xe,D=Rn;switch(st){case 8:sm(),_=6;break e;case 3:case 2:case 6:zn.current===null&&(r=!0);var j=st;if(st=0,Rn=null,ao(n,S,D,j),a&&io){_=0;break e}break;default:j=st,st=0,Rn=null,ao(n,S,D,j)}}IA(),_=gt;break}catch(W){g_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Xi=sa=null,ft=u,R.H=f,R.A=m,xe===null&&(rt=null,He=0,fc()),_}function IA(){for(;xe!==null;)__(xe)}function DA(n,r){var a=ft;ft|=2;var u=y_(),f=v_();rt!==n||He!==r?(Bc=null,jc=Ft()+500,so(n,r)):io=Mr(n,r);e:do try{if(st!==0&&xe!==null){r=xe;var m=Rn;t:switch(st){case 1:st=0,Rn=null,ao(n,r,m,1);break;case 2:if(Dy(m)){st=0,Rn=null,E_(r);break}r=function(){st===2&&rt===n&&(st=7),Si(n)},m.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Dy(m)?(st=0,Rn=null,E_(r)):(st=0,Rn=null,ao(n,r,m,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var S=xe;if(!_||Y_(_)){st=0,Rn=null;var D=S.sibling;if(D!==null)xe=D;else{var j=S.return;j!==null?(xe=j,Fc(j)):xe=null}break t}}st=0,Rn=null,ao(n,r,m,5);break;case 6:st=0,Rn=null,ao(n,r,m,6);break;case 8:sm(),gt=6;break e;default:throw Error(s(462))}}NA();break}catch(W){g_(n,W)}while(!0);return Xi=sa=null,R.H=u,R.A=f,ft=a,xe!==null?0:(rt=null,He=0,fc(),gt)}function NA(){for(;xe!==null&&!Go();)__(xe)}function __(n){var r=zv(n.alternate,n,ir);n.memoizedProps=n.pendingProps,r===null?Fc(n):xe=r}function E_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Vv(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=Vv(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:hd(r);default:f_(a,r),r=xe=u_(r,ir),r=zv(a,r,ir)}n.memoizedProps=n.pendingProps,r===null?Fc(n):xe=r}function ao(n,r,a,u){Xi=sa=null,hd(r),Ka=null,vl=0;var f=r.return;try{if(vA(n,f,r,a,He)){gt=1,xc(n,Un(a,n.current)),xe=null;return}}catch(m){if(f!==null)throw xe=f,m;gt=1,xc(n,Un(a,n.current)),xe=null;return}r.flags&32768?($e||u===1?n=!0:io||(He&536870912)!==0?n=!1:(nr=n=!0,(u===2||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),T_(r,n)):Fc(r)}function Fc(n){var r=n;do{if((r.flags&32768)!==0){T_(r,nr);return}n=r.return;var a=wA(r.alternate,r,ir);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);gt===0&&(gt=5)}function T_(n,r){do{var a=bA(n.alternate,n);if(a!==null){a.flags&=32767,xe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=a}while(n!==null);gt=6,xe=null}function S_(n,r,a,u,f,m,_,S,D,j){var W=R.T,ne=oe.p;try{oe.p=2,R.T=null,OA(n,r,a,u,ne,f,m,_,S,D,j)}finally{R.T=W,oe.p=ne}}function OA(n,r,a,u,f,m,_,S){do oo();while(ca!==null);if((ft&6)!==0)throw Error(s(327));var D=n.finishedWork;if(u=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var j=D.lanes|D.childLanes;if(j|=Xf,Gu(n,u,j,m,_,S),n===rt&&(xe=rt=null,He=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||zc||(zc=!0,tm=j,nm=a,VA(Nn,function(){return oo(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,m=oe.p,oe.p=2,_=ft,ft|=4,EA(n,D),n_(D,n),tA(_m,n.containerInfo),th=!!vm,_m=vm=null,n.current=D,Zv(n,D.alternate,D),ks(),ft=_,oe.p=m,R.T=a):n.current=D,zc?(zc=!1,ca=n,Pl=u):w_(n,j),j=n.pendingLanes,j===0&&(as=null),Ko(D.stateNode),Si(n),r!==null)for(f=n.onRecoverableError,D=0;D<r.length;D++)j=r[D],f(j.value,{componentStack:j.stack});return(Pl&3)!==0&&oo(),j=n.pendingLanes,(u&4194218)!==0&&(j&42)!==0?n===im?Ll++:(Ll=0,im=n):Ll=0,Ul(0),null}function w_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,El(r)))}function oo(){if(ca!==null){var n=ca,r=tm;tm=0;var a=$u(Pl),u=R.T,f=oe.p;try{if(oe.p=32>a?32:a,R.T=null,ca===null)var m=!1;else{a=nm,nm=null;var _=ca,S=Pl;if(ca=null,Pl=0,(ft&6)!==0)throw Error(s(331));var D=ft;if(ft|=4,o_(_.current),r_(_,_.current,S,a),ft=D,Ul(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Or,_)}catch{}m=!0}return m}finally{oe.p=f,R.T=u,w_(n,r)}}return!1}function b_(n,r,a){r=Un(a,r),r=Ad(n.stateNode,r,2),n=es(n,r,2),n!==null&&(vt(n,2),Si(n))}function nt(n,r,a){if(n.tag===3)b_(n,n,a);else for(;r!==null;){if(r.tag===3){b_(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(as===null||!as.has(u))){n=Un(a,n),a=Cv(2),u=es(r,a,2),u!==null&&(Iv(a,u,r,n),vt(u,2),Si(u));break}}r=r.return}}function lm(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new RA;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Wd=!0,f.add(a),n=xA.bind(null,n,r,a),r.then(n,n))}function xA(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(He&a)===a&&(gt===4||gt===3&&(He&62914560)===He&&300>Ft()-em?(ft&2)===0&&so(n,0):Zd|=a,ro===He&&(ro=0)),Si(n)}function A_(n,r){r===0&&(r=kr()),n=$r(n,r),n!==null&&(vt(n,r),Si(n))}function MA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),A_(n,a)}function kA(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),A_(n,a)}function VA(n,r){return Vi(n,r)}var qc=null,lo=null,um=!1,Gc=!1,cm=!1,ha=0;function Si(n){n!==lo&&n.next===null&&(lo===null?qc=lo=n:lo=lo.next=n),Gc=!0,um||(um=!0,LA(PA))}function Ul(n,r){if(!cm&&Gc){cm=!0;do for(var a=!1,u=qc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-on(42|n)+1)-1,m&=f&~(_&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,I_(u,m))}else m=He,m=On(u,u===rt?m:0),(m&3)===0||Mr(u,m)||(a=!0,I_(u,m));u=u.next}while(a);cm=!1}}function PA(){Gc=um=!1;var n=0;ha!==0&&(GA()&&(n=ha),ha=0);for(var r=Ft(),a=null,u=qc;u!==null;){var f=u.next,m=R_(u,r);m===0?(u.next=null,a===null?qc=f:a.next=f,f===null&&(lo=a)):(a=u,(n!==0||(m&3)!==0)&&(Gc=!0)),u=f}Ul(n)}function R_(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-on(m),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&u)!==0)&&(f[_]=Ra(S,r)):D<=r&&(n.expiredLanes|=S),m&=~S}if(r=rt,a=He,a=On(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&st===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Nr(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Mr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&Nr(u),$u(a)){case 2:case 8:a=ot;break;case 32:a=Nn;break;case 268435456:a=$o;break;default:a=Nn}return u=C_.bind(null,n),a=Vi(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&Nr(u),n.callbackPriority=2,n.callbackNode=null,2}function C_(n,r){var a=n.callbackNode;if(oo()&&n.callbackNode!==a)return null;var u=He;return u=On(n,n===rt?u:0),u===0?null:(m_(n,u,r),R_(n,Ft()),n.callbackNode!=null&&n.callbackNode===a?C_.bind(null,n):null)}function I_(n,r){if(oo())return null;m_(n,r,!0)}function LA(n){KA(function(){(ft&6)!==0?Vi(Ee,n):n()})}function hm(){return ha===0&&(ha=Yo()),ha}function D_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hi(""+n)}function N_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function UA(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=D_((f[Ct]||null).action),_=u.submitter;_&&(r=(r=_[Ct]||null)?D_(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var S=new Ma("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ha!==0){var D=_?N_(f,_):new FormData(f);Ed(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=_?N_(f,_):new FormData(f),Ed(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var fm=0;fm<Sy.length;fm++){var dm=Sy[fm],jA=dm.toLowerCase(),BA=dm[0].toUpperCase()+dm.slice(1);Wn(jA,"on"+BA)}Wn(yy,"onAnimationEnd"),Wn(vy,"onAnimationIteration"),Wn(_y,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(iA,"onTransitionRun"),Wn(rA,"onTransitionStart"),Wn(sA,"onTransitionCancel"),Wn(Ey,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function O_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],D=S.instance,j=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=j;try{m(f)}catch(W){Oc(W)}f.currentTarget=null,m=D}else for(_=0;_<u.length;_++){if(S=u[_],D=S.instance,j=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=j;try{m(f)}catch(W){Oc(W)}f.currentTarget=null,m=D}}}}function Ue(n,r){var a=r[Ps];a===void 0&&(a=r[Ps]=new Set);var u=n+"__bubble";a.has(u)||(x_(r,n,2,!1),a.add(u))}function mm(n,r,a){var u=0;r&&(u|=4),x_(a,n,u,r)}var $c="_reactListening"+Math.random().toString(36).slice(2);function pm(n){if(!n[$c]){n[$c]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(zA.has(a)||mm(a,!1,n),mm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[$c]||(r[$c]=!0,mm("selectionchange",!1,r))}}function x_(n,r,a,u){switch(tE(r)){case 2:var f=dR;break;case 8:f=mR;break;default:f=Im}a=f.bind(null,r,a,n),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function gm(n,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;S!==null;){if(_=Xn(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){u=m=_;continue e}S=S.parentNode}}u=u.return}Wu(function(){var j=m,W=xa(a),ne=[];e:{var $=Ty.get(n);if($!==void 0){var Y=Ma,me=n;switch(n){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":Y=ja;break;case"focusin":me="focus",Y=Pa;break;case"focusout":me="blur",Y=Pa;break;case"beforeblur":case"afterblur":Y=Pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=sc;break;case yy:case vy:case _y:Y=La;break;case Ey:Y=oc;break;case"scroll":case"scrollend":Y=Zu;break;case"wheel":Y=Ba;break;case"copy":case"cut":case"paste":Y=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ul;break;case"toggle":case"beforetoggle":Y=uc}var Re=(r&4)!==0,yt=!Re&&(n==="scroll"||n==="scrollend"),z=Re?$!==null?$+"Capture":null:$;Re=[];for(var U=j,F;U!==null;){var Z=U;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||z===null||(Z=zs(U,z),Z!=null&&Re.push(Bl(U,Z,F))),yt)break;U=U.return}0<Re.length&&($=new Y($,me,null,a,W),ne.push({event:$,listeners:Re}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",$&&a!==kn&&(me=a.relatedTarget||a.fromElement)&&(Xn(me)||me[Pi]))break e;if((Y||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(me=a.relatedTarget||a.toElement,Y=j,me=me?Xn(me):null,me!==null&&(yt=ce(me),Re=me.tag,me!==yt||Re!==5&&Re!==27&&Re!==6)&&(me=null)):(Y=null,me=j),Y!==me)){if(Re=Pn,Z="onMouseLeave",z="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Re=ul,Z="onPointerLeave",z="onPointerEnter",U="pointer"),yt=Y==null?$:jr(Y),F=me==null?$:jr(me),$=new Re(Z,U+"leave",Y,a,W),$.target=yt,$.relatedTarget=F,Z=null,Xn(W)===j&&(Re=new Re(z,U+"enter",me,a,W),Re.target=F,Re.relatedTarget=yt,Z=Re),yt=Z,Y&&me)t:{for(Re=Y,z=me,U=0,F=Re;F;F=uo(F))U++;for(F=0,Z=z;Z;Z=uo(Z))F++;for(;0<U-F;)Re=uo(Re),U--;for(;0<F-U;)z=uo(z),F--;for(;U--;){if(Re===z||z!==null&&Re===z.alternate)break t;Re=uo(Re),z=uo(z)}Re=null}else Re=null;Y!==null&&M_(ne,$,Y,Re,!1),me!==null&&yt!==null&&M_(ne,yt,me,Re,!0)}}e:{if($=j?jr(j):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var de=ay;else if(Dt($))if(oy)de=Jb;else{de=Wb;var Ne=Xb}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?j&&nl(j.elementType)&&(de=ay):de=Zb;if(de&&(de=de(n,j))){qi(ne,de,a,W);break e}Ne&&Ne(n,$,j),n==="focusout"&&j&&$.type==="number"&&j.memoizedProps.value!=null&&Oa($,"number",$.value)}switch(Ne=j?jr(j):window,n){case"focusin":(Dt(Ne)||Ne.contentEditable==="true")&&(za=Ne,Kf=j,fl=null);break;case"focusout":fl=Kf=za=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,py(ne,a,W);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":py(ne,a,W)}var ye;if(gi)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?Q(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(ye=rl()):(fi=W,Gr="value"in fi?fi.value:fi.textContent,Be=!0)),Ne=Kc(j,Te),0<Ne.length&&(Te=new ol(Te,n,null,a,W),ne.push({event:Te,listeners:Ne}),ye?Te.data=ye:(ye=le(a),ye!==null&&(Te.data=ye)))),(ye=y?It(n,a):ze(n,a))&&(Te=Kc(j,"onBeforeInput"),0<Te.length&&(Ne=new ol("onBeforeInput","beforeinput",null,a,W),ne.push({event:Ne,listeners:Te}),Ne.data=ye)),UA(ne,n,j,a,W)}O_(ne,r)})}function Bl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Kc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=zs(n,a),f!=null&&u.unshift(Bl(n,f,m)),f=zs(n,r),f!=null&&u.push(Bl(n,f,m))),n=n.return}return u}function uo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function M_(n,r,a,u,f){for(var m=r._reactName,_=[];a!==null&&a!==u;){var S=a,D=S.alternate,j=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||j===null||(D=j,f?(j=zs(a,m),j!=null&&_.unshift(Bl(a,j,D))):f||(j=zs(a,m),j!=null&&_.push(Bl(a,j,D)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var HA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function k_(n){return(typeof n=="string"?n:""+n).replace(HA,`
`).replace(FA,"")}function V_(n,r){return r=k_(r),k_(n)===r}function Qc(){}function et(n,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Mn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Mn(n,""+u);break;case"className":Hr(n,"class",u);break;case"tabIndex":Hr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(n,a,u);break;case"style":Xu(n,u,m);break;case"data":if(r!=="object"){Hr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(n,r,"name",f.name,f,null),et(n,r,"formEncType",f.formEncType,f,null),et(n,r,"formMethod",f.formMethod,f,null),et(n,r,"formTarget",f.formTarget,f,null)):(et(n,r,"encType",f.encType,f,null),et(n,r,"method",f.method,f,null),et(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Qc);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=hi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),zr(n,"popover",u);break;case"xlinkActuate":xn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bf.get(a)||a,zr(n,a,u))}}function ym(n,r,a,u,f,m){switch(a){case"style":Xu(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Mn(n,u):(typeof u=="number"||typeof u=="bigint")&&Mn(n,""+u);break;case"onScroll":u!=null&&Ue("scroll",n);break;case"onScrollEnd":u!=null&&Ue("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[Ct]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):zr(n,a,u)}}}function Kt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,m,_,a,null)}}f&&et(n,r,"srcSet",a.srcSet,a,null),u&&et(n,r,"src",a.src,a,null);return;case"input":Ue("invalid",n);var S=m=_=f=null,D=null,j=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":j=W;break;case"value":m=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:et(n,r,u,W,a,null)}}js(n,m,S,D,j,_,f,!1),Us(n);return;case"select":Ue("invalid",n),u=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:et(n,r,f,S,a,null)}r=m,a=_,n.multiple=!!u,r!=null?Ge(n,!!u,r,!1):a!=null&&Ge(n,!!u,a,!0);return;case"textarea":Ue("invalid",n),m=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(n,r,_,S,a,null)}qr(n,u,f,m),Us(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,r,D,u,a,null)}return;case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(u=0;u<jl.length;u++)Ue(jl[u],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(u=a[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,j,u,a,null)}return;default:if(nl(r)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&ym(n,r,W,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&et(n,r,S,u,a,null))}function qA(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,D=null,j=null,W=null;for(Y in a){var ne=a[Y];if(a.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ne;default:u.hasOwnProperty(Y)||et(n,r,Y,null,u,ne)}}for(var $ in u){var Y=u[$];if(ne=a[$],u.hasOwnProperty($)&&(Y!=null||ne!=null))switch($){case"type":m=Y;break;case"name":f=Y;break;case"checked":j=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ne&&et(n,r,$,Y,u,ne)}}Fr(n,_,S,D,j,W,m,f);return;case"select":Y=_=S=$=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Y=D;default:u.hasOwnProperty(m)||et(n,r,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":$=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==D&&et(n,r,f,m,u,D)}r=S,a=_,u=Y,$!=null?Ge(n,!!a,$,!1):!!u!=!!a&&(r!=null?Ge(n,!!a,r,!0):Ge(n,!!a,a?[]:"",!1));return;case"textarea":Y=$=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,r,S,null,u,f)}for(_ in u)if(f=u[_],m=a[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":$=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(n,r,_,f,u,m)}Bs(n,$,Y);return;case"option":for(var me in a)if($=a[me],a.hasOwnProperty(me)&&$!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:et(n,r,me,null,u,$)}for(D in u)if($=u[D],Y=a[D],u.hasOwnProperty(D)&&$!==Y&&($!=null||Y!=null))switch(D){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:et(n,r,D,$,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)$=a[Re],a.hasOwnProperty(Re)&&$!=null&&!u.hasOwnProperty(Re)&&et(n,r,Re,null,u,$);for(j in u)if($=u[j],Y=a[j],u.hasOwnProperty(j)&&$!==Y&&($!=null||Y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:et(n,r,j,$,u,Y)}return;default:if(nl(r)){for(var yt in a)$=a[yt],a.hasOwnProperty(yt)&&$!==void 0&&!u.hasOwnProperty(yt)&&ym(n,r,yt,void 0,u,$);for(W in u)$=u[W],Y=a[W],!u.hasOwnProperty(W)||$===Y||$===void 0&&Y===void 0||ym(n,r,W,$,u,Y);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&et(n,r,z,null,u,$);for(ne in u)$=u[ne],Y=a[ne],!u.hasOwnProperty(ne)||$===Y||$==null&&Y==null||et(n,r,ne,$,u,Y)}var vm=null,_m=null;function Yc(n){return n.nodeType===9?n:n.ownerDocument}function P_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Em(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tm=null;function GA(){var n=window.event;return n&&n.type==="popstate"?n===Tm?!1:(Tm=n,!0):(Tm=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(n){return j_.resolve(null).then(n).catch(QA)}:U_;function QA(n){setTimeout(function(){throw n})}function Sm(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Ql(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Ql(r)}function wm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),Ls(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function YA(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ur])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ei(n.nextSibling),n===null)break}return null}function XA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ei(n.nextSibling),n===null))return null;return n}function ei(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function B_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function z_(n,r,a){switch(r=Yc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var $n=new Map,H_=new Set;function Xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var sr=oe.d;oe.d={f:WA,r:ZA,D:JA,C:eR,L:tR,m:nR,X:rR,S:iR,M:sR};function WA(){var n=sr.f(),r=Hc();return n||r}function ZA(n){var r=Li(n);r!==null&&r.tag===5&&r.type==="form"?pv(r):sr.r(n)}var co=typeof document>"u"?null:document;function F_(n,r,a){var u=co;if(u&&typeof r=="string"&&r){var f=mt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),H_.has(f)||(H_.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Kt(r,"link",n),ct(r),u.head.appendChild(r)))}}function JA(n){sr.D(n),F_("dns-prefetch",n,null)}function eR(n,r){sr.C(n,r),F_("preconnect",n,r)}function tR(n,r,a){sr.L(n,r,a);var u=co;if(u&&n&&r){var f='link[rel="preload"][as="'+mt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+mt(a.imageSizes)+'"]')):f+='[href="'+mt(n)+'"]';var m=f;switch(r){case"style":m=ho(n);break;case"script":m=fo(n)}$n.has(m)||(n=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(zl(m))||r==="script"&&u.querySelector(Hl(m))||(r=u.createElement("link"),Kt(r,"link",n),ct(r),u.head.appendChild(r)))}}function nR(n,r){sr.m(n,r);var a=co;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+mt(u)+'"][href="'+mt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fo(n)}if(!$n.has(m)&&(n=x({rel:"modulepreload",href:n},r),$n.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(m)))return}u=a.createElement("link"),Kt(u,"link",n),ct(u),a.head.appendChild(u)}}}function iR(n,r,a){sr.S(n,r,a);var u=co;if(u&&n){var f=Br(u).hoistableStyles,m=ho(n);r=r||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(zl(m)))S.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(m))&&bm(n,a);var D=_=u.createElement("link");ct(D),Kt(D,"link",n),D._p=new Promise(function(j,W){D.onload=j,D.onerror=W}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wc(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function rR(n,r){sr.X(n,r);var a=co;if(a&&n){var u=Br(a).hoistableScripts,f=fo(n),m=u.get(f);m||(m=a.querySelector(Hl(f)),m||(n=x({src:n,async:!0},r),(r=$n.get(f))&&Am(n,r),m=a.createElement("script"),ct(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function sR(n,r){sr.M(n,r);var a=co;if(a&&n){var u=Br(a).hoistableScripts,f=fo(n),m=u.get(f);m||(m=a.querySelector(Hl(f)),m||(n=x({src:n,async:!0,type:"module"},r),(r=$n.get(f))&&Am(n,r),m=a.createElement("script"),ct(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function q_(n,r,a,u){var f=(f=Vt.current)?Xc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ho(a.href),a=Br(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ho(a.href);var m=Br(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(zl(n)))&&!m._p&&(_.instance=m,_.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),m||aR(f,n,a,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fo(a),a=Br(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ho(n){return'href="'+mt(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function G_(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function aR(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Kt(r,"link",a),ct(r),n.head.appendChild(r))}function fo(n){return'[src="'+mt(n)+'"]'}function Hl(n){return"script[async]"+n}function $_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+mt(a.href)+'"]');if(u)return r.instance=u,ct(u),u;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ct(u),Kt(u,"style",f),Wc(u,a.precedence,n),r.instance=u;case"stylesheet":f=ho(a.href);var m=n.querySelector(zl(f));if(m)return r.state.loading|=4,r.instance=m,ct(m),m;u=G_(a),(f=$n.get(f))&&bm(u,f),m=(n.ownerDocument||n).createElement("link"),ct(m);var _=m;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Kt(m,"link",u),r.state.loading|=4,Wc(m,a.precedence,n),r.instance=m;case"script":return m=fo(a.src),(f=n.querySelector(Hl(m)))?(r.instance=f,ct(f),f):(u=a,(f=$n.get(m))&&(u=x({},a),Am(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),ct(f),Kt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Wc(u,a.precedence,n));return r.instance}function Wc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function bm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Am(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Zc=null;function K_(n,r,a){if(Zc===null){var u=new Map,f=Zc=new Map;f.set(a,u)}else f=Zc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ur]||m[Pt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=n+_;var S=u.get(_);S?S.push(m):u.set(_,[m])}}return u}function Q_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function oR(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Y_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Fl=null;function lR(){}function uR(n,r,a){if(Fl===null)throw Error(s(475));var u=Fl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ho(a.href),m=n.querySelector(zl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Jc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,ct(m);return}m=n.ownerDocument||n,a=G_(a),(f=$n.get(f))&&bm(a,f),m=m.createElement("link"),ct(m);var _=m;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Kt(m,"link",a),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Jc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function cR(){if(Fl===null)throw Error(s(475));var n=Fl;return n.stylesheets&&n.count===0&&Rm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Rm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)Rm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var eh=null;function Rm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,eh=new Map,r.forEach(hR,n),eh=null,Jc.call(n))}function hR(n,r){if(!(r.state.loading&4)){var a=eh.get(n);if(a)var u=a.get(null);else{a=new Map,eh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||u,m===u&&a.set(null,f),a.set(_,f),this.count++,u=Jc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var ql={$$typeof:N,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function fR(n,r,a,u,f,m,_,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function X_(n,r,a,u,f,m,_,S,D,j,W,ne){return n=new fR(n,r,a,_,S,D,j,ne),r=1,m===!0&&(r|=24),m=qn(3,null,null,r),n.current=m,m.stateNode=n,r=rd(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},Ud(m),n}function W_(n){return n?(n=qa,n):qa}function Z_(n,r,a,u,f,m){f=W_(f),u.context===null?u.context=f:u.pendingContext=f,u=Jr(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=es(n,u,r),a!==null&&(hn(a,n,r),Cl(a,n,r))}function J_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Cm(n,r){J_(n,r),(n=n.alternate)&&J_(n,r)}function eE(n){if(n.tag===13){var r=$r(n,67108864);r!==null&&hn(r,n,67108864),Cm(n,67108864)}}var th=!0;function dR(n,r,a,u){var f=R.T;R.T=null;var m=oe.p;try{oe.p=2,Im(n,r,a,u)}finally{oe.p=m,R.T=f}}function mR(n,r,a,u){var f=R.T;R.T=null;var m=oe.p;try{oe.p=8,Im(n,r,a,u)}finally{oe.p=m,R.T=f}}function Im(n,r,a,u){if(th){var f=Dm(u);if(f===null)gm(n,r,u,nh,a),nE(n,u);else if(gR(f,n,r,a,u))u.stopPropagation();else if(nE(n,u),r&4&&-1<pR.indexOf(n)){for(;f!==null;){var m=Li(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Yn(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-on(_);S.entanglements[1]|=D,_&=~D}Si(m),(ft&6)===0&&(jc=Ft()+500,Ul(0))}}break;case 13:S=$r(m,2),S!==null&&hn(S,m,2),Hc(),Cm(m,2)}if(m=Dm(u),m===null&&gm(n,r,u,nh,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else gm(n,r,u,null,a)}}function Dm(n){return n=xa(n),Nm(n)}var nh=null;function Nm(n){if(nh=null,n=Xn(n),n!==null){var r=ce(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Me(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return nh=n,null}function tE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Aa()){case Ee:return 2;case ot:return 8;case Nn:case Hu:return 32;case $o:return 268435456;default:return 32}default:return 32}}var Om=!1,os=null,ls=null,us=null,Gl=new Map,$l=new Map,cs=[],pR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nE(n,r){switch(n){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Gl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Kl(n,r,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Li(r),r!==null&&eE(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function gR(n,r,a,u,f){switch(r){case"focusin":return os=Kl(os,n,r,a,u,f),!0;case"dragenter":return ls=Kl(ls,n,r,a,u,f),!0;case"mouseover":return us=Kl(us,n,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return Gl.set(m,Kl(Gl.get(m)||null,n,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,$l.set(m,Kl($l.get(m)||null,n,r,a,u,f)),!0}return!1}function iE(n){var r=Xn(n.target);if(r!==null){var a=ce(r);if(a!==null){if(r=a.tag,r===13){if(r=Me(a),r!==null){n.blockedOn=r,Lr(n.priority,function(){if(a.tag===13){var u=Cn(),f=$r(a,u);f!==null&&hn(f,a,u),Cm(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ih(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Dm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);kn=u,a.target.dispatchEvent(u),kn=null}else return r=Li(a),r!==null&&eE(r),n.blockedOn=a,!1;r.shift()}return!0}function rE(n,r,a){ih(n)&&a.delete(r)}function yR(){Om=!1,os!==null&&ih(os)&&(os=null),ls!==null&&ih(ls)&&(ls=null),us!==null&&ih(us)&&(us=null),Gl.forEach(rE),$l.forEach(rE)}function rh(n,r){n.blockedOn===r&&(n.blockedOn=null,Om||(Om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yR)))}var sh=null;function sE(n){sh!==n&&(sh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sh===n&&(sh=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Nm(u||a)===null)continue;break}var m=Li(a);m!==null&&(n.splice(r,3),r-=3,Ed(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Ql(n){function r(D){return rh(D,n)}os!==null&&rh(os,n),ls!==null&&rh(ls,n),us!==null&&rh(us,n),Gl.forEach(r),$l.forEach(r);for(var a=0;a<cs.length;a++){var u=cs[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)iE(a),a.blockedOn===null&&cs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],_=f[Ct]||null;if(typeof m=="function")_||sE(a);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Ct]||null)S=_.formAction;else if(Nm(f)!==null)continue}else S=_.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),sE(a)}}}function xm(n){this._internalRoot=n}ah.prototype.render=xm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Cn();Z_(a,u,n,r,null,null)},ah.prototype.unmount=xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&oo(),Z_(n.current,2,null,n,null,null),Hc(),r[Pi]=null}};function ah(n){this._internalRoot=n}ah.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ku();n={blockedOn:null,target:n,priority:r};for(var a=0;a<cs.length&&r!==0&&r<cs[a].priority;a++);cs.splice(a,0,n),a===0&&iE(n)}};var aE=e.version;if(aE!=="19.0.0")throw Error(s(527,aE,"19.0.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=te(r),n=n!==null?fe(n):null,n=n===null?null:n.stateNode,n};var vR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Or=oh.inject(vR),Zt=oh}catch{}}return Xl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=wv,m=bv,_=Av,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=X_(n,1,!1,null,null,a,u,f,m,_,S,null),n[Pi]=r.current,pm(n.nodeType===8?n.parentNode:n),new xm(r)},Xl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=wv,_=bv,S=Av,D=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=X_(n,1,!0,r,a??null,u,f,m,_,S,D,j),r.context=W_(null),a=r.current,u=Cn(),f=Jr(u),f.callback=null,es(a,f,u),r.current.lanes=u,vt(r,u),Si(r),n[Pi]=r.current,pm(n),new ah(r)},Xl.version="19.0.0",Xl}var gE;function CR(){if(gE)return km.exports;gE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=RR(),km.exports}var IR=CR(),A=qp();const lr=rf(A);var Wl={},yE;function DR(){if(yE)return Wl;yE=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.parse=h,Wl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,N){const M=new l,q=w.length;if(q<2)return M;const L=(N==null?void 0:N.decode)||E;let G=0;do{const ee=w.indexOf("=",G);if(ee===-1)break;const K=w.indexOf(";",G),se=K===-1?q:K;if(ee>se){G=w.lastIndexOf(";",ee-1)+1;continue}const X=d(w,G,ee),re=p(w,ee,X),k=w.slice(X,re);if(M[k]===void 0){let I=d(w,ee+1,se),R=p(w,se,I);const x=L(w.slice(I,R));M[k]=x}G=se+1}while(G<q);return M}function d(w,N,M){do{const q=w.charCodeAt(N);if(q!==32&&q!==9)return N}while(++N<M);return M}function p(w,N,M){for(;N>M;){const q=w.charCodeAt(--N);if(q!==32&&q!==9)return N+1}return M}function g(w,N,M){const q=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const L=q(N);if(!e.test(L))throw new TypeError(`argument val is invalid: ${N}`);let G=w+"="+L;if(!M)return G;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);G+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);G+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);G+="; Path="+M.path}if(M.expires){if(!T(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);G+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(G+="; HttpOnly"),M.secure&&(G+="; Secure"),M.partitioned&&(G+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return G}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return Wl}DR();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vE="popstate";function NR(i={}){function e(s,o){let{pathname:l,search:h,hash:d}=s.location;return cp("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:du(o)}return xR(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ri(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OR(){return Math.random().toString(36).substring(2,10)}function _E(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||s||OR()}}function du({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Vo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function xR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let L=E(),G=L==null?null:L-g;g=L,p&&p({action:d,location:q.location,delta:G})}function w(L,G){d="PUSH";let ee=cp(q.location,L,G);g=E()+1;let K=_E(ee,g),se=q.createHref(ee);try{h.pushState(K,"",se)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(se)}l&&p&&p({action:d,location:q.location,delta:1})}function N(L,G){d="REPLACE";let ee=cp(q.location,L,G);g=E();let K=_E(ee,g),se=q.createHref(ee);h.replaceState(K,"",se),l&&p&&p({action:d,location:q.location,delta:0})}function M(L){let G=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof L=="string"?L:du(L);return ee=ee.replace(/ $/,"%20"),ut(G,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,G)}let q={get action(){return d},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vE,T),p=L,()=>{o.removeEventListener(vE,T),p=null}},createHref(L){return e(o,L)},createURL:M,encodeLocation(L){let G=M(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:N,go(L){return h.go(L)}};return q}function y0(i,e,t="/"){return MR(i,e,t,!1)}function MR(i,e,t,s){let o=typeof e=="string"?Vo(e):e,l=yr(o.pathname||"/",t);if(l==null)return null;let h=v0(i);kR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=GR(l);d=FR(h[p],g,s)}return d}function v0(i,e=[],t=[],s=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=fr([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),v0(l.children,e,E,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:zR(g,l.index),routesMeta:E})};return i.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of _0(l.path))o(l,h,p)}),e}function _0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=_0(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function kR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:HR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var VR=/^:[\w-]+$/,PR=3,LR=2,UR=1,jR=10,BR=-2,EE=i=>i==="*";function zR(i,e){let t=i.split("/"),s=t.length;return t.some(EE)&&(s+=BR),e&&(s+=LR),t.filter(o=>!EE(o)).reduce((o,l)=>o+(VR.test(l)?PR:l===""?UR:jR),s)}function HR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function FR(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:fr([l,T.pathname]),pathnameBase:YR(fr([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=fr([l,T.pathnameBase]))}return h}function Nh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=qR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let M=d[w]||"";h=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const N=d[w];return T&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:i}}function qR(i,e=!1,t=!0){ri(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function GR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function $R(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Vo(i):i;return{pathname:t?t.startsWith("/")?t:KR(t,e):e,search:XR(s),hash:WR(o)}}function KR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gp(i){let e=QR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function $p(i,e,t,s=!1){let o;typeof i=="string"?o=Vo(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=$R(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),YR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),XR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,WR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ZR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var E0=["POST","PUT","PATCH","DELETE"];new Set(E0);var JR=["GET",...E0];new Set(JR);var Po=A.createContext(null);Po.displayName="DataRouter";var sf=A.createContext(null);sf.displayName="DataRouterState";var T0=A.createContext({isTransitioning:!1});T0.displayName="ViewTransition";var eC=A.createContext(new Map);eC.displayName="Fetchers";var tC=A.createContext(null);tC.displayName="Await";var ai=A.createContext(null);ai.displayName="Navigation";var Au=A.createContext(null);Au.displayName="Location";var xi=A.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var Kp=A.createContext(null);Kp.displayName="RouteError";function nC(i,{relative:e}={}){ut(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=A.useContext(ai),{hash:o,pathname:l,search:h}=Ru(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:fr([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Lo(){return A.useContext(Au)!=null}function Ns(){return ut(Lo(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Au).location}var S0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w0(i){A.useContext(ai).static||A.useLayoutEffect(i)}function Qp(){let{isDataRoute:i}=A.useContext(xi);return i?pC():iC()}function iC(){ut(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=A.useContext(Po),{basename:e,navigator:t}=A.useContext(ai),{matches:s}=A.useContext(xi),{pathname:o}=Ns(),l=JSON.stringify(Gp(s)),h=A.useRef(!1);return w0(()=>{h.current=!0}),A.useCallback((p,g={})=>{if(ri(h.current,S0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=$p(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,i])}A.createContext(null);function Ru(i,{relative:e}={}){let{matches:t}=A.useContext(xi),{pathname:s}=Ns(),o=JSON.stringify(Gp(t));return A.useMemo(()=>$p(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function rC(i,e){return b0(i,e)}function b0(i,e,t,s){var ee;ut(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=A.useContext(ai),{matches:h}=A.useContext(xi),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let K=T&&T.path||"";A0(g,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let w=Ns(),N;if(e){let K=typeof e=="string"?Vo(e):e;ut(E==="/"||((ee=K.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),N=K}else N=w;let M=N.pathname||"/",q=M;if(E!=="/"){let K=E.replace(/^\//,"").split("/");q="/"+M.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:y0(i,{pathname:q});ri(T||L!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ri(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=uC(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:fr([E,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:fr([E,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,t,s);return e&&G?A.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},G):G}function sC(){let i=mC(),e=ZR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:o},t):null,h)}var aC=A.createElement(sC,null),oC=class extends A.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?A.createElement(xi.Provider,{value:this.props.routeContext},A.createElement(Kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lC({routeContext:i,match:e,children:t}){let s=A.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(xi.Provider,{value:i},t)}function uC(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:T}=t,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,w=!1,N=null,M=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,N=g.route.errorElement||aC,h&&(d<0&&E===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):d===E&&(w=!0,M=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),L=()=>{let G;return T?G=N:w?G=M:g.route.Component?G=A.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,A.createElement(lC,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?A.createElement(oC,{location:t.location,revalidation:t.revalidation,component:N,error:T,children:L(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):L()},null)}function Yp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cC(i){let e=A.useContext(Po);return ut(e,Yp(i)),e}function hC(i){let e=A.useContext(sf);return ut(e,Yp(i)),e}function fC(i){let e=A.useContext(xi);return ut(e,Yp(i)),e}function Xp(i){let e=fC(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function dC(){return Xp("useRouteId")}function mC(){var s;let i=A.useContext(Kp),e=hC("useRouteError"),t=Xp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function pC(){let{router:i}=cC("useNavigate"),e=Xp("useNavigate"),t=A.useRef(!1);return w0(()=>{t.current=!0}),A.useCallback(async(o,l={})=>{ri(t.current,S0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var TE={};function A0(i,e,t){!e&&!TE[i]&&(TE[i]=!0,ri(!1,t))}A.memo(gC);function gC({routes:i,future:e,state:t}){return b0(i,void 0,t,e)}function yC({to:i,replace:e,state:t,relative:s}){ut(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(ai);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(xi),{pathname:h}=Ns(),d=Qp(),p=$p(i,Gp(l),h,s==="path"),g=JSON.stringify(p);return A.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function gn(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vC({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ut(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Vo(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=t,N=A.useMemo(()=>{let M=yr(p,h);return M==null?null:{location:{pathname:M,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return ri(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:A.createElement(ai.Provider,{value:d},A.createElement(Au.Provider,{children:e,value:N}))}function _C({children:i,location:e}){return rC(hp(i),e)}function hp(i,e=[]){let t=[];return A.Children.forEach(i,(s,o)=>{if(!A.isValidElement(s))return;let l=[...e,o];if(s.type===A.Fragment){t.push.apply(t,hp(s.props.children,l));return}ut(s.type===gn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hp(s.props.children,l)),t.push(h)}),t}var vh="get",_h="application/x-www-form-urlencoded";function af(i){return i!=null&&typeof i.tagName=="string"}function EC(i){return af(i)&&i.tagName.toLowerCase()==="button"}function TC(i){return af(i)&&i.tagName.toLowerCase()==="form"}function SC(i){return af(i)&&i.tagName.toLowerCase()==="input"}function wC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function bC(i,e){return i.button===0&&(!e||e==="_self")&&!wC(i)}var lh=null;function AC(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var RC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(i){return i!=null&&!RC.has(i)?(ri(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):i}function CC(i,e){let t,s,o,l,h;if(TC(i)){let d=i.getAttribute("action");s=d?yr(d,e):null,t=i.getAttribute("method")||vh,o=Bm(i.getAttribute("enctype"))||_h,l=new FormData(i)}else if(EC(i)||SC(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?yr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||vh,o=Bm(i.getAttribute("formenctype"))||Bm(d.getAttribute("enctype"))||_h,l=new FormData(d,i),!AC()){let{name:g,type:E,value:T}=i;if(E==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vh,s=null,o=_h,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Wp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function IC(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function NC(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await IC(l,t);return h.links?h.links():[]}return[]}));return kC(s.flat(1).filter(DC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function SE(i,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function OC(i,e,{includeHydrateFallback:t}={}){return xC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function xC(i){return[...new Set(i)]}function MC(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function kC(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(MC(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function VC(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&yr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function R0(){let i=A.useContext(Po);return Wp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function PC(){let i=A.useContext(sf);return Wp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zp=A.createContext(void 0);Zp.displayName="FrameworkContext";function C0(){let i=A.useContext(Zp);return Wp(i,"You must render this element inside a <HydratedRouter> element"),i}function LC(i,e){let t=A.useContext(Zp),[s,o]=A.useState(!1),[l,h]=A.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=A.useRef(null);A.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=G=>{G.forEach(ee=>{h(ee.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[i]),A.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let N=()=>{o(!0)},M=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Zl(d,N),onBlur:Zl(p,M),onMouseEnter:Zl(g,N),onMouseLeave:Zl(E,M),onTouchStart:Zl(T,N)}]:[!1,w,{}]}function Zl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function UC({page:i,...e}){let{router:t}=R0(),s=A.useMemo(()=>y0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?A.createElement(BC,{page:i,matches:s,...e}):null}function jC(i){let{manifest:e,routeModules:t}=C0(),[s,o]=A.useState([]);return A.useEffect(()=>{let l=!1;return NC(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function BC({page:i,matches:e,...t}){let s=Ns(),{manifest:o,routeModules:l}=C0(),{basename:h}=R0(),{loaderData:d,matches:p}=PC(),g=A.useMemo(()=>SE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=A.useMemo(()=>SE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=A.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,q=!1;if(e.forEach(G=>{var K;let ee=o.routes[G.route.id];!ee||!ee.hasLoader||(!g.some(se=>se.route.id===G.route.id)&&G.route.id in d&&((K=l[G.route.id])!=null&&K.shouldRevalidate)||ee.hasClientLoader?q=!0:M.add(G.route.id))}),M.size===0)return[];let L=VC(i,h);return q&&M.size>0&&L.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[L.pathname+L.search]},[h,d,s,o,g,e,i,l]),w=A.useMemo(()=>OC(E,o),[E,o]),N=jC(E);return A.createElement(A.Fragment,null,T.map(M=>A.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),w.map(M=>A.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),N.map(({key:M,link:q})=>A.createElement("link",{key:M,...q})))}function zC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var I0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I0&&(window.__reactRouterVersion="7.3.0")}catch{}function HC({basename:i,children:e,window:t}){let s=A.useRef();s.current==null&&(s.current=NR({window:t,v5Compat:!0}));let o=s.current,[l,h]=A.useState({action:o.action,location:o.location}),d=A.useCallback(p=>{A.startTransition(()=>h(p))},[h]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.createElement(vC,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oh=A.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},N){let{basename:M}=A.useContext(ai),q=typeof g=="string"&&D0.test(g),L,G=!1;if(typeof g=="string"&&q&&(L=g,I0))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=yr(x.pathname,M);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:G=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=nC(g,{relative:o}),[K,se,X]=LC(s,w),re=GC(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function k(R){e&&e(R),R.defaultPrevented||re(R)}let I=A.createElement("a",{...w,...X,href:L||ee,onClick:G||l?e:k,ref:zC(N,se),target:p,"data-discover":!q&&t==="render"?"true":void 0});return K&&!q?A.createElement(A.Fragment,null,I,A.createElement(UC,{page:ee})):I});Oh.displayName="Link";var fa=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},E){let T=Ru(h,{relative:g.relative}),w=Ns(),N=A.useContext(sf),{navigator:M,basename:q}=A.useContext(ai),L=N!=null&&XC(T)&&d===!0,G=M.encodeLocation?M.encodeLocation(T).pathname:T.pathname,ee=w.pathname,K=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&q&&(K=yr(K,q)||K);const se=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let X=ee===G||!o&&ee.startsWith(G)&&ee.charAt(se)==="/",re=K!=null&&(K===G||!o&&K.startsWith(G)&&K.charAt(G.length)==="/"),k={isActive:X,isPending:re,isTransitioning:L},I=X?e:void 0,R;typeof s=="function"?R=s(k):R=[s,X?"active":null,re?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return A.createElement(Oh,{...g,"aria-current":I,className:R,ref:E,style:x,to:h,viewTransition:d},typeof p=="function"?p(k):p)});fa.displayName="NavLink";var FC=A.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=vh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},N)=>{let M=QC(),q=YC(d,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&D0.test(d),ee=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let se=K.nativeEvent.submitter,X=(se==null?void 0:se.getAttribute("formmethod"))||h;M(se||K.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:T})};return A.createElement("form",{ref:N,method:L,action:q,onSubmit:s?p:ee,...w,"data-discover":!G&&i==="render"?"true":void 0})});FC.displayName="Form";function qC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N0(i){let e=A.useContext(Po);return ut(e,qC(i)),e}function GC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=Qp(),p=Ns(),g=Ru(i,{relative:l});return A.useCallback(E=>{if(bC(E,e)){E.preventDefault();let T=t!==void 0?t:du(p)===du(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,i,o,l,h])}var $C=0,KC=()=>`__${String(++$C)}__`;function QC(){let{router:i}=N0("useSubmit"),{basename:e}=A.useContext(ai),t=dC();return A.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=CC(s,e);if(o.navigate===!1){let E=o.fetcherKey||KC();await i.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function YC(i,{relative:e}={}){let{basename:t}=A.useContext(ai),s=A.useContext(xi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ru(i||".",{relative:e})},h=Ns();if(i==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();l.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fr([t,l.pathname])),du(l)}function XC(i,e={}){let t=A.useContext(T0);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=N0("useViewTransitionState"),o=Ru(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=yr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=yr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,l)!=null}new TextEncoder;var WC=g0();const To=rf(WC),ZC=()=>C.jsx("div",{children:C.jsx("h1",{children:"This is Home Page"})}),JC=()=>C.jsx("div",{children:C.jsx("h1",{children:"This is about page"})}),eI=()=>C.jsx("div",{children:C.jsx("h1",{children:"This is services page"})}),tI=()=>C.jsx("div",{children:C.jsx("h1",{children:"This is contact page"})}),nI=()=>{};var wE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},x0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,N=g&63;p||(N=64,h||(w=64)),s.push(t[E],t[T],t[w],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(O0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):iI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new rI;const w=l<<2|d>>4;if(s.push(w),g!==64){const N=d<<4&240|g>>2;if(s.push(N),T!==64){const M=g<<6&192|T;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sI=function(i){const e=O0(i);return x0.encodeByteArray(e,!0)},xh=function(i){return sI(i).replace(/\./g,"")},M0=function(i){try{return x0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>aI().__FIREBASE_DEFAULTS__,lI=()=>{if(typeof process>"u"||typeof wE>"u")return;const i=wE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&M0(i[1]);return e&&JSON.parse(e)},of=()=>{try{return nI()||oI()||lI()||uI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},k0=i=>{var e,t;return(t=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},V0=i=>{const e=k0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},P0=()=>{var i;return(i=of())===null||i===void 0?void 0:i.config},L0=i=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[xh(JSON.stringify(t)),xh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function fI(){var i;const e=(i=of())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gI(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function yI(){return!fI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="FirebaseError";class Mi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EI,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?TI(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Mi(o,d,s)}}function TI(i,e){return i.replace(SI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SI=/\{\$([^}]+)}/g;function wI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ga(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(bE(l)&&bE(h)){if(!ga(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function bE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function tu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function bI(i,e){const t=new AI(i,e);return t.subscribe.bind(t)}class AI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");RI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i){return i&&i._delegate?i._delegate:i}class ws{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new cI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DI(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:II(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function II(i){return i===da?void 0:i}function DI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const OI={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},xI=Pe.INFO,MI={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},kI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=MI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jp{constructor(e){this.name=e,this._logLevel=xI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const VI=(i,e)=>e.some(t=>i instanceof t);let AE,RE;function PI(){return AE||(AE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j0=new WeakMap,fp=new WeakMap,B0=new WeakMap,Hm=new WeakMap,eg=new WeakMap;function UI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(_s(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&j0.set(t,i)}).catch(()=>{}),eg.set(e,i),e}function jI(i){if(fp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});fp.set(i,e)}let dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||B0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function BI(i){dp=i(dp)}function zI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Fm(this),e,...t);return B0.set(s,e.sort?e.sort():[e]),_s(s)}:LI().includes(i)?function(...e){return i.apply(Fm(this),e),_s(j0.get(this))}:function(...e){return _s(i.apply(Fm(this),e))}}function HI(i){return typeof i=="function"?zI(i):(i instanceof IDBTransaction&&jI(i),VI(i,PI())?new Proxy(i,dp):i)}function _s(i){if(i instanceof IDBRequest)return UI(i);if(Hm.has(i))return Hm.get(i);const e=HI(i);return e!==i&&(Hm.set(i,e),eg.set(e,i)),e}const Fm=i=>eg.get(i);function FI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),d=_s(h);return s&&h.addEventListener("upgradeneeded",p=>{s(_s(h.result),p.oldVersion,p.newVersion,_s(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const qI=["get","getKey","getAll","getAllKeys","count"],GI=["put","add","delete","clear"],qm=new Map;function CE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=GI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qI.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return qm.set(e,l),l}BI(i=>({...i,get:(e,t,s)=>CE(e,t)||i.get(e,t,s),has:(e,t)=>!!CE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function KI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",IE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Jp("@firebase/app"),QI="@firebase/app-compat",YI="@firebase/analytics-compat",XI="@firebase/analytics",WI="@firebase/app-check-compat",ZI="@firebase/app-check",JI="@firebase/auth",e1="@firebase/auth-compat",t1="@firebase/database",n1="@firebase/data-connect",i1="@firebase/database-compat",r1="@firebase/functions",s1="@firebase/functions-compat",a1="@firebase/installations",o1="@firebase/installations-compat",l1="@firebase/messaging",u1="@firebase/messaging-compat",c1="@firebase/performance",h1="@firebase/performance-compat",f1="@firebase/remote-config",d1="@firebase/remote-config-compat",m1="@firebase/storage",p1="@firebase/storage-compat",g1="@firebase/firestore",y1="@firebase/vertexai",v1="@firebase/firestore-compat",_1="firebase",E1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",T1={[mp]:"fire-core",[QI]:"fire-core-compat",[XI]:"fire-analytics",[YI]:"fire-analytics-compat",[ZI]:"fire-app-check",[WI]:"fire-app-check-compat",[JI]:"fire-auth",[e1]:"fire-auth-compat",[t1]:"fire-rtdb",[n1]:"fire-data-connect",[i1]:"fire-rtdb-compat",[r1]:"fire-fn",[s1]:"fire-fn-compat",[a1]:"fire-iid",[o1]:"fire-iid-compat",[l1]:"fire-fcm",[u1]:"fire-fcm-compat",[c1]:"fire-perf",[h1]:"fire-perf-compat",[f1]:"fire-rc",[d1]:"fire-rc-compat",[m1]:"fire-gcs",[p1]:"fire-gcs-compat",[g1]:"fire-fst",[v1]:"fire-fst-compat",[y1]:"fire-vertex","fire-js":"fire-js",[_1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,S1=new Map,gp=new Map;function DE(i,e){try{i.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ya(i){const e=i.name;if(gp.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,i);for(const t of Mh.values())DE(t,i);for(const t of S1.values())DE(t,i);return!0}function lf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function In(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Cu("app","Firebase",w1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=E1;function z0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(t||(t=P0()),!t)throw Es.create("no-options");const l=Mh.get(o);if(l){if(ga(t,l.options)&&ga(s,l.config))return l;throw Es.create("duplicate-app",{appName:o})}const h=new NI(o);for(const p of gp.values())h.addComponent(p);const d=new b1(t,s,h);return Mh.set(o,d),d}function tg(i=pp){const e=Mh.get(i);if(!e&&i===pp&&P0())return z0();if(!e)throw Es.create("no-app",{appName:i});return e}function bi(i,e,t){var s;let o=(s=T1[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(d.join(" "));return}ya(new ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebase-heartbeat-database",R1=1,mu="firebase-heartbeat-store";let Gm=null;function H0(){return Gm||(Gm=FI(A1,R1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Es.create("idb-open",{originalErrorMessage:i.message})})),Gm}async function C1(i){try{const t=(await H0()).transaction(mu),s=await t.objectStore(mu).get(F0(i));return await t.done,s}catch(e){if(e instanceof Mi)vr.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(t.message)}}}async function NE(i,e){try{const s=(await H0()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,F0(i)),await s.done}catch(t){if(t instanceof Mi)vr.warn(t.message);else{const s=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vr.warn(s.message)}}}function F0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=1024,D1=30;class N1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new x1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=OE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>D1){const h=M1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){vr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=OE(),{heartbeatsToSend:s,unsentEntries:o}=O1(this._heartbeatsCache.heartbeats),l=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return vr.warn(t),""}}}function OE(){return new Date().toISOString().substring(0,10)}function O1(i,e=I1){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),xE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),xE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class x1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await C1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return NE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return NE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function xE(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function M1(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(i){ya(new ws("platform-logger",e=>new $I(e),"PRIVATE")),ya(new ws("heartbeat",e=>new N1(e),"PRIVATE")),bi(mp,IE,i),bi(mp,IE,"esm2017"),bi("fire-js","")}k1("");function ng(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V1=q0,G0=new Cu("auth","Firebase",q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Jp("@firebase/auth");function P1(i,...e){kh.logLevel<=Pe.WARN&&kh.warn(`Auth (${Sa}): ${i}`,...e)}function Eh(i,...e){kh.logLevel<=Pe.ERROR&&kh.error(`Auth (${Sa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(i,...e){throw ig(i,...e)}function Ai(i,...e){return ig(i,...e)}function $0(i,e,t){const s=Object.assign(Object.assign({},V1()),{[e]:t});return new Cu("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return $0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return G0.create(i,...e)}function Se(i,e,...t){if(!i)throw ig(e,...t)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Eh(e),new Error(e)}function _r(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function L1(){return ME()==="http:"||ME()==="https:"}function ME(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L1()||mI()||"connection"in navigator)?navigator.onLine:!0}function j1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.shortDelay=e,this.longDelay=t,_r(t>e,"Short delay should be less than long delay!"),this.isMobile=hI()||pI()}get(){return U1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i,e){_r(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Du(3e4,6e4);function Ar(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Rr(i,e,t,s,o={}){return Q0(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Iu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},l);return dI()||(g.referrerPolicy="no-referrer"),K0.fetch()(Y0(i,i.config.apiHost,t,d),g)})}async function Q0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},B1),e);try{const o=new F1(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw uh(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw uh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw uh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $0(i,E,g);si(i,E)}}catch(o){if(o instanceof Mi)throw o;si(i,"network-request-failed",{message:String(o)})}}async function Nu(i,e,t,s,o={}){const l=await Rr(i,e,t,s,o);return"mfaPendingCredential"in l&&si(i,"multi-factor-auth-required",{_serverResponse:l}),l}function Y0(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?rg(i.config,o):`${i.config.apiScheme}://${o}`}function H1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),z1.get())})}}function uh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ai(i,e,s);return o.customData._tokenResponse=t,o}function kE(i){return i!==void 0&&i.enterprise!==void 0}class q1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G1(i,e){return Rr(i,"GET","/v2/recaptchaConfig",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(i,e){return Rr(i,"POST","/v1/accounts:delete",e)}async function X0(i,e){return Rr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K1(i,e=!1){const t=Rt(i),s=await t.getIdToken(e),o=sg(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:ou($m(o.auth_time)),issuedAtTime:ou($m(o.iat)),expirationTime:ou($m(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $m(i){return Number(i)*1e3}function sg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=M0(t);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function VE(i){const e=sg(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Mi&&Q1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Q1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await pu(i,X0(t,{idToken:s}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?W0(l.providerUserInfo):[],d=W1(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vp(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function X1(i){const e=Rt(i);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function W0(i){return i.map(e=>{var{providerId:t}=e,s=ng(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(i,e){const t=await Q0(i,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=Y0(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",K0.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function J1(i,e){return Rr(i,"POST","/v2/accounts:revokeToken",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=VE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await Z1(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new wo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K1(this,e)}reload(){return X1(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await pu(this,$1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:se,isAnonymous:X,providerData:re,stsTokenManager:k}=t;Se(K&&k,e,"internal-error");const I=wo.fromJSON(this.name,k);Se(typeof K=="string",e,"internal-error"),fs(T,e.name),fs(w,e.name),Se(typeof se=="boolean",e,"internal-error"),Se(typeof X=="boolean",e,"internal-error"),fs(N,e.name),fs(M,e.name),fs(q,e.name),fs(L,e.name),fs(G,e.name),fs(ee,e.name);const R=new cr({uid:K,auth:e,email:w,emailVerified:se,displayName:T,isAnonymous:X,photoURL:M,phoneNumber:N,tenantId:q,stsTokenManager:I,createdAt:G,lastLoginAt:ee});return re&&Array.isArray(re)&&(R.providerData=re.map(x=>Object.assign({},x))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const l=new cr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?W0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new wo;d.updateFromIdToken(s);const p=new cr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function hr(i){_r(i instanceof Function,"Expected a class definition");let e=PE.get(i);return e?(_r(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,PE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z0.type="NONE";const LE=Z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i,e,t){return`firebase:${i}:${e}:${t}`}class bo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,l),this.fullPersistenceKey=Th("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new bo(hr(LE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||hr(LE);const h=Th(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const T=cr._fromJSON(e,E);g!==l&&(d=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new bo(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new bo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rS(e))return"Blackberry";if(sS(e))return"Webos";if(eS(e))return"Safari";if((e.includes("chrome/")||tS(e))&&!e.includes("edge/"))return"Chrome";if(iS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function J0(i=sn()){return/firefox\//i.test(i)}function eS(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tS(i=sn()){return/crios\//i.test(i)}function nS(i=sn()){return/iemobile/i.test(i)}function iS(i=sn()){return/android/i.test(i)}function rS(i=sn()){return/blackberry/i.test(i)}function sS(i=sn()){return/webos/i.test(i)}function ag(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eD(i=sn()){var e;return ag(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tD(){return gI()&&document.documentMode===10}function aS(i=sn()){return ag(i)||iS(i)||sS(i)||rS(i)||/windows phone/i.test(i)||nS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(i,e=[]){let t;switch(i){case"Browser":t=UE(sn());break;case"Worker":t=`${UE(sn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(i,e={}){return Rr(i,"GET","/v2/passwordPolicy",Ar(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=6;class sD{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:rD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new nD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await X0(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(dr(this));const t=e?Rt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iD(this),t=new sD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await J1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&P1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Os(i){return Rt(i)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bI(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oD(i){uf=i}function lS(i){return uf.loadJS(i)}function lD(){return uf.recaptchaEnterpriseScript}function uD(){return uf.gapiScript}function cD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class hD{constructor(){this.enterprise=new fD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dD="recaptcha-enterprise",uS="NO_RECAPTCHA";class mD{constructor(e){this.type=dD,this.auth=Os(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{G1(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new q1(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;kE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(uS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hD().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&kE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=lD();p.length!==0&&(p+=d),lS(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function BE(i,e,t,s=!1,o=!1){const l=new mD(i);let h;if(o)h=uS;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ph(i,e,t,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await BE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await BE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(i,e){const t=lf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ga(l,e??{}))return o;si(o,"already-initialized")}return t.initialize({options:e})}function gD(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(hr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yD(i,e,t){const s=Os(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=cS(e),{host:h,port:d}=vD(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ga(g,s.config.emulator)&&ga(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_D()}function cS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function vD(i){const e=cS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:zE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:zE(h)}}}function zE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _D(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function ED(i,e){return Rr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(i,e){return Nu(i,"POST","/v1/accounts:signInWithPassword",Ar(i,e))}async function SD(i,e){return Rr(i,"POST","/v1/accounts:sendOobCode",Ar(i,e))}async function wD(i,e){return SD(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",Ar(i,e))}async function AD(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends og{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new gu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,t,"signInWithPassword",TD);case"emailLink":return bD(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,s,"signUpPassword",ED);case"emailLink":return AD(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e){return Nu(i,"POST","/v1/accounts:signInWithIdp",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class va extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=ng(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new va(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Iu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ID(i){const e=eu(tu(i)).link,t=e?eu(tu(e)).deep_link_id:null,s=eu(tu(i)).deep_link_id;return(s?eu(tu(s)).link:null)||s||t||e||i}class lg{constructor(e){var t,s,o,l,h,d;const p=eu(tu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=CD((o=p.mode)!==null&&o!==void 0?o:null);Se(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=ID(e);try{return new lg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=lg.parseLink(t);return Se(s,"argument-error"),gu._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends hS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ou{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ou{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Ou{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ys.credential(t,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(i,e){return Nu(i,"POST","/v1/accounts:signUp",Ar(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await cr._fromIdTokenResponse(e,s,o),h=HE(s);return new _a({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=HE(s);return new _a({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function HE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Mi{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Lh(e,t,s,o)}}function fS(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,l,e,s):l})}async function ND(i,e,t=!1){const s=await pu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return _a._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(i,e,t=!1){const{auth:s}=i;if(In(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const l=await pu(i,fS(s,o,e,i),t);Se(l.idToken,s,"internal-error");const h=sg(l.idToken);Se(h,s,"internal-error");const{sub:d}=h;return Se(i.uid===d,s,"user-mismatch"),_a._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(i,e,t=!1){if(In(i.app))return Promise.reject(dr(i));const s="signIn",o=await fS(i,s,e),l=await _a._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function xD(i,e){return dS(Os(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(i){const e=Os(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MD(i,e,t){const s=Os(i);await Ph(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wD)}async function pS(i,e,t){if(In(i.app))return Promise.reject(dr(i));const s=Os(i),h=await Ph(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&mS(i),p}),d=await _a._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function kD(i,e,t){return In(i.app)?Promise.reject(dr(i)):xD(Rt(i),Uo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mS(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(i,e){return Rt(i).setPersistence(e)}function PD(i,e,t,s){return Rt(i).onIdTokenChanged(e,t,s)}function LD(i,e,t){return Rt(i).beforeAuthStateChanged(e,t)}function xu(i,e,t,s){return Rt(i).onAuthStateChanged(e,t,s)}function UD(i){return Rt(i).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=1e3,BD=10;class yS extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);tD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yS.type="LOCAL";const vS=yS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_S.type="SESSION";const ES=_S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await zD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=ug("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function FD(i){Ri().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function qD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function $D(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebaseLocalStorageDb",KD=1,jh="firebaseLocalStorage",wS="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hf(i,e){return i.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function QD(){const i=indexedDB.deleteDatabase(SS);return new Mu(i).toPromise()}function _p(){const i=indexedDB.open(SS,KD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(jh,{keyPath:wS})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await QD(),e(await _p()))})})}async function FE(i,e,t){const s=hf(i,!0).put({[wS]:e,value:t});return new Mu(s).toPromise()}async function YD(i,e){const t=hf(i,!1).get(e),s=await new Mu(t).toPromise();return s===void 0?null:s.value}function qE(i,e){const t=hf(i,!0).delete(e);return new Mu(t).toPromise()}const XD=800,WD=3;class bS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>WD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance($D()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qD(),!this.activeServiceWorker)return;this.sender=new HD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await FE(e,Uh,"1"),await qE(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>FE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>YD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=hf(o,!1).getAll();return new Mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bS.type="LOCAL";const ZD=bS;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i,e){return e?hr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eN(i){return dS(i.auth,new cg(i),i.bypassAuthState)}function tN(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),OD(t,new cg(i),i.bypassAuthState)}async function nN(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),ND(t,new cg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:si(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Du(2e3,1e4);class So extends AS{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="pendingRedirect",Sh=new Map;class sN extends AS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(i,e){const t=uN(e),s=lN(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function oN(i,e){Sh.set(i._key(),e)}function lN(i){return hr(i._redirectPersistence)}function uN(i){return Th(rN,i.config.apiKey,i.name)}async function cN(i,e,t=!1){if(In(i.app))return Promise.reject(dr(i));const s=Os(i),o=JD(s,e),h=await new sN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!RS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ai(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(e))}saveEventToCache(e){this.cachedEventUids.add(GE(e)),this.lastProcessedEventTime=Date.now()}}function GE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function RS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(i,e={}){return Rr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await mN(i);for(const t of e)try{if(vN(t))return}catch{}si(i,"unauthorized-domain")}function vN(i){const e=yp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!gN.test(t))return!1;if(pN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Du(3e4,6e4);function $E(){const i=Ri().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function EN(i){return new Promise((e,t)=>{var s,o,l;function h(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),t(Ai(i,"network-request-failed"))},timeout:_N.get()})}if(!((o=(s=Ri().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ri().gapi)===null||l===void 0)&&l.load)h();else{const d=cD("iframefcb");return Ri()[d]=()=>{gapi.load?h():t(Ai(i,"network-request-failed"))},lS(`${uD()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw wh=null,e})}let wh=null;function TN(i){return wh=wh||EN(i),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Du(5e3,15e3),wN="__/auth/iframe",bN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?rg(e,bN):`https://${i.config.authDomain}/${wN}`,s={apiKey:e.apiKey,appName:i.name,v:Sa},o=RN.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Iu(s).slice(1)}`}async function IN(i){const e=await TN(i),t=Ri().gapi;return Se(t,i,"internal-error"),e.open({where:document.body,url:CN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Ai(i,"network-request-failed"),d=Ri().setTimeout(()=>{l(h)},SN.get());function p(){Ri().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NN=500,ON=600,xN="_blank",MN="http://localhost";class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kN(i,e,t,s=NN,o=ON){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},DN),{width:s.toString(),height:o.toString(),top:l,left:h}),g=sn().toLowerCase();t&&(d=tS(g)?xN:t),J0(g)&&(e=e||MN,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[N,M])=>`${w}${N}=${M},`,"");if(eD(g)&&d!=="_self")return VN(e||"",d),new KE(null);const T=window.open(e||"",d,E);Se(T,i,"popup-blocked");try{T.focus()}catch{}return new KE(T)}function VN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="__/auth/handler",LN="emulator/auth/handler",UN=encodeURIComponent("fac");async function QE(i,e,t,s,o,l){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Sa,eventId:o};if(e instanceof hS){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",wI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Ou){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${UN}=${encodeURIComponent(p)}`:"";return`${jN(i)}?${Iu(d).slice(1)}${g}`}function jN({config:i}){return i.emulator?rg(i,LN):`https://${i.authDomain}/${PN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,t,s,o){var l;_r((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await QE(e,t,s,yp(),o);return kN(e,h,ug())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await QE(e,t,s,yp(),o);return FD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(_r(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await IN(e),s=new fN(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Km,{type:Km},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Km];h!==void 0&&t(!!h),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aS()||eS()||ag()}}const zN=BN;var YE="@firebase/auth",XE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qN(i){ya(new ws("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oS(i)},g=new aD(s,o,l,p);return gD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ya(new ws("auth-internal",e=>{const t=Os(e.getProvider("auth").getImmediate());return(s=>new HN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(YE,XE,FN(i)),bi(YE,XE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=5*60,$N=L0("authIdTokenMaxAge")||GN;let WE=null;const KN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>$N)return;const o=t==null?void 0:t.token;WE!==o&&(WE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ku(i=tg()){const e=lf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=pD(i,{popupRedirectResolver:zN,persistence:[ZD,vS,ES]}),s=L0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=KN(l.toString());LD(t,h,()=>h(t.currentUser)),PD(t,d=>h(d))}}const o=k0("auth");return o&&yD(t,`http://${o}`),t}function QN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}oD({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Ai("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",QN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qN("Browser");var ZE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,CS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,P,B){for(var O=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)O[tt-2]=arguments[tt];return I.prototype[P].apply(x,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)x[P]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],P=k.g[2];var B=k.g[3],O=I+(B^R&(P^B))+x[0]+3614090360&4294967295;I=R+(O<<7&4294967295|O>>>25),O=B+(P^I&(R^P))+x[1]+3905402710&4294967295,B=I+(O<<12&4294967295|O>>>20),O=P+(R^B&(I^R))+x[2]+606105819&4294967295,P=B+(O<<17&4294967295|O>>>15),O=R+(I^P&(B^I))+x[3]+3250441966&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(B^R&(P^B))+x[4]+4118548399&4294967295,I=R+(O<<7&4294967295|O>>>25),O=B+(P^I&(R^P))+x[5]+1200080426&4294967295,B=I+(O<<12&4294967295|O>>>20),O=P+(R^B&(I^R))+x[6]+2821735955&4294967295,P=B+(O<<17&4294967295|O>>>15),O=R+(I^P&(B^I))+x[7]+4249261313&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(B^R&(P^B))+x[8]+1770035416&4294967295,I=R+(O<<7&4294967295|O>>>25),O=B+(P^I&(R^P))+x[9]+2336552879&4294967295,B=I+(O<<12&4294967295|O>>>20),O=P+(R^B&(I^R))+x[10]+4294925233&4294967295,P=B+(O<<17&4294967295|O>>>15),O=R+(I^P&(B^I))+x[11]+2304563134&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(B^R&(P^B))+x[12]+1804603682&4294967295,I=R+(O<<7&4294967295|O>>>25),O=B+(P^I&(R^P))+x[13]+4254626195&4294967295,B=I+(O<<12&4294967295|O>>>20),O=P+(R^B&(I^R))+x[14]+2792965006&4294967295,P=B+(O<<17&4294967295|O>>>15),O=R+(I^P&(B^I))+x[15]+1236535329&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(P^B&(R^P))+x[1]+4129170786&4294967295,I=R+(O<<5&4294967295|O>>>27),O=B+(R^P&(I^R))+x[6]+3225465664&4294967295,B=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(B^I))+x[11]+643717713&4294967295,P=B+(O<<14&4294967295|O>>>18),O=R+(B^I&(P^B))+x[0]+3921069994&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(P^B&(R^P))+x[5]+3593408605&4294967295,I=R+(O<<5&4294967295|O>>>27),O=B+(R^P&(I^R))+x[10]+38016083&4294967295,B=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(B^I))+x[15]+3634488961&4294967295,P=B+(O<<14&4294967295|O>>>18),O=R+(B^I&(P^B))+x[4]+3889429448&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(P^B&(R^P))+x[9]+568446438&4294967295,I=R+(O<<5&4294967295|O>>>27),O=B+(R^P&(I^R))+x[14]+3275163606&4294967295,B=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(B^I))+x[3]+4107603335&4294967295,P=B+(O<<14&4294967295|O>>>18),O=R+(B^I&(P^B))+x[8]+1163531501&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(P^B&(R^P))+x[13]+2850285829&4294967295,I=R+(O<<5&4294967295|O>>>27),O=B+(R^P&(I^R))+x[2]+4243563512&4294967295,B=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(B^I))+x[7]+1735328473&4294967295,P=B+(O<<14&4294967295|O>>>18),O=R+(B^I&(P^B))+x[12]+2368359562&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(R^P^B)+x[5]+4294588738&4294967295,I=R+(O<<4&4294967295|O>>>28),O=B+(I^R^P)+x[8]+2272392833&4294967295,B=I+(O<<11&4294967295|O>>>21),O=P+(B^I^R)+x[11]+1839030562&4294967295,P=B+(O<<16&4294967295|O>>>16),O=R+(P^B^I)+x[14]+4259657740&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(R^P^B)+x[1]+2763975236&4294967295,I=R+(O<<4&4294967295|O>>>28),O=B+(I^R^P)+x[4]+1272893353&4294967295,B=I+(O<<11&4294967295|O>>>21),O=P+(B^I^R)+x[7]+4139469664&4294967295,P=B+(O<<16&4294967295|O>>>16),O=R+(P^B^I)+x[10]+3200236656&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(R^P^B)+x[13]+681279174&4294967295,I=R+(O<<4&4294967295|O>>>28),O=B+(I^R^P)+x[0]+3936430074&4294967295,B=I+(O<<11&4294967295|O>>>21),O=P+(B^I^R)+x[3]+3572445317&4294967295,P=B+(O<<16&4294967295|O>>>16),O=R+(P^B^I)+x[6]+76029189&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(R^P^B)+x[9]+3654602809&4294967295,I=R+(O<<4&4294967295|O>>>28),O=B+(I^R^P)+x[12]+3873151461&4294967295,B=I+(O<<11&4294967295|O>>>21),O=P+(B^I^R)+x[15]+530742520&4294967295,P=B+(O<<16&4294967295|O>>>16),O=R+(P^B^I)+x[2]+3299628645&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(P^(R|~B))+x[0]+4096336452&4294967295,I=R+(O<<6&4294967295|O>>>26),O=B+(R^(I|~P))+x[7]+1126891415&4294967295,B=I+(O<<10&4294967295|O>>>22),O=P+(I^(B|~R))+x[14]+2878612391&4294967295,P=B+(O<<15&4294967295|O>>>17),O=R+(B^(P|~I))+x[5]+4237533241&4294967295,R=P+(O<<21&4294967295|O>>>11),O=I+(P^(R|~B))+x[12]+1700485571&4294967295,I=R+(O<<6&4294967295|O>>>26),O=B+(R^(I|~P))+x[3]+2399980690&4294967295,B=I+(O<<10&4294967295|O>>>22),O=P+(I^(B|~R))+x[10]+4293915773&4294967295,P=B+(O<<15&4294967295|O>>>17),O=R+(B^(P|~I))+x[1]+2240044497&4294967295,R=P+(O<<21&4294967295|O>>>11),O=I+(P^(R|~B))+x[8]+1873313359&4294967295,I=R+(O<<6&4294967295|O>>>26),O=B+(R^(I|~P))+x[15]+4264355552&4294967295,B=I+(O<<10&4294967295|O>>>22),O=P+(I^(B|~R))+x[6]+2734768916&4294967295,P=B+(O<<15&4294967295|O>>>17),O=R+(B^(P|~I))+x[13]+1309151649&4294967295,R=P+(O<<21&4294967295|O>>>11),O=I+(P^(R|~B))+x[4]+4149444226&4294967295,I=R+(O<<6&4294967295|O>>>26),O=B+(R^(I|~P))+x[11]+3174756917&4294967295,B=I+(O<<10&4294967295|O>>>22),O=P+(I^(B|~R))+x[2]+718787259&4294967295,P=B+(O<<15&4294967295|O>>>17),O=R+(B^(P|~I))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+B&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,x=this.B,P=this.h,B=0;B<I;){if(P==0)for(;B<=R;)o(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<I;)if(x[P++]=k.charCodeAt(B++),P==this.blockSize){o(this,x),P=0;break}}else for(;B<I;)if(x[P++]=k[B++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)k[R++]=this.g[I]>>>x&255;return k};function l(k,I){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function h(k,I){this.h=I;for(var R=[],x=!0,P=k.length-1;0<=P;P--){var B=k[P]|0;x&&B==I||(R[P]=B,x=!1)}this.g=R}var d={};function p(k){return-128<=k&&128>k?l(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return L(g(-k));for(var I=[],R=1,x=0;k>=R;x++)I[x]=k/R|0,R*=4294967296;return new h(I,0)}function E(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return L(E(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(I,8)),x=T,P=0;P<k.length;P+=8){var B=Math.min(8,k.length-P),O=parseInt(k.substring(P,P+B),I);8>B?(B=g(Math.pow(I,B)),x=x.j(B).add(g(O))):(x=x.j(R),x=x.add(g(O)))}return x}var T=p(0),w=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-L(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*I,I*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(q(this))return"-"+L(this).toString(k);for(var I=g(Math.pow(k,6)),R=this,x="";;){var P=se(R,I).g;R=G(R,P.j(I));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=P,M(R))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function q(k){return k.h==-1}i.l=function(k){return k=G(this,k),q(k)?-1:M(k)?0:1};function L(k){for(var I=k.g.length,R=[],x=0;x<I;x++)R[x]=~k.g[x];return new h(R,~k.h).add(w)}i.abs=function(){return q(this)?L(this):this},i.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0,P=0;P<=I;P++){var B=x+(this.i(P)&65535)+(k.i(P)&65535),O=(B>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);x=O>>>16,B&=65535,O&=65535,R[P]=O<<16|B}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(k,I){return k.add(L(I))}i.j=function(k){if(M(this)||M(k))return T;if(q(this))return q(k)?L(this).j(L(k)):L(L(this).j(k));if(q(k))return L(this.j(L(k)));if(0>this.l(N)&&0>k.l(N))return g(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<k.g.length;P++){var B=this.i(x)>>>16,O=this.i(x)&65535,tt=k.i(P)>>>16,it=k.i(P)&65535;R[2*x+2*P]+=O*it,ee(R,2*x+2*P),R[2*x+2*P+1]+=B*it,ee(R,2*x+2*P+1),R[2*x+2*P+1]+=O*tt,ee(R,2*x+2*P+1),R[2*x+2*P+2]+=B*tt,ee(R,2*x+2*P+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new h(R,0)};function ee(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function K(k,I){this.g=k,this.h=I}function se(k,I){if(M(I))throw Error("division by zero");if(M(k))return new K(T,T);if(q(k))return I=se(L(k),I),new K(L(I.g),L(I.h));if(q(I))return I=se(k,L(I)),new K(L(I.g),I.h);if(30<k.g.length){if(q(k)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var R=w,x=I;0>=x.l(k);)R=X(R),x=X(x);var P=re(R,1),B=re(x,1);for(x=re(x,2),R=re(R,2);!M(x);){var O=B.add(x);0>=O.l(k)&&(P=P.add(R),B=O),x=re(x,1),R=re(R,1)}return I=G(k,P.j(I)),new K(P,I)}for(P=T;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=g(R),O=B.j(I);q(O)||0<O.l(k);)R-=x,B=g(R),O=B.j(I);M(B)&&(B=w),P=P.add(B),k=G(k,O)}return new K(P,k)}i.A=function(k){return se(this,k).h},i.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},i.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},i.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function X(k){for(var I=k.g.length+1,R=[],x=0;x<I;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function re(k,I){var R=I>>5;I%=32;for(var x=k.g.length-R,P=[],B=0;B<x;B++)P[B]=0<I?k.i(B+R)>>>I|k.i(B+R+1)<<32-I:k.i(B+R);return new h(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,CS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Ts=h}).apply(typeof ZE<"u"?ZE:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS,nu,DS,bh,Ep,NS,OS,xS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in v))break e;v=v[H]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,b=!1,H={next:function(){if(!b&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,w.apply(null,arguments)}function N(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function M(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,H,Q){for(var le=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)le[Be-2]=arguments[Be];return y.prototype[H].apply(b,le)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function L(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const H=c.length||0,Q=b.length||0;c.length=H+Q;for(let le=0;le<Q;le++)c[H+le]=b[le]}else c.push(b)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var X=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function re(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function k(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function I(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let v,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(v in b)c[v]=b[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,v){const b=it.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var it=new G(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ce=!1,Me=new tt,V=()=>{const c=d.Promise.resolve(void 0);pe=()=>{c.then(te)}};var te=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){B(v)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function _e(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(X){e:{try{se(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_e.aa.h.call(this)}}M(_e,ue);var be={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ze(c,y,v,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=H,this.key=++ke,this.da=this.fa=!1}function Ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tt(c){this.src=c,this.g={},this.h=0}Tt.prototype.add=function(c,y,v,b,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var le=Vt(c,y,b,H);return-1<le?(y=c[le],v||(y.fa=!1)):(y=new Ze(y,this.src,Q,!!b,H),y.fa=v,c.push(y)),y};function Wt(c,y){var v=y.type;if(v in c.g){var b=c.g[v],H=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(b,H,1),Q&&(Ve(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Vt(c,y,v,b){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==b)return H}return-1}var an="closure_lm_"+(1e6*Math.random()|0),qe={};function dn(c,y,v,b,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)dn(c,y[Q],v,b,H);return null}return v=Aa(v),c&&c[at]?c.K(y,v,g(b)?!!b.capture:!1,H):Qn(c,y,v,!1,b,H)}function Qn(c,y,v,b,H,Q){if(!y)throw Error("Invalid event type");var le=g(H)?!!H.capture:!!H,Be=ks(c);if(Be||(c[an]=Be=new Tt(c)),v=Be.add(y,v,b,le,Q),v.proxy)return v;if(b=Ir(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)oe||(H=le),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(Nr(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ir(){function c(v){return y.call(c.src,c.listener,v)}const y=Go;return c}function Dr(c,y,v,b,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Dr(c,y[Q],v,b,H);else b=g(b)?!!b.capture:!!b,v=Aa(v),c&&c[at]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=Vt(Q,v,b,H),-1<v&&(Ve(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ks(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Vt(y,v,b,H)),(v=-1<c?y[c]:null)&&Vi(v))}function Vi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[at])Wt(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(Nr(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ks(y))?(Wt(v,c),v.h==0&&(v.src=null,y[an]=null)):Ve(c)}}}function Nr(c){return c in qe?qe[c]:qe[c]="on"+c}function Go(c,y){if(c.da)c=!0;else{y=new _e(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&Vi(c),c=v.call(b,y)}return c}function ks(c){return c=c[an],c instanceof Tt?c:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(c){return typeof c=="function"?c:(c[Ft]||(c[Ft]=function(y){return c.handleEvent(y)}),c[Ft])}function Ee(){fe.call(this),this.i=new Tt(this),this.M=this,this.F=null}M(Ee,fe),Ee.prototype[at]=!0,Ee.prototype.removeEventListener=function(c,y,v,b){Dr(this,c,y,v,b)};function ot(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var H=y;y=new ue(b,c),x(y,H)}if(H=!0,v)for(var Q=v.length-1;0<=Q;Q--){var le=y.g=v[Q];H=Nn(le,b,!0,y)&&H}if(le=y.g=c,H=Nn(le,b,!0,y)&&H,H=Nn(le,b,!1,y)&&H,v)for(Q=0;Q<v.length;Q++)le=y.g=v[Q],H=Nn(le,b,!1,y)&&H}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)Ve(v[b]);delete c.g[y],c.h--}}this.F=null},Ee.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},Ee.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function Nn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var le=y[Q];if(le&&!le.da&&le.capture==v){var Be=le.listener,It=le.ha||le.src;le.fa&&Wt(c.i,le),H=Be.call(It,b)!==!1&&H}}return H&&!b.defaultPrevented}function Hu(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function $o(c){c.g=Hu(()=>{c.g=null,c.i&&(c.i=!1,$o(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Pf extends fe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$o(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(c){fe.call(this),this.h=c,this.g={}}M(Vs,fe);var Or=[];function Zt(c){re(c.g,function(y,v){this.g.hasOwnProperty(v)&&Vi(y)},c),c.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),Zt(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ko=d.JSON.stringify,oi=d.JSON.parse,on=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Qo(){}Qo.prototype.h=null;function Fu(c){return c.h||(c.h=c.i())}function qu(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ue.call(this,"d")}M(xr,ue);function Yn(){ue.call(this,"c")}M(Yn,ue);var On={},Mr=null;function Ra(){return Mr=Mr||new Ee}On.La="serverreachability";function Yo(c){ue.call(this,On.La,c)}M(Yo,ue);function kr(c){const y=Ra();ot(y,new Yo(y))}On.STAT_EVENT="statevent";function Ca(c,y){ue.call(this,On.STAT_EVENT,c),this.stat=y}M(Ca,ue);function vt(c){const y=Ra();ot(y,new Ca(y,c))}On.Ma="timingevent";function Gu(c,y){ue.call(this,On.Ma,c),this.size=y}M(Gu,ue);function Vr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Pr(){this.g=!0}Pr.prototype.xa=function(){this.g=!1};function $u(c,y,v,b,H,Q){c.info(function(){if(c.g)if(Q)for(var le="",Be=Q.split("&"),It=0;It<Be.length;It++){var ze=Be[It].split("=");if(1<ze.length){var Ut=ze[0];ze=ze[1];var Dt=Ut.split("_");le=2<=Dt.length&&Dt[1]=="type"?le+(Ut+"="+ze+"&"):le+(Ut+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+v+`
`+le})}function Ku(c,y,v,b,H,Q,le){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+v+`
`+Q+" "+le})}function Lr(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pt(c,v)+(b?" "+b:"")})}function ui(c,y){c.info(function(){return"TIMEOUT: "+y})}Pr.prototype.info=function(){};function Pt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return Ko(v)}catch{return y}}var Ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ps;function Ia(){}M(Ia,Qo),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},Ps=new Ia;function ci(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xo}function Xo(){this.i=null,this.g="",this.h=!1}var Ur={},Ls={};function Xn(c,y,v){c.L=1,c.v=Bs(mt(y)),c.m=v,c.P=!0,Li(c,null)}function Li(c,y){c.F=Date.now(),ct(c),c.A=mt(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Bi(v.i,"t",b),c.C=0,v=c.j.J,c.h=new Xo,c.g=oc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Pf(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Or[0]=H.toString()),H=Or);for(var Q=0;Q<H.length;Q++){var le=dn(v,H[Q],b||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),kr(),$u(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Pn(this.g);var y=this.g.Ba();const qi=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=qi?kr(3):kr(2)),Da(this);var v=this.g.Z();this.X=v;t:if(jr(this)){var b=Ju(this.g);c="";var H=b.length,Q=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Tn(this);var le="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,Ku(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,It=this.g;if((Be=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Be)){var ze=Be;break t}}ze=null}if(v=ze)Lr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,v);else{this.o=!1,this.s=3,vt(12),mn(this),Tn(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<le.length;)if(qt=Br(this,le),qt==Ls){Dt==4&&(this.s=4,vt(14),v=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Ur){this.s=4,vt(15),Lr(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else Lr(this.i,this.l,qt,null),Sn(this,qt);if(jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||le.length!=0||this.h.h||(this.s=1,vt(16),v=!1),this.o=this.o&&v,!v)Lr(this.i,this.l,le,"[Invalid Chunked Response]"),mn(this),Tn(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ks(Ut),Ut.M=!0,vt(11))}}else Lr(this.i,this.l,le,null),Sn(this,le);Dt==4&&mn(this),this.o&&!this.J&&(Dt==4?rc(this.j,this):(this.o=!1,ct(this)))}else Hf(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),mn(this),Tn(this)}}}catch{}finally{}};function jr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Br(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Ls:(v=Number(y.substring(v,b)),isNaN(v)?Ur:(b+=1,b+v>y.length?Ls:(y=y.slice(b,b+v),c.C=b+v,y)))}ci.prototype.cancel=function(){this.J=!0,mn(this)};function ct(c){c.S=Date.now()+c.I,Wo(c,c.I)}function Wo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vr(w(c.ba,c),y)}function Da(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ui(this.i,this.A),this.L!=2&&(kr(),vt(17)),mn(this),this.s=2,Tn(this)):Wo(this,this.S-c)};function Tn(c){c.j.G==0||c.J||rc(c.j,c)}function mn(c){Da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Zt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Sn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||zr(v.h,c))){if(!c.K&&zr(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ja(v),La(v);else break e;ll(v),vt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vr(w(v.Za,v),6e3));if(1>=Qu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fi(v,11)}else if((c.K||v.g==c)&&ja(v),!ee(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Ut=ze[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const Dt=ze[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const qi=ze[5];qi!=null&&typeof qi=="number"&&0<qi&&(b=1.5*qi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const qt=c.g;if(qt){const yi=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var Q=b.h;Q.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Hr(Q,Q.h),Q.h=null))}if(b.D){const cl=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(b.ya=cl,Ge(b.I,b.D,cl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var le=c;if(b.qa=ac(b,b.J?b.ia:null,b.W),le.K){xn(b.h,le);var Be=le,It=b.L;It&&(Be.I=It),Be.B&&(Da(Be),ct(Be)),b.g=le}else nc(b);0<v.i.length&&Ua(v)}else ze[0]!="stop"&&ze[0]!="close"||Fi(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Fi(v,7):al(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}kr(4)}catch{}}var Lf=class{constructor(c,y){this.g=c,this.map=y}};function Zo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qu(c){return c.h?1:c.g?c.g.size:0}function zr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Hr(c,y){c.g?c.g.add(y):c.h=y}function xn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Zo.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ln(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function Yu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function Uf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function Us(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Uf(c),b=Yu(c),H=b.length,Q=0;Q<H;Q++)y.call(void 0,b[Q],v&&v[Q],c)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),H=null;if(0<=b){var Q=c[v].substring(0,b);H=c[v].substring(b+1)}else Q=c[v];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Fr(this,c.j),this.o=c.o,this.g=c.g,js(this,c.s),this.l=c.l;var y=c.i,v=new hi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Oa(this,v),this.m=c.m}else c&&(y=String(c).match(el))?(this.h=!1,Fr(this,y[1]||"",!0),this.o=qr(y[2]||""),this.g=qr(y[3]||"",!0),js(this,y[4]),this.l=qr(y[5]||"",!0),Oa(this,y[6]||"",!0),this.m=qr(y[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Ui.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Mn(y,tl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Mn(y,tl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Mn(v,v.charAt(0)=="/"?nl:Xu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Mn(v,zf)),c.join("")};function mt(c){return new Ui(c)}function Fr(c,y,v){c.j=v?qr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function js(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oa(c,y,v){y instanceof hi?(c.i=y,il(c.i,c.h)):(v||(y=Mn(y,Bf)),c.i=new hi(y,c.h))}function Ge(c,y,v){c.i.set(y,v)}function Bs(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,jf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,Xu=/[#\?:]/g,nl=/[#\?]/g,Bf=/[#\?@]/g,zf=/#/g;function hi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=hi.prototype,i.add=function(c,y){kn(this),this.i=null,c=zi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function xa(c,y){kn(c),y=zi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ji(c,y){return kn(c),y=zi(c,y),c.g.has(y)}i.forEach=function(c,y){kn(this),this.g.forEach(function(v,b){v.forEach(function(H){c.call(y,H,b,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const H=c[b];for(let Q=0;Q<H.length;Q++)v.push(y[b])}return v},i.V=function(c){kn(this);let y=[];if(typeof c=="string")ji(this,c)&&(y=y.concat(this.g.get(zi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return kn(this),this.i=null,c=zi(this,c),ji(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bi(c,y,v){xa(c,y),0<v.length&&(c.i=null,c.g.set(zi(c,y),q(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const Q=encodeURIComponent(String(b)),le=this.V(b);for(b=0;b<le.length;b++){var H=Q;le[b]!==""&&(H+="="+encodeURIComponent(String(le[b]))),c.push(H)}}return this.i=c.join("&")};function zi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function il(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(v,b){var H=b.toLowerCase();b!=H&&(xa(this,b),Bi(this,H,v))},c)),c.j=y}function Wu(c,y){const v=new Pr;if(d.Image){const b=new Image;b.onload=N(Vn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=N(Vn,v,"TestLoadImage: error",!1,y,b),b.onabort=N(Vn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(Vn,v,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function zs(c,y){const v=new Pr,b=new AbortController,H=setTimeout(()=>{b.abort(),Vn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(H),Q.ok?Vn(v,"TestPingServer: ok",!0,y):Vn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Vn(v,"TestPingServer: error",!1,y)})}function Vn(c,y,v,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(v)}catch{}}function Hs(){this.g=new on}function fi(c,y,v){const b=v||"";try{Us(c,function(H,Q){let le=H;g(H)&&(le=Ko(H)),y.push(b+Q+"="+encodeURIComponent(le))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function Gr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Gr,Qo),Gr.prototype.g=function(){return new Hi(this.l,this.j)},Gr.prototype.i=function(c){return function(){return c}}({});function Hi(c,y){Ee.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Hi,Ee),i=Hi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?di(this):mi(this),this.readyState==3&&rl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sl(c){let y="";return re(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=sl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ge(c,y,v))}function Qe(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Qe,Ee);var Ma=/^https?$/i,Fs=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ps.g(),this.v=this.o?Fu(this.o):Fu(Ps),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Zu(this,Q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)v.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Fs,y,void 0))||b||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of v)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Zu(this,Q)}};function Zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ka(c),pi(c)}function ka(c){c.A||(c.A=!0,ot(c,"complete"),ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ot(this,"complete"),ot(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},i.bb=function(){Va(this)};function Va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Hu(c.Ea,0,c);else if(ot(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=le===0){var H=String(c.D).match(el)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),b=!Ma.test(H?H.toLowerCase():"")}v=b}if(v)ot(c,"complete"),ot(c,"success");else{c.m=6;try{var Q=2<Pn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ka(c)}}finally{pi(c)}}}}function pi(c,y){if(c.g){qs(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||ot(c,"ready");try{v.onreadystatechange=b}catch{}}}function qs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oi(y)}};function Ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hf(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ee(c[b]))continue;var v=P(c[b]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[H]||[];y[H]=Q,Q.push(v)}k(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Pa(c){this.Aa=0,this.i=[],this.j=new Pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,c),this.cb=Gs("retryDelaySeedMs",1e4,c),this.Wa=Gs("forwardChannelMaxRetries",2,c),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zo(c&&c.concurrentRequestLimit),this.Da=new Hs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Pa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,b){vt(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=ac(this,null,this.W),Ua(this)};function al(c){if(ec(c),c.G==3){var y=c.U++,v=mt(c.I);if(Ge(v,"SID",c.K),Ge(v,"RID",y),Ge(v,"TYPE","terminate"),$s(c,v),y=new ci(c,c.j,y),y.L=2,y.v=Bs(mt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}sc(c)}function La(c){c.g&&(Ks(c),c.g.cancel(),c.g=null)}function ec(c){La(c),c.u&&(d.clearTimeout(c.u),c.u=null),ja(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ua(c){if(!Jo(c.h)&&!c.s){c.s=!0;var y=c.Ga;pe||V(),ce||(pe(),ce=!0),Me.add(y,c),c.B=0}}function Ff(c,y){return Qu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vr(w(c.Ga,c,y),ul(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ci(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=I(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=tc(this,H,y),v=mt(this.I),Ge(v,"RID",c),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),$s(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(sl(Q)))+"&"+y:this.m&&Lt(v,this.m,Q)),Hr(this.h,H),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",y),Ge(v,"SID","null"),H.T=!0,Xn(H,v,null)):Xn(H,v,y),this.G=2}}else this.G==3&&(c?ol(this,c):this.i.length==0||Jo(this.h)||ol(this))};function ol(c,y){var v;y?v=y.l:v=c.U++;const b=mt(c.I);Ge(b,"SID",c.K),Ge(b,"RID",v),Ge(b,"AID",c.T),$s(c,b),c.m&&c.o&&Lt(b,c.m,c.o),v=new ci(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=tc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hr(c.h,v),Xn(v,b,y)}function $s(c,y){c.H&&re(c.H,function(v,b){Ge(y,b,v)}),c.l&&Us({},function(v,b){Ge(y,b,v)})}function tc(c,y,v){v=Math.min(c.i.length,v);var b=c.l?w(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const le=["count="+v];Q==-1?0<v?(Q=H[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Be=!0;for(let It=0;It<v;It++){let ze=H[It].g;const Ut=H[It].map;if(ze-=Q,0>ze)Q=Math.max(0,H[It].g-100),Be=!1;else try{fi(Ut,le,"req"+ze+"_")}catch{b&&b(Ut)}}if(Be){b=le.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function nc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;pe||V(),ce||(pe(),ce=!0),Me.add(y,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vr(w(c.Fa,c),ul(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vr(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),La(this),ic(this))};function Ks(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function ic(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mt(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),$s(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Bs(mt(y)),v.m=null,v.P=!0,Li(v,c)}i.Za=function(){this.C!=null&&(this.C=null,La(this),ll(this),vt(19))};function ja(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function rc(c,y){var v=null;if(c.g==y){ja(c),Ks(c),c.g=null;var b=2}else if(zr(c.h,y))v=y.D,xn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=Ra(),ot(b,new Gu(b,v)),Ua(c)}else nc(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&Ff(c,y)||b==2&&ll(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function ul(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Fi(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),b=c.Xa;const H=!b;b=new Ui(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fr(b,"https"),Bs(b),H?Wu(b.toString(),v):zs(b.toString(),v)}else vt(2);c.G=0,c.l&&c.l.sa(y),sc(c),ec(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function sc(c){if(c.G=0,c.ka=[],c.l){const y=ln(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function ac(c,y,v){var b=v instanceof Ui?mt(v):new Ui(v);if(b.g!="")y&&(b.g=y+"."+b.g),js(b,b.s);else{var H=d.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new Ui(null);b&&Fr(Q,b),y&&(Q.g=y),H&&js(Q,H),v&&(Q.l=v),b=Q}return v=c.D,y=c.ya,v&&y&&Ge(b,v,y),Ge(b,"VER",c.la),$s(c,b),b}function oc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new Gr({eb:v})):new Qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}i=lc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ba(){}Ba.prototype.g=function(c,y){return new un(c,y)};function un(c,y){Ee.call(this),this.g=new Pa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gi(this)}M(un,Ee),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){al(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ko(c),c=v);y.i.push(new Lf(y.Ya++,c)),y.G==3&&Ua(y)},un.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,un.aa.N.call(this)};function uc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(uc,xr);function cc(){Yn.call(this),this.status=1}M(cc,Yn);function gi(c){this.g=c}M(gi,lc),gi.prototype.ua=function(){ot(this.g,"a")},gi.prototype.ta=function(c){ot(this.g,new uc(c))},gi.prototype.sa=function(c){ot(this.g,new cc)},gi.prototype.ra=function(){ot(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,xS=function(){return new Ba},OS=function(){return Ra()},NS=On,Ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,bh=Ct,Pi.COMPLETE="complete",DS=Pi,qu.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,nu=qu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,IS=Qe}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore",eT="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Jp("@firebase/firestore");function yo(){return Ea.logLevel}function he(i,...e){if(Ea.logLevel<=Pe.DEBUG){const t=e.map(hg);Ea.debug(`Firestore (${jo}): ${i}`,...t)}}function Er(i,...e){if(Ea.logLevel<=Pe.ERROR){const t=e.map(hg);Ea.error(`Firestore (${jo}): ${i}`,...t)}}function Co(i,...e){if(Ea.logLevel<=Pe.WARN){const t=e.map(hg);Ea.warn(`Firestore (${jo}): ${i}`,...t)}}function hg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+i;throw Er(e),new Error(e)}function Xe(i,e){i||we()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}}class XN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new mr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new mr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new MS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new nn(e)}}class ZN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ZN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,In(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new tT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new tT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tO(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function je(i,e){return i<e?-1:i>e?1:0}function Io(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=-62135596800,iT=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*iT);return new Mt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nT)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iT}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Mt(0,0))}static max(){return new Ae(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class wi{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=wi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=wi.isNumericId(e),o=wi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class lt extends wi{construct(e,t,s){return new lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends wi{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return nO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new Yt([rT])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(lt.fromString(e))}static fromName(e){return new ve(lt.fromString(e).popFirst(5))}static empty(){return new ve(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function iO(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Mt(t+1,0):new Mt(t,s));return new bs(o,ve.empty(),e)}function rO(i){return new bs(i.readTime,i.key,yu)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(Ae.min(),ve.empty(),yu)}static max(){return new bs(Ae.max(),ve.empty(),yu)}}function sO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==aO)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,s)=>{t(e)})}static reject(e){return new J((t,s)=>{s(e)})}static waitFor(e){return new J((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next(o=>o?J.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new J((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new J((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function lO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ff.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function df(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function uO(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="";function cO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=sT(e)),e=hO(i.get(t),e);return sT(e)}function hO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case VS:t+="";break;default:t+=l}}return t}function sT(i){return i+VS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function xs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function PS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=l??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Qt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new kt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new LS("Invalid base64 string: "+l):l}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const fO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(i){if(Xe(!!i),typeof i=="string"){let e=0;const t=fO.exec(i);if(Xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Rs(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="server_timestamp",jS="__type__",BS="__previous_value__",zS="__local_write_time__";function dg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[jS])===null||t===void 0?void 0:t.stringValue)===US}function mf(i){const e=i.mapValue.fields[BS];return dg(e)?mf(e):e}function vu(i){const e=As(i.mapValue.fields[zS].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t,s,o,l,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const zh="(default)";class _u{constructor(e,t){this.projectId=e,this.database=t||zh}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="__type__",mO="__max__",fh={mapValue:{}},FS="__vector__",Hh="value";function Cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?dg(i)?4:gO(i)?9007199254740991:pO(i)?10:11:we()}function Di(i,e){if(i===e)return!0;const t=Cs(i);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vu(i).isEqual(vu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=As(o.timestampValue),d=As(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Rs(o.bytesValue).isEqual(Rs(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Et(o.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Et(o.integerValue)===Et(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Et(o.doubleValue),d=Et(l.doubleValue);return h===d?Bh(h)===Bh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(aT(h)!==aT(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Di(h[p],d[p])))return!1;return!0}(i,e);default:return we()}}function Eu(i,e){return(i.values||[]).find(t=>Di(t,e))!==void 0}function Do(i,e){if(i===e)return 0;const t=Cs(i),s=Cs(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return function(l,h){const d=Et(l.integerValue||l.doubleValue),p=Et(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return lT(i.timestampValue,e.timestampValue);case 4:return lT(vu(i),vu(e));case 5:return je(i.stringValue,e.stringValue);case 6:return function(l,h){const d=Rs(l),p=Rs(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=je(d[g],p[g]);if(E!==0)return E}return je(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const d=je(Et(l.latitude),Et(h.latitude));return d!==0?d:je(Et(l.longitude),Et(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return uT(i.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,E;const T=l.fields||{},w=h.fields||{},N=(d=T[Hh])===null||d===void 0?void 0:d.arrayValue,M=(p=w[Hh])===null||p===void 0?void 0:p.arrayValue,q=je(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:uT(N,M)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===fh.mapValue&&h===fh.mapValue)return 0;if(l===fh.mapValue)return 1;if(h===fh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=je(p[T],E[T]);if(w!==0)return w;const N=Do(d[p[T]],g[E[T]]);if(N!==0)return N}return je(p.length,E.length)}(i.mapValue,e.mapValue);default:throw we()}}function lT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const t=As(i),s=As(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function uT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Do(t[o],s[o]);if(l)return l}return je(t.length,s.length)}function No(i){return Tp(i)}function Tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=As(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Rs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Tp(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Tp(t.fields[h])}`;return o+"}"}(i.mapValue):we()}function Ah(i){switch(Cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(i);return e?16+Ah(e):16;case 5:return 2*i.stringValue.length;case 6:return Rs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Ah(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return xs(s.fields,(l,h)=>{o+=l.length+Ah(h)}),o}(i.mapValue);default:throw we()}}function Sp(i){return!!i&&"integerValue"in i}function mg(i){return!!i&&"arrayValue"in i}function cT(i){return!!i&&"nullValue"in i}function hT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rh(i){return!!i&&"mapValue"in i}function pO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[HS])===null||t===void 0?void 0:t.stringValue)===FS}function lu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return xs(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=lu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function gO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===mO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=lu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){xs(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new _n(lu(this.value))}}function qS(i){const e=[];return xs(i.fields,(t,s)=>{const o=new Yt([t]);if(Rh(s)){const l=qS(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new rn(e,0,Ae.min(),Ae.min(),Ae.min(),_n.empty(),0)}static newFoundDocument(e,t,s,o){return new rn(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new rn(e,2,t,Ae.min(),Ae.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ae.min(),Ae.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function fT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=Do(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function dT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Di(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function yO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{}class xt extends GS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new _O(e,t,s):t==="array-contains"?new SO(e,s):t==="in"?new wO(e,s):t==="not-in"?new bO(e,s):t==="array-contains-any"?new AO(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new EO(e,s):new TO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Do(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends GS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ni(e,t)}matches(e){return $S(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $S(i){return i.op==="and"}function KS(i){return vO(i)&&$S(i)}function vO(i){for(const e of i.filters)if(e instanceof Ni)return!1;return!0}function wp(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+No(i.value);if(KS(i))return i.filters.map(e=>wp(e)).join(",");{const e=i.filters.map(t=>wp(t)).join(",");return`${i.op}(${e})`}}function QS(i,e){return i instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(i,e):i instanceof Ni?function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&QS(h,o.filters[d]),!0):!1}(i,e):void we()}function YS(i){return i instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${No(t.value)}`}(i):i instanceof Ni?function(t){return t.op.toString()+" {"+t.getFilters().map(YS).join(" ,")+"}"}(i):"Filter"}class _O extends xt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class EO extends xt{constructor(e,t){super(e,"in",t),this.keys=XS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TO extends xt{constructor(e,t){super(e,"not-in",t),this.keys=XS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XS(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class SO extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&Eu(t.arrayValue,this.value)}}class wO extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Eu(this.value.arrayValue,t)}}class bO extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Eu(this.value.arrayValue,t)}}class AO extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function mT(i,e=null,t=[],s=[],o=null,l=null,h=null){return new RO(i,e,t,s,o,l,h)}function pg(i){const e=Ce(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>wp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>No(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>No(s)).join(",")),e.le=t}return e.le}function gg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!yO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!QS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dT(i.startAt,e.startAt)&&dT(i.endAt,e.endAt)}function bp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CO(i,e,t,s,o,l,h,d){return new pf(i,e,t,s,o,l,h,d)}function gf(i){return new pf(i)}function pT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function IO(i){return i.collectionGroup!==null}function uu(i){const e=Ce(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new kt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new qh(l,s))}),t.has(Yt.keyField().canonicalString())||e.he.push(new qh(Yt.keyField(),s))}return e.he}function Ci(i){const e=Ce(i);return e.Pe||(e.Pe=DO(e,uu(i))),e.Pe}function DO(i,e){if(i.limitType==="F")return mT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new qh(o.field,l)});const t=i.endAt?new Fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fh(i.startAt.position,i.startAt.inclusive):null;return mT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Ap(i,e,t){return new pf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function yf(i,e){return gg(Ci(i),Ci(e))&&i.limitType===e.limitType}function WS(i){return`${pg(Ci(i))}|lt:${i.limitType}`}function vo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>YS(o)).join(", ")}]`),df(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>No(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>No(o)).join(",")),`Target(${s})`}(Ci(i))}; limitType=${i.limitType})`}function vf(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of uu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=fT(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,uu(s),o)||s.endAt&&!function(h,d,p){const g=fT(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,uu(s),o))}(i,e)}function NO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZS(i){return(e,t)=>{let s=!1;for(const o of uu(i)){const l=OO(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function OO(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Do(p,g):we()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new dt(ve.comparator);function Tr(){return xO}const JS=new dt(ve.comparator);function iu(...i){let e=JS;for(const t of i)e=e.insert(t.key,t);return e}function ew(i){let e=JS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function pa(){return cu()}function tw(){return cu()}function cu(){return new wa(i=>i.toString(),(i,e)=>i.isEqual(e))}const MO=new dt(ve.comparator),kO=new kt(ve.comparator);function Le(...i){let e=kO;for(const t of i)e=e.add(t);return e}const VO=new kt(je);function PO(){return VO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function nw(i){return{integerValue:""+i}}function LO(i,e){return uO(e)?nw(e):yg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function UO(i,e,t){return i instanceof Tu?function(o,l){const h={fields:{[jS]:{stringValue:US},[zS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&dg(l)&&(l=mf(l)),l&&(h.fields[BS]=l),{mapValue:h}}(t,e):i instanceof Su?rw(i,e):i instanceof wu?sw(i,e):function(o,l){const h=iw(o,l),d=gT(h)+gT(o.Ie);return Sp(h)&&Sp(o.Ie)?nw(d):yg(o.serializer,d)}(i,e)}function jO(i,e,t){return i instanceof Su?rw(i,e):i instanceof wu?sw(i,e):t}function iw(i,e){return i instanceof Gh?function(s){return Sp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Tu extends _f{}class Su extends _f{constructor(e){super(),this.elements=e}}function rw(i,e){const t=aw(e);for(const s of i.elements)t.some(o=>Di(o,s))||t.push(s);return{arrayValue:{values:t}}}class wu extends _f{constructor(e){super(),this.elements=e}}function sw(i,e){let t=aw(e);for(const s of i.elements)t=t.filter(o=>!Di(o,s));return{arrayValue:{values:t}}}class Gh extends _f{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function gT(i){return Et(i.integerValue||i.doubleValue)}function aw(i){return mg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.field=e,this.transform=t}}function zO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Su&&o instanceof Su||s instanceof wu&&o instanceof wu?Io(s.elements,o.elements,Di):s instanceof Gh&&o instanceof Gh?Di(s.Ie,o.Ie):s instanceof Tu&&o instanceof Tu}(i.transform,e.transform)}class HO{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ef{}function ow(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new vg(i.key,Kn.none()):new Vu(i.key,i.data,Kn.none());{const t=i.data,s=_n.empty();let o=new kt(Yt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ms(i.key,s,new Dn(o.toArray()),Kn.none())}}function FO(i,e,t){i instanceof Vu?function(o,l,h){const d=o.value.clone(),p=vT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Ms?function(o,l,h){if(!Ch(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=vT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(lw(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function hu(i,e,t,s){return i instanceof Vu?function(l,h,d,p){if(!Ch(l.precondition,h))return d;const g=l.value.clone(),E=_T(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ms?function(l,h,d,p){if(!Ch(l.precondition,h))return d;const g=_T(l.fieldTransforms,p,h),E=h.data;return E.setAll(lw(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,h,d){return Ch(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function qO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=iw(s.transform,o||null);l!=null&&(t===null&&(t=_n.empty()),t.set(s.field,l))}return t||null}function yT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,(l,h)=>zO(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vu extends Ef{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends Ef{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function lw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function vT(i,e,t){const s=new Map;Xe(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,jO(h,d,t[o]))}return s}function _T(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,UO(l,h,e))}return s}class vg extends Ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GO extends Ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&FO(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=tw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=ow(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(t,s)=>yT(t,s))&&Io(this.baseMutations,e.baseMutations,(t,s)=>yT(t,s))}}class _g{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Xe(e.mutations.length===s.length);let o=function(){return MO}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new _g(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Fe;function YO(i){switch(i){case ie.OK:return we();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we()}}function uw(i){if(i===void 0)return Er("GRPC error has no .code"),ie.UNKNOWN;switch(i){case At.OK:return ie.OK;case At.CANCELLED:return ie.CANCELLED;case At.UNKNOWN:return ie.UNKNOWN;case At.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case At.INTERNAL:return ie.INTERNAL;case At.UNAVAILABLE:return ie.UNAVAILABLE;case At.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case At.NOT_FOUND:return ie.NOT_FOUND;case At.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case At.ABORTED:return ie.ABORTED;case At.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case At.DATA_LOSS:return ie.DATA_LOSS;default:return we()}}(Fe=At||(At={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Ts([4294967295,4294967295],0);function ET(i){const e=XO().encode(i),t=new CS;return t.update(e),new Uint8Array(t.digest())}function TT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ts([t,s],0),new Ts([o,l],0)]}class Eg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ts.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Ts.fromNumber(s)));return o.compare(WO)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=ET(e),[s,o]=TT(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Eg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=ET(e),[s,o]=TT(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Tf(Ae.min(),o,new dt(je),Tr(),Le())}}class Pu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Pu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class cw{constructor(e,t){this.targetId=e,this.ge=t}}class hw{constructor(e,t,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class ST{constructor(){this.pe=0,this.ye=wT(),this.we=Xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Le(),t=Le(),s=Le();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Pu(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=wT()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class ZO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Tr(),this.$e=dh(),this.Ke=dh(),this.Ue=new dt(je)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(bp(l))if(s===0){const h=new ve(l.path);this.ze(t,h,rn.newNoDocument(h,Ae.min()))}else Xe(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=Rs(s).toUint8Array()}catch(p){if(p instanceof LS)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Eg(h,o,l)}catch(p){return Co(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&bp(d.target)){const p=new ve(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,rn.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Le();this.Ke.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new Tf(e,t,this.Ue,this.Qe,s);return this.Qe=Tr(),this.$e=dh(),this.Ke=dh(),this.Ue=new dt(je),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ST,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new kt(je),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new kt(je),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ST),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function dh(){return new dt(ve.comparator)}function wT(){return new dt(ve.comparator)}const JO={asc:"ASCENDING",desc:"DESCENDING"},ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tx={and:"AND",or:"OR"};class nx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rp(i,e){return i.useProto3Json||df(e)?e:{value:e}}function $h(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ix(i,e){return $h(i,e.toTimestamp())}function Ii(i){return Xe(!!i),Ae.fromTimestamp(function(t){const s=As(t);return new Mt(s.seconds,s.nanos)}(i))}function Tg(i,e){return Cp(i,e).canonicalString()}function Cp(i,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function dw(i){const e=lt.fromString(i);return Xe(vw(e)),e}function Ip(i,e){return Tg(i.databaseId,e.path)}function Qm(i,e){const t=dw(e);if(t.get(1)!==i.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(pw(t))}function mw(i,e){return Tg(i.databaseId,e)}function rx(i){const e=dw(i);return e.length===4?lt.emptyPath():pw(e)}function Dp(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pw(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function bT(i,e,t){return{name:Ip(i,e),fields:t.value.mapValue.fields}}function sx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ie.UNKNOWN:uw(g.code);return new ge(E,g.message||"")}(h);t=new hw(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qm(i,s.document.name),l=Ii(s.document.updateTime),h=s.document.createTime?Ii(s.document.createTime):Ae.min(),d=new _n({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Ih(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qm(i,s.document),l=s.readTime?Ii(s.readTime):Ae.min(),h=rn.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Ih([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qm(i,s.document),l=s.removedTargetIds||[];t=new Ih([],l,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new QO(o,l),d=s.targetId;t=new cw(d,h)}}return t}function ax(i,e){let t;if(e instanceof Vu)t={update:bT(i,e.key,e.value)};else if(e instanceof vg)t={delete:Ip(i,e.key)};else if(e instanceof Ms)t={update:bT(i,e.key,e.data),updateMask:px(e.fieldMask)};else{if(!(e instanceof GO))return we();t={verify:Ip(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Tu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ix(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(i,e.precondition)),t}function ox(i,e){return i&&i.length>0?(Xe(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?Ii(o.updateTime):Ii(l);return h.isEqual(Ae.min())&&(h=Ii(l)),new HO(h,o.transformResults||[])}(t,e))):[]}function lx(i,e){return{documents:[mw(i,e.path)]}}function ux(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=mw(i,o);const l=function(g){if(g.length!==0)return yw(Ni.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:_o(w.field),direction:fx(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Rp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function cx(i){let e=rx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Xe(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const w=gw(T);return w instanceof Ni&&KS(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(w=>function(M){return new qh(Eo(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,df(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,N=T.values||[];return new Fh(N,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,N=T.values||[];return new Fh(N,w)}(t.endAt)),CO(e,o,h,l,d,"F",p,g)}function hx(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Eo(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(t.unaryFilter.field);return xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(t.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(t){return xt.create(Eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ni.create(t.compositeFilter.filters.map(s=>gw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(i):we()}function fx(i){return JO[i]}function dx(i){return ex[i]}function mx(i){return tx[i]}function _o(i){return{fieldPath:i.canonicalString()}}function Eo(i){return Yt.fromServerFormat(i.fieldPath)}function yw(i){return i instanceof xt?function(t){if(t.op==="=="){if(hT(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NAN"}};if(cT(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hT(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NAN"}};if(cT(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(t.field),op:dx(t.op),value:t.value}}}(i):i instanceof Ni?function(t){const s=t.getFilters().map(o=>yw(o));return s.length===1?s[0]:{compositeFilter:{op:mx(t.op),filters:s}}}(i):we()}function px(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s,o,l=Ae.min(),h=Ae.min(),d=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.Tt=e}}function yx(i){const e=cx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.Tn=new _x}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(bs.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class _x{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(lt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_w=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(_w,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Oo(0)}static Un(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="LruGarbageCollector",Ex=1048576;function CT([i,e],[t,s]){const o=je(i,t);return o===0?je(e,s):o}class Tx{constructor(e){this.Hn=e,this.buffer=new kt(CT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();CT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(RT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zo(t)?he(RT,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.er(3e5)})}}class wx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return J.resolve(ff.ae);const s=new Tx(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(AT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),yo()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function bx(i,e){return new wx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&hu(s.mutation,o,Dn.empty(),Mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=iu();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=pa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=Tr();const h=cu(),d=function(){return cu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ms)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),hu(E.mutation,g,E.mutation.getFieldMask(),Mt.now())):h.set(g.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new Rx(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=cu();let o=new dt((h,d)=>h-d),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Dn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||Le()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=tw();E.forEach(w=>{if(!l.has(w)){const N=ow(t.get(w),s.get(w));N!==null&&T.set(w,N),l=l.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):J.resolve(pa());let d=yu,p=l;return h.next(g=>J.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:d,changes:ew(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=iu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=iu();return this.indexManager.getCollectionParents(e,l).next(d=>J.forEach(d,p=>{const g=function(T,w){return new pf(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,rn.newInvalidDocument(E)))});let d=iu();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&hu(E.mutation,g,Dn.empty(),Mt.now()),vf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:yx(o.bundledQuery),readTime:Ii(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.overlays=new dt(ve.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=pa();return J.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=pa(),l=t.length+1,h=new ve(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new dt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=pa(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return J.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new KO(t,s));let l=this.Rr.get(t);l===void 0&&(l=Le(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Vr=new kt(Ht.mr),this.gr=new kt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ht(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new ve(new lt([])),s=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new lt([])),s=new Ht(t,e),o=new Ht(t,e+1);let l=Le();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ht(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||je(e.Cr,t.Cr)}static pr(e,t){return je(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(Ht.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $O(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?fg:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);l.push(d)}),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(je);return t.forEach(o=>{const l=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{s=s.add(d.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const h=new Ht(new ve(l),0);let d=new kt(je);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),J.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.kr=e,this.docs=function(){return new dt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let s=Tr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():rn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Tr();const h=t.path,d=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||sO(rO(E),s)<=0||(o.has(E.key)||vf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(e,t,s,o){we()}qr(e,t){return J.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Mx(this)}getSize(e){return J.resolve(this.size)}}class Mx extends Ax{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.persistence=e,this.Qr=new wa(t=>pg(t),gg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Sg,this.targetCount=0,this.Ur=Oo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),J.waitFor(l).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ff(0),this.zr=!1,this.zr=!0,this.jr=new Nx,this.referenceDelegate=e(this),this.Hr=new kx(this),this.indexManager=new vx,this.remoteDocumentCache=function(o){return new xx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new gx(t),this.Yr=new Ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new Ox(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new Vx(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class Vx extends oO{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.ti=new Sg,this.ni=null}static ri(e){return new wg(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Kh{constructor(e,t){this.persistence=e,this.oi=new wa(s=>cO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bx(this,t)}static ri(e,t){return new Kh(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?J.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Ae.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ah(e.data.value)),t}ar(e,t,s){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Le(),o=Le();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new bg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yI()?8:lO(sn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new Px;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(yo()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(yo()<=Pe.DEBUG&&he("QueryEngine","Query:",vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(yo()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):J.resolve())}rs(e,t){if(pT(t))return J.resolve(null);let s=Ci(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Ap(t,null,"F"),s=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Le(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,Ap(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return pT(t)||o.isEqual(Ae.min())?J.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?J.resolve(null):(yo()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(t)),this.hs(e,h,t,iO(o,yu)).next(d=>d))})}cs(e,t){let s=new kt(ZS(e));return t.forEach((o,l)=>{vf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return yo()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",vo(t)),this.ns.getDocumentsMatchingQuery(e,t,bs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",Ux=3e8;class jx{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new dt(je),this.Is=new wa(l=>pg(l),gg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Bx(i,e,t,s){return new jx(i,e,t,s)}async function Tw(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Le();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function zx(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,w=T.keys();let N=J.resolve();return w.forEach(M=>{N=N.next(()=>E.getEntry(p,M)).next(q=>{const L=g.docVersions.get(M);Xe(L!==null),q.version.compareTo(L)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Sw(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Hx(i,e){const t=Ce(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const w=o.get(T);if(!w)return;d.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,T)));let N=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Xt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(T,N),function(q,L,G){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=Ux?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,N,E)&&d.push(t.Hr.updateTargetData(l,N))});let p=Tr(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(Fx(l,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ae.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=o,l))}function Fx(i,e,t){let s=Le(),o=Le();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=Tr();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(Ag,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function qx(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Gx(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,J.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new vs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Np(i,e,t){const s=Ce(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!zo(h))throw h;he(Ag,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function IT(i,e,t){const s=Ce(i);let o=Ae.min(),l=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Ce(p),w=T.Is.get(E);return w!==void 0?J.resolve(T.Ts.get(w)):T.Hr.getTargetData(g,E)}(s,h,Ci(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?l:Le())).next(d=>($x(s,NO(e),d),{documents:d,gs:l})))}function $x(i,e,t){let s=i.Es.get(e)||Ae.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class DT{constructor(){this.activeTargetIds=PO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kx{constructor(){this.ho=new DT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new DT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="ConnectivityMonitor";class OT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(NT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(NT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function Op(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",Yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===zh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,l){const h=Op(),d=this.So(e,t.toUriEncodedString());he(Ym,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,s).then(g=>(he(Ym,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Co(Ym,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,l,h){return this.bo(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}So(e,t){const s=Yx[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class Zx extends Xx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=Op();return new Promise((h,d)=>{const p=new IS;p.setWithCredentials(!0),p.listenOnce(DS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bh.NO_ERROR:const E=p.getResponseJson();he(tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case bh.TIMEOUT:he(tn,`RPC '${e}' ${l} timed out`),d(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const T=p.getStatus();if(he(tn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w==null?void 0:w.error;if(N&&N.status&&N.message){const M=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(G)>=0?G:ie.UNKNOWN}(N.status);d(new ge(M,N.message))}else d(new ge(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{he(tn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);he(tn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Op(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=xS(),d=OS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let w=!1,N=!1;const M=new Wx({Fo:L=>{N?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(w||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),he(tn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Mo:()=>T.close()}),q=(L,G,ee)=>{L.listen(G,K=>{try{ee(K)}catch(se){setTimeout(()=>{throw se},0)}})};return q(T,nu.EventType.OPEN,()=>{N||(he(tn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),q(T,nu.EventType.CLOSE,()=>{N||(N=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),q(T,nu.EventType.ERROR,L=>{N||(N=!0,Co(tn,`RPC '${e}' stream ${o} transport errored:`,L),M.Ko(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),q(T,nu.EventType.MESSAGE,L=>{var G;if(!N){const ee=L.data[0];Xe(!!ee);const K=ee,se=(K==null?void 0:K.error)||((G=K[0])===null||G===void 0?void 0:G.error);if(se){he(tn,`RPC '${e}' stream ${o} received error:`,se);const X=se.status;let re=function(R){const x=At[R];if(x!==void 0)return uw(x)}(X),k=se.message;re===void 0&&(re=ie.INTERNAL,k="Unknown error status: "+X+" with message "+se.message),N=!0,M.Ko(new ge(re,k)),T.close()}else he(tn,`RPC '${e}' stream ${o} received:`,ee),M.Uo(ee)}}),q(d,NS.STAT_EVENT,L=>{L.stat===Ep.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Ep.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return new nx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class bw{constructor(e,t,s,o,l,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ww(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ge(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jx extends bw{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=sx(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ae.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Ii(h.readTime):Ae.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Dp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=bp(p)?{documents:lx(l,p)}:{query:ux(l,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=fw(l,h.resumeToken);const g=Rp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){d.readTime=$h(l,h.snapshotVersion.toTimestamp());const g=Rp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=hx(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Dp(this.serializer),t.removeTarget=e,this.I_(t)}}class e2 extends bw{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=ox(e.writeResults,e.commitTime),s=Ii(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Dp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ax(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{}class n2 extends t2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.bo(e,Cp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ie.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Cp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(ie.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class i2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Er(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class r2{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{ba(this)&&(he(Ta,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await Lu(g),g.j_.set("Unknown"),g.W_.delete(4),await wf(g)}(this))})}),this.j_=new i2(s,o)}}async function wf(i){if(ba(i))for(const e of i.G_)await e(!0)}async function Lu(i){for(const e of i.G_)await e(!1)}function Aw(i,e){const t=Ce(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Dg(t)?Ig(t):Ho(t).c_()&&Cg(t,e))}function Rg(i,e){const t=Ce(i),s=Ho(t);t.U_.delete(e),s.c_()&&Rw(t,e),t.U_.size===0&&(s.c_()?s.P_():ba(t)&&t.j_.set("Unknown"))}function Cg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(i).y_(e)}function Rw(i,e){i.H_.Ne(e),Ho(i).w_(e)}function Ig(i){i.H_=new ZO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.j_.B_()}function Dg(i){return ba(i)&&!Ho(i).u_()&&i.U_.size>0}function ba(i){return Ce(i).W_.size===0}function Cw(i){i.H_=void 0}async function s2(i){i.j_.set("Online")}async function a2(i){i.U_.forEach((e,t)=>{Cg(i,e)})}async function o2(i,e){Cw(i),Dg(i)?(i.j_.q_(e),Ig(i)):i.j_.set("Unknown")}async function l2(i,e,t){if(i.j_.set("Online"),e instanceof hw&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){he(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(i,s)}else if(e instanceof Ih?i.H_.We(e):e instanceof cw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ae.min()))try{const s=await Sw(i.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.U_.get(g);E&&l.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.U_.get(p);if(!E)return;l.U_.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),Rw(l,p);const T=new vs(E.target,p,g,E.sequenceNumber);Cg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){he(Ta,"Failed to raise snapshot:",s),await Qh(i,s)}}async function Qh(i,e,t){if(!zo(e))throw e;i.W_.add(1),await Lu(i),i.j_.set("Offline"),t||(t=()=>Sw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Ta,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await wf(i)})}function Iw(i,e){return e().catch(t=>Qh(i,t,e))}async function bf(i){const e=Ce(i),t=Is(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:fg;for(;u2(e);)try{const o=await qx(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,c2(e,o)}catch(o){await Qh(e,o)}Dw(e)&&Nw(e)}function u2(i){return ba(i)&&i.K_.length<10}function c2(i,e){i.K_.push(e);const t=Is(i);t.c_()&&t.b_&&t.S_(e.mutations)}function Dw(i){return ba(i)&&!Is(i).u_()&&i.K_.length>0}function Nw(i){Is(i).start()}async function h2(i){Is(i).C_()}async function f2(i){const e=Is(i);for(const t of i.K_)e.S_(t.mutations)}async function d2(i,e,t){const s=i.K_.shift(),o=_g.from(s,e,t);await Iw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await bf(i)}async function m2(i,e){e&&Is(i).b_&&await async function(s,o){if(function(h){return YO(h)&&h!==ie.ABORTED}(o.code)){const l=s.K_.shift();Is(s).h_(),await Iw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await bf(s)}}(i,e),Dw(i)&&Nw(i)}async function MT(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),he(Ta,"RemoteStore received new credentials");const s=ba(t);t.W_.add(3),await Lu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await wf(t)}async function p2(i,e){const t=Ce(i);e?(t.W_.delete(2),await wf(t)):e||(t.W_.add(2),await Lu(t),t.j_.set("Unknown"))}function Ho(i){return i.J_||(i.J_=function(t,s,o){const l=Ce(t);return l.M_(),new Jx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:s2.bind(null,i),No:a2.bind(null,i),Lo:o2.bind(null,i),p_:l2.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Dg(i)?Ig(i):i.j_.set("Unknown")):(await i.J_.stop(),Cw(i))})),i.J_}function Is(i){return i.Y_||(i.Y_=function(t,s,o){const l=Ce(t);return l.M_(),new e2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:h2.bind(null,i),Lo:m2.bind(null,i),D_:f2.bind(null,i),v_:d2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await bf(i)):(await i.Y_.stop(),i.K_.length>0&&(he(Ta,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new Ng(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(i,e){if(Er("AsyncQueue",`${e}: ${i}`),zo(i))return new ge(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=iu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.Z_=new dt(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class xo{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new xo(e,t,Ro.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class y2{constructor(){this.queries=VT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ce(t),l=o.queries;o.queries=VT(),l.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function VT(){return new wa(i=>WS(i),yf)}async function xg(i,e){const t=Ce(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new g2,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Og(h,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&kg(t)}async function Mg(i,e){const t=Ce(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function v2(i,e){const t=Ce(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&kg(t)}function _2(i,e,t){const s=Ce(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function kg(i){i.ia.forEach(e=>{e.next()})}var xp,PT;(PT=xp||(xp={}))._a="default",PT.Cache="cache";class Vg{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.key=e}}class xw{constructor(e){this.key=e}}class E2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=ZS(e),this.wa=new Ro(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new kT,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const w=o.get(E),N=vf(this.query,T)?T:null,M=!!w&&this.mutatedKeys.has(w.key),q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;w&&N?w.data.isEqual(N.data)?M!==q&&(s.track({type:3,doc:N}),L=!0):this.va(w,N)||(s.track({type:2,doc:N}),L=!0,(p&&this.ya(N,p)>0||g&&this.ya(N,g)<0)&&(d=!0)):!w&&N?(s.track({type:0,doc:N}),L=!0):w&&!N&&(s.track({type:1,doc:w}),L=!0,(p||g)&&(d=!0)),L&&(N?(h=h.add(N),l=q?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(N,M){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return q(N)-q(M)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new xo(this.query,e.wa,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new kT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new xw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Ow(s))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return xo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pg="SyncEngine";class T2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class S2{constructor(e){this.key=e,this.Ba=!1}}class w2{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new wa(d=>WS(d),yf),this.qa=new Map,this.Qa=new Set,this.$a=new dt(ve.comparator),this.Ka=new Map,this.Ua=new Sg,this.Wa={},this.Ga=new Map,this.za=Oo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function b2(i,e,t=!0){const s=Uw(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Mw(s,e,t,!0),o}async function A2(i,e){const t=Uw(i);await Mw(t,e,!0,!1)}async function Mw(i,e,t,s){const o=await Gx(i.localStore,Ci(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await R2(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Aw(i.remoteStore,o),d}async function R2(i,e,t,s,o){i.Ha=(T,w,N)=>async function(q,L,G,ee){let K=L.view.Sa(G);K.ls&&(K=await IT(q.localStore,L.query,!1).then(({documents:k})=>L.view.Sa(k,K)));const se=ee&&ee.targetChanges.get(L.targetId),X=ee&&ee.targetMismatches.get(L.targetId)!=null,re=L.view.applyChanges(K,q.isPrimaryClient,se,X);return UT(q,L.targetId,re.Ma),re.snapshot}(i,T,w,N);const l=await IT(i.localStore,e,!0),h=new E2(e,l.gs),d=h.Sa(l.documents),p=Pu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);UT(i,t,g.Ma);const E=new T2(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function C2(i,e,t){const s=Ce(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!yf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Rg(s.remoteStore,o.targetId),Mp(s,o.targetId)}).catch(Bo)):(Mp(s,o.targetId),await Np(s.localStore,o.targetId,!0))}async function I2(i,e){const t=Ce(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Rg(t.remoteStore,s.targetId))}async function D2(i,e,t){const s=P2(i);try{const o=await function(h,d){const p=Ce(h),g=Mt.now(),E=d.reduce((N,M)=>N.add(M.key),Le());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=Tr(),q=Le();return p.ds.getEntries(N,E).next(L=>{M=L,M.forEach((G,ee)=>{ee.isValidDocument()||(q=q.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,M)).next(L=>{T=L;const G=[];for(const ee of d){const K=qO(ee,T.get(ee.key).overlayedDocument);K!=null&&G.push(new Ms(ee.key,K,qS(K.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,G,d)}).next(L=>{w=L;const G=L.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(N,L.batchId,G)})}).then(()=>({batchId:w.batchId,changes:ew(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new dt(je)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Uu(s,o.changes),await bf(s.remoteStore)}catch(o){const l=Og(o,"Failed to persist write");t.reject(l)}}async function kw(i,e){const t=Ce(i);try{const s=await Hx(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Xe(h.Ba):o.removedDocuments.size>0&&(Xe(h.Ba),h.Ba=!1))}),await Uu(t,s,e)}catch(s){await Bo(s)}}function LT(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ce(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const w of T.ta)w.sa(d)&&(g=!0)}),g&&kg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function N2(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let h=new dt(ve.comparator);h=h.insert(l,rn.newNoDocument(l,Ae.min()));const d=Le().add(l),p=new Tf(Ae.min(),new Map,new dt(je),h,d);await kw(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),Lg(s)}else await Np(s.localStore,e,!1).then(()=>Mp(s,e,t)).catch(Bo)}async function O2(i,e){const t=Ce(i),s=e.batch.batchId;try{const o=await zx(t.localStore,e);Pw(t,s,null),Vw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(t,o)}catch(o){await Bo(o)}}async function x2(i,e,t){const s=Ce(i);try{const o=await function(h,d){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Xe(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Pw(s,e,t),Vw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Uu(s,o)}catch(o){await Bo(o)}}function Vw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Pw(i,e,t){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Mp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||Lw(i,s)})}function Lw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Rg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Lg(i))}function UT(i,e,t){for(const s of t)s instanceof Ow?(i.Ua.addReference(s.key,e),M2(i,s)):s instanceof xw?(he(Pg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Lw(i,s.key)):we()}function M2(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(Pg,"New document in limbo: "+t),i.Qa.add(s),Lg(i))}function Lg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ve(lt.fromString(e)),s=i.za.next();i.Ka.set(s,new S2(t)),i.$a=i.$a.insert(t,s),Aw(i.remoteStore,new vs(Ci(gf(t.path)),s,"TargetPurposeLimboResolution",ff.ae))}}async function Uu(i,e,t){const s=Ce(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=bg.Yi(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(g,w=>J.forEach(w.Hi,N=>E.persistence.referenceDelegate.addReference(T,w.targetId,N)).next(()=>J.forEach(w.Ji,N=>E.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))}catch(T){if(!zo(T))throw T;he(Ag,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const N=E.Ts.get(w),M=N.snapshotVersion,q=N.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(w,q)}}}(s.localStore,l))}async function k2(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){he(Pg,"User change. New user:",e.toKey());const s=await Tw(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ge(ie.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(t,s.Rs)}}function V2(i,e){const t=Ce(i),s=t.Ka.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function Uw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N2.bind(null,e),e.La.p_=v2.bind(null,e.eventManager),e.La.Ja=_2.bind(null,e.eventManager),e}function P2(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Bx(this.persistence,new Lx,e.initialUser,this.serializer)}Xa(e){return new Ew(wg.ri,this.serializer)}Za(e){return new Kx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class L2 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof Kh);const s=this.persistence.referenceDelegate.garbageCollector;return new Sx(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Ew(s=>Kh.ri(s,t),this.serializer)}}class kp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>LT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await p2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y2}()}createDatastore(e){const t=Sf(e.databaseInfo.databaseId),s=function(l){return new Zx(l)}(e.databaseInfo);return function(l,h,d,p){return new n2(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new r2(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>LT(this.syncEngine,t,0),function(){return OT.D()?new OT:new Qx}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,E){const T=new w2(o,l,h,d,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);he(Ta,"RemoteStore shutting down."),l.W_.add(5),await Lu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class U2{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=kS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{he(Ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(Ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Og(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Wm(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ds,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Tw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function jT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await j2(i);he(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>MT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>MT(e.remoteStore,o)),i._onlineComponents=e}async function j2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ds,"Using user provided OfflineComponentProvider");try{await Wm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),await Wm(i,new Yh)}}else he(Ds,"Using default OfflineComponentProvider"),await Wm(i,new L2(void 0));return i._offlineComponents}async function jw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ds,"Using user provided OnlineComponentProvider"),await jT(i,i._uninitializedComponentsProvider._online)):(he(Ds,"Using default OnlineComponentProvider"),await jT(i,new kp))),i._onlineComponents}function B2(i){return jw(i).then(e=>e.syncEngine)}async function Xh(i){const e=await jw(i),t=e.eventManager;return t.onListen=b2.bind(null,e.syncEngine),t.onUnlisten=C2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=A2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I2.bind(null,e.syncEngine),t}function z2(i,e,t={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new Ug({next:w=>{E.su(),h.enqueueAndForget(()=>Mg(l,T));const N=w.docs.has(d);!N&&w.fromCache?g.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Vg(gf(d.path),E,{includeMetadataChanges:!0,Ta:!0});return xg(l,T)}(await Xh(i),i.asyncQueue,e,t,s)),s.promise}function H2(i,e,t={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new Ug({next:w=>{E.su(),h.enqueueAndForget(()=>Mg(l,T)),w.fromCache&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Vg(d,E,{includeMetadataChanges:!0,Ta:!0});return xg(l,T)}(await Xh(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(i,e,t){if(!t)throw new ge(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function F2(i,e,t,s){if(e===!0&&s===!0)throw new ge(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function zT(i){if(!ve.isDocumentKey(i))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function HT(i){if(ve.isDocumentKey(i))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function En(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jg(i);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firestore.googleapis.com",FT=!0;class qT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hw,this.ssl=FT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:FT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_w;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ex)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YN;switch(s.type){case"firstParty":return new JN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=BT.get(t);s&&(he("ComponentProvider","Removing Datastore"),BT.delete(t),s.terminate())}(this),Promise.resolve()}}function q2(i,e,t,s={}){var o;const l=(i=En(i,Af))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Hw&&l.host!==d&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!ga(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=nn.MOCK_USER;else{g=U0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(T)}i._authCredentials=new XN(new MS(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class fn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Ss extends ju{constructor(e,t,s){super(e,t,gf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ve(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Vp(i,e,...t){if(i=Rt(i),zw("collection","path",e),i instanceof Af){const s=lt.fromString(e,...t);return HT(s),new Ss(i,null,s)}{if(!(i instanceof fn||i instanceof Ss))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return HT(s),new Ss(i.firestore,null,s)}}function Sr(i,e,...t){if(i=Rt(i),arguments.length===1&&(e=kS.newId()),zw("doc","path",e),i instanceof Af){const s=lt.fromString(e,...t);return zT(s),new fn(i,null,new ve(s))}{if(!(i instanceof fn||i instanceof Ss))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return zT(s),new fn(i.firestore,i instanceof Ss?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class $T{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ww(this,"async_queue_retry"),this.bu=()=>{const s=Xm();s&&he(GT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=Xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new mr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zo(e))throw e;he(GT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Er("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Ng.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function KT(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(i,["next","error","complete"])}class wr extends Af{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new $T,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function G2(i,e){const t=typeof i=="object"?i:tg(),s=typeof i=="string"?i:zh,o=lf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=V0("firestore");l&&q2(o,...l)}return o}function Rf(i){if(i._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$2(i),i._firestoreClient}function $2(i){var e,t,s;const o=i._freezeSettings(),l=function(d,p,g,E){return new dO(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Bw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new U2(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Xt.fromBase64String(e))}catch(t){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^__.*__$/;class Q2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class Fw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Hg{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qw(this.Lu)&&K2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Y2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sf(e)}ju(e,t,s,o=!1){return new Hg({Lu:e,methodName:t,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fg(i){const e=i._freezeSettings(),t=Sf(i._databaseId);return new Y2(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Gw(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);Gg("Data must be an object, but it was:",h,s);const d=$w(s,h);let p,g;if(l.merge)p=new Dn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const w=Pp(e,T,t);if(!h.contains(w))throw new ge(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Qw(E,w)||E.push(w)}p=new Dn(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new Q2(new _n(d),p,g)}class Df extends If{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}class qg extends If{_toFieldTransform(e){return new BO(e.path,new Tu)}isEqual(e){return e instanceof qg}}function X2(i,e,t,s){const o=i.ju(1,e,t);Gg("Data must be an object, but it was:",o,s);const l=[],h=_n.empty();xs(s,(p,g)=>{const E=$g(e,p,t);g=Rt(g);const T=o.Ku(E);if(g instanceof Df)l.push(E);else{const w=Nf(g,T);w!=null&&(l.push(E),h.set(E,w))}});const d=new Dn(l);return new Fw(h,d,o.fieldTransforms)}function W2(i,e,t,s,o,l){const h=i.ju(1,e,t),d=[Pp(e,s,t)],p=[o];if(l.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Pp(e,l[w])),p.push(l[w+1]);const g=[],E=_n.empty();for(let w=d.length-1;w>=0;--w)if(!Qw(g,d[w])){const N=d[w];let M=p[w];M=Rt(M);const q=h.Ku(N);if(M instanceof Df)g.push(N);else{const L=Nf(M,q);L!=null&&(g.push(N),E.set(N,L))}}const T=new Dn(g);return new Fw(E,T,h.fieldTransforms)}function Nf(i,e){if(Kw(i=Rt(i)))return Gg("Unsupported field value:",e,i),$w(i,e);if(i instanceof If)return function(s,o){if(!qw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Nf(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=Rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Mt.fromDate(s);return{timestampValue:$h(o.serializer,l)}}if(s instanceof Mt){const l=new Mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(o.serializer,l)}}if(s instanceof Bg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mo)return{bytesValue:fw(o.serializer,s._byteString)};if(s instanceof fn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zg)return function(h,d){return{mapValue:{fields:{[HS]:{stringValue:FS},[Hh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return yg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${jg(s)}`)}(i,e)}function $w(i,e){const t={};return PS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(i,(s,o)=>{const l=Nf(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Kw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Mt||i instanceof Bg||i instanceof Mo||i instanceof fn||i instanceof If||i instanceof zg)}function Gg(i,e,t){if(!Kw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=jg(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Pp(i,e,t){if((e=Rt(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return $g(i,e);throw Wh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Z2=new RegExp("[~\\*/\\[\\]]");function $g(i,e,t){if(e.search(Z2)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Cf(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Wh(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ge(ie.INVALID_ARGUMENT,d+i+p)}function Qw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class J2 extends Yw{data(){return super.data()}}function Xw(i,e){return typeof e=="string"?$g(i,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eM{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return xs(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Hh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Et(h.doubleValue));return new zg(l)}convertGeoPoint(e){return new Bg(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=As(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=lt.fromString(e);Xe(vw(s));const o=new _u(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return o.isEqual(t)||Er(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jw extends Yw{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Xw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Dh extends Jw{data(e={}){return super.data(e)}}class eb{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Dh(this._firestore,this._userDataWriter,s.key,s,new su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Dh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Dh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new su(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:tM(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(i){i=En(i,fn);const e=En(i.firestore,wr);return z2(Rf(e),i._key).then(t=>ib(e,i,t))}class Kg extends eM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function nM(i){i=En(i,ju);const e=En(i.firestore,wr),t=Rf(e),s=new Kg(e);return Ww(i._query),H2(t,i._query).then(o=>new eb(e,s,i,o))}function iM(i,e,t){i=En(i,fn);const s=En(i.firestore,wr),o=Zw(i.converter,e);return xf(s,[Gw(Fg(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Kn.none())])}function tb(i,e,t,...s){i=En(i,fn);const o=En(i.firestore,wr),l=Fg(o);let h;return h=typeof(e=Rt(e))=="string"||e instanceof Cf?W2(l,"updateDoc",i._key,e,t,s):X2(l,"updateDoc",i._key,e),xf(o,[h.toMutation(i._key,Kn.exists(!0))])}function rM(i){return xf(En(i.firestore,wr),[new vg(i._key,Kn.none())])}function nb(i,e){const t=En(i.firestore,wr),s=Sr(i),o=Zw(i.converter,e);return xf(t,[Gw(Fg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function sM(i,...e){var t,s,o;i=Rt(i);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||KT(e[h])||(l=e[h],h++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(KT(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(i instanceof fn)g=En(i.firestore,wr),E=gf(i._key.path),p={next:T=>{e[h]&&e[h](ib(g,i,T))},error:e[h+1],complete:e[h+2]};else{const T=En(i,ju);g=En(T.firestore,wr),E=T._query;const w=new Kg(g);p={next:N=>{e[h]&&e[h](new eb(g,w,T,N))},error:e[h+1],complete:e[h+2]},Ww(i._query)}return function(w,N,M,q){const L=new Ug(q),G=new Vg(N,L,M);return w.asyncQueue.enqueueAndForget(async()=>xg(await Xh(w),G)),()=>{L.su(),w.asyncQueue.enqueueAndForget(async()=>Mg(await Xh(w),G))}}(Rf(g),E,d,p)}function xf(i,e){return function(s,o){const l=new mr;return s.asyncQueue.enqueueAndForget(async()=>D2(await B2(s),o,l)),l.promise}(Rf(i),e)}function ib(i,e,t){const s=t.docs.get(e._key),o=new Kg(i);return new Jw(i,o,e._key,s,new su(t.hasPendingWrites,t.fromCache),e.converter)}function aM(){return new qg("serverTimestamp")}(function(e,t=!0){(function(o){jo=o})(Sa),ya(new ws("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new wr(new WN(s.getProvider("auth-internal")),new eO(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),bi(JE,eT,e),bi(JE,eT,"esm2017")})();var oM="firebase",lM="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(oM,lM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firebasestorage.googleapis.com",uM="storageBucket",cM=2*60*1e3,hM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Mi{constructor(e,t,s=0){super(Zm(e),`Firebase Storage: ${t} (${Zm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oi||(Oi={}));function Zm(i){return"storage/"+i}function fM(){const i="An unknown error occurred, please check the error payload for server response.";return new ki(Oi.UNKNOWN,i)}function dM(){return new ki(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mM(){return new ki(Oi.CANCELED,"User canceled the upload/download.")}function pM(i){return new ki(Oi.INVALID_URL,"Invalid URL '"+i+"'.")}function gM(i){return new ki(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function QT(i){return new ki(Oi.INVALID_ARGUMENT,i)}function sb(){return new ki(Oi.APP_DELETED,"The Firebase app was deleted.")}function yM(i){return new ki(Oi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ni.makeFromUrl(e,t)}catch{return new ni(e,"")}if(s.path==="")return s;throw gM(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),M={bucket:1,path:3},q=t===rb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",G=new RegExp(`^https?://${q}/${o}/${L}`,"i"),K=[{regex:d,indices:p,postModify:l},{regex:N,indices:M,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<K.length;se++){const X=K[se],re=X.regex.exec(e);if(re){const k=re[X.indices.bucket];let I=re[X.indices.path];I||(I=""),s=new ni(k,I),X.postModify(s);break}}if(s==null)throw pM(e);return s}}class vM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(i,e,t){let s=1,o=null,l=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,i(N,p())},L)}function w(){l&&clearTimeout(l)}function N(L,...G){if(g){w();return}if(L){w(),E.call(null,L,...G);return}if(p()||h){w(),E.call(null,L,...G);return}s<64&&(s*=2);let K;d===1?(d=2,K=0):K=(s+Math.random())*1e3,T(K)}let M=!1;function q(L){M||(M=!0,w(),!g&&(o!==null?(L||(d=2),clearTimeout(o),T(0)):L||(d=1)))}return T(0),l=setTimeout(()=>{h=!0,q(!0)},t),q}function EM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(i){return i!==void 0}function YT(i,e,t,s){if(s<e)throw QT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw QT(`Invalid value for '${i}'. Expected ${t} or less.`)}function SM(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Zh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Zh||(Zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,t,s,o,l,h,d,p,g,E,T,w=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,M)=>{this.resolve_=N,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ph(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===Zh.NO_ERROR,p=l.getStatus();if(!d||wM(p,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===Zh.ABORT;s(!1,new ph(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ph(g,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());TM(p)?l(p):l()}catch(p){h(p)}else if(d!==null){const p=fM();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?sb():mM();h(p)}else{const p=dM();h(p)}};this.canceled_?t(!1,new ph(!1,null,!0)):this.backoffId_=_M(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function AM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function RM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function IM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function DM(i,e,t,s,o,l,h=!0){const d=SM(i.urlParams),p=i.url+d,g=Object.assign({},i.headers);return CM(g,e),AM(g,t),RM(g,l),IM(g,s),new bM(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function OM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this._service=e,t instanceof ni?this._location=t:this._location=ni.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jh(e,t)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OM(this._location.path)}get storage(){return this._service}get parent(){const e=NM(this._location.path);if(e===null)return null;const t=new ni(this._location.bucket,e);return new Jh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw yM(e)}}function XT(i,e){const t=e==null?void 0:e[uM];return t==null?null:ni.makeFromBucketSpec(t,i)}function xM(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:U0(o,i.app.options.projectId))}class MM{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=rb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cM,this._maxUploadRetryTime=hM,this._requests=new Set,o!=null?this._bucket=ni.makeFromBucketSpec(o,this._host):this._bucket=XT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=XT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jh(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new vM(sb());{const h=DM(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const WT="@firebase/storage",ZT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="storage";function kM(i=tg(),e){i=Rt(i);const s=lf(i,ab).getImmediate({identifier:e}),o=V0("storage");return o&&VM(s,...o),s}function VM(i,e,t,s={}){xM(i,e,t,s)}function PM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new MM(t,s,o,e,Sa)}function LM(){ya(new ws(ab,PM,"PUBLIC").setMultipleInstances(!0)),bi(WT,ZT,""),bi(WT,ZT,"esm2017")}LM();const UM={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},Qg=z0(UM),fu=ku(Qg),ii=G2(Qg);kM(Qg);var Jm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var JT;function jM(){return JT||(JT=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var d in l)e.call(l,d)&&l[d]&&(h=o(h,d));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(Jm)),Jm.exports}var BM=jM();const Oe=rf(BM),zM=["xxl","xl","lg","md","sm","xs"],HM="xs",Bu=A.createContext({prefixes:{},breakpoints:zM,minBreakpoint:HM}),{Consumer:UV,Provider:jV}=Bu;function We(i,e){const{prefixes:t}=A.useContext(Bu);return i||t[e]||e}function FM(){const{breakpoints:i}=A.useContext(Bu);return i}function qM(){const{minBreakpoint:i}=A.useContext(Bu);return i}function GM(){const{dir:i}=A.useContext(Bu);return i==="rtl"}const ob=A.forwardRef(({bsPrefix:i,fluid:e=!1,as:t="div",className:s,...o},l)=>{const h=We(i,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return C.jsx(t,{ref:l,...o,className:Oe(s,e?`${h}${d}`:h)})});ob.displayName="Container";const $M=A.createContext(null);function Lp(){return Lp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Lp.apply(null,arguments)}function lb(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function e0(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function KM(i){var e=QM(i,"string");return typeof e=="symbol"?e:String(e)}function QM(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function YM(i,e,t){var s=A.useRef(i!==void 0),o=A.useState(e),l=o[0],h=o[1],d=i!==void 0,p=s.current;return s.current=d,!d&&p&&l!==e&&h(e),[d?i:l,A.useCallback(function(g){for(var E=arguments.length,T=new Array(E>1?E-1:0),w=1;w<E;w++)T[w-1]=arguments[w];t&&t.apply(void 0,[g].concat(T)),h(g)},[t])]}function XM(i,e){return Object.keys(e).reduce(function(t,s){var o,l=t,h=l[e0(s)],d=l[s],p=lb(l,[e0(s),s].map(KM)),g=e[s],E=YM(d,h,i[g]),T=E[0],w=E[1];return Lp({},p,(o={},o[s]=T,o[g]=w,o))},i)}function Up(i,e){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Up(i,e)}function WM(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Up(i,e)}const ub=A.forwardRef(({bsPrefix:i,className:e,as:t,...s},o)=>{i=We(i,"navbar-brand");const l=t||(s.href?"a":"span");return C.jsx(l,{...s,ref:o,className:Oe(e,i)})});ub.displayName="NavbarBrand";function Mf(i){return i&&i.ownerDocument||document}function ZM(i){var e=Mf(i);return e&&e.defaultView||window}function JM(i,e){return ZM(i).getComputedStyle(i,e)}var ek=/([A-Z])/g;function tk(i){return i.replace(ek,"-$1").toLowerCase()}var nk=/^ms-/;function gh(i){return tk(i).replace(nk,"-ms-")}var ik=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rk(i){return!!(i&&ik.test(i))}function pr(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(gh(e))||JM(i).getPropertyValue(gh(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(gh(o)):rk(o)?s+=o+"("+l+") ":t+=gh(o)+": "+l+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}var ep={exports:{}},tp,t0;function sk(){if(t0)return tp;t0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tp=i,tp}var np,n0;function ak(){if(n0)return np;n0=1;var i=sk();function e(){}function t(){}return t.resetWarningCache=e,np=function(){function s(h,d,p,g,E,T){if(T!==i){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},np}var i0;function ok(){return i0||(i0=1,ep.exports=ak()()),ep.exports}var lk=ok();const gr=rf(lk),r0={disabled:!1},cb=lr.createContext(null);var uk=function(e){return e.scrollTop},au="unmounted",ds="exited",ti="entering",or="entered",bu="exiting",Cr=function(i){WM(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?d?(p=ds,l.appearStatus=ti):p=or:s.unmountOnExit||s.mountOnEnter?p=au:p=ds,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===au?{status:ds}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==ti&&h!==or&&(l=ti):(h===ti||h===or)&&(l=bu)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,l,h,d;return l=h=d=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:d}},t.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===ti){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:To.findDOMNode(this);h&&uk(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ds&&this.setState({status:au})},t.performEnter=function(o){var l=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[To.findDOMNode(this),d],g=p[0],E=p[1],T=this.getTimeouts(),w=d?T.appear:T.enter;if(!o&&!h||r0.disabled){this.safeSetState({status:or},function(){l.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:ti},function(){l.props.onEntering(g,E),l.onTransitionEnd(w,function(){l.safeSetState({status:or},function(){l.props.onEntered(g,E)})})})},t.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:To.findDOMNode(this);if(!l||r0.disabled){this.safeSetState({status:ds},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:bu},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ds},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},t.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:To.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===au)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=lb(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lr.createElement(cb.Provider,{value:null},typeof h=="function"?h(o,d):lr.cloneElement(lr.Children.only(h),d))},e}(lr.Component);Cr.contextType=cb;Cr.propTypes={};function mo(){}Cr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mo,onEntering:mo,onEntered:mo,onExit:mo,onExiting:mo,onExited:mo};Cr.UNMOUNTED=au;Cr.EXITED=ds;Cr.ENTERING=ti;Cr.ENTERED=or;Cr.EXITING=bu;function ck(i){return i.code==="Escape"||i.keyCode===27}function hk(){const i=A.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Fo(i){if(!i||typeof i=="function")return null;const{major:e}=hk();return e>=19?i.props.ref:i.ref}const qo=!!(typeof window<"u"&&window.document&&window.document.createElement);var jp=!1,Bp=!1;try{var ip={get passive(){return jp=!0},get once(){return Bp=jp=!0}};qo&&(window.addEventListener("test",ip,ip),window.removeEventListener("test",ip,!0))}catch{}function hb(i,e,t,s){if(s&&typeof s!="boolean"&&!Bp){var o=s.once,l=s.capture,h=t;!Bp&&o&&(h=t.__once||function d(p){this.removeEventListener(e,d,l),t.call(this,p)},t.__once=h),i.addEventListener(e,h,jp?s:l)}i.addEventListener(e,t,s)}function zp(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}function ef(i,e,t,s){return hb(i,e,t,s),function(){zp(i,e,t,s)}}function fk(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function dk(i){var e=pr(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function mk(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||fk(i,"transitionend",!0)},e+t),l=ef(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function fb(i,e,t,s){t==null&&(t=dk(i)||0);var o=mk(i,t,s),l=ef(i,"transitionend",e);return function(){o(),l()}}function s0(i,e){const t=pr(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Yg(i,e){const t=s0(i,"transitionDuration"),s=s0(i,"transitionDelay"),o=fb(i,l=>{l.target===i&&(o(),e(l))},t+s)}function Jl(...i){return i.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...o){e.apply(this,o),t.apply(this,o)}},null)}function db(i){i.offsetHeight}const a0=i=>!i||typeof i=="function"?i:e=>{i.current=e};function pk(i,e){const t=a0(i),s=a0(e);return o=>{t&&t(o),s&&s(o)}}function mb(i,e){return A.useMemo(()=>pk(i,e),[i,e])}function gk(i){return i&&"setState"in i?To.findDOMNode(i):i??null}const Xg=lr.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:d,childRef:p,...g},E)=>{const T=A.useRef(null),w=mb(T,p),N=re=>{w(gk(re))},M=re=>k=>{re&&T.current&&re(T.current,k)},q=A.useCallback(M(i),[i]),L=A.useCallback(M(e),[e]),G=A.useCallback(M(t),[t]),ee=A.useCallback(M(s),[s]),K=A.useCallback(M(o),[o]),se=A.useCallback(M(l),[l]),X=A.useCallback(M(h),[h]);return C.jsx(Cr,{ref:E,...g,onEnter:q,onEntered:G,onEntering:L,onExit:ee,onExited:se,onExiting:K,addEndListener:X,nodeRef:T,children:typeof d=="function"?(re,k)=>d(re,{...k,ref:N}):lr.cloneElement(d,{ref:N})})}),yk={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function vk(i,e){const t=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=e[t],o=yk[i];return s+parseInt(pr(e,o[0]),10)+parseInt(pr(e,o[1]),10)}const _k={[ds]:"collapse",[bu]:"collapsing",[ti]:"collapsing",[or]:"collapse show"},Ek=lr.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,className:l,children:h,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:E=!1,unmountOnExit:T=!1,appear:w=!1,getDimensionValue:N=vk,...M},q)=>{const L=typeof d=="function"?d():d,G=A.useMemo(()=>Jl(re=>{re.style[L]="0"},i),[L,i]),ee=A.useMemo(()=>Jl(re=>{const k=`scroll${L[0].toUpperCase()}${L.slice(1)}`;re.style[L]=`${re[k]}px`},e),[L,e]),K=A.useMemo(()=>Jl(re=>{re.style[L]=null},t),[L,t]),se=A.useMemo(()=>Jl(re=>{re.style[L]=`${N(L,re)}px`,db(re)},s),[s,N,L]),X=A.useMemo(()=>Jl(re=>{re.style[L]=null},o),[L,o]);return C.jsx(Xg,{ref:q,addEndListener:Yg,...M,"aria-expanded":M.role?p:null,onEnter:G,onEntering:ee,onEntered:K,onExit:se,onExiting:X,childRef:Fo(h),in:p,timeout:g,mountOnEnter:E,unmountOnExit:T,appear:w,children:(re,k)=>lr.cloneElement(h,{...k,className:Oe(l,h.props.className,_k[re],L==="width"&&"collapse-horizontal")})})}),zu=A.createContext(null);zu.displayName="NavbarContext";const pb=A.forwardRef(({children:i,bsPrefix:e,...t},s)=>{e=We(e,"navbar-collapse");const o=A.useContext(zu);return C.jsx(Ek,{in:!!(o&&o.expanded),...t,children:C.jsx("div",{ref:s,className:e,children:i})})});pb.displayName="NavbarCollapse";function Tk(i){const e=A.useRef(i);return A.useEffect(()=>{e.current=i},[i]),e}function ko(i){const e=Tk(i);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const gb=A.forwardRef(({bsPrefix:i,className:e,children:t,label:s="Toggle navigation",as:o="button",onClick:l,...h},d)=>{i=We(i,"navbar-toggler");const{onToggle:p,expanded:g}=A.useContext(zu)||{},E=ko(T=>{l&&l(T),p&&p()});return o==="button"&&(h.type="button"),C.jsx(o,{...h,ref:d,onClick:E,"aria-label":s,className:Oe(e,i,!g&&"collapsed"),children:t||C.jsx("span",{className:`${i}-icon`})})});gb.displayName="NavbarToggle";const Sk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",wk=typeof document<"u",bk=wk||Sk?A.useLayoutEffect:A.useEffect,Hp=new WeakMap,o0=(i,e)=>{if(!i||!e)return;const t=Hp.get(e)||new Map;Hp.set(e,t);let s=t.get(i);return s||(s=e.matchMedia(i),s.refCount=0,t.set(s.media,s)),s};function Ak(i,e=typeof window>"u"?void 0:window){const t=o0(i,e),[s,o]=A.useState(()=>t?t.matches:!1);return bk(()=>{let l=o0(i,e);if(!l)return o(!1);let h=Hp.get(e);const d=()=>{o(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&(h==null||h.delete(l.media)),l=void 0}},[i]),s}function Rk(i){const e=Object.keys(i);function t(d,p){return d===p?p:d?`${d} and ${p}`:p}function s(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function o(d){const p=s(d);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=i[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(d,p,g){let E;typeof d=="object"?(E=d,g=p,p=!0):(p=p||!0,E={[d]:p});let T=A.useMemo(()=>Object.entries(E).reduce((w,[N,M])=>((M==="up"||M===!0)&&(w=t(w,l(N))),(M==="down"||M===!0)&&(w=t(w,o(N))),w),""),[JSON.stringify(E)]);return Ak(T,g)}return h}const Ck=Rk({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function rp(i){i===void 0&&(i=Mf());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function l0(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}function Ik(){const i=A.useRef(!0),e=A.useRef(()=>i.current);return A.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function Dk(i){const e=A.useRef(i);return e.current=i,e}function Nk(i){const e=Dk(i);A.useEffect(()=>()=>e.current(),[])}function Ok(i){const e=A.useRef(null);return A.useEffect(()=>{e.current=i}),e.current}function xk(i){const e=A.useRef(i);return A.useEffect(()=>{e.current=i},[i]),e}function ma(i){const e=xk(i);return A.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Mk="data-rr-ui-";function kk(i){return`${Mk}${i}`}function Vk(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const u0=kk("modal-open");class Wg{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Vk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(pr(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(u0,""),pr(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(u0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const yb=A.createContext(qo?window:void 0);yb.Provider;function Zg(){return A.useContext(yb)}const sp=(i,e)=>qo?i==null?(e||Mf()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function Pk(i,e){const t=Zg(),[s,o]=A.useState(()=>sp(i,t==null?void 0:t.document));if(!s){const l=sp(i);l&&o(l)}return A.useEffect(()=>{},[e,s]),A.useEffect(()=>{const l=sp(i);l!==s&&o(l)},[i,s]),s}const c0=i=>!i||typeof i=="function"?i:e=>{i.current=e};function Lk(i,e){const t=c0(i),s=c0(e);return o=>{t&&t(o),s&&s(o)}}function Jg(i,e){return A.useMemo(()=>Lk(i,e),[i,e])}const Uk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jk=typeof document<"u",h0=jk||Uk?A.useLayoutEffect:A.useEffect;function Bk({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const l=A.useRef(null),h=A.useRef(e),d=ma(t);A.useEffect(()=>{e?h.current=!0:d(l.current)},[e,d]);const p=Jg(l,Fo(i)),g=A.cloneElement(i,{ref:p});return e?g:o||!h.current&&s?null:g}const zk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Hk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Fk(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:d,children:p}=i,g=Hk(i,zk);const E=A.useRef(null),T=Jg(E,Fo(p)),w=se=>X=>{se&&E.current&&se(E.current,X)},N=A.useCallback(w(e),[e]),M=A.useCallback(w(t),[t]),q=A.useCallback(w(s),[s]),L=A.useCallback(w(o),[o]),G=A.useCallback(w(l),[l]),ee=A.useCallback(w(h),[h]),K=A.useCallback(w(d),[d]);return Object.assign({},g,{nodeRef:E},e&&{onEnter:N},t&&{onEntering:M},s&&{onEntered:q},o&&{onExit:L},l&&{onExiting:G},h&&{onExited:ee},d&&{addEndListener:K},{children:typeof p=="function"?(se,X)=>p(se,Object.assign({},X,{ref:T})):A.cloneElement(p,{ref:T})})}const qk=["component"];function Gk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const $k=A.forwardRef((i,e)=>{let{component:t}=i,s=Gk(i,qk);const o=Fk(s);return C.jsx(t,Object.assign({ref:e},o))});function Kk({in:i,onTransition:e}){const t=A.useRef(null),s=A.useRef(!0),o=ma(e);return h0(()=>{if(!t.current)return;let l=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),h0(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function Qk({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[l,h]=A.useState(!e);e&&l&&h(!1);const d=Kk({in:!!e,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),t==null||t(g.element)))};Promise.resolve(o(g)).then(E,T=>{throw g.in||h(!0),T})}}),p=Jg(d,Fo(i));return l&&!e?null:A.cloneElement(i,{ref:p})}function f0(i,e,t){return i?C.jsx($k,Object.assign({},t,{component:i})):e?C.jsx(Qk,Object.assign({},t,{transition:e})):C.jsx(Bk,Object.assign({},t))}const Yk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Xk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let ap;function Wk(i){return ap||(ap=new Wg({ownerDocument:i==null?void 0:i.document})),ap}function Zk(i){const e=Zg(),t=i||Wk(e),s=A.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:A.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:A.useCallback(o=>{s.current.backdrop=o},[])})}const vb=A.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:l,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:T,runTransition:w,backdropTransition:N,runBackdropTransition:M,autoFocus:q=!0,enforceFocus:L=!0,restoreFocus:G=!0,restoreFocusOptions:ee,renderDialog:K,renderBackdrop:se=qe=>C.jsx("div",Object.assign({},qe)),manager:X,container:re,onShow:k,onHide:I=()=>{},onExit:R,onExited:x,onExiting:P,onEnter:B,onEntering:O,onEntered:tt}=i,it=Xk(i,Yk);const ae=Zg(),pe=Pk(re),ce=Zk(X),Me=Ik(),V=Ok(t),[te,fe]=A.useState(!t),ue=A.useRef(null);A.useImperativeHandle(e,()=>ce,[ce]),qo&&!V&&t&&(ue.current=rp(ae==null?void 0:ae.document)),t&&te&&fe(!1);const oe=ma(()=>{if(ce.add(),Ve.current=ef(document,"keydown",ke),Ze.current=ef(document,"focus",()=>setTimeout(be),!0),k&&k(),q){var qe,dn;const Qn=rp((qe=(dn=ce.dialog)==null?void 0:dn.ownerDocument)!=null?qe:ae==null?void 0:ae.document);ce.dialog&&Qn&&!l0(ce.dialog,Qn)&&(ue.current=Qn,ce.dialog.focus())}}),_e=ma(()=>{if(ce.remove(),Ve.current==null||Ve.current(),Ze.current==null||Ze.current(),G){var qe;(qe=ue.current)==null||qe.focus==null||qe.focus(ee),ue.current=null}});A.useEffect(()=>{!t||!pe||oe()},[t,pe,oe]),A.useEffect(()=>{te&&_e()},[te,_e]),Nk(()=>{_e()});const be=ma(()=>{if(!L||!Me()||!ce.isTopModal())return;const qe=rp(ae==null?void 0:ae.document);ce.dialog&&qe&&!l0(ce.dialog,qe)&&ce.dialog.focus()}),at=ma(qe=>{qe.target===qe.currentTarget&&(g==null||g(qe),d===!0&&I())}),ke=ma(qe=>{p&&ck(qe)&&ce.isTopModal()&&(E==null||E(qe),qe.defaultPrevented||I())}),Ze=A.useRef(),Ve=A.useRef(),Tt=(...qe)=>{fe(!0),x==null||x(...qe)};if(!pe)return null;const Wt=Object.assign({role:s,ref:ce.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},it,{style:l,className:o,tabIndex:-1});let Vt=K?K(Wt):C.jsx("div",Object.assign({},Wt,{children:A.cloneElement(h,{role:"document"})}));Vt=f0(T,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:R,onExiting:P,onExited:Tt,onEnter:B,onEntering:O,onEntered:tt,children:Vt});let an=null;return d&&(an=se({ref:ce.setBackdropRef,onClick:at}),an=f0(N,M,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:an})),C.jsx(C.Fragment,{children:To.createPortal(C.jsxs(C.Fragment,{children:[an,Vt]}),pe)})});vb.displayName="Modal";const _b=Object.assign(vb,{Manager:Wg}),Jk={[ti]:"show",[or]:"show"},kf=A.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=A.useCallback((p,g)=>{db(p),s==null||s(p,g)},[s]);return C.jsx(Xg,{ref:l,addEndListener:Yg,...h,onEnter:d,childRef:Fo(e),children:(p,g)=>A.cloneElement(e,{...g,className:Oe("fade",i,e.props.className,Jk[p],t[p])})})});kf.displayName="Fade";const Eb=A.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=We(e,"offcanvas-body"),C.jsx(t,{ref:o,className:Oe(i,e),...s})));Eb.displayName="OffcanvasBody";const eV={[ti]:"show",[or]:"show"},Tb=A.forwardRef(({bsPrefix:i,className:e,children:t,in:s=!1,mountOnEnter:o=!1,unmountOnExit:l=!1,appear:h=!1,...d},p)=>(i=We(i,"offcanvas"),C.jsx(Xg,{ref:p,addEndListener:Yg,in:s,mountOnEnter:o,unmountOnExit:l,appear:h,...d,childRef:Fo(t),children:(g,E)=>A.cloneElement(t,{...E,className:Oe(e,t.props.className,(g===ti||g===bu)&&`${i}-toggling`,eV[g])})})));Tb.displayName="OffcanvasToggling";const ey=A.createContext({onHide(){}}),tV={"aria-label":gr.string,onClick:gr.func,variant:gr.oneOf(["white"])},ty=A.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>C.jsx("button",{ref:o,type:"button",className:Oe("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));ty.displayName="CloseButton";ty.propTypes=tV;const Sb=A.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...l},h)=>{const d=A.useContext(ey),p=ko(()=>{d==null||d.onHide(),s==null||s()});return C.jsxs("div",{ref:h,...l,children:[o,t&&C.jsx(ty,{"aria-label":i,variant:e,onClick:p})]})}),wb=A.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=We(i,"offcanvas-header"),C.jsx(Sb,{ref:l,...o,className:Oe(e,i),closeLabel:t,closeButton:s})));wb.displayName="OffcanvasHeader";const bb=i=>A.forwardRef((e,t)=>C.jsx("div",{...e,ref:t,className:Oe(e.className,i)})),nV=bb("h5"),Ab=A.forwardRef(({className:i,bsPrefix:e,as:t=nV,...s},o)=>(e=We(e,"offcanvas-title"),C.jsx(t,{ref:o,className:Oe(i,e),...s})));Ab.displayName="OffcanvasTitle";function iV(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function rV(i,e){i.classList?i.classList.add(e):iV(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}var sV=Function.prototype.bind.call(Function.prototype.call,[].slice);function po(i,e){return sV(i.querySelectorAll(e))}function d0(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function aV(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=d0(i.className,e):i.setAttribute("class",d0(i.className&&i.className.baseVal||"",e))}const go={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Rb extends Wg{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,pr(t,{[e]:`${parseFloat(pr(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],pr(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(rV(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";po(t,go.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),po(t,go.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),po(t,go.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();aV(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";po(t,go.FIXED_CONTENT).forEach(l=>this.restore(s,l)),po(t,go.STICKY_CONTENT).forEach(l=>this.restore(o,l)),po(t,go.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let op;function Cb(i){return op||(op=new Rb(i)),op}function oV(i){return C.jsx(Tb,{...i})}function lV(i){return C.jsx(kf,{...i})}const Ib=A.forwardRef(({bsPrefix:i,className:e,children:t,"aria-labelledby":s,placement:o="start",responsive:l,show:h=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:E,onShow:T,onHide:w,container:N,autoFocus:M=!0,enforceFocus:q=!0,restoreFocus:L=!0,restoreFocusOptions:G,onEntered:ee,onExit:K,onExiting:se,onEnter:X,onEntering:re,onExited:k,backdropClassName:I,manager:R,renderStaticNode:x=!1,...P},B)=>{const O=A.useRef();i=We(i,"offcanvas");const[tt,it]=A.useState(!1),ae=ko(w),pe=Ck(l||"xs","up");A.useEffect(()=>{it(l?h&&!pe:h)},[h,l,pe]);const ce=A.useMemo(()=>({onHide:ae}),[ae]);function Me(){return R||(g?(O.current||(O.current=new Rb({handleContainerOverflow:!1})),O.current):Cb())}const V=(oe,..._e)=>{oe&&(oe.style.visibility="visible"),X==null||X(oe,..._e)},te=(oe,..._e)=>{oe&&(oe.style.visibility=""),k==null||k(..._e)},fe=A.useCallback(oe=>C.jsx("div",{...oe,className:Oe(`${i}-backdrop`,I)}),[I,i]),ue=oe=>C.jsx("div",{...oe,...P,className:Oe(e,l?`${i}-${l}`:i,`${i}-${o}`),"aria-labelledby":s,children:t});return C.jsxs(C.Fragment,{children:[!tt&&(l||x)&&ue({}),C.jsx(ey.Provider,{value:ce,children:C.jsx(_b,{show:tt,ref:B,backdrop:d,container:N,keyboard:p,autoFocus:M,enforceFocus:q&&!g,restoreFocus:L,restoreFocusOptions:G,onEscapeKeyDown:E,onShow:T,onHide:ae,onEnter:V,onEntering:re,onEntered:ee,onExit:K,onExiting:se,onExited:te,manager:Me(),transition:oV,backdropTransition:lV,renderBackdrop:fe,renderDialog:ue})})]})});Ib.displayName="Offcanvas";const Fp=Object.assign(Ib,{Body:Eb,Header:wb,Title:Ab}),Db=A.forwardRef(({onHide:i,...e},t)=>{const s=A.useContext(zu),o=ko(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return C.jsx(Fp,{ref:t,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});Db.displayName="NavbarOffcanvas";const Nb=A.forwardRef(({className:i,bsPrefix:e,as:t="span",...s},o)=>(e=We(e,"navbar-text"),C.jsx(t,{ref:o,className:Oe(i,e),...s})));Nb.displayName="NavbarText";const Ob=A.forwardRef((i,e)=>{const{bsPrefix:t,expand:s=!0,variant:o="light",bg:l,fixed:h,sticky:d,className:p,as:g="nav",expanded:E,onToggle:T,onSelect:w,collapseOnSelect:N=!1,...M}=XM(i,{expanded:"onToggle"}),q=We(t,"navbar"),L=A.useCallback((...K)=>{w==null||w(...K),N&&E&&(T==null||T(!1))},[w,N,E,T]);M.role===void 0&&g!=="nav"&&(M.role="navigation");let G=`${q}-expand`;typeof s=="string"&&(G=`${G}-${s}`);const ee=A.useMemo(()=>({onToggle:()=>T==null?void 0:T(!E),bsPrefix:q,expanded:!!E,expand:s}),[q,E,s,T]);return C.jsx(zu.Provider,{value:ee,children:C.jsx($M.Provider,{value:L,children:C.jsx(g,{ref:e,...M,className:Oe(p,q,s&&G,o&&`${q}-${o}`,l&&`bg-${l}`,d&&`sticky-${d}`,h&&`fixed-${h}`)})})})});Ob.displayName="Navbar";const lp=Object.assign(Ob,{Brand:ub,Collapse:pb,Offcanvas:Db,Text:Nb,Toggle:gb}),m0="/cargofran/assets/logo-BpR6fMwr.png",uV=["as","disabled"];function cV(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function hV(i){return!i||i.trim()==="#"}function xb({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:h,tabIndex:d=0,type:p}){i||(t!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const E=w=>{if((e||i==="a"&&hV(t))&&w.preventDefault(),e){w.stopPropagation();return}h==null||h(w)},T=w=>{w.key===" "&&(w.preventDefault(),E(w))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:T},g]}const fV=A.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=cV(i,uV);const[l,{tagName:h}]=xb(Object.assign({tagName:t,disabled:s},o));return C.jsx(h,Object.assign({},o,l,{ref:e}))});fV.displayName="Button";const ar=A.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:h,...d},p)=>{const g=We(e,"btn"),[E,{tagName:T}]=xb({tagName:i,disabled:l,...d}),w=T;return C.jsx(w,{...E,...d,ref:p,disabled:l,className:Oe(h,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});ar.displayName="Button";function dV(i){const e=A.useRef(i);return e.current=i,e}function mV(i){const e=dV(i);A.useEffect(()=>()=>e.current(),[])}function pV(i,e){return A.Children.toArray(i).some(t=>A.isValidElement(t)&&t.type===e)}function gV({as:i,bsPrefix:e,className:t,...s}){e=We(e,"col");const o=FM(),l=qM(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,T,w;typeof g=="object"&&g!=null?{span:E,offset:T,order:w}=g:E=g;const N=p!==l?`-${p}`:"";E&&h.push(E===!0?`${e}${N}`:`${e}${N}-${E}`),w!=null&&d.push(`order${N}-${w}`),T!=null&&d.push(`offset${N}-${T}`)}),[{...s,className:Oe(t,...h,...d)},{as:i,bsPrefix:e,spans:h}]}const Mb=A.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:l,spans:h}]=gV(i);return C.jsx(o,{...s,ref:e,className:Oe(t,!h.length&&l)})});Mb.displayName="Col";const yV={type:gr.string,tooltip:gr.bool,as:gr.elementType},Vf=A.forwardRef(({as:i="div",className:e,type:t="valid",tooltip:s=!1,...o},l)=>C.jsx(i,{...o,ref:l,className:Oe(e,`${t}-${s?"tooltip":"feedback"}`)}));Vf.displayName="Feedback";Vf.propTypes=yV;const br=A.createContext({}),ny=A.forwardRef(({id:i,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...d},p)=>{const{controlId:g}=A.useContext(br);return e=We(e,"form-check-input"),C.jsx(h,{...d,ref:p,type:s,id:i||g,className:Oe(t,e,o&&"is-valid",l&&"is-invalid")})});ny.displayName="FormCheckInput";const tf=A.forwardRef(({bsPrefix:i,className:e,htmlFor:t,...s},o)=>{const{controlId:l}=A.useContext(br);return i=We(i,"form-check-label"),C.jsx("label",{...s,ref:o,htmlFor:t||l,className:Oe(e,i)})});tf.displayName="FormCheckLabel";const kb=A.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:T,style:w,title:N="",type:M="checkbox",label:q,children:L,as:G="input",...ee},K)=>{e=We(e,"form-check"),t=We(t,"form-switch");const{controlId:se}=A.useContext(br),X=A.useMemo(()=>({controlId:i||se}),[se,i]),re=!L&&q!=null&&q!==!1||pV(L,tf),k=C.jsx(ny,{...ee,type:M==="switch"?"checkbox":M,ref:K,isValid:h,isInvalid:d,disabled:l,as:G});return C.jsx(br.Provider,{value:X,children:C.jsx("div",{style:w,className:Oe(T,re&&e,s&&`${e}-inline`,o&&`${e}-reverse`,M==="switch"&&t),children:L||C.jsxs(C.Fragment,{children:[k,re&&C.jsx(tf,{title:N,children:q}),g&&C.jsx(Vf,{type:E,tooltip:p,children:g})]})})})});kb.displayName="FormCheck";const nf=Object.assign(kb,{Input:ny,Label:tf}),Vb=A.forwardRef(({bsPrefix:i,type:e,size:t,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:E="input",...T},w)=>{const{controlId:N}=A.useContext(br);return i=We(i,"form-control"),C.jsx(E,{...T,type:e,size:s,ref:w,readOnly:g,id:o||N,className:Oe(l,p?`${i}-plaintext`:i,t&&`${i}-${t}`,e==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});Vb.displayName="FormControl";const vV=Object.assign(Vb,{Feedback:Vf}),Pb=A.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=We(e,"form-floating"),C.jsx(t,{ref:o,className:Oe(i,e),...s})));Pb.displayName="FormFloating";const iy=A.forwardRef(({controlId:i,as:e="div",...t},s)=>{const o=A.useMemo(()=>({controlId:i}),[i]);return C.jsx(br.Provider,{value:o,children:C.jsx(e,{...t,ref:s})})});iy.displayName="FormGroup";const Lb=A.forwardRef(({as:i="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},d)=>{const{controlId:p}=A.useContext(br);e=We(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const E=Oe(o,e,s&&"visually-hidden",t&&g);return l=l||p,t?C.jsx(Mb,{ref:d,as:"label",className:E,htmlFor:l,...h}):C.jsx(i,{ref:d,className:E,htmlFor:l,...h})});Lb.displayName="FormLabel";const Ub=A.forwardRef(({bsPrefix:i,className:e,id:t,...s},o)=>{const{controlId:l}=A.useContext(br);return i=We(i,"form-range"),C.jsx("input",{...s,type:"range",ref:o,className:Oe(e,i),id:t||l})});Ub.displayName="FormRange";const jb=A.forwardRef(({bsPrefix:i,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...d},p)=>{const{controlId:g}=A.useContext(br);return i=We(i,"form-select"),C.jsx("select",{...d,size:t,ref:p,className:Oe(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:h||g})});jb.displayName="FormSelect";const Bb=A.forwardRef(({bsPrefix:i,className:e,as:t="small",muted:s,...o},l)=>(i=We(i,"form-text"),C.jsx(t,{...o,ref:l,className:Oe(e,i,s&&"text-muted")})));Bb.displayName="FormText";const zb=A.forwardRef((i,e)=>C.jsx(nf,{...i,ref:e,type:"switch"}));zb.displayName="Switch";const _V=Object.assign(zb,{Input:nf.Input,Label:nf.Label}),Hb=A.forwardRef(({bsPrefix:i,className:e,children:t,controlId:s,label:o,...l},h)=>(i=We(i,"form-floating"),C.jsxs(iy,{ref:h,className:Oe(e,i),controlId:s,...l,children:[t,C.jsx("label",{htmlFor:s,children:o})]})));Hb.displayName="FloatingLabel";const EV={_ref:gr.any,validated:gr.bool,as:gr.elementType},ry=A.forwardRef(({className:i,validated:e,as:t="form",...s},o)=>C.jsx(t,{...s,ref:o,className:Oe(i,e&&"was-validated")}));ry.displayName="Form";ry.propTypes=EV;const Ye=Object.assign(ry,{Group:iy,Control:vV,Floating:Pb,Check:nf,Switch:_V,Label:Lb,Text:Bb,Range:Ub,Select:jb,FloatingLabel:Hb});var yh;function p0(i){if((!yh&&yh!==0||i)&&qo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),yh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return yh}function TV(){return A.useState(null)}const Fb=A.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=We(e,"modal-body"),C.jsx(t,{ref:o,className:Oe(i,e),...s})));Fb.displayName="ModalBody";const sy=A.forwardRef(({bsPrefix:i,className:e,contentClassName:t,centered:s,size:o,fullscreen:l,children:h,scrollable:d,...p},g)=>{i=We(i,"modal");const E=`${i}-dialog`,T=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return C.jsx("div",{...p,ref:g,className:Oe(E,e,o&&`${i}-${o}`,s&&`${E}-centered`,d&&`${E}-scrollable`,l&&T),children:C.jsx("div",{className:Oe(`${i}-content`,t),children:h})})});sy.displayName="ModalDialog";const qb=A.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=We(e,"modal-footer"),C.jsx(t,{ref:o,className:Oe(i,e),...s})));qb.displayName="ModalFooter";const Gb=A.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=We(i,"modal-header"),C.jsx(Sb,{ref:l,...o,className:Oe(e,i),closeLabel:t,closeButton:s})));Gb.displayName="ModalHeader";const SV=bb("h4"),$b=A.forwardRef(({className:i,bsPrefix:e,as:t=SV,...s},o)=>(e=We(e,"modal-title"),C.jsx(t,{ref:o,className:Oe(i,e),...s})));$b.displayName="ModalTitle";function wV(i){return C.jsx(kf,{...i,timeout:null})}function bV(i){return C.jsx(kf,{...i,timeout:null})}const Kb=A.forwardRef(({bsPrefix:i,className:e,style:t,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=sy,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:T=!1,animation:w=!0,backdrop:N=!0,keyboard:M=!0,onEscapeKeyDown:q,onShow:L,onHide:G,container:ee,autoFocus:K=!0,enforceFocus:se=!0,restoreFocus:X=!0,restoreFocusOptions:re,onEntered:k,onExit:I,onExiting:R,onEnter:x,onEntering:P,onExited:B,backdropClassName:O,manager:tt,...it},ae)=>{const[pe,ce]=A.useState({}),[Me,V]=A.useState(!1),te=A.useRef(!1),fe=A.useRef(!1),ue=A.useRef(null),[oe,_e]=TV(),be=mb(ae,_e),at=ko(G),ke=GM();i=We(i,"modal");const Ze=A.useMemo(()=>({onHide:at}),[at]);function Ve(){return tt||Cb({isRTL:ke})}function Tt(Ee){if(!qo)return;const ot=Ve().getScrollbarWidth()>0,Nn=Ee.scrollHeight>Mf(Ee).documentElement.clientHeight;ce({paddingRight:ot&&!Nn?p0():void 0,paddingLeft:!ot&&Nn?p0():void 0})}const Wt=ko(()=>{oe&&Tt(oe.dialog)});mV(()=>{zp(window,"resize",Wt),ue.current==null||ue.current()});const Vt=()=>{te.current=!0},an=Ee=>{te.current&&oe&&Ee.target===oe.dialog&&(fe.current=!0),te.current=!1},qe=()=>{V(!0),ue.current=fb(oe.dialog,()=>{V(!1)})},dn=Ee=>{Ee.target===Ee.currentTarget&&qe()},Qn=Ee=>{if(N==="static"){dn(Ee);return}if(fe.current||Ee.target!==Ee.currentTarget){fe.current=!1;return}G==null||G()},Ir=Ee=>{M?q==null||q(Ee):(Ee.preventDefault(),N==="static"&&qe())},Dr=(Ee,ot)=>{Ee&&Tt(Ee),x==null||x(Ee,ot)},Vi=Ee=>{ue.current==null||ue.current(),I==null||I(Ee)},Nr=(Ee,ot)=>{P==null||P(Ee,ot),hb(window,"resize",Wt)},Go=Ee=>{Ee&&(Ee.style.display=""),B==null||B(Ee),zp(window,"resize",Wt)},ks=A.useCallback(Ee=>C.jsx("div",{...Ee,className:Oe(`${i}-backdrop`,O,!w&&"show")}),[w,O,i]),Ft={...t,...pe};Ft.display="block";const Aa=Ee=>C.jsx("div",{role:"dialog",...Ee,style:Ft,className:Oe(e,i,Me&&`${i}-static`,!w&&"show"),onClick:N?Qn:void 0,onMouseUp:an,"data-bs-theme":d,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:C.jsx(h,{...it,onMouseDown:Vt,className:s,contentClassName:o,children:l})});return C.jsx(ey.Provider,{value:Ze,children:C.jsx(_b,{show:T,ref:be,backdrop:N,container:ee,keyboard:!0,autoFocus:K,enforceFocus:se,restoreFocus:X,restoreFocusOptions:re,onEscapeKeyDown:Ir,onShow:L,onHide:G,onEnter:Dr,onEntering:Nr,onEntered:k,onExit:Vi,onExiting:R,onExited:Go,manager:Ve(),transition:w?wV:void 0,backdropTransition:w?bV:void 0,renderBackdrop:ks,renderDialog:Aa})})});Kb.displayName="Modal";const yn=Object.assign(Kb,{Body:Fb,Header:Gb,Title:$b,Footer:qb,Dialog:sy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function Qb(){const[i,e]=A.useState(!1),[t,s]=A.useState("login"),[o,l]=A.useState(""),[h,d]=A.useState(""),[p,g]=A.useState(""),[E,T]=A.useState("user"),[w,N]=A.useState(""),M=Qp(),q=()=>{e(!1),s("login")},L=()=>e(!0),G=async K=>{K.preventDefault(),N("");try{await VD(fu,vS);const X=(await kD(fu,o,h)).user,re=await Of(Sr(ii,"Users",X.uid));if(re.exists()){const k=re.data();console.log("User Role:",k.role),k.role==="admin"?M("/AdminDashboard"):k.role==="staff"?M("/StaffDashboard"):M("/UserDashboard")}else N("User role not found in database.");q()}catch(se){N(se.message)}},ee=async K=>{if(K.preventDefault(),N(""),h!==p){N("Passwords do not match");return}try{const X=(await pS(fu,o,h)).user;await iM(Sr(ii,"Users",X.uid),{email:o,uid:X.uid,role:E,createdAt:new Date}),M(E==="admin"?"/AdminDashboard":E==="staff"?"/StaffDashboard":"/UserDashboard"),q()}catch(se){N(se.message)}};return C.jsxs(C.Fragment,{children:[C.jsx("p",{onClick:L,children:"Log In / Sign Up"}),C.jsxs(yn,{show:i,onHide:q,centered:!0,children:[C.jsx(yn.Header,{closeButton:!0,children:C.jsxs(yn.Title,{children:[t==="login"&&"Log In",t==="signup"&&"Sign Up",t==="forgotPassword"&&"Reset Password"]})}),C.jsxs(yn.Body,{children:[w&&C.jsx("p",{className:"text-danger",children:w}),t==="login"&&C.jsxs(Ye,{onSubmit:G,children:[C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Email"}),C.jsx(Ye.Control,{type:"email",placeholder:"Enter email",value:o,onChange:K=>l(K.target.value)})]}),C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Password"}),C.jsx(Ye.Control,{type:"password",placeholder:"Password",value:h,onChange:K=>d(K.target.value)})]}),C.jsx(ar,{variant:"primary",type:"submit",className:"w-100",children:"Log In"}),C.jsxs("div",{className:"mt-3 text-center",children:[C.jsx("a",{href:"#",onClick:K=>{K.preventDefault(),s("forgotPassword")},children:"Forgot Password?"}),C.jsx("br",{}),C.jsx("a",{href:"#",onClick:K=>{K.preventDefault(),s("signup")},children:"First time creating an account? Sign up"})]})]}),t==="signup"&&C.jsxs(Ye,{onSubmit:ee,children:[C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Email"}),C.jsx(Ye.Control,{type:"email",placeholder:"Enter email",value:o,onChange:K=>l(K.target.value)})]}),C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Password"}),C.jsx(Ye.Control,{type:"password",placeholder:"Password",value:h,onChange:K=>d(K.target.value)})]}),C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Confirm Password"}),C.jsx(Ye.Control,{type:"password",placeholder:"Confirm Password",value:p,onChange:K=>g(K.target.value)})]}),C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Role"}),C.jsxs(Ye.Select,{value:E,onChange:K=>T(K.target.value),children:[C.jsx("option",{value:"user",children:"User"}),C.jsx("option",{value:"staff",children:"Staff"}),C.jsx("option",{value:"admin",children:"Admin"})]})]}),C.jsx(ar,{variant:"primary",type:"submit",className:"w-100",children:"Sign Up"}),C.jsx("div",{className:"mt-3 text-center",children:C.jsx("a",{href:"#",onClick:K=>{K.preventDefault(),s("login")},children:"Already have an account? Log In"})})]})]})]})]})}function Yb({show:i,onHide:e}){const[t,s]=A.useState([]),[o,l]=A.useState(""),[h,d]=A.useState(!1),[p,g]=A.useState(""),[E,T]=A.useState(""),[w,N]=A.useState("user"),[M,q]=A.useState({}),L=Vp(ii,"Users"),G=ku();A.useEffect(()=>{(async()=>{const k=(await nM(L)).docs.map(I=>({id:I.id,...I.data()}));s(k)})()},[]),A.useEffect(()=>{const X=setInterval(()=>{q(re=>{const k={...re};return Object.keys(k).forEach(I=>{k[I]>0?k[I]-=1:delete k[I]}),k})},1e3);return()=>clearInterval(X)},[]);const ee=async(X,re)=>{const k=re==="staff"?"user":"staff";await tb(Sr(ii,"Users",X),{role:k}),s(I=>I.map(R=>R.id===X?{...R,role:k}:R))},K=async X=>{if(M[X]){alert("Please wait before sending another reset email.");return}try{await MD(G,X),alert(`Password reset email sent to ${X}`),q(re=>({...re,[X]:60}))}catch(re){console.error("Error sending reset email:",re.message),alert("Failed to send reset email. Please try again.")}},se=async()=>{if(!p||!E){alert("Please enter an email and password.");return}if(E.length<6){alert("Password must be at least 6 characters long.");return}try{const re=(await pS(G,p,E)).user.uid;await nb(L,{email:p,role:w,uid:re}),s([...t,{id:re,email:p,role:w}]),alert("User added successfully!"),d(!1),g(""),T(""),N("user")}catch(X){console.error("Error adding user:",X.message),alert("Failed to add user. The email might already be in use or invalid.")}};return C.jsxs(C.Fragment,{children:[C.jsxs(yn,{show:i,onHide:e,centered:!0,size:"xl",children:[C.jsx(yn.Header,{closeButton:!0,children:C.jsx(yn.Title,{children:"Manage Users"})}),C.jsxs(yn.Body,{children:[C.jsx(Ye.Control,{type:"text",placeholder:"Search by email...",value:o,onChange:X=>l(X.target.value),className:"mb-3"}),C.jsxs("table",{className:"table",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Email"}),C.jsx("th",{children:"Role"}),C.jsx("th",{children:"Action"}),C.jsx("th",{children:"Reset Password"})]})}),C.jsx("tbody",{children:t.filter(X=>X.email.toLowerCase().includes(o.toLowerCase())).map(X=>C.jsxs("tr",{children:[C.jsx("td",{children:X.email}),C.jsx("td",{children:X.role}),C.jsx("td",{children:X.role==="admin"?C.jsx(ar,{variant:"secondary",disabled:!0,className:"w-100",children:"Admin"}):C.jsxs(ar,{variant:X.role==="staff"?"danger":"success",onClick:()=>ee(X.id,X.role),className:"w-100",children:["Change to ",X.role==="staff"?"User":"Staff"]})}),C.jsx("td",{children:C.jsx(ar,{variant:"warning",onClick:()=>K(X.email),disabled:!!M[X.email],className:"w-100",children:M[X.email]?`Wait (${M[X.email]}s)`:"Send Reset Email"})})]},X.id))})]})]}),C.jsx(yn.Footer,{className:"d-flex justify-content-end",children:C.jsx(ar,{variant:"primary",onClick:()=>d(!0),children:"+ Add New User"})})]}),C.jsxs(yn,{show:h,onHide:()=>d(!1),centered:!0,children:[C.jsx(yn.Header,{closeButton:!0,children:C.jsx(yn.Title,{children:"Add New User"})}),C.jsxs(yn.Body,{children:[C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Email"}),C.jsx(Ye.Control,{type:"email",placeholder:"Enter email",value:p,onChange:X=>g(X.target.value)})]}),C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Password"}),C.jsx(Ye.Control,{type:"password",placeholder:"Enter password",value:E,onChange:X=>T(X.target.value)})]}),C.jsxs(Ye.Group,{className:"mb-3",children:[C.jsx(Ye.Label,{children:"Role"}),C.jsxs(Ye.Select,{value:w,onChange:X=>N(X.target.value),children:[C.jsx("option",{value:"user",children:"User"}),C.jsx("option",{value:"staff",children:"Staff"})]})]})]}),C.jsxs(yn.Footer,{children:[C.jsx(ar,{variant:"secondary",onClick:()=>d(!1),children:"Close"}),C.jsx(ar,{variant:"success",onClick:se,children:"Add User"})]})]})]})}function AV(){const[i,e]=A.useState(!1),[t,s]=A.useState(!1),[o,l]=A.useState(null),[h,d]=A.useState(null),[p,g]=A.useState(!0),E=ku();A.useEffect(()=>{const N=xu(E,async M=>{if(M){const q=await Of(Sr(ii,"Users",M.uid));q.exists()&&d(q.data().role)}else d(null);l(M),g(!1)});return()=>N()},[]);const T=async()=>{await UD(E),l(null),d(null)};if(p)return null;const w=h==="admin"?"/AdminDashboard":h==="staff"?"/StaffDashboard":"/";return C.jsx(lp,{expand:"md",className:"custom-navbar",children:C.jsxs(ob,{children:[C.jsxs("div",{className:"nav-top",children:[C.jsx("div",{className:"logo-container",children:C.jsx(Oh,{to:w,children:C.jsx("img",{src:m0,alt:"CargoFran",className:"logo"})})}),C.jsx(lp.Toggle,{"aria-controls":"offcanvasNavbar",className:"hamburger"})]}),C.jsxs(lp.Offcanvas,{id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"end",className:"offcanvas-fullscreen",children:[C.jsx(Fp.Header,{className:"offcanvas-header-custom",children:C.jsx("div",{className:"offcanvas-logo",children:C.jsx(Oh,{to:w,className:"logo-link",children:C.jsx("img",{src:m0,alt:"CargoFran",className:"logo-offcanvas"})})})}),C.jsx(Fp.Body,{children:C.jsxs("div",{className:"page-links",children:[h!=="admin"&&h!=="staff"&&C.jsxs(C.Fragment,{children:[C.jsx(fa,{to:"/AirCargoTracking",className:"nav-item",children:C.jsx("p",{children:"Track Package"})}),C.jsx(fa,{to:"/About",className:"nav-item",children:C.jsx("p",{children:"About"})}),C.jsx(fa,{to:"/Contact",className:"nav-item",children:C.jsx("p",{children:"Contact"})}),C.jsx(fa,{to:"/Services",className:"nav-item",children:C.jsx("p",{children:"Services"})})]}),h==="admin"&&C.jsxs(C.Fragment,{children:[C.jsx(fa,{to:"/AdminDashboard",className:"nav-item",children:C.jsx("p",{children:"Manage Package"})}),C.jsx("div",{className:"nav-item",children:C.jsx("p",{onClick:()=>s(!0),children:"Manage Users"})})]}),h==="staff"&&C.jsx(fa,{to:"/StaffDashboard",className:"nav-item",children:C.jsx("p",{children:"Staff"})}),o?C.jsx("div",{className:"nav-item nav-itemlogin loginmargin",onClick:T,children:C.jsx("p",{children:"Logout"})}):C.jsx("div",{className:"nav-item nav-itemlogin loginmargin",onClick:()=>e(!0),children:C.jsx(Qb,{show:i,onHide:()=>e(!1)})}),C.jsx(Yb,{show:t,onHide:()=>s(!1)})]})})]})]})})}function RV(){const[i,e]=A.useState([]),[t,s]=A.useState({driver:"",status:"",trackingNumber:""}),[o,l]=A.useState(1);A.useEffect(()=>{const g=sM(Vp(ii,"DeliverTrack"),E=>{const T=E.docs.map(w=>({id:w.id,...w.data()}));if(e(T),T.length>0){const w=Math.max(...T.map(N=>N.autoIncrementId||0));l(w+1)}});return()=>g()},[]);const h=async()=>{t.driver&&t.status&&t.trackingNumber&&(await nb(Vp(ii,"DeliverTrack"),{driver:t.driver,status:t.status,trackingNumber:t.trackingNumber,autoIncrementId:o,timestamp:aM()}),s({driver:"",status:"",trackingNumber:""}),l(o+1))},d=async g=>{const E=prompt("Enter new status:");if(E){const T=Sr(ii,"DeliverTrack",g);await tb(T,{status:E})}},p=async g=>{const E=Sr(ii,"DeliverTrack",g);await rM(E)};return C.jsxs("div",{className:"p-4",children:[C.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Tracking System"}),C.jsxs("div",{className:"mb-4",children:[C.jsx("input",{type:"text",placeholder:"Driver Name",value:t.driver,onChange:g=>s({...t,driver:g.target.value}),className:"border p-2 mr-2"}),C.jsx("input",{type:"text",placeholder:"Status",value:t.status,onChange:g=>s({...t,status:g.target.value}),className:"border p-2 mr-2"}),C.jsx("input",{type:"text",placeholder:"Tracking Number",value:t.trackingNumber,onChange:g=>s({...t,trackingNumber:g.target.value}),className:"border p-2 mr-2"}),C.jsx("button",{onClick:h,className:"bg-blue-500 text-white p-2",children:"Add Delivery"})]}),C.jsx("ul",{children:i.map(g=>{var E;return C.jsxs("li",{className:"border-b p-2 flex justify-between",children:[C.jsxs("div",{children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Driver:"})," ",g.driver]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Status:"})," ",g.status]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Tracking #:"})," ",g.trackingNumber]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Package ID:"})," ",g.autoIncrementId]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Timestamp:"})," ",(E=g.timestamp)==null?void 0:E.toDate().toString()]})]}),C.jsxs("div",{children:[C.jsx("button",{onClick:()=>d(g.id),className:"text-yellow-500 mr-2",children:"Update"}),C.jsx("button",{onClick:()=>p(g.id),className:"text-red-500",children:"Delete"})]})]},g.id)})})]})}const CV=()=>C.jsx("div",{children:C.jsx("h1",{children:"aaa"})});function IV(){const[i,e]=A.useState(null),t=ku();return A.useEffect(()=>{const s=xu(t,o=>{e(o)});return()=>s()},[]),C.jsx("div",{children:C.jsxs("h1",{children:["Welcome ",i?i.email:"Guest"]})})}function DV(){const[i,e]=A.useState(null),t=ku();return A.useEffect(()=>{const s=xu(t,o=>{e(o)});return()=>s()},[]),C.jsx("div",{children:C.jsxs("h1",{children:["Welcome ",i?i.email:"Guest"]})})}const NV=()=>{const[i,e]=A.useState(""),t=s=>{if(s.preventDefault(),!i)return;const o=`https://www.track-trace.com/aircargo?awb=${i}`;window.location.href=o};return C.jsxs("div",{className:"p-5 border rounded-lg shadow-md max-w-lg mx-auto",children:[C.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Track Your Air Cargo Shipment"}),C.jsxs("form",{onSubmit:t,className:"flex flex-col space-y-3",children:[C.jsx("label",{htmlFor:"awb",className:"text-sm font-medium",children:"Enter Air Waybill (AWB):"}),C.jsx("input",{type:"text",id:"awb",value:i,onChange:s=>e(s.target.value),placeholder:"Example: 123-45678901",required:!0,className:"border p-2 rounded w-full"}),C.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:"Track"})]})]})},OV=()=>C.jsx("div",{children:C.jsx("h1",{children:"This is Staff"})}),xV=()=>C.jsx("div",{children:C.jsx("h1",{children:"UNAUTHORIZED ACCESS"})}),up=({children:i,requiredRole:e})=>{const[t,s]=A.useState(!0),[o,l]=A.useState(!1);return A.useEffect(()=>{const h=xu(fu,async d=>{if(d){const p=await Of(Sr(ii,"Users",d.uid));p.exists()&&p.data().role===e&&l(!0)}s(!1)});return()=>h()},[e]),t?C.jsx("p",{}):o?i:C.jsx(yC,{to:"/unauthorized"})},MV=()=>C.jsxs(C.Fragment,{children:[C.jsx(AV,{}),C.jsxs(_C,{children:[C.jsx(gn,{path:"/",element:C.jsx(ZC,{})}),C.jsx(gn,{path:"/About",element:C.jsx(JC,{})}),C.jsx(gn,{path:"/Services",element:C.jsx(eI,{})}),C.jsx(gn,{path:"/Contact",element:C.jsx(tI,{})}),C.jsx(gn,{path:"/Login",element:C.jsx(Qb,{})}),C.jsx(gn,{path:"/FirebaseTest",element:C.jsx(RV,{})}),C.jsx(gn,{path:"/TrackPackage",element:C.jsx(CV,{})}),C.jsx(gn,{path:"/AirCargoTracking",element:C.jsx(NV,{})}),C.jsx(gn,{path:"/UserDashboard",element:C.jsx(DV,{})}),C.jsx(gn,{path:"/AdminDashboard",element:C.jsx(up,{requiredRole:"admin",children:C.jsx(IV,{})})}),C.jsx(gn,{path:"/ManageUsers",element:C.jsx(up,{requiredRole:"admin",children:C.jsx(Yb,{})})}),C.jsx(gn,{path:"/StaffDashboard",element:C.jsx(up,{requiredRole:"staff",children:C.jsx(OV,{})})}),C.jsx(gn,{path:"/unauthorized",element:C.jsx(xV,{})})]})]}),kV=A.createContext(),VV=({children:i})=>{const[e,t]=A.useState(null),[s,o]=A.useState(!0);return A.useEffect(()=>{const l=xu(fu,async h=>{if(h){const d=await Of(Sr(ii,"Users",h.uid));d.exists()?t({...h,role:d.data().role}):t(h)}else t(null);o(!1)});return()=>l()},[]),C.jsx(kV.Provider,{value:{user:e,loading:s},children:i})};IR.createRoot(document.getElementById("root")).render(C.jsxs(VV,{children:[" ",C.jsx(HC,{basename:"/cargofran",children:C.jsx(MV,{})})]}));
