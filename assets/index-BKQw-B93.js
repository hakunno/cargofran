(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Yh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function qA(){if(Z_)return Ql;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var J_;function GA(){return J_||(J_=1,Cm.exports=qA()),Cm.exports}var A=GA(),Im={exports:{}},Yl={},Nm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function $A(){return eE||(eE=1,function(r){function e(ee,ce){var ue=ee.length;ee.push(ce);e:for(;0<ue;){var Be=ue-1>>>1,V=ee[Be];if(0<o(V,ce))ee[Be]=ce,ee[ue]=V,ue=Be;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ce=ee[0],ue=ee.pop();if(ue!==ce){ee[0]=ue;e:for(var Be=0,V=ee.length,te=V>>>1;Be<te;){var de=2*(Be+1)-1,oe=ee[de],le=de+1,Se=ee[le];if(0>o(oe,ue))le<V&&0>o(Se,oe)?(ee[Be]=Se,ee[le]=ue,Be=le):(ee[Be]=oe,ee[de]=ue,Be=de);else if(le<V&&0>o(Se,ue))ee[Be]=Se,ee[le]=ue,Be=le;else break e}}return ce}function o(ee,ce){var ue=ee.sortIndex-ce.sortIndex;return ue!==0?ue:ee.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,b=null,S=3,x=!1,k=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(ee){for(var ce=t(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=ee)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function se(ee){if(q=!1,X(ee),!k)if(t(p)!==null)k=!0,Ae();else{var ce=t(g);ce!==null&&_e(se,ce.startTime-ee)}}var ae=!1,fe=-1,M=5,C=-1;function R(){return!(r.unstable_now()-C<M)}function O(){if(ae){var ee=r.unstable_now();C=ee;var ce=!0;try{e:{k=!1,q&&(q=!1,$(fe),fe=-1),x=!0;var ue=S;try{t:{for(X(ee),b=t(p);b!==null&&!(b.expirationTime>ee&&R());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,S=b.priorityLevel;var V=Be(b.expirationTime<=ee);if(ee=r.unstable_now(),typeof V=="function"){b.callback=V,X(ee),ce=!0;break t}b===t(p)&&s(p),X(ee)}else s(p);b=t(p)}if(b!==null)ce=!0;else{var te=t(g);te!==null&&_e(se,te.startTime-ee),ce=!1}}break e}finally{b=null,S=ue,x=!1}ce=void 0}}finally{ce?P():ae=!1}}}var P;if(typeof J=="function")P=function(){J(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,I=j.port2;j.port1.onmessage=O,P=function(){I.postMessage(null)}}else P=function(){z(O,0)};function Ae(){ae||(ae=!0,P())}function _e(ee,ce){fe=z(function(){ee(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){k||x||(k=!0,Ae())},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var ue=S;S=ce;try{return ee()}finally{S=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=S;S=ee;try{return ce()}finally{S=ue}},r.unstable_scheduleCallback=function(ee,ce,ue){var Be=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Be+ue:Be):ue=Be,ee){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ue+V,ee={id:E++,callback:ce,priorityLevel:ee,startTime:ue,expirationTime:V,sortIndex:-1},ue>Be?(ee.sortIndex=ue,e(g,ee),t(p)===null&&ee===t(g)&&(q?($(fe),fe=-1):q=!0,_e(se,ue-Be))):(ee.sortIndex=V,e(p,ee),k||x||(k=!0,Ae())),ee},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(ee){var ce=S;return function(){var ue=S;S=ce;try{return ee.apply(this,arguments)}finally{S=ue}}}}(Dm)),Dm}var tE;function KA(){return tE||(tE=1,Nm.exports=$A()),Nm.exports}var xm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function QA(){if(nE)return De;nE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,q={};function z(V,te,de){this.props=V,this.context=te,this.refs=q,this.updater=de||x}z.prototype.isReactComponent={},z.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=z.prototype;function J(V,te,de){this.props=V,this.context=te,this.refs=q,this.updater=de||x}var X=J.prototype=new $;X.constructor=J,k(X,z.prototype),X.isPureReactComponent=!0;var se=Array.isArray,ae={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function M(V,te,de,oe,le,Se){return de=Se.ref,{$$typeof:r,type:V,key:te,ref:de!==void 0?de:null,props:Se}}function C(V,te){return M(V.type,te,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function O(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return te[de]})}var P=/\/+/g;function j(V,te){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):te.toString(36)}function I(){}function Ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function _e(V,te,de,oe,le){var Se=typeof V;(Se==="undefined"||Se==="boolean")&&(V=null);var Re=!1;if(V===null)Re=!0;else switch(Se){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(V.$$typeof){case r:case e:Re=!0;break;case E:return Re=V._init,_e(Re(V._payload),te,de,oe,le)}}if(Re)return le=le(V),Re=oe===""?"."+j(V,0):oe,se(le)?(de="",Re!=null&&(de=Re.replace(P,"$&/")+"/"),_e(le,te,de,"",function(Ze){return Ze})):le!=null&&(R(le)&&(le=C(le,de+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(P,"$&/")+"/")+Re)),te.push(le)),1;Re=0;var st=oe===""?".":oe+":";if(se(V))for(var Ve=0;Ve<V.length;Ve++)oe=V[Ve],Se=st+j(oe,Ve),Re+=_e(oe,te,de,Se,le);else if(Ve=S(V),typeof Ve=="function")for(V=Ve.call(V),Ve=0;!(oe=V.next()).done;)oe=oe.value,Se=st+j(oe,Ve++),Re+=_e(oe,te,de,Se,le);else if(Se==="object"){if(typeof V.then=="function")return _e(Ae(V),te,de,oe,le);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ee(V,te,de){if(V==null)return V;var oe=[],le=0;return _e(V,oe,"","",function(Se){return te.call(de,Se,le++)}),oe}function ce(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Be(){}return De.Children={map:ee,forEach:function(V,te,de){ee(V,function(){te.apply(this,arguments)},de)},count:function(V){var te=0;return ee(V,function(){te++}),te},toArray:function(V){return ee(V,function(te){return te})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},De.Component=z,De.Fragment=t,De.Profiler=o,De.PureComponent=J,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(V){return function(){return V.apply(null,arguments)}},De.cloneElement=function(V,te,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=k({},V.props),le=V.key,Se=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Se=void 0),te.key!==void 0&&(le=""+te.key),te)!fe.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(oe[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)oe.children=de;else if(1<Re){for(var st=Array(Re),Ve=0;Ve<Re;Ve++)st[Ve]=arguments[Ve+2];oe.children=st}return M(V.type,le,void 0,void 0,Se,oe)},De.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},De.createElement=function(V,te,de){var oe,le={},Se=null;if(te!=null)for(oe in te.key!==void 0&&(Se=""+te.key),te)fe.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=te[oe]);var Re=arguments.length-2;if(Re===1)le.children=de;else if(1<Re){for(var st=Array(Re),Ve=0;Ve<Re;Ve++)st[Ve]=arguments[Ve+2];le.children=st}if(V&&V.defaultProps)for(oe in Re=V.defaultProps,Re)le[oe]===void 0&&(le[oe]=Re[oe]);return M(V,Se,void 0,void 0,null,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:d,render:V}},De.isValidElement=R,De.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ce}},De.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},De.startTransition=function(V){var te=ae.T,de={};ae.T=de;try{var oe=V(),le=ae.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Be,ue)}catch(Se){ue(Se)}finally{ae.T=te}},De.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},De.use=function(V){return ae.H.use(V)},De.useActionState=function(V,te,de){return ae.H.useActionState(V,te,de)},De.useCallback=function(V,te){return ae.H.useCallback(V,te)},De.useContext=function(V){return ae.H.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V,te){return ae.H.useDeferredValue(V,te)},De.useEffect=function(V,te){return ae.H.useEffect(V,te)},De.useId=function(){return ae.H.useId()},De.useImperativeHandle=function(V,te,de){return ae.H.useImperativeHandle(V,te,de)},De.useInsertionEffect=function(V,te){return ae.H.useInsertionEffect(V,te)},De.useLayoutEffect=function(V,te){return ae.H.useLayoutEffect(V,te)},De.useMemo=function(V,te){return ae.H.useMemo(V,te)},De.useOptimistic=function(V,te){return ae.H.useOptimistic(V,te)},De.useReducer=function(V,te,de){return ae.H.useReducer(V,te,de)},De.useRef=function(V){return ae.H.useRef(V)},De.useState=function(V){return ae.H.useState(V)},De.useSyncExternalStore=function(V,te,de){return ae.H.useSyncExternalStore(V,te,de)},De.useTransition=function(){return ae.H.useTransition()},De.version="19.0.0",De}var rE;function Lp(){return rE||(rE=1,xm.exports=QA()),xm.exports}var Om={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function YA(){if(iE)return en;iE=1;var r=Lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},en.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.0.0",en}var sE;function s0(){if(sE)return Om.exports;sE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=YA(),Om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function XA(){if(aE)return Yl;aE=1;var r=KA(),e=Lp(),t=s0();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),se=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case q:return"Suspense";case z:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case k:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return i=n.displayName||null,i!==null?i:C(n.type)||"Memo";case J:i=n._payload,n=n._init;try{return C(n(i))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,P,j;function I(n){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+j}var Ae=!1;function _e(n,i){if(!n||Ae)return"";Ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var G=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){G=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var D=_.split(`
`),U=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===U.length)for(l=D.length-1,f=U.length-1;1<=l&&0<=f&&D[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==U[f]){var Y=`
`+D[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function ee(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=_e(n.type,!1),n;case 11:return n=_e(n.type.render,!1),n;case 1:return n=_e(n.type,!0),n;default:return""}}function ce(n){try{var i="";do i+=ee(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ue(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Be(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function V(n){if(ue(n)!==n)throw Error(s(188))}function te(n){var i=n.alternate;if(!i){if(i=ue(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===l)return V(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=m;break}if(T===l){_=!0,l=f,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,l=f;break}if(T===l){_=!0,l=m,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function de(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=de(n),i!==null)return i;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Re=[],st=-1;function Ve(n){return{current:n}}function Ze(n){0>st||(n.current=Re[st],Re[st]=null,st--)}function Pe(n,i){st++,Re[st]=n.current,n.current=i}var Et=Ve(null),Wt=Ve(null),Vt=Ve(null),on=Ve(null);function $e(n,i){switch(Pe(Vt,i),Pe(Wt,n),Pe(Et,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?C_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=C_(n),i=I_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ze(Et),Pe(Et,i)}function mn(){Ze(Et),Ze(Wt),Ze(Vt)}function Xn(n){n.memoizedState!==null&&Pe(on,n);var i=Et.current,a=I_(i,n.type);i!==a&&(Pe(Wt,n),Pe(Et,a))}function Ai(n){Wt.current===n&&(Ze(Et),Ze(Wt)),on.current===n&&(Ze(on),Fl._currentValue=Se)}var Ri=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,Ci=r.unstable_cancelCallback,qo=r.unstable_shouldYield,Os=r.unstable_requestPaint,Ft=r.unstable_now,Ra=r.unstable_getCurrentPriorityLevel,Ee=r.unstable_ImmediatePriority,at=r.unstable_UserBlockingPriority,Dn=r.unstable_NormalPriority,Vu=r.unstable_LowPriority,Go=r.unstable_IdlePriority,Df=r.log,ks=r.unstable_setDisableYieldValue,Ii=null,Zt=null;function $o(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ii,n,void 0,(n.current.flags&128)===128)}catch{}}function lr(n){if(typeof Df=="function"&&ks(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Ii,n)}catch{}}var ln=Math.clz32?Math.clz32:Lu,Ko=Math.log,Pu=Math.LN2;function Lu(n){return n>>>=0,n===0?32:31-(Ko(n)/Pu|0)|0}var ur=128,Ni=4194304;function Wn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xn(n,i){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?l=Wn(a):(m&=T,m!==0?l=Wn(m):n||(_=T&~_,_!==0&&(l=Wn(_))))):(T=a&~f,T!==0?l=Wn(T):m!==0?l=Wn(m):n||(_=a&~_,_!==0&&(l=Wn(_)))),l===0?0:i!==0&&i!==l&&(i&f)===0&&(f=l&-l,_=i&-i,f>=_||f===32&&(_&4194176)!==0)?i:l}function Di(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ca(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var n=ur;return ur<<=1,(ur&4194176)===0&&(ur=128),n}function xi(){var n=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),n}function Ia(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function yt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uu(n,i,a,l,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,D=n.expirationTimes,U=n.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-ln(a),ne=1<<Y;T[Y]=0,D[Y]=-1;var G=U[Y];if(G!==null)for(U[Y]=null,Y=0;Y<G.length;Y++){var Q=G[Y];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&Oi(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function Oi(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-ln(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function ki(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-ln(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function ju(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zu(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:$_(n.type))}function Mi(n,i){var a=le.p;try{return le.p=n,i()}finally{le.p=a}}var cr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+cr,Rt="__reactProps$"+cr,Ur="__reactContainer$"+cr,Ms="__reactEvents$"+cr,Na="__reactListeners$"+cr,hr="__reactHandles$"+cr,Yo="__reactResources$"+cr,Vi="__reactMarker$"+cr;function Vs(n){delete n[Pt],delete n[Rt],delete n[Ms],delete n[Na],delete n[hr]}function Zn(n){var i=n[Pt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ur]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=x_(n);n!==null;){if(a=n[Pt])return a;n=x_(n)}return i}n=a,a=n.parentNode}return null}function jr(n){if(n=n[Pt]||n[Ur]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Pi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Li(n){var i=n[Yo];return i||(i=n[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ut(n){n[Vi]=!0}var Xo=new Set,Da={};function Tn(n,i){pn(n,i),pn(n+"Capture",i)}function pn(n,i){for(Da[n]=i,n=0;n<i.length;n++)Xo.add(i[n])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Zo={};function Bu(n){return Ri.call(Zo,n)?!0:Ri.call(Wo,n)?!1:xf.test(n)?Zo[n]=!0:(Wo[n]=!0,!1)}function Ui(n,i,a){if(Bu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ji(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function On(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Of(n){var i=Hu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ps(n){n._valueTracker||(n._valueTracker=Of(n))}function Jo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Hu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function xa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zr=/[\n"\\]/g;function dt(n){return n.replace(zr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zi(n,i,a,l,f,m,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+un(i)):n.value!==""+un(i)&&(n.value=""+un(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Oa(n,_,un(i)):a!=null?Oa(n,_,un(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+un(T):n.removeAttribute("name")}function Ls(n,i,a,l,f,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+un(a):"",i=i!=null?""+un(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Oa(n,i,a){i==="number"&&xa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ke(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Us(n,i,a){if(i!=null&&(i=""+un(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+un(a):""}function Bi(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=un(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function kn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||kf.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Fu(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&el(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&el(n,m,i[m])}function tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(n){return Vf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Mn=null;function ka(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Br=null,Hr=null;function Fr(n){var i=jr(n);if(i&&(n=i.stateNode)){var a=n[Rt]||null;e:switch(n=i.stateNode,i.type){case"input":if(zi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Rt]||null;if(!f)throw Error(s(90));zi(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Jo(l)}break e;case"textarea":Us(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ke(n,!!a.multiple,i,!1)}}}var nl=!1;function qu(n,i,a){if(nl)return n(i,a);nl=!0;try{var l=n(i);return l}finally{if(nl=!1,(Br!==null||Hr!==null)&&(Vc(),Br&&(i=Br,n=Hr,Hr=Br=null,Fr(i),n)))for(i=0;i<n.length;i++)Fr(n[i])}}function js(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!1;if(bn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Vn=!1}var dr=null,Hi=null,qr=null;function rl(){if(qr)return qr;var n,i=Hi,a=i.length,l,f="value"in dr?dr.value:dr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===f[m-l];l++);return qr=f.slice(n,1<l?1-l:void 0)}function mr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function pr(){return!0}function il(){return!1}function Lt(n){function i(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pr:il,this.isPropagationStopped=il,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Lt(Xe),Bs=O({},Xe,{view:0,detail:0}),Gu=Lt(Bs),Va,Pa,gr,Hs=O({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gr&&(gr&&n.type==="mousemove"?(Va=n.screenX-gr.screenX,Pa=n.screenY-gr.screenY):Pa=Va=0,gr=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:Pa}}),Pn=Lt(Hs),$u=O({},Hs,{dataTransfer:0}),Pf=Lt($u),Fs=O({},Bs,{relatedTarget:0}),La=Lt(Fs),sl=O({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Lt(sl),Ku=O({},Xe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=Lt(Ku),Lf=O({},Xe,{data:0}),al=Lt(Lf),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Yu[n])?!!i[n]:!1}function Gs(){return ol}var Xu=O({},Bs,{key:function(n){if(n.key){var i=qs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=mr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(n){return n.type==="keypress"?mr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Lt(Xu),Wu=O({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Lt(Wu),Gr=O({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Zu=Lt(Gr),Ju=O({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Lt(Ju),tc=O({},Hs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Lt(tc),cn=O({},Xe,{newState:0,oldState:0}),nc=Lt(cn),rc=[9,13,27,32],yr=bn&&"CompositionEvent"in window,c=null;bn&&"documentMode"in document&&(c=document.documentMode);var y=bn&&"TextEvent"in window&&!c,v=bn&&(!yr||c&&8<c&&11>=c),w=" ",H=!1;function K(n,i){switch(n){case"keyup":return rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var He=!1;function Ct(n,i){switch(n){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(H=!0,w);case"textInput":return n=i.data,n===w&&H?null:n;default:return null}}function Fe(n,i){if(He)return n==="compositionend"||!yr&&K(n,i)?(n=rl(),qr=Hi=dr=null,He=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ut[n.type]:i==="textarea"}function $r(n,i,a,l){Br?Hr?Hr.push(l):Hr=[l]:Br=l,i=zc(i,"onChange"),0<i.length&&(a=new Ma("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var qt=null,vr=null;function ul(n){b_(n,0)}function ic(n){var i=Pi(n);if(Jo(i))return n}function Wg(n,i){if(n==="change")return i}var Zg=!1;if(bn){var Uf;if(bn){var jf="oninput"in document;if(!jf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),jf=typeof Jg.oninput=="function"}Uf=jf}else Uf=!1;Zg=Uf&&(!document.documentMode||9<document.documentMode)}function ey(){qt&&(qt.detachEvent("onpropertychange",ty),vr=qt=null)}function ty(n){if(n.propertyName==="value"&&ic(vr)){var i=[];$r(i,vr,n,ka(n)),qu(ul,i)}}function ES(n,i,a){n==="focusin"?(ey(),qt=i,vr=a,qt.attachEvent("onpropertychange",ty)):n==="focusout"&&ey()}function TS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ic(vr)}function bS(n,i){if(n==="click")return ic(i)}function wS(n,i){if(n==="input"||n==="change")return ic(i)}function SS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var wn=typeof Object.is=="function"?Object.is:SS;function cl(n,i){if(wn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ri.call(i,f)||!wn(n[f],i[f]))return!1}return!0}function ny(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ry(n,i){var a=ny(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ny(a)}}function iy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?iy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=xa(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=xa(n.document)}return i}function zf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function AS(n,i){var a=sy(i);i=n.focusedElem;var l=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&iy(i.ownerDocument.documentElement,i)){if(l!==null&&zf(i)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=ry(i,m);var _=ry(i,l);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var RS=bn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Bf=null,hl=null,Hf=!1;function ay(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||Ha==null||Ha!==xa(l)||(l=Ha,"selectionStart"in l&&zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=zc(Bf,"onSelect"),0<l.length&&(i=new Ma("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ha)))}function $s(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Fa={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Ff={},oy={};bn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Ks(n){if(Ff[n])return Ff[n];if(!Fa[n])return n;var i=Fa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in oy)return Ff[n]=i[a];return n}var ly=Ks("animationend"),uy=Ks("animationiteration"),cy=Ks("animationstart"),CS=Ks("transitionrun"),IS=Ks("transitionstart"),NS=Ks("transitioncancel"),hy=Ks("transitionend"),fy=new Map,dy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jn(n,i){fy.set(n,i),Tn(i,[n])}var Ln=[],qa=0,qf=0;function sc(){for(var n=qa,i=qf=qa=0;i<n;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var f=Ln[i];Ln[i++]=null;var m=Ln[i];if(Ln[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&my(a,f,m)}}function ac(n,i,a,l){Ln[qa++]=n,Ln[qa++]=i,Ln[qa++]=a,Ln[qa++]=l,qf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Gf(n,i,a,l){return ac(n,i,a,l),oc(n)}function Fi(n,i){return ac(n,null,null,i),oc(n)}function my(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-ln(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=a|536870912)}function oc(n){if(50<Pl)throw Pl=0,Wd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ga={},py=new WeakMap;function Un(n,i){if(typeof n=="object"&&n!==null){var a=py.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ce(i)},py.set(n,i),i)}return{value:n,source:i,stack:ce(i)}}var $a=[],Ka=0,lc=null,uc=0,jn=[],zn=0,Qs=null,Kr=1,Qr="";function Ys(n,i){$a[Ka++]=uc,$a[Ka++]=lc,lc=n,uc=i}function gy(n,i,a){jn[zn++]=Kr,jn[zn++]=Qr,jn[zn++]=Qs,Qs=n;var l=Kr;n=Qr;var f=32-ln(l)-1;l&=~(1<<f),a+=1;var m=32-ln(i)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Kr=1<<32-ln(i)+f|a<<f|l,Qr=m+n}else Kr=1<<m|a<<f|l,Qr=n}function $f(n){n.return!==null&&(Ys(n,1),gy(n,1,0))}function Kf(n){for(;n===lc;)lc=$a[--Ka],$a[Ka]=null,uc=$a[--Ka],$a[Ka]=null;for(;n===Qs;)Qs=jn[--zn],jn[zn]=null,Qr=jn[--zn],jn[zn]=null,Kr=jn[--zn],jn[zn]=null}var hn=null,Gt=null,Qe=!1,er=null,_r=!1,Qf=Error(s(519));function Xs(n){var i=Error(s(418,""));throw ml(Un(i,n)),Qf}function yy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Pt]=n,i[Rt]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Ul.length;a++)je(Ul[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ps(i);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Bi(i,l.value,l.defaultValue,l.children),Ps(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||R_(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=Bc),i=!0):i=!1,i||Xs(n)}function vy(n){for(hn=n.return;hn;)switch(hn.tag){case 3:case 27:_r=!0;return;case 5:case 13:_r=!1;return;default:hn=hn.return}}function fl(n){if(n!==hn)return!1;if(!Qe)return vy(n),Qe=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||mm(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Gt&&Xs(n),vy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Gt=nr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Gt=null}}else Gt=hn?nr(n.stateNode.nextSibling):null;return!0}function dl(){Gt=hn=null,Qe=!1}function ml(n){er===null?er=[n]:er.push(n)}var pl=Error(s(460)),_y=Error(s(474)),Yf={then:function(){}};function Ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function cc(){}function Ty(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(cc,cc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===pl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(cc,cc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===pl?Error(s(483)):n}throw gl=i,pl}}var gl=null;function by(){if(gl===null)throw Error(s(459));var n=gl;return gl=null,n}var Qa=null,yl=0;function hc(n){var i=yl;return yl+=1,Qa===null&&(Qa=[]),Ty(Qa,n,i)}function vl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function fc(n,i){throw i.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function wy(n){var i=n._init;return i(n._payload)}function Sy(n){function i(B,L){if(n){var F=B.deletions;F===null?(B.deletions=[L],B.flags|=16):F.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=ts(B,L),B.index=0,B.sibling=null,B}function m(B,L,F){return B.index=F,n?(F=B.alternate,F!==null?(F=F.index,F<L?(B.flags|=33554434,L):F):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function _(B){return n&&B.alternate===null&&(B.flags|=33554434),B}function T(B,L,F,W){return L===null||L.tag!==6?(L=Fd(F,B.mode,W),L.return=B,L):(L=f(L,F),L.return=B,L)}function D(B,L,F,W){var me=F.type;return me===p?Y(B,L,F.props.children,W,F.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===J&&wy(me)===L.type)?(L=f(L,F.props),vl(L,F),L.return=B,L):(L=Dc(F.type,F.key,F.props,null,B.mode,W),vl(L,F),L.return=B,L)}function U(B,L,F,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=qd(F,B.mode,W),L.return=B,L):(L=f(L,F.children||[]),L.return=B,L)}function Y(B,L,F,W,me){return L===null||L.tag!==7?(L=aa(F,B.mode,W,me),L.return=B,L):(L=f(L,F),L.return=B,L)}function ne(B,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Fd(""+L,B.mode,F),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return F=Dc(L.type,L.key,L.props,null,B.mode,F),vl(F,L),F.return=B,F;case d:return L=qd(L,B.mode,F),L.return=B,L;case J:var W=L._init;return L=W(L._payload),ne(B,L,F)}if(oe(L)||fe(L))return L=aa(L,B.mode,F,null),L.return=B,L;if(typeof L.then=="function")return ne(B,hc(L),F);if(L.$$typeof===x)return ne(B,Cc(B,L),F);fc(B,L)}return null}function G(B,L,F,W){var me=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return me!==null?null:T(B,L,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===me?D(B,L,F,W):null;case d:return F.key===me?U(B,L,F,W):null;case J:return me=F._init,F=me(F._payload),G(B,L,F,W)}if(oe(F)||fe(F))return me!==null?null:Y(B,L,F,W,null);if(typeof F.then=="function")return G(B,L,hc(F),W);if(F.$$typeof===x)return G(B,L,Cc(B,F),W);fc(B,F)}return null}function Q(B,L,F,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(F)||null,T(L,B,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return B=B.get(W.key===null?F:W.key)||null,D(L,B,W,me);case d:return B=B.get(W.key===null?F:W.key)||null,U(L,B,W,me);case J:var ke=W._init;return W=ke(W._payload),Q(B,L,F,W,me)}if(oe(W)||fe(W))return B=B.get(F)||null,Y(L,B,W,me,null);if(typeof W.then=="function")return Q(B,L,F,hc(W),me);if(W.$$typeof===x)return Q(B,L,F,Cc(L,W),me);fc(L,W)}return null}function pe(B,L,F,W){for(var me=null,ke=null,ye=L,Te=L=0,Bt=null;ye!==null&&Te<F.length;Te++){ye.index>Te?(Bt=ye,ye=null):Bt=ye.sibling;var Ye=G(B,ye,F[Te],W);if(Ye===null){ye===null&&(ye=Bt);break}n&&ye&&Ye.alternate===null&&i(B,ye),L=m(Ye,L,Te),ke===null?me=Ye:ke.sibling=Ye,ke=Ye,ye=Bt}if(Te===F.length)return a(B,ye),Qe&&Ys(B,Te),me;if(ye===null){for(;Te<F.length;Te++)ye=ne(B,F[Te],W),ye!==null&&(L=m(ye,L,Te),ke===null?me=ye:ke.sibling=ye,ke=ye);return Qe&&Ys(B,Te),me}for(ye=l(ye);Te<F.length;Te++)Bt=Q(ye,B,Te,F[Te],W),Bt!==null&&(n&&Bt.alternate!==null&&ye.delete(Bt.key===null?Te:Bt.key),L=m(Bt,L,Te),ke===null?me=Bt:ke.sibling=Bt,ke=Bt);return n&&ye.forEach(function(ls){return i(B,ls)}),Qe&&Ys(B,Te),me}function Ie(B,L,F,W){if(F==null)throw Error(s(151));for(var me=null,ke=null,ye=L,Te=L=0,Bt=null,Ye=F.next();ye!==null&&!Ye.done;Te++,Ye=F.next()){ye.index>Te?(Bt=ye,ye=null):Bt=ye.sibling;var ls=G(B,ye,Ye.value,W);if(ls===null){ye===null&&(ye=Bt);break}n&&ye&&ls.alternate===null&&i(B,ye),L=m(ls,L,Te),ke===null?me=ls:ke.sibling=ls,ke=ls,ye=Bt}if(Ye.done)return a(B,ye),Qe&&Ys(B,Te),me;if(ye===null){for(;!Ye.done;Te++,Ye=F.next())Ye=ne(B,Ye.value,W),Ye!==null&&(L=m(Ye,L,Te),ke===null?me=Ye:ke.sibling=Ye,ke=Ye);return Qe&&Ys(B,Te),me}for(ye=l(ye);!Ye.done;Te++,Ye=F.next())Ye=Q(ye,B,Te,Ye.value,W),Ye!==null&&(n&&Ye.alternate!==null&&ye.delete(Ye.key===null?Te:Ye.key),L=m(Ye,L,Te),ke===null?me=Ye:ke.sibling=Ye,ke=Ye);return n&&ye.forEach(function(FA){return i(B,FA)}),Qe&&Ys(B,Te),me}function gt(B,L,F,W){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:e:{for(var me=F.key;L!==null;){if(L.key===me){if(me=F.type,me===p){if(L.tag===7){a(B,L.sibling),W=f(L,F.props.children),W.return=B,B=W;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===J&&wy(me)===L.type){a(B,L.sibling),W=f(L,F.props),vl(W,F),W.return=B,B=W;break e}a(B,L);break}else i(B,L);L=L.sibling}F.type===p?(W=aa(F.props.children,B.mode,W,F.key),W.return=B,B=W):(W=Dc(F.type,F.key,F.props,null,B.mode,W),vl(W,F),W.return=B,B=W)}return _(B);case d:e:{for(me=F.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(B,L.sibling),W=f(L,F.children||[]),W.return=B,B=W;break e}else{a(B,L);break}else i(B,L);L=L.sibling}W=qd(F,B.mode,W),W.return=B,B=W}return _(B);case J:return me=F._init,F=me(F._payload),gt(B,L,F,W)}if(oe(F))return pe(B,L,F,W);if(fe(F)){if(me=fe(F),typeof me!="function")throw Error(s(150));return F=me.call(F),Ie(B,L,F,W)}if(typeof F.then=="function")return gt(B,L,hc(F),W);if(F.$$typeof===x)return gt(B,L,Cc(B,F),W);fc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(B,L.sibling),W=f(L,F),W.return=B,B=W):(a(B,L),W=Fd(F,B.mode,W),W.return=B,B=W),_(B)):a(B,L)}return function(B,L,F,W){try{yl=0;var me=gt(B,L,F,W);return Qa=null,me}catch(ye){if(ye===pl)throw ye;var ke=qn(29,ye,null,B.mode);return ke.lanes=W,ke.return=B,ke}finally{}}}var Ws=Sy(!0),Ay=Sy(!1),Ya=Ve(null),dc=Ve(0);function Ry(n,i){n=si,Pe(dc,n),Pe(Ya,i),si=n|i.baseLanes}function Xf(){Pe(dc,si),Pe(Ya,Ya.current)}function Wf(){si=dc.current,Ze(Ya),Ze(dc)}var Bn=Ve(null),Er=null;function qi(n){var i=n.alternate;Pe(Nt,Nt.current&1),Pe(Bn,n),Er===null&&(i===null||Ya.current!==null||i.memoizedState!==null)&&(Er=n)}function Cy(n){if(n.tag===22){if(Pe(Nt,Nt.current),Pe(Bn,n),Er===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Er=n)}}else Gi()}function Gi(){Pe(Nt,Nt.current),Pe(Bn,Bn.current)}function Yr(n){Ze(Bn),Er===n&&(Er=null),Ze(Nt)}var Nt=Ve(0);function mc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var DS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},xS=r.unstable_scheduleCallback,OS=r.unstable_NormalPriority,Dt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new DS,data:new Map,refCount:0}}function _l(n){n.refCount--,n.refCount===0&&xS(OS,function(){n.controller.abort()})}var El=null,Jf=0,Xa=0,Wa=null;function kS(n,i){if(El===null){var a=El=[];Jf=0,Xa=sm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,i.then(Iy,Iy),i}function Iy(){if(--Jf===0&&El!==null){Wa!==null&&(Wa.status="fulfilled");var n=El;El=null,Xa=0,Wa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function MS(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ny=R.S;R.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kS(n,i),Ny!==null&&Ny(n,i)};var Zs=Ve(null);function ed(){var n=Zs.current;return n!==null?n:nt.pooledCache}function pc(n,i){i===null?Pe(Zs,Zs.current):Pe(Zs,i.pool)}function Dy(){var n=ed();return n===null?null:{parent:Dt._currentValue,pool:n}}var $i=0,Oe=null,Je=null,Tt=null,gc=!1,Za=!1,Js=!1,yc=0,Tl=0,Ja=null,VS=0;function vt(){throw Error(s(321))}function td(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!wn(n[a],i[a]))return!1;return!0}function nd(n,i,a,l,f,m){return $i=m,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=n===null||n.memoizedState===null?ea:Ki,Js=!1,m=a(l,f),Js=!1,Za&&(m=Oy(i,a,l,f)),xy(n),m}function xy(n){R.H=Tr;var i=Je!==null&&Je.next!==null;if($i=0,Tt=Je=Oe=null,gc=!1,Tl=0,Ja=null,i)throw Error(s(300));n===null||jt||(n=n.dependencies,n!==null&&Rc(n)&&(jt=!0))}function Oy(n,i,a,l){Oe=n;var f=0;do{if(Za&&(Ja=null),Tl=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=ta,m=i(a,l)}while(Za);return m}function PS(){var n=R.H,i=n.useState()[0];return i=typeof i.then=="function"?bl(i):i,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Oe.flags|=1024),i}function rd(){var n=yc!==0;return yc=0,n}function id(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function sd(n){if(gc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gc=!1}$i=0,Tt=Je=Oe=null,Za=!1,Tl=yc=0,Ja=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function bt(){if(Je===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var i=Tt===null?Oe.memoizedState:Tt.next;if(i!==null)Tt=i,Je=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}var vc;vc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bl(n){var i=Tl;return Tl+=1,Ja===null&&(Ja=[]),n=Ty(Ja,n,i),i=Oe,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?ea:Ki),n}function _c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bl(n);if(n.$$typeof===x)return Jt(n)}throw Error(s(438,String(n)))}function ad(n){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vc(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=se;return i.index++,a}function Xr(n,i){return typeof i=="function"?i(n):i}function Ec(n){var i=bt();return od(i,Je,n)}function od(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var T=_=null,D=null,U=i,Y=!1;do{var ne=U.lane&-536870913;if(ne!==U.lane?(qe&ne)===ne:($i&ne)===ne){var G=U.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ne===Xa&&(Y=!0);else if(($i&G)===G){U=U.next,G===Xa&&(Y=!0);continue}else ne={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(T=D=ne,_=m):D=D.next=ne,Oe.lanes|=G,ns|=G;ne=U.action,Js&&a(m,ne),m=U.hasEagerState?U.eagerState:a(m,ne)}else G={lane:ne,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(T=D=G,_=m):D=D.next=G,Oe.lanes|=ne,ns|=ne;U=U.next}while(U!==null&&U!==i);if(D===null?_=m:D.next=T,!wn(m,n.memoizedState)&&(jt=!0,Y&&(a=Wa,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ld(n){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);wn(m,i.memoizedState)||(jt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function ky(n,i,a){var l=Oe,f=bt(),m=Qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!wn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,jt=!0),f=f.queue,hd(Py.bind(null,l,f,n),[n]),f.getSnapshot!==i||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,eo(9,Vy.bind(null,l,f,a,i),{destroy:void 0},null),nt===null)throw Error(s(349));m||($i&60)!==0||My(l,i,a)}return a}function My(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=vc(),Oe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Vy(n,i,a,l){i.value=a,i.getSnapshot=l,Ly(i)&&Uy(n)}function Py(n,i,a){return a(function(){Ly(i)&&Uy(n)})}function Ly(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!wn(n,a)}catch{return!0}}function Uy(n){var i=Fi(n,2);i!==null&&fn(i,n,2)}function ud(n){var i=gn();if(typeof n=="function"){var a=n;if(n=a(),Js){lr(!0);try{a()}finally{lr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:n},i}function jy(n,i,a,l){return n.baseState=a,od(n,Je,typeof l=="function"?l:Xr)}function LS(n,i,a,l,f){if(wc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};R.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,zy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function zy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=R.T,_={};R.T=_;try{var T=a(f,l),D=R.S;D!==null&&D(_,T),By(n,i,T)}catch(U){cd(n,i,U)}finally{R.T=m}}else try{m=a(f,l),By(n,i,m)}catch(U){cd(n,i,U)}}function By(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hy(n,i,l)},function(l){return cd(n,i,l)}):Hy(n,i,a)}function Hy(n,i,a){i.status="fulfilled",i.value=a,Fy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,zy(n,a)))}function cd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fy(i),i=i.next;while(i!==l)}n.action=null}function Fy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function qy(n,i){return i}function Gy(n,i){if(Qe){var a=nt.formState;if(a!==null){e:{var l=Oe;if(Qe){if(Gt){t:{for(var f=Gt,m=_r;f.nodeType!==8;){if(!m){f=null;break t}if(f=nr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gt=nr(f.nextSibling),l=f.data==="F!";break e}}Xs(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:i},a.queue=l,a=uv.bind(null,Oe,l),l.dispatch=a,l=ud(!1),m=gd.bind(null,Oe,!1,l.queue),l=gn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=LS.bind(null,Oe,f,m,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function $y(n){var i=bt();return Ky(i,Je,n)}function Ky(n,i,a){i=od(n,i,qy)[0],n=Ec(Xr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?bl(i):i;var l=bt(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,eo(9,US.bind(null,f,a),{destroy:void 0},null)),[i,m,n]}function US(n,i){n.action=i}function Qy(n){var i=bt(),a=Je;if(a!==null)return Ky(i,a,n);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function eo(n,i,a,l){return n={tag:n,create:i,inst:a,deps:l,next:null},i=Oe.updateQueue,i===null&&(i=vc(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Yy(){return bt().memoizedState}function Tc(n,i,a,l){var f=gn();Oe.flags|=n,f.memoizedState=eo(1|i,a,{destroy:void 0},l===void 0?null:l)}function bc(n,i,a,l){var f=bt();l=l===void 0?null:l;var m=f.memoizedState.inst;Je!==null&&l!==null&&td(l,Je.memoizedState.deps)?f.memoizedState=eo(i,a,m,l):(Oe.flags|=n,f.memoizedState=eo(1|i,a,m,l))}function Xy(n,i){Tc(8390656,8,n,i)}function hd(n,i){bc(2048,8,n,i)}function Wy(n,i){return bc(4,2,n,i)}function Zy(n,i){return bc(4,4,n,i)}function Jy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ev(n,i,a){a=a!=null?a.concat([n]):null,bc(4,4,Jy.bind(null,i,n),a)}function fd(){}function tv(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function nv(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=n(),Js){lr(!0);try{n()}finally{lr(!1)}}return a.memoizedState=[l,i],l}function dd(n,i,a){return a===void 0||($i&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=i_(),Oe.lanes|=n,ns|=n,a)}function rv(n,i,a,l){return wn(a,i)?a:Ya.current!==null?(n=dd(n,a,l),wn(n,i)||(jt=!0),n):($i&42)===0?(jt=!0,n.memoizedState=a):(n=i_(),Oe.lanes|=n,ns|=n,i)}function iv(n,i,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var _=R.T,T={};R.T=T,gd(n,!1,i,a);try{var D=f(),U=R.S;if(U!==null&&U(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=MS(D,l);wl(n,i,Y,Cn(n))}else wl(n,i,l,Cn(n))}catch(ne){wl(n,i,{then:function(){},status:"rejected",reason:ne},Cn())}finally{le.p=m,R.T=_}}function jS(){}function md(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=sv(n).queue;iv(n,f,i,Se,a===null?jS:function(){return av(n),a(l)})}function sv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:Se},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function av(n){var i=sv(n).next.queue;wl(n,i,{},Cn())}function pd(){return Jt(Fl)}function ov(){return bt().memoizedState}function lv(){return bt().memoizedState}function zS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();n=Xi(a);var l=Wi(i,n,a);l!==null&&(fn(l,i,a),Rl(l,i,a)),i={cache:Zf()},n.payload=i;return}i=i.return}}function BS(n,i,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?cv(i,a):(a=Gf(n,i,a,l),a!==null&&(fn(a,n,l),hv(a,i,l)))}function uv(n,i,a){var l=Cn();wl(n,i,a,l)}function wl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))cv(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,T=m(_,a);if(f.hasEagerState=!0,f.eagerState=T,wn(T,_))return ac(n,i,f,0),nt===null&&sc(),!1}catch{}finally{}if(a=Gf(n,i,f,l),a!==null)return fn(a,n,l),hv(a,i,l),!0}return!1}function gd(n,i,a,l){if(l={lane:2,revertLane:sm(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(s(479))}else i=Gf(n,a,l,2),i!==null&&fn(i,n,2)}function wc(n){var i=n.alternate;return n===Oe||i!==null&&i===Oe}function cv(n,i){Za=gc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function hv(n,i,a){if((a&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ki(n,a)}}var Tr={readContext:Jt,use:_c,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};Tr.useCacheRefresh=vt,Tr.useMemoCache=vt,Tr.useHostTransitionStatus=vt,Tr.useFormState=vt,Tr.useActionState=vt,Tr.useOptimistic=vt;var ea={readContext:Jt,use:_c,useCallback:function(n,i){return gn().memoizedState=[n,i===void 0?null:i],n},useContext:Jt,useEffect:Xy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Tc(4194308,4,Jy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Tc(4194308,4,n,i)},useInsertionEffect:function(n,i){Tc(4,2,n,i)},useMemo:function(n,i){var a=gn();i=i===void 0?null:i;var l=n();if(Js){lr(!0);try{n()}finally{lr(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=gn();if(a!==void 0){var f=a(i);if(Js){lr(!0);try{a(i)}finally{lr(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=BS.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var i=gn();return n={current:n},i.memoizedState=n},useState:function(n){n=ud(n);var i=n.queue,a=uv.bind(null,Oe,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(n,i){var a=gn();return dd(a,n,i)},useTransition:function(){var n=ud(!1);return n=iv.bind(null,Oe,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Oe,f=gn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(qe&60)!==0||My(l,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Xy(Py.bind(null,l,m,n),[n]),l.flags|=2048,eo(9,Vy.bind(null,l,m,a,i),{destroy:void 0},null),a},useId:function(){var n=gn(),i=nt.identifierPrefix;if(Qe){var a=Qr,l=Kr;a=(l&~(1<<32-ln(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=VS++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return gn().memoizedState=zS.bind(null,Oe)}};ea.useMemoCache=ad,ea.useHostTransitionStatus=pd,ea.useFormState=Gy,ea.useActionState=Gy,ea.useOptimistic=function(n){var i=gn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,Oe,!0,a),a.dispatch=i,[n,i]};var Ki={readContext:Jt,use:_c,useCallback:tv,useContext:Jt,useEffect:hd,useImperativeHandle:ev,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:nv,useReducer:Ec,useRef:Yy,useState:function(){return Ec(Xr)},useDebugValue:fd,useDeferredValue:function(n,i){var a=bt();return rv(a,Je.memoizedState,n,i)},useTransition:function(){var n=Ec(Xr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:bl(n),i]},useSyncExternalStore:ky,useId:ov};Ki.useCacheRefresh=lv,Ki.useMemoCache=ad,Ki.useHostTransitionStatus=pd,Ki.useFormState=$y,Ki.useActionState=$y,Ki.useOptimistic=function(n,i){var a=bt();return jy(a,Je,n,i)};var ta={readContext:Jt,use:_c,useCallback:tv,useContext:Jt,useEffect:hd,useImperativeHandle:ev,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:nv,useReducer:ld,useRef:Yy,useState:function(){return ld(Xr)},useDebugValue:fd,useDeferredValue:function(n,i){var a=bt();return Je===null?dd(a,n,i):rv(a,Je.memoizedState,n,i)},useTransition:function(){var n=ld(Xr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:bl(n),i]},useSyncExternalStore:ky,useId:ov};ta.useCacheRefresh=lv,ta.useMemoCache=ad,ta.useHostTransitionStatus=pd,ta.useFormState=Qy,ta.useActionState=Qy,ta.useOptimistic=function(n,i){var a=bt();return Je!==null?jy(a,Je,n,i):(a.baseState=n,[n,a.queue.dispatch])};function yd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:O({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vd={isMounted:function(n){return(n=n._reactInternals)?ue(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Cn(),f=Xi(l);f.payload=i,a!=null&&(f.callback=a),i=Wi(n,f,l),i!==null&&(fn(i,n,l),Rl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Cn(),f=Xi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Wi(n,f,l),i!==null&&(fn(i,n,l),Rl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Cn(),l=Xi(a);l.tag=2,i!=null&&(l.callback=i),i=Wi(n,l,a),i!==null&&(fn(i,n,a),Rl(i,n,a))}};function fv(n,i,a,l,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(f,m):!0}function dv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&vd.enqueueReplaceState(i,i.state,null)}function na(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=O({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function mv(n){Sc(n)}function pv(n){console.error(n)}function gv(n){Sc(n)}function Ac(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _d(n,i,a){return a=Xi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(n,i)},a}function vv(n){return n=Xi(n),n.tag=3,n}function _v(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){yv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){yv(i,a,l),typeof f!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function HS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Al(i,a,f,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return Er===null?em():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Yf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),nm(n,l,f)),!1;case 22:return a.flags|=65536,l===Yf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),nm(n,l,f)),!1}throw Error(s(435,a.tag))}return nm(n,l,f),em(),!1}if(Qe)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Qf&&(n=Error(s(422),{cause:l}),ml(Un(n,a)))):(l!==Qf&&(i=Error(s(423),{cause:l}),ml(Un(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Un(l,a),f=_d(n.stateNode,l,f),Md(n,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:l});if(m=Un(m,a),Ml===null?Ml=[m]:Ml.push(m),pt!==4&&(pt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=_d(a.stateNode,l,n),Md(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rs===null||!rs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vv(f),_v(f,n,a,l),Md(a,f),!1}a=a.return}while(a!==null);return!1}var Ev=Error(s(461)),jt=!1;function $t(n,i,a,l){i.child=n===null?Ay(i,null,a,l):Ws(i,n.child,a,l)}function Tv(n,i,a,l,f){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ia(i),l=nd(n,i,a,_,m,f),T=rd(),n!==null&&!jt?(id(n,i,f),Wr(n,i,f)):(Qe&&T&&$f(i),i.flags|=1,$t(n,i,l,f),i.child)}function bv(n,i,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Hd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,wv(n,i,m,l,f)):(n=Dc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Id(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(_,l)&&n.ref===i.ref)return Wr(n,i,f)}return i.flags|=1,n=ts(m,l),n.ref=i.ref,n.return=i,i.child=n}function wv(n,i,a,l,f){if(n!==null){var m=n.memoizedProps;if(cl(m,l)&&n.ref===i.ref)if(jt=!1,i.pendingProps=l=m,Id(n,f))(n.flags&131072)!==0&&(jt=!0);else return i.lanes=n.lanes,Wr(n,i,f)}return Ed(n,i,a,l,f)}function Sv(n,i,a){var l=i.pendingProps,f=l.children,m=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Sl(n,i),l.mode==="hidden"||m){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Av(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&pc(i,_!==null?_.cachePool:null),_!==null?Ry(i,_):Xf(),Cy(i);else return i.lanes=i.childLanes=536870912,Av(n,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(pc(i,_.cachePool),Ry(i,_),Gi(),i.memoizedState=null):(n!==null&&pc(i,null),Xf(),Gi());return $t(n,i,f,a),i.child}function Av(n,i,a,l){var f=ed();return f=f===null?null:{parent:Dt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&pc(i,null),Xf(),Cy(i),n!==null&&Al(n,i,l,!0),null}function Sl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Ed(n,i,a,l,f){return ia(i),a=nd(n,i,a,l,void 0,f),l=rd(),n!==null&&!jt?(id(n,i,f),Wr(n,i,f)):(Qe&&l&&$f(i),i.flags|=1,$t(n,i,a,f),i.child)}function Rv(n,i,a,l,f,m){return ia(i),i.updateQueue=null,a=Oy(i,l,a,f),xy(n),l=rd(),n!==null&&!jt?(id(n,i,m),Wr(n,i,m)):(Qe&&l&&$f(i),i.flags|=1,$t(n,i,a,m),i.child)}function Cv(n,i,a,l,f){if(ia(i),i.stateNode===null){var m=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(m=Jt(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Od(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Jt(_):Ga,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(yd(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&vd.enqueueReplaceState(m,m.state,null),Il(i,l,m,f),Cl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var T=i.memoizedProps,D=na(a,T);m.props=D;var U=m.context,Y=a.contextType;_=Ga,typeof Y=="object"&&Y!==null&&(_=Jt(Y));var ne=a.getDerivedStateFromProps;Y=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||U!==_)&&dv(i,m,l,_),Yi=!1;var G=i.memoizedState;m.state=G,Il(i,l,m,f),Cl(),U=i.memoizedState,T||G!==U||Yi?(typeof ne=="function"&&(yd(i,a,ne,l),U=i.memoizedState),(D=Yi||fv(i,a,D,l,G,U,_))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),m.props=l,m.state=U,m.context=_,l=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,kd(n,i),_=i.memoizedProps,Y=na(a,_),m.props=Y,ne=i.pendingProps,G=m.context,U=a.contextType,D=Ga,typeof U=="object"&&U!==null&&(D=Jt(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||G!==D)&&dv(i,m,l,D),Yi=!1,G=i.memoizedState,m.state=G,Il(i,l,m,f),Cl();var Q=i.memoizedState;_!==ne||G!==Q||Yi||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof T=="function"&&(yd(i,a,T,l),Q=i.memoizedState),(Y=Yi||fv(i,a,Y,l,G,Q,D)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=D,l=Y):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Sl(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=Ws(i,n.child,null,f),i.child=Ws(i,null,a,f)):$t(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Wr(n,i,f),n}function Iv(n,i,a,l){return dl(),i.flags|=256,$t(n,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function bd(n){return{baseLanes:n,cachePool:Dy()}}function wd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Gn),n}function Nv(n,i,a){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Qe){if(f?qi(i):Gi(),Qe){var T=Gt,D;if(D=T){e:{for(D=T,T=_r;D.nodeType!==8;){if(!T){T=null;break e}if(D=nr(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:Qs!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912},D=qn(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,hn=i,Gt=null,D=!0):D=!1}D||Xs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Yr(i)}return T=l.children,l=l.fallback,f?(Gi(),f=i.mode,T=Ad({mode:"hidden",children:T},f),l=aa(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=bd(a),f.childLanes=wd(n,_,a),i.memoizedState=Td,l):(qi(i),Sd(i,T))}if(D=n.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(m)i.flags&256?(qi(i),i.flags&=-257,i=Rd(n,i,a)):i.memoizedState!==null?(Gi(),i.child=n.child,i.flags|=128,i=null):(Gi(),f=l.fallback,T=i.mode,l=Ad({mode:"visible",children:l.children},T),f=aa(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ws(i,n.child,null,a),l=i.child,l.memoizedState=bd(a),l.childLanes=wd(n,_,a),i.memoizedState=Td,i=f);else if(qi(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=Rd(n,i,a)}else if(jt||Al(n,i,a,!1),_=(a&n.childLanes)!==0,jt||_){if(_=nt,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Fi(n,l),fn(_,n,l),Ev}T.data==="$?"||em(),i=Rd(n,i,a)}else T.data==="$?"?(i.flags|=128,i.child=n.child,i=rA.bind(null,n),T._reactRetry=i,i=null):(n=D.treeContext,Gt=nr(T.nextSibling),hn=i,Qe=!0,er=null,_r=!1,n!==null&&(jn[zn++]=Kr,jn[zn++]=Qr,jn[zn++]=Qs,Kr=n.id,Qr=n.overflow,Qs=i),i=Sd(i,l.children),i.flags|=4096);return i}return f?(Gi(),f=l.fallback,T=i.mode,D=n.child,U=D.sibling,l=ts(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,U!==null?f=ts(U,f):(f=aa(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=n.child.memoizedState,T===null?T=bd(a):(D=T.cachePool,D!==null?(U=Dt._currentValue,D=D.parent!==U?{parent:U,pool:U}:D):D=Dy(),T={baseLanes:T.baseLanes|a,cachePool:D}),f.memoizedState=T,f.childLanes=wd(n,_,a),i.memoizedState=Td,l):(qi(i),a=n.child,n=a.sibling,a=ts(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function Sd(n,i){return i=Ad({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ad(n,i){return t_(n,i,0,null)}function Rd(n,i,a){return Ws(i,n.child,null,a),n=Sd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Dv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Dd(n.return,i,a)}function Cd(n,i,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function xv(n,i,a){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if($t(n,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dv(n,a,i);else if(n.tag===19)Dv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Pe(Nt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Cd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&mc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Cd(i,!0,a,null,m);break;case"together":Cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ns|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Al(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=ts(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ts(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function FS(n,i,a){switch(i.tag){case 3:$e(i,i.stateNode.containerInfo),Qi(i,Dt,n.memoizedState.cache),dl();break;case 27:case 5:Xn(i);break;case 4:$e(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(qi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Nv(n,i,a):(qi(i),n=Wr(n,i,a),n!==null?n.sibling:null);qi(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Al(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return xv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Pe(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,Sv(n,i,a);case 24:Qi(i,Dt,n.memoizedState.cache)}return Wr(n,i,a)}function Ov(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)jt=!0;else{if(!Id(n,a)&&(i.flags&128)===0)return jt=!1,FS(n,i,a);jt=(n.flags&131072)!==0}else jt=!1,Qe&&(i.flags&1048576)!==0&&gy(i,uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Hd(l)?(n=na(l,n),i.tag=1,i=Cv(null,i,l,n,a)):(i.tag=0,i=Ed(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===k){i.tag=11,i=Tv(null,i,l,n,a);break e}else if(f===$){i.tag=14,i=bv(null,i,l,n,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return Ed(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=na(l,i.pendingProps),Cv(n,i,l,f,a);case 3:e:{if($e(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,l=f.element,kd(n,i),Il(i,m,null,a);var _=i.memoizedState;if(m=_.cache,Qi(i,Dt,m),m!==f.cache&&xd(i,[Dt],a,!0),Cl(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Iv(n,i,m,a);break e}else if(m!==l){l=Un(Error(s(424)),i),ml(l),i=Iv(n,i,m,a);break e}else for(Gt=nr(i.stateNode.containerInfo.firstChild),hn=i,Qe=!0,er=null,_r=!0,a=Ay(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(dl(),m===l){i=Wr(n,i,a);break e}$t(n,i,m,a)}i=i.child}return i;case 26:return Sl(n,i),n===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,n=i.pendingProps,l=Hc(Vt.current).createElement(a),l[Pt]=i,l[Rt]=n,Kt(l,a,n),ut(l),i.stateNode=l):i.memoizedState=V_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Xn(i),n===null&&Qe&&(l=i.stateNode=O_(i.type,i.pendingProps,Vt.current),hn=i,_r=!0,Gt=nr(l.firstChild)),l=i.pendingProps.children,n!==null||Qe?$t(n,i,l,a):i.child=Ws(i,null,l,a),Sl(n,i),i.child;case 5:return n===null&&Qe&&((f=l=Gt)&&(l=_A(l,i.type,i.pendingProps,_r),l!==null?(i.stateNode=l,hn=i,Gt=nr(l.firstChild),_r=!1,f=!0):f=!1),f||Xs(i)),Xn(i),f=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,l=m.children,mm(f,m)?l=null:_!==null&&mm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=nd(n,i,PS,null,null,a),Fl._currentValue=f),Sl(n,i),$t(n,i,l,a),i.child;case 6:return n===null&&Qe&&((n=a=Gt)&&(a=EA(a,i.pendingProps,_r),a!==null?(i.stateNode=a,hn=i,Gt=null,n=!0):n=!1),n||Xs(i)),null;case 13:return Nv(n,i,a);case 4:return $e(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ws(i,null,l,a):$t(n,i,l,a),i.child;case 11:return Tv(n,i,i.type,i.pendingProps,a);case 7:return $t(n,i,i.pendingProps,a),i.child;case 8:return $t(n,i,i.pendingProps.children,a),i.child;case 12:return $t(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Qi(i,i.type,l.value),$t(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ia(i),f=Jt(f),l=l(f),i.flags|=1,$t(n,i,l,a),i.child;case 14:return bv(n,i,i.type,i.pendingProps,a);case 15:return wv(n,i,i.type,i.pendingProps,a);case 19:return xv(n,i,a);case 22:return Sv(n,i,a);case 24:return ia(i),l=Jt(Dt),n===null?(f=ed(),f===null&&(f=nt,m=Zf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:l,cache:f},Od(i),Qi(i,Dt,f)):((n.lanes&a)!==0&&(kd(n,i),Il(i,null,null,a),Cl()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Qi(i,Dt,l)):(l=m.cache,Qi(i,Dt,l),l!==f.cache&&xd(i,[Dt],a,!0))),$t(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Nd=Ve(null),ra=null,Zr=null;function Qi(n,i,a){Pe(Nd,i._currentValue),i._currentValue=a}function Jr(n){n._currentValue=Nd.current,Ze(Nd)}function Dd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function xd(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<i.length;D++)if(T.context===i[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Dd(m.return,a,n),l||(_=null);break e}m=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Dd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Al(n,i,a,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;wn(f.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(f===on.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fl):n=[Fl])}f=f.return}n!==null&&xd(i,n,a,l),i.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ia(n){ra=n,Zr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return kv(ra,n)}function Cc(n,i){return ra===null&&ia(n),kv(n,i)}function kv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zr===null){if(n===null)throw Error(s(308));Zr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Zr=Zr.next=i;return a}var Yi=!1;function Od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=oc(n),my(n,null,a),i}return ac(n,l,i,a),oc(n)}function Rl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ki(n,a)}}function Md(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Vd=!1;function Cl(){if(Vd){var n=Wa;if(n!==null)throw n}}function Il(n,i,a,l){Vd=!1;var f=n.updateQueue;Yi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,U=D.next;D.next=null,_===null?m=U:_.next=U,_=D;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;_=0,Y=U=D=null,T=m;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(qe&G)===G:(l&G)===G){G!==0&&G===Xa&&(Vd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=n,Ie=T;G=i;var gt=a;switch(Ie.tag){case 1:if(pe=Ie.payload,typeof pe=="function"){ne=pe.call(gt,ne,G);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ie.payload,G=typeof pe=="function"?pe.call(gt,ne,G):pe,G==null)break e;ne=O({},ne,G);break e;case 2:Yi=!0}}G=T.callback,G!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=Q,D=ne):Y=Y.next=Q,_|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=U,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),ns|=_,n.lanes=_,n.memoizedState=ne}}function Mv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Vv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Mv(a[n],i)}function Nl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(i,i.return,T)}}function Zi(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var D=a;try{T()}catch(U){tt(f,D,U)}}}l=l.next}while(l!==m)}}catch(U){tt(i,i.return,U)}}function Pv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Vv(i,a)}catch(l){tt(n,n.return,l)}}}function Lv(n,i,a){a.props=na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,i,l)}}function sa(n,i){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){tt(n,i,m)}}function Sn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,i,f)}else a.current=null}function Uv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function jv(n,i,a){try{var l=n.stateNode;mA(l,n.type,a,i),l[Rt]=i}catch(f){tt(n,n.return,f)}}function zv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Pd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ld(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Bc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ld(n,i,a),n=n.sibling;n!==null;)Ld(n,i,a),n=n.sibling}function Ic(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ic(n,i,a),n=n.sibling;n!==null;)Ic(n,i,a),n=n.sibling}var ei=!1,mt=!1,Ud=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,zt=null,Hv=!1;function qS(n,i){if(n=n.containerInfo,fm=Qc,n=sy(n),zf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,U=0,Y=0,ne=n,G=null;t:for(;;){for(var Q;ne!==a||f!==0&&ne.nodeType!==3||(T=_+f),ne!==m||l!==0&&ne.nodeType!==3||(D=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)G=ne,ne=Q;for(;;){if(ne===n)break t;if(G===a&&++U===f&&(T=_),G===m&&++Y===l&&(D=_),(Q=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=Q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:n,selectionRange:a},Qc=!1,zt=i;zt!==null;)if(i=zt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,zt=n;else for(;zt!==null;){switch(i=zt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var pe=na(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(pe,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){tt(a,a.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,zt=n;break}zt=i.return}return pe=Hv,Hv=!1,pe}function Fv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ni(n,a),l&4&&Nl(5,a);break;case 1:if(ni(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){tt(a,a.return,T)}else{var f=na(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){tt(a,a.return,T)}}l&64&&Pv(a),l&512&&sa(a,a.return);break;case 3:if(ni(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Vv(l,n)}catch(T){tt(a,a.return,T)}}break;case 26:ni(n,a),l&512&&sa(a,a.return);break;case 27:case 5:ni(n,a),i===null&&l&4&&Uv(a),l&512&&sa(a,a.return);break;case 12:ni(n,a);break;case 13:ni(n,a),l&4&&$v(n,a);break;case 22:if(f=a.memoizedState!==null||ei,!f){i=i!==null&&i.memoizedState!==null||mt;var m=ei,_=mt;ei=f,(mt=i)&&!_?Ji(n,a,(a.subtreeFlags&8772)!==0):ni(n,a),ei=m,mt=_}l&512&&(a.memoizedProps.mode==="manual"?sa(a,a.return):Sn(a,a.return));break;default:ni(n,a)}}function qv(n){var i=n.alternate;i!==null&&(n.alternate=null,qv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Vs(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,An=!1;function ti(n,i,a){for(a=a.child;a!==null;)Gv(n,i,a),a=a.sibling}function Gv(n,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ii,a)}catch{}switch(a.tag){case 26:mt||Sn(a,i),ti(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Sn(a,i);var l=wt,f=An;for(wt=a.stateNode,ti(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Vs(a),wt=l,An=f;break;case 5:mt||Sn(a,i);case 6:f=wt;var m=An;if(wt=null,ti(n,i,a),wt=f,An=m,wt!==null)if(An)try{n=wt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){tt(a,i,_)}else try{wt.removeChild(a.stateNode)}catch(_){tt(a,i,_)}break;case 18:wt!==null&&(An?(i=wt,a=a.stateNode,i.nodeType===8?gm(i.parentNode,a):i.nodeType===1&&gm(i,a),Kl(i)):gm(wt,a.stateNode));break;case 4:l=wt,f=An,wt=a.stateNode.containerInfo,An=!0,ti(n,i,a),wt=l,An=f;break;case 0:case 11:case 14:case 15:mt||Zi(2,a,i),mt||Zi(4,a,i),ti(n,i,a);break;case 1:mt||(Sn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lv(a,i,l)),ti(n,i,a);break;case 21:ti(n,i,a);break;case 22:mt||Sn(a,i),mt=(l=mt)||a.memoizedState!==null,ti(n,i,a),mt=l;break;default:ti(n,i,a)}}function $v(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kl(n)}catch(a){tt(i,i.return,a)}}function GS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Bv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Bv),i;default:throw Error(s(435,n.tag))}}function jd(n,i){var a=GS(n);i.forEach(function(l){var f=iA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Hn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:wt=T.stateNode,An=!1;break e;case 3:wt=T.stateNode.containerInfo,An=!0;break e;case 4:wt=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(wt===null)throw Error(s(160));Gv(m,_,f),wt=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Kv(i,n),i=i.sibling}var tr=null;function Kv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(i,n),Fn(n),l&4&&(Zi(3,n,n.return),Nl(3,n),Zi(5,n,n.return));break;case 1:Hn(i,n),Fn(n),l&512&&(mt||a===null||Sn(a,a.return)),l&64&&ei&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=tr;if(Hn(i,n),Fn(n),l&512&&(mt||a===null||Sn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Vi]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Kt(m,l,a),m[Pt]=n,ut(m),l=m;break e;case"link":var _=U_("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;case"meta":if(_=U_("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Pt]=n,ut(m),l=m}n.stateNode=l}else j_(f,n.type,n.stateNode);else n.stateNode=L_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?j_(f,n.type,n.stateNode):L_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&jv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var D=f.firstChild;D;){var U=D.nextSibling,Y=D.nodeName;D[Vi]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=U}for(var ne=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Kt(f,ne,m),f[Pt]=n,f[Rt]=m}catch(pe){tt(n,n.return,pe)}}case 5:if(Hn(i,n),Fn(n),l&512&&(mt||a===null||Sn(a,a.return)),n.flags&32){f=n.stateNode;try{kn(f,"")}catch(pe){tt(n,n.return,pe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,jv(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Ud=!0);break;case 6:if(Hn(i,n),Fn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){tt(n,n.return,pe)}}break;case 3:if(Gc=null,f=tr,tr=Fc(i.containerInfo),Hn(i,n),tr=f,Fn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(i.containerInfo)}catch(pe){tt(n,n.return,pe)}Ud&&(Ud=!1,Qv(n));break;case 4:l=tr,tr=Fc(n.stateNode.containerInfo),Hn(i,n),Fn(n),tr=l;break;case 12:Hn(i,n),Fn(n);break;case 13:Hn(i,n),Fn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qd=Ft()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 22:if(l&512&&(mt||a===null||Sn(a,a.return)),D=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,Y=ei,ne=mt,ei=Y||D,mt=ne||U,Hn(i,n),mt=ne,ei=Y,Fn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=ei||mt,a===null||U||i||to(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){U=a=i;try{if(f=U.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=U.stateNode,T=U.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(U,U.return,pe)}}}else if(i.tag===6){if(a===null){U=i;try{U.stateNode.nodeValue=D?"":U.memoizedProps}catch(pe){tt(U,U.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jd(n,a))));break;case 19:Hn(i,n),Fn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 21:break;default:Hn(i,n),Fn(n)}}function Fn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(zv(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,m=Pd(n);Ic(n,m,f);break;case 5:var _=l.stateNode;l.flags&32&&(kn(_,""),l.flags&=-33);var T=Pd(n);Ic(n,T,_);break;case 3:case 4:var D=l.stateNode.containerInfo,U=Pd(n);Ld(n,U,D);break;default:throw Error(s(161))}}}catch(Y){tt(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Qv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Qv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ni(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fv(n,i.alternate,i),i=i.sibling}function to(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Zi(4,i,i.return),to(i);break;case 1:Sn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Lv(i,i.return,a),to(i);break;case 26:case 27:case 5:Sn(i,i.return),to(i);break;case 22:Sn(i,i.return),i.memoizedState===null&&to(i);break;default:to(i)}n=n.sibling}}function Ji(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ji(f,m,a),Nl(4,m);break;case 1:if(Ji(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){tt(l,l.return,U)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Mv(D[f],T)}catch(U){tt(l,l.return,U)}}a&&_&64&&Pv(m),sa(m,m.return);break;case 26:case 27:case 5:Ji(f,m,a),a&&l===null&&_&4&&Uv(m),sa(m,m.return);break;case 12:Ji(f,m,a);break;case 13:Ji(f,m,a),a&&_&4&&$v(f,m);break;case 22:m.memoizedState===null&&Ji(f,m,a),sa(m,m.return);break;default:Ji(f,m,a)}i=i.sibling}}function zd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&_l(a))}function Bd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n))}function es(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yv(n,i,a,l),i=i.sibling}function Yv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:es(n,i,a,l),f&2048&&Nl(9,i);break;case 3:es(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_l(n)));break;case 12:if(f&2048){es(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){tt(i,i.return,D)}}else es(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?es(n,i,a,l):Dl(n,i):m._visibility&4?es(n,i,a,l):(m._visibility|=4,no(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&zd(i.alternate,i);break;case 24:es(n,i,a,l),f&2048&&Bd(i.alternate,i);break;default:es(n,i,a,l)}}function no(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,_=i,T=a,D=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:no(m,_,T,D,f),Nl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?no(m,_,T,D,f):Dl(m,_):(Y._visibility|=4,no(m,_,T,D,f)),f&&U&2048&&zd(_.alternate,_);break;case 24:no(m,_,T,D,f),f&&U&2048&&Bd(_.alternate,_);break;default:no(m,_,T,D,f)}i=i.sibling}}function Dl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&zd(l.alternate,l);break;case 24:Dl(a,l),f&2048&&Bd(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var xl=8192;function ro(n){if(n.subtreeFlags&xl)for(n=n.child;n!==null;)Xv(n),n=n.sibling}function Xv(n){switch(n.tag){case 26:ro(n),n.flags&xl&&n.memoizedState!==null&&kA(tr,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var i=tr;tr=Fc(n.stateNode.containerInfo),ro(n),tr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=xl,xl=16777216,ro(n),xl=i):ro(n));break;default:ro(n)}}function Wv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ol(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,Jv(l,n)}Wv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zv(n),n=n.sibling}function Zv(n){switch(n.tag){case 0:case 11:case 15:Ol(n),n.flags&2048&&Zi(9,n,n.return);break;case 3:Ol(n);break;case 12:Ol(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Nc(n)):Ol(n);break;default:Ol(n)}}function Nc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,Jv(l,n)}Wv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Zi(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Nc(i));break;default:Nc(i)}n=n.sibling}}function Jv(n,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Zi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var f=l.sibling,m=l.return;if(qv(l),l===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}function $S(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,i,a,l){return new $S(n,i,a,l)}function Hd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ts(n,i){var a=n.alternate;return a===null?(a=qn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function e_(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Dc(n,i,a,l,f,m){var _=0;if(l=n,typeof n=="function")Hd(n)&&(_=1);else if(typeof n=="string")_=xA(n,a,Et.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return aa(a.children,f,m,i);case g:_=8,f|=24;break;case E:return n=qn(12,a,i,f|2),n.elementType=E,n.lanes=m,n;case q:return n=qn(13,a,i,f),n.elementType=q,n.lanes=m,n;case z:return n=qn(19,a,i,f),n.elementType=z,n.lanes=m,n;case X:return t_(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case x:_=10;break e;case S:_=9;break e;case k:_=11;break e;case $:_=14;break e;case J:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=qn(_,a,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function aa(n,i,a,l){return n=qn(7,n,l,i),n.lanes=a,n}function t_(n,i,a,l){n=qn(22,n,l,i),n.elementType=X,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Fi(m,2);_!==null&&(f._pendingVisibility|=2,fn(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Fi(m,2);_!==null&&(f._pendingVisibility&=-3,fn(_,m,2))}}};return n.stateNode=f,n}function Fd(n,i,a){return n=qn(6,n,null,i),n.lanes=a,n}function qd(n,i,a){return i=qn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ri(n){n.flags|=4}function n_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!z_(i)){if(i=Bn.current,i!==null&&((qe&4194176)===qe?Er!==null:(qe&62914560)!==qe&&(qe&536870912)===0||i!==Er))throw gl=Yf,_y;n.flags|=8192}}function xc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?xi():536870912,n.lanes|=i,so|=i)}function kl(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function KS(n,i,a){var l=i.pendingProps;switch(Kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Jr(Dt),mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fl(i)?ri(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,er!==null&&(Zd(er),er=null))),ct(i),null;case 26:return a=i.memoizedState,n===null?(ri(i),a!==null?(ct(i),n_(i,a)):(ct(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ri(i),ct(i),n_(i,a)):(ct(i),i.flags&=-16777217):(n.memoizedProps!==l&&ri(i),ct(i),i.flags&=-16777217),null;case 27:Ai(i),a=Vt.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}n=Et.current,fl(i)?yy(i):(n=O_(f,l,a),i.stateNode=n,ri(i))}return ct(i),null;case 5:if(Ai(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(n=Et.current,fl(i))yy(i);else{switch(f=Hc(Vt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Pt]=i,n[Rt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Kt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ri(i)}}return ct(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ri(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Vt.current,fl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=hn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Pt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||R_(n.nodeValue,a)),n||Xs(i)}else n=Hc(n).createTextNode(l),n[Pt]=i,i.stateNode=n}return ct(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Pt]=i}else dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),f=!1}else er!==null&&(Zd(er),er=null),f=!0;if(!f)return i.flags&256?(Yr(i),i):(Yr(i),null)}if(Yr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),xc(i,i.updateQueue),ct(i),null;case 4:return mn(),n===null&&um(i.stateNode.containerInfo),ct(i),null;case 10:return Jr(i.type),ct(i),null;case 19:if(Ze(Nt),f=i.memoizedState,f===null)return ct(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)kl(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=mc(n),m!==null){for(i.flags|=128,kl(f,!1),n=m.updateQueue,i.updateQueue=n,xc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)e_(a,n),a=a.sibling;return Pe(Nt,Nt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Ft()>Oc&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304)}else{if(!l)if(n=mc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,xc(i,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Qe)return ct(i),null}else 2*Ft()-f.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ft(),i.sibling=null,n=Nt.current,Pe(Nt,l?n&1|2:n&1),i):(ct(i),null);case 22:case 23:return Yr(i),Wf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&xc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&Ze(Zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Jr(Dt),ct(i),null;case 25:return null}throw Error(s(156,i.tag))}function QS(n,i){switch(Kf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Jr(Dt),mn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ai(i),null;case 13:if(Yr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));dl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ze(Nt),null;case 4:return mn(),null;case 10:return Jr(i.type),null;case 22:case 23:return Yr(i),Wf(),n!==null&&Ze(Zs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Jr(Dt),null;case 25:return null;default:return null}}function r_(n,i){switch(Kf(i),i.tag){case 3:Jr(Dt),mn();break;case 26:case 27:case 5:Ai(i);break;case 4:mn();break;case 13:Yr(i);break;case 19:Ze(Nt);break;case 10:Jr(i.type);break;case 22:case 23:Yr(i),Wf(),n!==null&&Ze(Zs);break;case 24:Jr(Dt)}}var YS={getCacheForType:function(n){var i=Jt(Dt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},XS=typeof WeakMap=="function"?WeakMap:Map,ht=0,nt=null,Me=null,qe=0,rt=0,Rn=null,ii=!1,io=!1,Gd=!1,si=0,pt=0,ns=0,oa=0,$d=0,Gn=0,so=0,Ml=null,br=null,Kd=!1,Qd=0,Oc=1/0,kc=null,rs=null,Mc=!1,la=null,Vl=0,Yd=0,Xd=null,Pl=0,Wd=null;function Cn(){if((ht&2)!==0&&qe!==0)return qe&-qe;if(R.T!==null){var n=Xa;return n!==0?n:sm()}return zu()}function i_(){Gn===0&&(Gn=(qe&536870912)===0||Qe?Qo():536870912);var n=Bn.current;return n!==null&&(n.flags|=32),Gn}function fn(n,i,a){(n===nt&&rt===2||n.cancelPendingCommit!==null)&&(ao(n,0),ai(n,qe,Gn,!1)),yt(n,a),((ht&2)===0||n!==nt)&&(n===nt&&((ht&2)===0&&(oa|=a),pt===4&&ai(n,qe,Gn,!1)),wr(n))}function s_(n,i,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&n.expiredLanes)===0||Di(n,i),f=l?JS(n,i):tm(n,i,!0),m=l;do{if(f===0){io&&!l&&ai(n,i,0,!1);break}else if(f===6)ai(n,i,0,!ii);else{if(a=n.current.alternate,m&&!WS(a)){f=tm(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;f=Ml;var D=T.current.memoizedState.isDehydrated;if(D&&(ao(T,_).flags|=256),_=tm(T,_,!1),_!==2){if(Gd&&!D){T.errorRecoveryDisabledLanes|=m,oa|=m,f=4;break e}m=br,br=f,m!==null&&Zd(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){ao(n,0),ai(n,i,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ai(l,i,Gn,!ii);break e}break;case 2:br=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(m=Qd+300-Ft(),10<m)){if(ai(l,i,Gn,!ii),xn(l,0)!==0)break e;l.timeoutHandle=N_(a_.bind(null,l,a,br,kc,Kd,i,Gn,oa,so,ii,2,-0,0),m);break e}a_(l,a,br,kc,Kd,i,Gn,oa,so,ii,0,-0,0)}}break}while(!0);wr(n)}function Zd(n){br===null?br=n:br.push.apply(br,n)}function a_(n,i,a,l,f,m,_,T,D,U,Y,ne,G){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:OA},Xv(i),i=MA(),i!==null)){n.cancelPendingCommit=i(d_.bind(null,n,a,l,f,_,T,D,1,ne,G)),ai(n,m,_,!U);return}d_(n,a,l,f,_,T,D,Y,ne,G)}function WS(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!wn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ai(n,i,a,l){i&=~$d,i&=~oa,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-ln(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&Oi(n,a,i)}function Vc(){return(ht&6)===0?(Ll(0),!1):!0}function Jd(){if(Me!==null){if(rt===0)var n=Me.return;else n=Me,Zr=ra=null,sd(n),Qa=null,yl=0,n=Me;for(;n!==null;)r_(n.alternate,n),n=n.return;Me=null}}function ao(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,gA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Jd(),nt=n,Me=a=ts(n.current,null),qe=i,rt=0,Rn=null,ii=!1,io=Di(n,i),Gd=!1,so=Gn=$d=oa=ns=pt=0,br=Ml=null,Kd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-ln(l),m=1<<f;i|=n[f],l&=~m}return si=i,sc(),a}function o_(n,i){Oe=null,R.H=Tr,i===pl?(i=by(),rt=3):i===_y?(i=by(),rt=4):rt=i===Ev?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Me===null&&(pt=1,Ac(n,Un(i,n.current)))}function l_(){var n=R.H;return R.H=Tr,n===null?Tr:n}function u_(){var n=R.A;return R.A=YS,n}function em(){pt=4,ii||(qe&4194176)!==qe&&Bn.current!==null||(io=!0),(ns&134217727)===0&&(oa&134217727)===0||nt===null||ai(nt,qe,Gn,!1)}function tm(n,i,a){var l=ht;ht|=2;var f=l_(),m=u_();(nt!==n||qe!==i)&&(kc=null,ao(n,i)),i=!1;var _=pt;e:do try{if(rt!==0&&Me!==null){var T=Me,D=Rn;switch(rt){case 8:Jd(),_=6;break e;case 3:case 2:case 6:Bn.current===null&&(i=!0);var U=rt;if(rt=0,Rn=null,oo(n,T,D,U),a&&io){_=0;break e}break;default:U=rt,rt=0,Rn=null,oo(n,T,D,U)}}ZS(),_=pt;break}catch(Y){o_(n,Y)}while(!0);return i&&n.shellSuspendCounter++,Zr=ra=null,ht=l,R.H=f,R.A=m,Me===null&&(nt=null,qe=0,sc()),_}function ZS(){for(;Me!==null;)c_(Me)}function JS(n,i){var a=ht;ht|=2;var l=l_(),f=u_();nt!==n||qe!==i?(kc=null,Oc=Ft()+500,ao(n,i)):io=Di(n,i);e:do try{if(rt!==0&&Me!==null){i=Me;var m=Rn;t:switch(rt){case 1:rt=0,Rn=null,oo(n,i,m,1);break;case 2:if(Ey(m)){rt=0,Rn=null,h_(i);break}i=function(){rt===2&&nt===n&&(rt=7),wr(n)},m.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ey(m)?(rt=0,Rn=null,h_(i)):(rt=0,Rn=null,oo(n,i,m,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var T=Me;if(!_||z_(_)){rt=0,Rn=null;var D=T.sibling;if(D!==null)Me=D;else{var U=T.return;U!==null?(Me=U,Pc(U)):Me=null}break t}}rt=0,Rn=null,oo(n,i,m,5);break;case 6:rt=0,Rn=null,oo(n,i,m,6);break;case 8:Jd(),pt=6;break e;default:throw Error(s(462))}}eA();break}catch(Y){o_(n,Y)}while(!0);return Zr=ra=null,R.H=l,R.A=f,ht=a,Me!==null?0:(nt=null,qe=0,sc(),pt)}function eA(){for(;Me!==null&&!qo();)c_(Me)}function c_(n){var i=Ov(n.alternate,n,si);n.memoizedProps=n.pendingProps,i===null?Pc(n):Me=i}function h_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Rv(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=Rv(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:sd(i);default:r_(a,i),i=Me=e_(i,si),i=Ov(a,i,si)}n.memoizedProps=n.pendingProps,i===null?Pc(n):Me=i}function oo(n,i,a,l){Zr=ra=null,sd(i),Qa=null,yl=0;var f=i.return;try{if(HS(n,f,i,a,qe)){pt=1,Ac(n,Un(a,n.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;pt=1,Ac(n,Un(a,n.current)),Me=null;return}i.flags&32768?(Qe||l===1?n=!0:io||(qe&536870912)!==0?n=!1:(ii=n=!0,(l===2||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,n)):Pc(i)}function Pc(n){var i=n;do{if((i.flags&32768)!==0){f_(i,ii);return}n=i.return;var a=KS(i.alternate,i,si);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=n}while(i!==null);pt===0&&(pt=5)}function f_(n,i){do{var a=QS(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);pt=6,Me=null}function d_(n,i,a,l,f,m,_,T,D,U){var Y=R.T,ne=le.p;try{le.p=2,R.T=null,tA(n,i,a,l,ne,f,m,_,T,D,U)}finally{R.T=Y,le.p=ne}}function tA(n,i,a,l,f,m,_,T){do lo();while(la!==null);if((ht&6)!==0)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=D.lanes|D.childLanes;if(U|=qf,Uu(n,l,U,m,_,T),n===nt&&(Me=nt=null,qe=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Mc||(Mc=!0,Yd=U,Xd=a,sA(Dn,function(){return lo(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,m=le.p,le.p=2,_=ht,ht|=4,qS(n,D),Kv(D,n),AS(dm,n.containerInfo),Qc=!!fm,dm=fm=null,n.current=D,Fv(n,D.alternate,D),Os(),ht=_,le.p=m,R.T=a):n.current=D,Mc?(Mc=!1,la=n,Vl=l):m_(n,U),U=n.pendingLanes,U===0&&(rs=null),$o(D.stateNode),wr(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)U=i[D],f(U.value,{componentStack:U.stack});return(Vl&3)!==0&&lo(),U=n.pendingLanes,(l&4194218)!==0&&(U&42)!==0?n===Wd?Pl++:(Pl=0,Wd=n):Pl=0,Ll(0),null}function m_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,_l(i)))}function lo(){if(la!==null){var n=la,i=Yd;Yd=0;var a=ju(Vl),l=R.T,f=le.p;try{if(le.p=32>a?32:a,R.T=null,la===null)var m=!1;else{a=Xd,Xd=null;var _=la,T=Vl;if(la=null,Vl=0,(ht&6)!==0)throw Error(s(331));var D=ht;if(ht|=4,Zv(_.current),Yv(_,_.current,T,a),ht=D,Ll(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ii,_)}catch{}m=!0}return m}finally{le.p=f,R.T=l,m_(n,i)}}return!1}function p_(n,i,a){i=Un(a,i),i=_d(n.stateNode,i,2),n=Wi(n,i,2),n!==null&&(yt(n,2),wr(n))}function tt(n,i,a){if(n.tag===3)p_(n,n,a);else for(;i!==null;){if(i.tag===3){p_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rs===null||!rs.has(l))){n=Un(a,n),a=vv(2),l=Wi(i,a,2),l!==null&&(_v(a,l,i,n),yt(l,2),wr(l));break}}i=i.return}}function nm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new XS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Gd=!0,f.add(a),n=nA.bind(null,n,i,a),i.then(n,n))}function nA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(qe&a)===a&&(pt===4||pt===3&&(qe&62914560)===qe&&300>Ft()-Qd?(ht&2)===0&&ao(n,0):$d|=a,so===qe&&(so=0)),wr(n)}function g_(n,i){i===0&&(i=xi()),n=Fi(n,i),n!==null&&(yt(n,i),wr(n))}function rA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),g_(n,a)}function iA(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),g_(n,a)}function sA(n,i){return Lr(n,i)}var Lc=null,uo=null,rm=!1,Uc=!1,im=!1,ua=0;function wr(n){n!==uo&&n.next===null&&(uo===null?Lc=uo=n:uo=uo.next=n),Uc=!0,rm||(rm=!0,oA(aA))}function Ll(n,i){if(!im&&Uc){im=!0;do for(var a=!1,l=Lc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-ln(42|n)+1)-1,m&=f&~(_&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,__(l,m))}else m=qe,m=xn(l,l===nt?m:0),(m&3)===0||Di(l,m)||(a=!0,__(l,m));l=l.next}while(a);im=!1}}function aA(){Uc=rm=!1;var n=0;ua!==0&&(pA()&&(n=ua),ua=0);for(var i=Ft(),a=null,l=Lc;l!==null;){var f=l.next,m=y_(l,i);m===0?(l.next=null,a===null?Lc=f:a.next=f,f===null&&(uo=a)):(a=l,(n!==0||(m&3)!==0)&&(Uc=!0)),l=f}Ll(n)}function y_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-ln(m),T=1<<_,D=f[_];D===-1?((T&a)===0||(T&l)!==0)&&(f[_]=Ca(T,i)):D<=i&&(n.expiredLanes|=T),m&=~T}if(i=nt,a=qe,a=xn(n,n===i?a:0),l=n.callbackNode,a===0||n===i&&rt===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ci(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Di(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Ci(l),ju(a)){case 2:case 8:a=at;break;case 32:a=Dn;break;case 268435456:a=Go;break;default:a=Dn}return l=v_.bind(null,n),a=Lr(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Ci(l),n.callbackPriority=2,n.callbackNode=null,2}function v_(n,i){var a=n.callbackNode;if(lo()&&n.callbackNode!==a)return null;var l=qe;return l=xn(n,n===nt?l:0),l===0?null:(s_(n,l,i),y_(n,Ft()),n.callbackNode!=null&&n.callbackNode===a?v_.bind(null,n):null)}function __(n,i){if(lo())return null;s_(n,i,!0)}function oA(n){yA(function(){(ht&6)!==0?Lr(Ee,n):n()})}function sm(){return ua===0&&(ua=Qo()),ua}function E_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fr(""+n)}function T_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function lA(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var m=E_((f[Rt]||null).action),_=l.submitter;_&&(i=(i=_[Rt]||null)?E_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var T=new Ma("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var D=_?T_(f,_):new FormData(f);md(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=_?T_(f,_):new FormData(f),md(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var am=0;am<dy.length;am++){var om=dy[am],uA=om.toLowerCase(),cA=om[0].toUpperCase()+om.slice(1);Jn(uA,"on"+cA)}Jn(ly,"onAnimationEnd"),Jn(uy,"onAnimationIteration"),Jn(cy,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(CS,"onTransitionRun"),Jn(IS,"onTransitionStart"),Jn(NS,"onTransitionCancel"),Jn(hy,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function b_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,U=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(Y){Sc(Y)}f.currentTarget=null,m=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,U=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(Y){Sc(Y)}f.currentTarget=null,m=D}}}}function je(n,i){var a=i[Ms];a===void 0&&(a=i[Ms]=new Set);var l=n+"__bubble";a.has(l)||(w_(i,n,2,!1),a.add(l))}function lm(n,i,a){var l=0;i&&(l|=4),w_(a,n,l,i)}var jc="_reactListening"+Math.random().toString(36).slice(2);function um(n){if(!n[jc]){n[jc]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(hA.has(a)||lm(a,!1,n),lm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[jc]||(i[jc]=!0,lm("selectionchange",!1,i))}}function w_(n,i,a,l){switch($_(i)){case 2:var f=LA;break;case 8:f=UA;break;default:f=bm}a=f.bind(null,i,a,n),f=void 0,!Vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function cm(n,i,a,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;T!==null;){if(_=Zn(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=m=_;continue e}T=T.parentNode}}l=l.return}qu(function(){var U=m,Y=ka(a),ne=[];e:{var G=fy.get(n);if(G!==void 0){var Q=Ma,pe=n;switch(n){case"keypress":if(mr(a)===0)break e;case"keydown":case"keyup":Q=za;break;case"focusin":pe="focus",Q=La;break;case"focusout":pe="blur",Q=La;break;case"beforeblur":case"afterblur":Q=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Zu;break;case ly:case uy:case cy:Q=Ua;break;case hy:Q=ec;break;case"scroll":case"scrollend":Q=Gu;break;case"wheel":Q=Ba;break;case"copy":case"cut":case"paste":Q=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ll;break;case"toggle":case"beforetoggle":Q=nc}var Ie=(i&4)!==0,gt=!Ie&&(n==="scroll"||n==="scrollend"),B=Ie?G!==null?G+"Capture":null:G;Ie=[];for(var L=U,F;L!==null;){var W=L;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||B===null||(W=js(L,B),W!=null&&Ie.push(jl(L,W,F))),gt)break;L=L.return}0<Ie.length&&(G=new Q(G,pe,null,a,Y),ne.push({event:G,listeners:Ie}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",G&&a!==Mn&&(pe=a.relatedTarget||a.fromElement)&&(Zn(pe)||pe[Ur]))break e;if((Q||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=U,pe=pe?Zn(pe):null,pe!==null&&(gt=ue(pe),Ie=pe.tag,pe!==gt||Ie!==5&&Ie!==27&&Ie!==6)&&(pe=null)):(Q=null,pe=U),Q!==pe)){if(Ie=Pn,W="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=ll,W="onPointerLeave",B="onPointerEnter",L="pointer"),gt=Q==null?G:Pi(Q),F=pe==null?G:Pi(pe),G=new Ie(W,L+"leave",Q,a,Y),G.target=gt,G.relatedTarget=F,W=null,Zn(Y)===U&&(Ie=new Ie(B,L+"enter",pe,a,Y),Ie.target=F,Ie.relatedTarget=gt,W=Ie),gt=W,Q&&pe)t:{for(Ie=Q,B=pe,L=0,F=Ie;F;F=co(F))L++;for(F=0,W=B;W;W=co(W))F++;for(;0<L-F;)Ie=co(Ie),L--;for(;0<F-L;)B=co(B),F--;for(;L--;){if(Ie===B||B!==null&&Ie===B.alternate)break t;Ie=co(Ie),B=co(B)}Ie=null}else Ie=null;Q!==null&&S_(ne,G,Q,Ie,!1),pe!==null&&gt!==null&&S_(ne,gt,pe,Ie,!0)}}e:{if(G=U?Pi(U):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var me=Wg;else if(It(G))if(Zg)me=wS;else{me=TS;var ke=ES}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&tl(U.elementType)&&(me=Wg):me=bS;if(me&&(me=me(n,U))){$r(ne,me,a,Y);break e}ke&&ke(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Oa(G,"number",G.value)}switch(ke=U?Pi(U):window,n){case"focusin":(It(ke)||ke.contentEditable==="true")&&(Ha=ke,Bf=U,hl=null);break;case"focusout":hl=Bf=Ha=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,ay(ne,a,Y);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":ay(ne,a,Y)}var ye;if(yr)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else He?K(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(He||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&He&&(ye=rl()):(dr=Y,Hi="value"in dr?dr.value:dr.textContent,He=!0)),ke=zc(U,Te),0<ke.length&&(Te=new al(Te,n,null,a,Y),ne.push({event:Te,listeners:ke}),ye?Te.data=ye:(ye=ie(a),ye!==null&&(Te.data=ye)))),(ye=y?Ct(n,a):Fe(n,a))&&(Te=zc(U,"onBeforeInput"),0<Te.length&&(ke=new al("onBeforeInput","beforeinput",null,a,Y),ne.push({event:ke,listeners:Te}),ke.data=ye)),lA(ne,n,U,a,Y)}b_(ne,i)})}function jl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function zc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=js(n,a),f!=null&&l.unshift(jl(n,f,m)),f=js(n,i),f!=null&&l.push(jl(n,f,m))),n=n.return}return l}function co(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function S_(n,i,a,l,f){for(var m=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,U=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||U===null||(D=U,f?(U=js(a,m),U!=null&&_.unshift(jl(a,U,D))):f||(U=js(a,m),U!=null&&_.push(jl(a,U,D)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function A_(n){return(typeof n=="string"?n:""+n).replace(fA,`
`).replace(dA,"")}function R_(n,i){return i=A_(i),A_(n)===i}function Bc(){}function et(n,i,a,l,f,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(n,""+l);break;case"className":ji(n,"class",l);break;case"tabIndex":ji(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(n,a,l);break;case"style":Fu(n,l,m);break;case"data":if(i!=="object"){ji(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fr(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&et(n,i,"name",f.name,f,null),et(n,i,"formEncType",f.formEncType,f,null),et(n,i,"formMethod",f.formMethod,f,null),et(n,i,"formTarget",f.formTarget,f,null)):(et(n,i,"encType",f.encType,f,null),et(n,i,"method",f.method,f,null),et(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fr(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=fr(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),Ui(n,"popover",l);break;case"xlinkActuate":On(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":On(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":On(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":On(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":On(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":On(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":On(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":On(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":On(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ui(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mf.get(a)||a,Ui(n,a,l))}}function hm(n,i,a,l,f,m){switch(a){case"style":Fu(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?kn(n,l):(typeof l=="number"||typeof l=="bigint")&&kn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ui(n,a,l)}}}function Kt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(n,i,m,_,a,null)}}f&&et(n,i,"srcSet",a.srcSet,a,null),l&&et(n,i,"src",a.src,a,null);return;case"input":je("invalid",n);var T=m=_=f=null,D=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":U=Y;break;case"value":m=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:et(n,i,l,Y,a,null)}}Ls(n,m,T,D,U,_,f,!1),Ps(n);return;case"select":je("invalid",n),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(n,i,f,T,a,null)}i=m,a=_,n.multiple=!!l,i!=null?Ke(n,!!l,i,!1):a!=null&&Ke(n,!!l,a,!0);return;case"textarea":je("invalid",n),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(n,i,_,T,a,null)}Bi(n,l,f,m),Ps(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(n,i,D,l,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<Ul.length;l++)je(Ul[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(n,i,U,l,a,null)}return;default:if(tl(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&hm(n,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(n,i,T,l,a,null))}function mA(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,T=null,D=null,U=null,Y=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ne;default:l.hasOwnProperty(Q)||et(n,i,Q,null,l,ne)}}for(var G in l){var Q=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(Q!=null||ne!=null))switch(G){case"type":m=Q;break;case"name":f=Q;break;case"checked":U=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ne&&et(n,i,G,Q,l,ne)}}zi(n,_,T,D,U,Y,m,f);return;case"select":Q=_=T=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(m)||et(n,i,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":G=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==D&&et(n,i,f,m,l,D)}i=T,a=_,l=Q,G!=null?Ke(n,!!a,G,!1):!!l!=!!a&&(i!=null?Ke(n,!!a,i,!0):Ke(n,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(n,i,T,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(n,i,_,f,l,m)}Us(n,G,Q);return;case"option":for(var pe in a)if(G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:et(n,i,pe,null,l,G)}for(D in l)if(G=l[D],Q=a[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(n,i,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in a)G=a[Ie],a.hasOwnProperty(Ie)&&G!=null&&!l.hasOwnProperty(Ie)&&et(n,i,Ie,null,l,G);for(U in l)if(G=l[U],Q=a[U],l.hasOwnProperty(U)&&G!==Q&&(G!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:et(n,i,U,G,l,Q)}return;default:if(tl(i)){for(var gt in a)G=a[gt],a.hasOwnProperty(gt)&&G!==void 0&&!l.hasOwnProperty(gt)&&hm(n,i,gt,void 0,l,G);for(Y in l)G=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||G===Q||G===void 0&&Q===void 0||hm(n,i,Y,G,l,Q);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&et(n,i,B,null,l,G);for(ne in l)G=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||G===Q||G==null&&Q==null||et(n,i,ne,G,l,Q)}var fm=null,dm=null;function Hc(n){return n.nodeType===9?n:n.ownerDocument}function C_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function mm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pm=null;function pA(){var n=window.event;return n&&n.type==="popstate"?n===pm?!1:(pm=n,!0):(pm=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(n){return D_.resolve(null).then(n).catch(vA)}:N_;function vA(n){setTimeout(function(){throw n})}function gm(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Kl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Kl(i)}function ym(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function _A(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Vi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=nr(n.nextSibling),n===null)break}return null}function EA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=nr(n.nextSibling),n===null))return null;return n}function nr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function x_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function O_(n,i,a){switch(i=Hc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var $n=new Map,k_=new Set;function Fc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var oi=le.d;le.d={f:TA,r:bA,D:wA,C:SA,L:AA,m:RA,X:IA,S:CA,M:NA};function TA(){var n=oi.f(),i=Vc();return n||i}function bA(n){var i=jr(n);i!==null&&i.tag===5&&i.type==="form"?av(i):oi.r(n)}var ho=typeof document>"u"?null:document;function M_(n,i,a){var l=ho;if(l&&typeof i=="string"&&i){var f=dt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),k_.has(f)||(k_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",n),ut(i),l.head.appendChild(i)))}}function wA(n){oi.D(n),M_("dns-prefetch",n,null)}function SA(n,i){oi.C(n,i),M_("preconnect",n,i)}function AA(n,i,a){oi.L(n,i,a);var l=ho;if(l&&n&&i){var f='link[rel="preload"][as="'+dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dt(a.imageSizes)+'"]')):f+='[href="'+dt(n)+'"]';var m=f;switch(i){case"style":m=fo(n);break;case"script":m=mo(n)}$n.has(m)||(n=O({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),$n.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(zl(m))||i==="script"&&l.querySelector(Bl(m))||(i=l.createElement("link"),Kt(i,"link",n),ut(i),l.head.appendChild(i)))}}function RA(n,i){oi.m(n,i);var a=ho;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+dt(l)+'"][href="'+dt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(n)}if(!$n.has(m)&&(n=O({rel:"modulepreload",href:n},i),$n.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(m)))return}l=a.createElement("link"),Kt(l,"link",n),ut(l),a.head.appendChild(l)}}}function CA(n,i,a){oi.S(n,i,a);var l=ho;if(l&&n){var f=Li(l).hoistableStyles,m=fo(n);i=i||"default";var _=f.get(m);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(zl(m)))T.loading=5;else{n=O({rel:"stylesheet",href:n,"data-precedence":i},a),(a=$n.get(m))&&vm(n,a);var D=_=l.createElement("link");ut(D),Kt(D,"link",n),D._p=new Promise(function(U,Y){D.onload=U,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(m,_)}}}function IA(n,i){oi.X(n,i);var a=ho;if(a&&n){var l=Li(a).hoistableScripts,f=mo(n),m=l.get(f);m||(m=a.querySelector(Bl(f)),m||(n=O({src:n,async:!0},i),(i=$n.get(f))&&_m(n,i),m=a.createElement("script"),ut(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function NA(n,i){oi.M(n,i);var a=ho;if(a&&n){var l=Li(a).hoistableScripts,f=mo(n),m=l.get(f);m||(m=a.querySelector(Bl(f)),m||(n=O({src:n,async:!0,type:"module"},i),(i=$n.get(f))&&_m(n,i),m=a.createElement("script"),ut(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function V_(n,i,a,l){var f=(f=Vt.current)?Fc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=Li(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=fo(a.href);var m=Li(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(zl(n)))&&!m._p&&(_.instance=m,_.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),m||DA(f,n,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=Li(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fo(n){return'href="'+dt(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function P_(n){return O({},n,{"data-precedence":n.precedence,precedence:null})}function DA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),ut(i),n.head.appendChild(i))}function mo(n){return'[src="'+dt(n)+'"]'}function Bl(n){return"script[async]"+n}function L_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+dt(a.href)+'"]');if(l)return i.instance=l,ut(l),l;var f=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ut(l),Kt(l,"style",f),qc(l,a.precedence,n),i.instance=l;case"stylesheet":f=fo(a.href);var m=n.querySelector(zl(f));if(m)return i.state.loading|=4,i.instance=m,ut(m),m;l=P_(a),(f=$n.get(f))&&vm(l,f),m=(n.ownerDocument||n).createElement("link"),ut(m);var _=m;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(m,"link",l),i.state.loading|=4,qc(m,a.precedence,n),i.instance=m;case"script":return m=mo(a.src),(f=n.querySelector(Bl(m)))?(i.instance=f,ut(f),f):(l=a,(f=$n.get(m))&&(l=O({},a),_m(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),Kt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,n));return i.instance}function qc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function vm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function _m(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Gc=null;function U_(n,i,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Vi]||m[Pt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var T=l.get(_);T?T.push(m):l.set(_,[m])}}return l}function j_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function xA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hl=null;function OA(){}function kA(n,i,a){if(Hl===null)throw Error(s(475));var l=Hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=fo(a.href),m=n.querySelector(zl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=$c.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,ut(m);return}m=n.ownerDocument||n,a=P_(a),(f=$n.get(f))&&vm(a,f),m=m.createElement("link"),ut(m);var _=m;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=$c.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function MA(){if(Hl===null)throw Error(s(475));var n=Hl;return n.stylesheets&&n.count===0&&Em(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Em(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kc=null;function Em(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kc=new Map,i.forEach(VA,n),Kc=null,$c.call(n))}function VA(n,i){if(!(i.state.loading&4)){var a=Kc.get(n);if(a)var l=a.get(null);else{a=new Map,Kc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=$c.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Fl={$$typeof:x,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function PA(n,i,a,l,f,m,_,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function B_(n,i,a,l,f,m,_,T,D,U,Y,ne){return n=new PA(n,i,a,_,T,D,U,ne),i=1,m===!0&&(i|=24),m=qn(3,null,null,i),n.current=m,m.stateNode=n,i=Zf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},Od(m),n}function H_(n){return n?(n=Ga,n):Ga}function F_(n,i,a,l,f,m){f=H_(f),l.context===null?l.context=f:l.pendingContext=f,l=Xi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Wi(n,l,i),a!==null&&(fn(a,n,i),Rl(a,n,i))}function q_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Tm(n,i){q_(n,i),(n=n.alternate)&&q_(n,i)}function G_(n){if(n.tag===13){var i=Fi(n,67108864);i!==null&&fn(i,n,67108864),Tm(n,67108864)}}var Qc=!0;function LA(n,i,a,l){var f=R.T;R.T=null;var m=le.p;try{le.p=2,bm(n,i,a,l)}finally{le.p=m,R.T=f}}function UA(n,i,a,l){var f=R.T;R.T=null;var m=le.p;try{le.p=8,bm(n,i,a,l)}finally{le.p=m,R.T=f}}function bm(n,i,a,l){if(Qc){var f=wm(l);if(f===null)cm(n,i,l,Yc,a),K_(n,l);else if(zA(f,n,i,a,l))l.stopPropagation();else if(K_(n,l),i&4&&-1<jA.indexOf(n)){for(;f!==null;){var m=jr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Wn(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-ln(_);T.entanglements[1]|=D,_&=~D}wr(m),(ht&6)===0&&(Oc=Ft()+500,Ll(0))}}break;case 13:T=Fi(m,2),T!==null&&fn(T,m,2),Vc(),Tm(m,2)}if(m=wm(l),m===null&&cm(n,i,l,Yc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else cm(n,i,l,null,a)}}function wm(n){return n=ka(n),Sm(n)}var Yc=null;function Sm(n){if(Yc=null,n=Zn(n),n!==null){var i=ue(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Be(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Yc=n,null}function $_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case Ee:return 2;case at:return 8;case Dn:case Vu:return 32;case Go:return 268435456;default:return 32}default:return 32}}var Am=!1,is=null,ss=null,as=null,ql=new Map,Gl=new Map,os=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(n,i){switch(n){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(i.pointerId)}}function $l(n,i,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=jr(i),i!==null&&G_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function zA(n,i,a,l,f){switch(i){case"focusin":return is=$l(is,n,i,a,l,f),!0;case"dragenter":return ss=$l(ss,n,i,a,l,f),!0;case"mouseover":return as=$l(as,n,i,a,l,f),!0;case"pointerover":var m=f.pointerId;return ql.set(m,$l(ql.get(m)||null,n,i,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Gl.set(m,$l(Gl.get(m)||null,n,i,a,l,f)),!0}return!1}function Q_(n){var i=Zn(n.target);if(i!==null){var a=ue(i);if(a!==null){if(i=a.tag,i===13){if(i=Be(a),i!==null){n.blockedOn=i,Mi(n.priority,function(){if(a.tag===13){var l=Cn(),f=Fi(a,l);f!==null&&fn(f,a,l),Tm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=wm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Mn=l,a.target.dispatchEvent(l),Mn=null}else return i=jr(a),i!==null&&G_(i),n.blockedOn=a,!1;i.shift()}return!0}function Y_(n,i,a){Xc(n)&&a.delete(i)}function BA(){Am=!1,is!==null&&Xc(is)&&(is=null),ss!==null&&Xc(ss)&&(ss=null),as!==null&&Xc(as)&&(as=null),ql.forEach(Y_),Gl.forEach(Y_)}function Wc(n,i){n.blockedOn===i&&(n.blockedOn=null,Am||(Am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,BA)))}var Zc=null;function X_(n){Zc!==n&&(Zc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===n&&(Zc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var m=jr(a);m!==null&&(n.splice(i,3),i-=3,md(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Kl(n){function i(D){return Wc(D,n)}is!==null&&Wc(is,n),ss!==null&&Wc(ss,n),as!==null&&Wc(as,n),ql.forEach(i),Gl.forEach(i);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&os.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[Rt]||null;if(typeof m=="function")_||X_(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Rt]||null)T=_.formAction;else if(Sm(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),X_(a)}}}function Rm(n){this._internalRoot=n}Jc.prototype.render=Rm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Cn();F_(a,l,n,i,null,null)},Jc.prototype.unmount=Rm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&lo(),F_(n.current,2,null,n,null,null),Vc(),i[Ur]=null}};function Jc(n){this._internalRoot=n}Jc.prototype.unstable_scheduleHydration=function(n){if(n){var i=zu();n={blockedOn:null,target:n,priority:i};for(var a=0;a<os.length&&i!==0&&i<os[a].priority;a++);os.splice(a,0,n),a===0&&Q_(n)}};var W_=e.version;if(W_!=="19.0.0")throw Error(s(527,W_,"19.0.0"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=te(i),n=n!==null?de(n):null,n=n===null?null:n.stateNode,n};var HA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Ii=eh.inject(HA),Zt=eh}catch{}}return Yl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=mv,m=pv,_=gv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=B_(n,1,!1,null,null,a,l,f,m,_,T,null),n[Ur]=i.current,um(n.nodeType===8?n.parentNode:n),new Rm(i)},Yl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=mv,_=pv,T=gv,D=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=B_(n,1,!0,i,a??null,l,f,m,_,T,D,U),i.context=H_(null),a=i.current,l=Cn(),f=Xi(l),f.callback=null,Wi(a,f,l),i.current.lanes=l,yt(i,l),wr(i),n[Ur]=i.current,um(n),new Jc(i)},Yl.version="19.0.0",Yl}var oE;function WA(){if(oE)return Im.exports;oE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=XA(),Im.exports}var ZA=WA(),N=Lp();const ma=Yh(N);var Xl={},lE;function JA(){if(lE)return Xl;lE=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=h,Xl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,x){const k=new u,q=S.length;if(q<2)return k;const z=(x==null?void 0:x.decode)||E;let $=0;do{const J=S.indexOf("=",$);if(J===-1)break;const X=S.indexOf(";",$),se=X===-1?q:X;if(J>se){$=S.lastIndexOf(";",J-1)+1;continue}const ae=d(S,$,J),fe=p(S,J,ae),M=S.slice(ae,fe);if(k[M]===void 0){let C=d(S,J+1,se),R=p(S,se,C);const O=z(S.slice(C,R));k[M]=O}$=se+1}while($<q);return k}function d(S,x,k){do{const q=S.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<k);return k}function p(S,x,k){for(;x>k;){const q=S.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return k}function g(S,x,k){const q=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=q(x);if(!e.test(z))throw new TypeError(`argument val is invalid: ${x}`);let $=S+"="+z;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!b(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Xl}JA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uE="popstate";function eR(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return rp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:cu(o)}return nR(e,t,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tR(){return Math.random().toString(36).substring(2,10)}function cE(r,e){return{usr:r.state,key:r.key,idx:e}}function rp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||s||tR()}}function cu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Vo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function nR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){d="POP";let z=E(),$=z==null?null:z-g;g=z,p&&p({action:d,location:q.location,delta:$})}function S(z,$){d="PUSH";let J=rp(q.location,z,$);g=E()+1;let X=cE(J,g),se=q.createHref(J);try{h.pushState(X,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(se)}u&&p&&p({action:d,location:q.location,delta:1})}function x(z,$){d="REPLACE";let J=rp(q.location,z,$);g=E();let X=cE(J,g),se=q.createHref(J);h.replaceState(X,"",se),u&&p&&p({action:d,location:q.location,delta:0})}function k(z){let $=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof z=="string"?z:cu(z);return J=J.replace(/ $/,"%20"),lt($,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,$)}let q={get action(){return d},get location(){return r(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(uE,b),p=z,()=>{o.removeEventListener(uE,b),p=null}},createHref(z){return e(o,z)},createURL:k,encodeLocation(z){let $=k(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:x,go(z){return h.go(z)}};return q}function a0(r,e,t="/"){return rR(r,e,t,!1)}function rR(r,e,t,s){let o=typeof e=="string"?Vo(e):e,u=pi(o.pathname||"/",t);if(u==null)return null;let h=o0(r);iR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=pR(u);d=dR(h[p],g,s)}return d}function o0(r,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=hi([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),o0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:hR(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of l0(u.path))o(u,h,p)}),e}function l0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=l0(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function iR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:fR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var sR=/^:[\w-]+$/,aR=3,oR=2,lR=1,uR=10,cR=-2,hE=r=>r==="*";function hR(r,e){let t=r.split("/"),s=t.length;return t.some(hE)&&(s+=cR),e&&(s+=oR),t.filter(o=>!hE(o)).reduce((o,u)=>o+(sR.test(u)?aR:u===""?lR:uR),s)}function fR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function dR(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:hi([u,b.pathname]),pathnameBase:_R(hi([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=hi([u,b.pathnameBase]))}return h}function wh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=mR(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},S)=>{if(E==="*"){let k=d[S]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[S];return b&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function mR(r,e=!1,t=!0){sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function gR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Vo(r):r;return{pathname:t?t.startsWith("/")?t:yR(t,e):e,search:ER(s),hash:TR(o)}}function yR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function km(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Up(r){let e=vR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function jp(r,e,t,s=!1){let o;typeof r=="string"?o=Vo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}d=b>=0?e[b]:"/"}let p=gR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var hi=r=>r.join("/").replace(/\/\/+/g,"/"),_R=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ER=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,TR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function bR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var wR=["GET",...u0];new Set(wR);var Po=N.createContext(null);Po.displayName="DataRouter";var Xh=N.createContext(null);Xh.displayName="DataRouterState";var c0=N.createContext({isTransitioning:!1});c0.displayName="ViewTransition";var SR=N.createContext(new Map);SR.displayName="Fetchers";var AR=N.createContext(null);AR.displayName="Await";var or=N.createContext(null);or.displayName="Navigation";var Tu=N.createContext(null);Tu.displayName="Location";var Mr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var zp=N.createContext(null);zp.displayName="RouteError";function RR(r,{relative:e}={}){lt(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=N.useContext(or),{hash:o,pathname:u,search:h}=bu(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:hi([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Lo(){return N.useContext(Tu)!=null}function Is(){return lt(Lo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Tu).location}var h0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(r){N.useContext(or).static||N.useLayoutEffect(r)}function Bp(){let{isDataRoute:r}=N.useContext(Mr);return r?jR():CR()}function CR(){lt(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(Po),{basename:e,navigator:t}=N.useContext(or),{matches:s}=N.useContext(Mr),{pathname:o}=Is(),u=JSON.stringify(Up(s)),h=N.useRef(!1);return f0(()=>{h.current=!0}),N.useCallback((p,g={})=>{if(sr(h.current,h0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=jp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hi([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}N.createContext(null);function bu(r,{relative:e}={}){let{matches:t}=N.useContext(Mr),{pathname:s}=Is(),o=JSON.stringify(Up(t));return N.useMemo(()=>jp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function IR(r,e){return d0(r,e)}function d0(r,e,t,s){var J;lt(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=N.useContext(or),{matches:h}=N.useContext(Mr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",b=d&&d.route;{let X=b&&b.path||"";m0(g,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=Is(),x;if(e){let X=typeof e=="string"?Vo(e):e;lt(E==="/"||((J=X.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=S;let k=x.pathname||"/",q=k;if(E!=="/"){let X=E.replace(/^\//,"").split("/");q="/"+k.replace(/^\//,"").split("/").slice(X.length).join("/")}let z=!u&&t&&t.matches&&t.matches.length>0?t.matches:a0(r,{pathname:q});sr(b||z!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),sr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=kR(z&&z.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:hi([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:hi([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,t,s);return e&&$?N.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},$):$}function NR(){let r=UR(),e=bR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,h)}var DR=N.createElement(NR,null),xR=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?N.createElement(Mr.Provider,{value:this.props.routeContext},N.createElement(zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OR({routeContext:r,match:e,children:t}){let s=N.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Mr.Provider,{value:r},t)}function kR(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:b}=t,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,S=!1,x=null,k=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||DR,h&&(d<0&&E===0?(m0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):d===E&&(S=!0,k=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),z=()=>{let $;return b?$=x:S?$=k:g.route.Component?$=N.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,N.createElement(OR,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:$})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?N.createElement(xR,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:z(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):z()},null)}function Hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MR(r){let e=N.useContext(Po);return lt(e,Hp(r)),e}function VR(r){let e=N.useContext(Xh);return lt(e,Hp(r)),e}function PR(r){let e=N.useContext(Mr);return lt(e,Hp(r)),e}function Fp(r){let e=PR(r),t=e.matches[e.matches.length-1];return lt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function LR(){return Fp("useRouteId")}function UR(){var s;let r=N.useContext(zp),e=VR("useRouteError"),t=Fp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function jR(){let{router:r}=MR("useNavigate"),e=Fp("useNavigate"),t=N.useRef(!1);return f0(()=>{t.current=!0}),N.useCallback(async(o,u={})=>{sr(t.current,h0),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var fE={};function m0(r,e,t){!e&&!fE[r]&&(fE[r]=!0,sr(!1,t))}N.memo(zR);function zR({routes:r,future:e,state:t}){return d0(r,void 0,t,e)}function BR({to:r,replace:e,state:t,relative:s}){lt(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(or);sr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Mr),{pathname:h}=Is(),d=Bp(),p=jp(r,Up(u),h,s==="path"),g=JSON.stringify(p);return N.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function nn(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Vo(t));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:S="default"}=t,x=N.useMemo(()=>{let k=pi(p,h);return k==null?null:{location:{pathname:k,search:g,hash:E,state:b,key:S},navigationType:s}},[h,p,g,E,b,S,s]);return sr(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(or.Provider,{value:d},N.createElement(Tu.Provider,{children:e,value:x}))}function FR({children:r,location:e}){return IR(ip(r),e)}function ip(r,e=[]){let t=[];return N.Children.forEach(r,(s,o)=>{if(!N.isValidElement(s))return;let u=[...e,o];if(s.type===N.Fragment){t.push.apply(t,ip(s.props.children,u));return}lt(s.type===nn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ip(s.props.children,u)),t.push(h)}),t}var hh="get",fh="application/x-www-form-urlencoded";function Wh(r){return r!=null&&typeof r.tagName=="string"}function qR(r){return Wh(r)&&r.tagName.toLowerCase()==="button"}function GR(r){return Wh(r)&&r.tagName.toLowerCase()==="form"}function $R(r){return Wh(r)&&r.tagName.toLowerCase()==="input"}function KR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function QR(r,e){return r.button===0&&(!e||e==="_self")&&!KR(r)}var th=null;function YR(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var XR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!XR.has(r)?(sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function WR(r,e){let t,s,o,u,h;if(GR(r)){let d=r.getAttribute("action");s=d?pi(d,e):null,t=r.getAttribute("method")||hh,o=Mm(r.getAttribute("enctype"))||fh,u=new FormData(r)}else if(qR(r)||$R(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?pi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||hh,o=Mm(r.getAttribute("formenctype"))||Mm(d.getAttribute("enctype"))||fh,u=new FormData(d,r),!YR()){let{name:g,type:E,value:b}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,s=null,o=fh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function qp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ZR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function eC(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ZR(u,t);return h.links?h.links():[]}return[]}));return iC(s.flat(1).filter(JR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dE(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function tC(r,e,{includeHydrateFallback:t}={}){return nC(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nC(r){return[...new Set(r)]}function rC(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function iC(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(rC(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function sC(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&pi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function p0(){let r=N.useContext(Po);return qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function aC(){let r=N.useContext(Xh);return qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gp=N.createContext(void 0);Gp.displayName="FrameworkContext";function g0(){let r=N.useContext(Gp);return qp(r,"You must render this element inside a <HydratedRouter> element"),r}function oC(r,e){let t=N.useContext(Gp),[s,o]=N.useState(!1),[u,h]=N.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,S=N.useRef(null);N.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=$=>{$.forEach(J=>{h(J.isIntersecting)})},z=new IntersectionObserver(q,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[r]),N.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Wl(d,x),onBlur:Wl(p,k),onMouseEnter:Wl(g,x),onMouseLeave:Wl(E,k),onTouchStart:Wl(b,x)}]:[!1,S,{}]}function Wl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function lC({page:r,...e}){let{router:t}=p0(),s=N.useMemo(()=>a0(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?N.createElement(cC,{page:r,matches:s,...e}):null}function uC(r){let{manifest:e,routeModules:t}=g0(),[s,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return eC(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function cC({page:r,matches:e,...t}){let s=Is(),{manifest:o,routeModules:u}=g0(),{basename:h}=p0(),{loaderData:d,matches:p}=aC(),g=N.useMemo(()=>dE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=N.useMemo(()=>dE(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=N.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,q=!1;if(e.forEach($=>{var X;let J=o.routes[$.route.id];!J||!J.hasLoader||(!g.some(se=>se.route.id===$.route.id)&&$.route.id in d&&((X=u[$.route.id])!=null&&X.shouldRevalidate)||J.hasClientLoader?q=!0:k.add($.route.id))}),k.size===0)return[];let z=sC(r,h);return q&&k.size>0&&z.searchParams.set("_routes",e.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[h,d,s,o,g,e,r,u]),S=N.useMemo(()=>tC(E,o),[E,o]),x=uC(E);return N.createElement(N.Fragment,null,b.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),S.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),x.map(({key:k,link:q})=>N.createElement("link",{key:k,...q})))}function hC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y0&&(window.__reactRouterVersion="7.3.0")}catch{}function fC({basename:r,children:e,window:t}){let s=N.useRef();s.current==null&&(s.current=eR({window:t,v5Compat:!0}));let o=s.current,[u,h]=N.useState({action:o.action,location:o.location}),d=N.useCallback(p=>{N.startTransition(()=>h(p))},[h]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(HR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var v0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=N.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:b,...S},x){let{basename:k}=N.useContext(or),q=typeof g=="string"&&v0.test(g),z,$=!1;if(typeof g=="string"&&q&&(z=g,y0))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=pi(O.pathname,k);O.origin===R.origin&&P!=null?g=P+O.search+O.hash:$=!0}catch{sr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=RR(g,{relative:o}),[X,se,ae]=oC(s,S),fe=pC(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:b});function M(R){e&&e(R),R.defaultPrevented||fe(R)}let C=N.createElement("a",{...S,...ae,href:z||J,onClick:$||u?e:M,ref:hC(x,se),target:p,"data-discover":!q&&t==="render"?"true":void 0});return X&&!q?N.createElement(N.Fragment,null,C,N.createElement(lC,{page:J})):C});_0.displayName="Link";var Kn=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let b=bu(h,{relative:g.relative}),S=Is(),x=N.useContext(Xh),{navigator:k,basename:q}=N.useContext(or),z=x!=null&&EC(b)&&d===!0,$=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,J=S.pathname,X=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(J=J.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&q&&(X=pi(X,q)||X);const se=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=J===$||!o&&J.startsWith($)&&J.charAt(se)==="/",fe=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),M={isActive:ae,isPending:fe,isTransitioning:z},C=ae?e:void 0,R;typeof s=="function"?R=s(M):R=[s,ae?"active":null,fe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return N.createElement(_0,{...g,"aria-current":C,className:R,ref:E,style:O,to:h,viewTransition:d},typeof p=="function"?p(M):p)});Kn.displayName="NavLink";var dC=N.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=hh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...S},x)=>{let k=vC(),q=_C(d,{relative:g}),z=h.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&v0.test(d),J=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let se=X.nativeEvent.submitter,ae=(se==null?void 0:se.getAttribute("formmethod"))||h;k(se||X.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return N.createElement("form",{ref:x,method:z,action:q,onSubmit:s?p:J,...S,"data-discover":!$&&r==="render"?"true":void 0})});dC.displayName="Form";function mC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E0(r){let e=N.useContext(Po);return lt(e,mC(r)),e}function pC(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Bp(),p=Is(),g=bu(r,{relative:u});return N.useCallback(E=>{if(QR(E,e)){E.preventDefault();let b=t!==void 0?t:cu(p)===cu(g);d(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,r,o,u,h])}var gC=0,yC=()=>`__${String(++gC)}__`;function vC(){let{router:r}=E0("useSubmit"),{basename:e}=N.useContext(or),t=LR();return N.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=WR(s,e);if(o.navigate===!1){let E=o.fetcherKey||yC();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function _C(r,{relative:e}={}){let{basename:t}=N.useContext(or),s=N.useContext(Mr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},h=Is();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let E=d.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:hi([t,u.pathname])),cu(u)}function EC(r,e={}){let t=N.useContext(c0);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=E0("useViewTransitionState"),o=bu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=pi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=pi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}new TextEncoder;var TC=s0();const bo=Yh(TC),bC=()=>A.jsx("div",{children:A.jsx("h1",{children:"UNAUTHORIZED ACCESS"})}),wC=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},SC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,x=g&63;p||(x=64,h||(S=64)),s.push(t[E],t[b],t[S],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(T0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):SC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new AC;const S=u<<2|d>>4;if(s.push(S),g!==64){const x=d<<4&240|g>>2;if(s.push(x),b!==64){const k=g<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RC=function(r){const e=T0(r);return b0.encodeByteArray(e,!0)},Sh=function(r){return RC(r).replace(/\./g,"")},w0=function(r){try{return b0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=()=>CC().__FIREBASE_DEFAULTS__,NC=()=>{if(typeof process>"u"||typeof mE>"u")return;const r=mE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&w0(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return wC()||IC()||NC()||DC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S0=r=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},A0=r=>{const e=S0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},R0=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},C0=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sh(JSON.stringify(t)),Sh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function kC(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LC(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function UC(){return!kC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jC(){try{return typeof indexedDB=="object"}catch{return!1}}function zC(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="FirebaseError";class Vr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=BC,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?HC(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Vr(o,d,s)}}function HC(r,e){return r.replace(FC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FC=/\{\$([^}]+)}/g;function qC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ya(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(pE(u)&&pE(h)){if(!ya(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function pE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function GC(r,e){const t=new $C(r,e);return t.subscribe.bind(t)}class $C{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");KC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r){return r&&r._delegate?r._delegate:r}class Ts{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XC(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YC(r){return r===ca?void 0:r}function XC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const ZC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},JC=Le.INFO,eI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},tI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=eI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=JC,this._logHandler=tI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const nI=(r,e)=>e.some(t=>r instanceof t);let gE,yE;function rI(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iI(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,sp=new WeakMap,D0=new WeakMap,Pm=new WeakMap,Kp=new WeakMap;function sI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ys(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&N0.set(t,r)}).catch(()=>{}),Kp.set(e,r),e}function aI(r){if(sp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});sp.set(r,e)}let ap={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return sp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||D0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oI(r){ap=r(ap)}function lI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Lm(this),e,...t);return D0.set(s,e.sort?e.sort():[e]),ys(s)}:iI().includes(r)?function(...e){return r.apply(Lm(this),e),ys(N0.get(this))}:function(...e){return ys(r.apply(Lm(this),e))}}function uI(r){return typeof r=="function"?lI(r):(r instanceof IDBTransaction&&aI(r),nI(r,rI())?new Proxy(r,ap):r)}function ys(r){if(r instanceof IDBRequest)return sI(r);if(Pm.has(r))return Pm.get(r);const e=uI(r);return e!==r&&(Pm.set(r,e),Kp.set(e,r)),e}const Lm=r=>Kp.get(r);function cI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=ys(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ys(h.result),p.oldVersion,p.newVersion,ys(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const hI=["get","getKey","getAll","getAllKeys","count"],fI=["put","add","delete","clear"],Um=new Map;function vE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=fI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hI.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Um.set(e,u),u}oI(r=>({...r,get:(e,t,s)=>vE(e,t)||r.get(e,t,s),has:(e,t)=>!!vE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function mI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",_E="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new $p("@firebase/app"),pI="@firebase/app-compat",gI="@firebase/analytics-compat",yI="@firebase/analytics",vI="@firebase/app-check-compat",_I="@firebase/app-check",EI="@firebase/auth",TI="@firebase/auth-compat",bI="@firebase/database",wI="@firebase/data-connect",SI="@firebase/database-compat",AI="@firebase/functions",RI="@firebase/functions-compat",CI="@firebase/installations",II="@firebase/installations-compat",NI="@firebase/messaging",DI="@firebase/messaging-compat",xI="@firebase/performance",OI="@firebase/performance-compat",kI="@firebase/remote-config",MI="@firebase/remote-config-compat",VI="@firebase/storage",PI="@firebase/storage-compat",LI="@firebase/firestore",UI="@firebase/vertexai",jI="@firebase/firestore-compat",zI="firebase",BI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",HI={[op]:"fire-core",[pI]:"fire-core-compat",[yI]:"fire-analytics",[gI]:"fire-analytics-compat",[_I]:"fire-app-check",[vI]:"fire-app-check-compat",[EI]:"fire-auth",[TI]:"fire-auth-compat",[bI]:"fire-rtdb",[wI]:"fire-data-connect",[SI]:"fire-rtdb-compat",[AI]:"fire-fn",[RI]:"fire-fn-compat",[CI]:"fire-iid",[II]:"fire-iid-compat",[NI]:"fire-fcm",[DI]:"fire-fcm-compat",[xI]:"fire-perf",[OI]:"fire-perf-compat",[kI]:"fire-rc",[MI]:"fire-rc-compat",[VI]:"fire-gcs",[PI]:"fire-gcs-compat",[LI]:"fire-fst",[jI]:"fire-fst-compat",[UI]:"fire-vertex","fire-js":"fire-js",[zI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,FI=new Map,up=new Map;function EE(r,e){try{r.container.addComponent(e)}catch(t){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function va(r){const e=r.name;if(up.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,r);for(const t of Ah.values())EE(t,r);for(const t of FI.values())EE(t,r);return!0}function Jh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new wu("app","Firebase",qI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=BI;function x0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw vs.create("bad-app-name",{appName:String(o)});if(t||(t=R0()),!t)throw vs.create("no-options");const u=Ah.get(o);if(u){if(ya(t,u.options)&&ya(s,u.config))return u;throw vs.create("duplicate-app",{appName:o})}const h=new WC(o);for(const p of up.values())h.addComponent(p);const d=new GI(t,s,h);return Ah.set(o,d),d}function Qp(r=lp){const e=Ah.get(r);if(!e&&r===lp&&R0())return x0();if(!e)throw vs.create("no-app",{appName:r});return e}function Ar(r,e,t){var s;let o=(s=HI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(d.join(" "));return}va(new Ts(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="firebase-heartbeat-database",KI=1,hu="firebase-heartbeat-store";let jm=null;function O0(){return jm||(jm=cI($I,KI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(r=>{throw vs.create("idb-open",{originalErrorMessage:r.message})})),jm}async function QI(r){try{const t=(await O0()).transaction(hu),s=await t.objectStore(hu).get(k0(r));return await t.done,s}catch(e){if(e instanceof Vr)gi.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(t.message)}}}async function TE(r,e){try{const s=(await O0()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,k0(r)),await s.done}catch(t){if(t instanceof Vr)gi.warn(t.message);else{const s=vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gi.warn(s.message)}}}function k0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1024,XI=30;class WI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>XI){const h=e1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bE(),{heartbeatsToSend:s,unsentEntries:o}=ZI(this._heartbeatsCache.heartbeats),u=Sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return gi.warn(t),""}}}function bE(){return new Date().toISOString().substring(0,10)}function ZI(r,e=YI){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),wE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class JI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jC()?zC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return TE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return TE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wE(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function e1(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r){va(new Ts("platform-logger",e=>new dI(e),"PRIVATE")),va(new Ts("heartbeat",e=>new WI(e),"PRIVATE")),Ar(op,_E,r),Ar(op,_E,"esm2017"),Ar("fire-js","")}t1("");var n1="firebase",r1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(n1,r1,"app");function Yp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function M0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i1=M0,V0=new wu("auth","Firebase",M0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new $p("@firebase/auth");function s1(r,...e){Rh.logLevel<=Le.WARN&&Rh.warn(`Auth (${wa}): ${r}`,...e)}function dh(r,...e){Rh.logLevel<=Le.ERROR&&Rh.error(`Auth (${wa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(r,...e){throw Xp(r,...e)}function Rr(r,...e){return Xp(r,...e)}function P0(r,e,t){const s=Object.assign(Object.assign({},i1()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function fi(r){return P0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return V0.create(r,...e)}function be(r,e,...t){if(!r)throw Xp(e,...t)}function li(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function yi(r,e){r||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function a1(){return SE()==="http:"||SE()==="https:"}function SE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a1()||VC()||"connection"in navigator)?navigator.onLine:!0}function l1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=OC()||PC()}get(){return o1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){yi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Au(3e4,6e4);function bi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function wi(r,e,t,s,o={}){return U0(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Su(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return MC()||(g.referrerPolicy="no-referrer"),L0.fetch()(j0(r,r.config.apiHost,t,d),g)})}async function U0(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},u1),e);try{const o=new f1(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw P0(r,E,g);ar(r,E)}}catch(o){if(o instanceof Vr)throw o;ar(r,"network-request-failed",{message:String(o)})}}async function Ru(r,e,t,s,o={}){const u=await wi(r,e,t,s,o);return"mfaPendingCredential"in u&&ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}function j0(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Wp(r.config,o):`${r.config.apiScheme}://${o}`}function h1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Rr(this.auth,"network-request-failed")),c1.get())})}}function nh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Rr(r,e,s);return o.customData._tokenResponse=t,o}function AE(r){return r!==void 0&&r.enterprise!==void 0}class d1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return h1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m1(r,e){return wi(r,"GET","/v2/recaptchaConfig",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(r,e){return wi(r,"POST","/v1/accounts:delete",e)}async function z0(r,e){return wi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g1(r,e=!1){const t=At(r),s=await t.getIdToken(e),o=Zp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:su(zm(o.auth_time)),issuedAtTime:su(zm(o.iat)),expirationTime:su(zm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function zm(r){return Number(r)*1e3}function Zp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=w0(t);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function RE(r){const e=Zp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Vr&&y1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function y1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(r){var e;const t=r.auth,s=await r.getIdToken(),o=await fu(r,z0(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?B0(u.providerUserInfo):[],d=E1(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new hp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function _1(r){const e=At(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function B0(r){return r.map(e=>{var{providerId:t}=e,s=Yp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(r,e){const t=await U0(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=j0(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",L0.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function b1(r,e){return wi(r,"POST","/v2/accounts:revokeToken",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=RE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await T1(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new So;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await fu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return g1(this,e)}reload(){return _1(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await fu(this,p1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,k=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(d=t.tenantId)!==null&&d!==void 0?d:void 0,z=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,J=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:se,isAnonymous:ae,providerData:fe,stsTokenManager:M}=t;be(X&&M,e,"internal-error");const C=So.fromJSON(this.name,M);be(typeof X=="string",e,"internal-error"),us(b,e.name),us(S,e.name),be(typeof se=="boolean",e,"internal-error"),be(typeof ae=="boolean",e,"internal-error"),us(x,e.name),us(k,e.name),us(q,e.name),us(z,e.name),us($,e.name),us(J,e.name);const R=new ui({uid:X,auth:e,email:S,emailVerified:se,displayName:b,isAnonymous:ae,photoURL:k,phoneNumber:x,tenantId:q,stsTokenManager:C,createdAt:$,lastLoginAt:J});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(O=>Object.assign({},O))),z&&(R._redirectEventId=z),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new So;o.updateFromServerResponse(t);const u=new ui({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?B0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new So;d.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function ci(r){yi(r instanceof Function,"Expected a class definition");let e=CE.get(r);return e?(yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,CE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}H0.type="NONE";const IE=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,e,t){return`firebase:${r}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(ci(IE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ci(IE);const h=mh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const b=ui._fromJSON(e,E);g!==u&&(d=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q0(e))return"Blackberry";if(Y0(e))return"Webos";if(q0(e))return"Safari";if((e.includes("chrome/")||G0(e))&&!e.includes("edge/"))return"Chrome";if(K0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function F0(r=an()){return/firefox\//i.test(r)}function q0(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G0(r=an()){return/crios\//i.test(r)}function $0(r=an()){return/iemobile/i.test(r)}function K0(r=an()){return/android/i.test(r)}function Q0(r=an()){return/blackberry/i.test(r)}function Y0(r=an()){return/webos/i.test(r)}function Jp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function w1(r=an()){var e;return Jp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S1(){return LC()&&document.documentMode===10}function X0(r=an()){return Jp(r)||K0(r)||Y0(r)||Q0(r)||/windows phone/i.test(r)||$0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r,e=[]){let t;switch(r){case"Browser":t=NE(an());break;case"Worker":t=`${NE(an())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r,e={}){return wi(r,"GET","/v2/passwordPolicy",bi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=6;class I1{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:C1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new A1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await z0(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(fi(this));const t=e?At(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R1(this),t=new I1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await b1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&s1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ns(r){return At(r)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=GC(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D1(r){ef=r}function Z0(r){return ef.loadJS(r)}function x1(){return ef.recaptchaEnterpriseScript}function O1(){return ef.gapiScript}function k1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class M1{constructor(){this.enterprise=new V1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class V1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const P1="recaptcha-enterprise",J0="NO_RECAPTCHA";class L1{constructor(e){this.type=P1,this.auth=Ns(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{m1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new d1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;AE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(J0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new M1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&AE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=x1();p.length!==0&&(p+=d),Z0(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function xE(r,e,t,s=!1,o=!1){const u=new L1(r);let h;if(o)h=J0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ih(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await xE(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await xE(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r,e){const t=Jh(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ya(u,e??{}))return o;ar(o,"already-initialized")}return t.initialize({options:e})}function j1(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function z1(r,e,t){const s=Ns(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eb(e),{host:h,port:d}=B1(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ya(g,s.config.emulator)&&ya(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,H1()}function eb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function B1(r){const e=eb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:OE(h)}}}function OE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function H1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function F1(r,e){return wi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(r,e){return Ru(r,"POST","/v1/accounts:signInWithPassword",bi(r,e))}async function G1(r,e){return wi(r,"POST","/v1/accounts:sendOobCode",bi(r,e))}async function $1(r,e){return G1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(r,e){return Ru(r,"POST","/v1/accounts:signInWithEmailLink",bi(r,e))}async function Q1(r,e){return Ru(r,"POST","/v1/accounts:signInWithEmailLink",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends eg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new du(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new du(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,t,"signInWithPassword",q1);case"emailLink":return K1(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,s,"signUpPassword",F1);case"emailLink":return Q1(e,{idToken:t,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r,e){return Ru(r,"POST","/v1/accounts:signInWithIdp",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="http://localhost";class _a extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Yp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new _a(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ro(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:Y1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W1(r){const e=Zl(Jl(r)).link,t=e?Zl(Jl(e)).deep_link_id:null,s=Zl(Jl(r)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||t||e||r}class tg{constructor(e){var t,s,o,u,h,d;const p=Zl(Jl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=X1((o=p.mode)!==null&&o!==void 0?o:null);be(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=W1(e);try{return new tg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=tg.parseLink(t);return be(s,"argument-error"),du._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Cu{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _a._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fs.credential(t,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Cu{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Cu{constructor(){super("twitter.com")}static credential(e,t){return _a._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ms.credential(t,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(r,e){return Ru(r,"POST","/v1/accounts:signUp",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),h=kE(s);return new Ea({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=kE(s);return new Ea({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function kE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Vr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nh(e,t,s,o)}}function nb(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function J1(r,e,t=!1){const s=await fu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e,t=!1){const{auth:s}=r;if(In(s.app))return Promise.reject(fi(s));const o="reauthenticate";try{const u=await fu(r,nb(s,o,e,r),t);be(u.idToken,s,"internal-error");const h=Zp(u.idToken);be(h,s,"internal-error");const{sub:d}=h;return be(r.uid===d,s,"user-mismatch"),Ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ar(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(r,e,t=!1){if(In(r.app))return Promise.reject(fi(r));const s="signIn",o=await nb(r,s,e),u=await Ea._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function tN(r,e){return rb(Ns(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(r){const e=Ns(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sb(r,e,t){const s=Ns(r);await Ih(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$1)}async function nN(r,e,t){if(In(r.app))return Promise.reject(fi(r));const s=Ns(r),h=await Ih(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ib(r),p}),d=await Ea._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function rN(r,e,t){return In(r.app)?Promise.reject(fi(r)):tN(At(r),Uo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ib(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(r,e){return At(r).setPersistence(e)}function sN(r,e,t,s){return At(r).onIdTokenChanged(e,t,s)}function aN(r,e,t){return At(r).beforeAuthStateChanged(e,t)}function tf(r,e,t,s){return At(r).onAuthStateChanged(e,t,s)}function oN(r){return At(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1e3,uN=10;class ob extends ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);S1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ob.type="LOCAL";const lb=ob;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ub.type="SESSION";const cb=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await cN(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=ng("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function fN(r){Cr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function dN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function pN(){return hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firebaseLocalStorageDb",gN=1,xh="firebaseLocalStorage",db="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function yN(){const r=indexedDB.deleteDatabase(fb);return new Iu(r).toPromise()}function fp(){const r=indexedDB.open(fb,gN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:db})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await yN(),e(await fp()))})})}async function ME(r,e,t){const s=rf(r,!0).put({[db]:e,value:t});return new Iu(s).toPromise()}async function vN(r,e){const t=rf(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function VE(r,e){const t=rf(r,!0).delete(e);return new Iu(t).toPromise()}const _N=800,EN=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>EN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(pN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dN(),!this.activeServiceWorker)return;this.sender=new hN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await ME(e,Dh,"1"),await VE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ME(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>vN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>VE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const TN=mb;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r,e){return e?ci(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wN(r){return rb(r.auth,new rg(r),r.bypassAuthState)}function SN(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),eN(t,new rg(r),r.bypassAuthState)}async function AN(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),J1(t,new rg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return SN;default:ar(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Au(2e3,1e4);class wo extends pb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RN.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="pendingRedirect",ph=new Map;class IN extends pb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await NN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NN(r,e){const t=ON(e),s=xN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function DN(r,e){ph.set(r._key(),e)}function xN(r){return ci(r._redirectPersistence)}function ON(r){return mh(CN,r.config.apiKey,r.name)}async function kN(r,e,t=!1){if(In(r.app))return Promise.reject(fi(r));const s=Ns(r),o=bN(s,e),h=await new IN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=10*60*1e3;class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!gb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MN&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(r,e={}){return wi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jN=/^https?/;async function zN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await LN(r);for(const t of e)try{if(BN(t))return}catch{}ar(r,"unauthorized-domain")}function BN(r){const e=cp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!jN.test(t))return!1;if(UN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new Au(3e4,6e4);function LE(){const r=Cr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function FN(r){return new Promise((e,t)=>{var s,o,u;function h(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),t(Rr(r,"network-request-failed"))},timeout:HN.get()})}if(!((o=(s=Cr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Cr().gapi)===null||u===void 0)&&u.load)h();else{const d=k1("iframefcb");return Cr()[d]=()=>{gapi.load?h():t(Rr(r,"network-request-failed"))},Z0(`${O1()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function qN(r){return gh=gh||FN(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Au(5e3,15e3),$N="__/auth/iframe",KN="emulator/auth/iframe",QN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Wp(e,KN):`https://${r.config.authDomain}/${$N}`,s={apiKey:e.apiKey,appName:r.name,v:wa},o=YN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Su(s).slice(1)}`}async function WN(r){const e=await qN(r),t=Cr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:XN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Rr(r,"network-request-failed"),d=Cr().setTimeout(()=>{u(h)},GN.get());function p(){Cr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JN=500,eD=600,tD="_blank",nD="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rD(r,e,t,s=JN,o=eD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},ZN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=an().toLowerCase();t&&(d=G0(g)?tD:t),F0(g)&&(e=e||nD,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[x,k])=>`${S}${x}=${k},`,"");if(w1(g)&&d!=="_self")return iD(e||"",d),new UE(null);const b=window.open(e||"",d,E);be(b,r,"popup-blocked");try{b.focus()}catch{}return new UE(b)}function iD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="__/auth/handler",aD="emulator/auth/handler",oD=encodeURIComponent("fac");async function jE(r,e,t,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:wa,eventId:o};if(e instanceof tb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",qC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Cu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await r._getAppCheckToken(),g=p?`#${oD}=${encodeURIComponent(p)}`:"";return`${lD(r)}?${Su(d).slice(1)}${g}`}function lD({config:r}){return r.emulator?Wp(r,aD):`https://${r.authDomain}/${sD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class uD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=kN,this._overrideRedirectResult=DN}async _openPopup(e,t,s,o){var u;yi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await jE(e,t,s,cp(),o);return rD(e,h,ng())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await jE(e,t,s,cp(),o);return fN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(yi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await WN(e),s=new VN(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bm,{type:Bm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Bm];h!==void 0&&t(!!h),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X0()||q0()||Jp()}}const cD=uD;var zE="@firebase/auth",BE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dD(r){va(new Ts("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W0(r)},g=new N1(s,o,u,p);return j1(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),va(new Ts("auth-internal",e=>{const t=Ns(e.getProvider("auth").getImmediate());return(s=>new hD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(zE,BE,fD(r)),Ar(zE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=5*60,pD=C0("authIdTokenMaxAge")||mD;let HE=null;const gD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>pD)return;const o=t==null?void 0:t.token;HE!==o&&(HE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sf(r=Qp()){const e=Jh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=U1(r,{popupRedirectResolver:cD,persistence:[TN,lb,cb]}),s=C0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=gD(u.toString());aN(t,h,()=>h(t.currentUser)),sN(t,d=>h(d))}}const o=S0("auth");return o&&z1(t,`http://${o}`),t}function yD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}D1({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Rr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",yD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dD("Browser");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,yb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.D=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,P,j){for(var I=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)I[Ae-2]=arguments[Ae];return C.prototype[P].apply(O,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,R){R||(R=0);var O=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)O[P]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(P=0;16>P;++P)O[P]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],P=M.g[2];var j=M.g[3],I=C+(j^R&(P^j))+O[0]+3614090360&4294967295;C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+O[1]+3905402710&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+O[2]+606105819&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+O[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(j^R&(P^j))+O[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+O[5]+1200080426&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+O[6]+2821735955&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+O[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(j^R&(P^j))+O[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+O[9]+2336552879&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+O[10]+4294925233&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+O[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(j^R&(P^j))+O[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+O[13]+4254626195&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+O[14]+2792965006&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+O[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(P^j&(R^P))+O[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+O[6]+3225465664&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+O[11]+643717713&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+O[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^j&(R^P))+O[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+O[10]+38016083&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+O[15]+3634488961&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+O[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^j&(R^P))+O[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+O[14]+3275163606&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+O[3]+4107603335&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+O[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^j&(R^P))+O[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+O[2]+4243563512&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+O[7]+1735328473&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+O[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(R^P^j)+O[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+O[8]+2272392833&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+O[11]+1839030562&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+O[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^j)+O[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+O[4]+1272893353&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+O[7]+4139469664&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+O[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^j)+O[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+O[0]+3936430074&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+O[3]+3572445317&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+O[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^j)+O[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+O[12]+3873151461&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+O[15]+530742520&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+O[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(P^(R|~j))+O[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+O[7]+1126891415&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+O[14]+2878612391&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+O[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~j))+O[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+O[3]+2399980690&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+O[10]+4293915773&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+O[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~j))+O[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+O[15]+4264355552&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+O[6]+2734768916&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+O[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~j))+O[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+O[11]+3174756917&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+O[2]+718787259&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var R=C-this.blockSize,O=this.B,P=this.h,j=0;j<C;){if(P==0)for(;j<=R;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<C;)if(O[P++]=M.charCodeAt(j++),P==this.blockSize){o(this,O),P=0;break}}else for(;j<C;)if(O[P++]=M[j++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var R=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=R&255,R/=256;for(this.u(M),M=Array(16),C=R=0;4>C;++C)for(var O=0;32>O;O+=8)M[R++]=this.g[C]>>>O&255;return M};function u(M,C){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function h(M,C){this.h=C;for(var R=[],O=!0,P=M.length-1;0<=P;P--){var j=M[P]|0;O&&j==C||(R[P]=j,O=!1)}this.g=R}var d={};function p(M){return-128<=M&&128>M?u(M,function(C){return new h([C|0],0>C?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return z(g(-M));for(var C=[],R=1,O=0;M>=R;O++)C[O]=M/R|0,R*=4294967296;return new h(C,0)}function E(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return z(E(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),O=b,P=0;P<M.length;P+=8){var j=Math.min(8,M.length-P),I=parseInt(M.substring(P,P+j),C);8>j?(j=g(Math.pow(C,j)),O=O.j(j).add(g(I))):(O=O.j(R),O=O.add(g(I)))}return O}var b=p(0),S=p(1),x=p(16777216);r=h.prototype,r.m=function(){if(q(this))return-z(this).m();for(var M=0,C=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(q(this))return"-"+z(this).toString(M);for(var C=g(Math.pow(M,6)),R=this,O="";;){var P=se(R,C).g;R=$(R,P.j(C));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,k(R))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function q(M){return M.h==-1}r.l=function(M){return M=$(this,M),q(M)?-1:k(M)?0:1};function z(M){for(var C=M.g.length,R=[],O=0;O<C;O++)R[O]=~M.g[O];return new h(R,~M.h).add(S)}r.abs=function(){return q(this)?z(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0,P=0;P<=C;P++){var j=O+(this.i(P)&65535)+(M.i(P)&65535),I=(j>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=I>>>16,j&=65535,I&=65535,R[P]=I<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(M,C){return M.add(z(C))}r.j=function(M){if(k(this)||k(M))return b;if(q(this))return q(M)?z(this).j(z(M)):z(z(this).j(M));if(q(M))return z(this.j(z(M)));if(0>this.l(x)&&0>M.l(x))return g(this.m()*M.m());for(var C=this.g.length+M.g.length,R=[],O=0;O<2*C;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var j=this.i(O)>>>16,I=this.i(O)&65535,Ae=M.i(P)>>>16,_e=M.i(P)&65535;R[2*O+2*P]+=I*_e,J(R,2*O+2*P),R[2*O+2*P+1]+=j*_e,J(R,2*O+2*P+1),R[2*O+2*P+1]+=I*Ae,J(R,2*O+2*P+1),R[2*O+2*P+2]+=j*Ae,J(R,2*O+2*P+2)}for(O=0;O<C;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=C;O<2*C;O++)R[O]=0;return new h(R,0)};function J(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function X(M,C){this.g=M,this.h=C}function se(M,C){if(k(C))throw Error("division by zero");if(k(M))return new X(b,b);if(q(M))return C=se(z(M),C),new X(z(C.g),z(C.h));if(q(C))return C=se(M,z(C)),new X(z(C.g),C.h);if(30<M.g.length){if(q(M)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=C;0>=O.l(M);)R=ae(R),O=ae(O);var P=fe(R,1),j=fe(O,1);for(O=fe(O,2),R=fe(R,2);!k(O);){var I=j.add(O);0>=I.l(M)&&(P=P.add(R),j=I),O=fe(O,1),R=fe(R,1)}return C=$(M,P.j(C)),new X(P,C)}for(P=b;0<=M.l(C);){for(R=Math.max(1,Math.floor(M.m()/C.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(R),I=j.j(C);q(I)||0<I.l(M);)R-=O,j=g(R),I=j.j(C);k(j)&&(j=S),P=P.add(j),M=$(M,I)}return new X(P,M)}r.A=function(M){return se(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)&M.i(O);return new h(R,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)|M.i(O);return new h(R,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)^M.i(O);return new h(R,this.h^M.h)};function ae(M){for(var C=M.g.length+1,R=[],O=0;O<C;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new h(R,M.h)}function fe(M,C){var R=C>>5;C%=32;for(var O=M.g.length-R,P=[],j=0;j<O;j++)P[j]=0<C?M.i(j+R)>>>C|M.i(j+R+1)<<32-C:M.i(j+R);return new h(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,yb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,_s=h}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vb,eu,_b,yh,dp,Eb,Tb,bb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in v))break e;v=v[H]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,H={next:function(){if(!w&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function k(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,H,K){for(var ie=Array(arguments.length-2),He=2;He<arguments.length;He++)ie[He-2]=arguments[He];return y.prototype[H].apply(w,ie)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function z(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const H=c.length||0,K=w.length||0;c.length=H+K;for(let ie=0;ie<K;ie++)c[H+ie]=w[ie]}else c.push(w)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(v in w)c[v]=w[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function j(c){d.setTimeout(()=>{throw c},0)}function I(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,v){const w=_e.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var _e=new $(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ue=!1,Be=new Ae,V=()=>{const c=d.Promise.resolve(void 0);ce=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){j(v)}var y=_e;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ue=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Se(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{se(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}k(Se,oe);var Re={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Ze(c,y,v,w,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=H,this.key=++Ve,this.da=this.fa=!1}function Pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Et(c){this.src=c,this.g={},this.h=0}Et.prototype.add=function(c,y,v,w,H){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ie=Vt(c,y,w,H);return-1<ie?(y=c[ie],v||(y.fa=!1)):(y=new Ze(y,this.src,K,!!w,H),y.fa=v,c.push(y)),y};function Wt(c,y){var v=y.type;if(v in c.g){var w=c.g[v],H=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=H)&&Array.prototype.splice.call(w,H,1),K&&(Pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Vt(c,y,v,w){for(var H=0;H<c.length;++H){var K=c[H];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return H}return-1}var on="closure_lm_"+(1e6*Math.random()|0),$e={};function mn(c,y,v,w,H){if(Array.isArray(y)){for(var K=0;K<y.length;K++)mn(c,y[K],v,w,H);return null}return v=Ra(v),c&&c[st]?c.K(y,v,g(w)?!!w.capture:!1,H):Xn(c,y,v,!1,w,H)}function Xn(c,y,v,w,H,K){if(!y)throw Error("Invalid event type");var ie=g(H)?!!H.capture:!!H,He=Os(c);if(He||(c[on]=He=new Et(c)),v=He.add(y,v,w,ie,K),v.proxy)return v;if(w=Ai(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)le||(H=ie),H===void 0&&(H=!1),c.addEventListener(y.toString(),w,H);else if(c.attachEvent)c.attachEvent(Ci(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ai(){function c(v){return y.call(c.src,c.listener,v)}const y=qo;return c}function Ri(c,y,v,w,H){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ri(c,y[K],v,w,H);else w=g(w)?!!w.capture:!!w,v=Ra(v),c&&c[st]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=Vt(K,v,w,H),-1<v&&(Pe(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Os(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Vt(y,v,w,H)),(v=-1<c?y[c]:null)&&Lr(v))}function Lr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[st])Wt(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Ci(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Os(y))?(Wt(v,c),v.h==0&&(v.src=null,y[on]=null)):Pe(c)}}}function Ci(c){return c in $e?$e[c]:$e[c]="on"+c}function qo(c,y){if(c.da)c=!0;else{y=new Se(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Lr(c),c=v.call(w,y)}return c}function Os(c){return c=c[on],c instanceof Et?c:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ra(c){return typeof c=="function"?c:(c[Ft]||(c[Ft]=function(y){return c.handleEvent(y)}),c[Ft])}function Ee(){de.call(this),this.i=new Et(this),this.M=this,this.F=null}k(Ee,de),Ee.prototype[st]=!0,Ee.prototype.removeEventListener=function(c,y,v,w){Ri(this,c,y,v,w)};function at(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var H=y;y=new oe(w,c),O(y,H)}if(H=!0,v)for(var K=v.length-1;0<=K;K--){var ie=y.g=v[K];H=Dn(ie,w,!0,y)&&H}if(ie=y.g=c,H=Dn(ie,w,!0,y)&&H,H=Dn(ie,w,!1,y)&&H,v)for(K=0;K<v.length;K++)ie=y.g=v[K],H=Dn(ie,w,!1,y)&&H}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)Pe(v[w]);delete c.g[y],c.h--}}this.F=null},Ee.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},Ee.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Dn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,K=0;K<y.length;++K){var ie=y[K];if(ie&&!ie.da&&ie.capture==v){var He=ie.listener,Ct=ie.ha||ie.src;ie.fa&&Wt(c.i,ie),H=He.call(Ct,w)!==!1&&H}}return H&&!w.defaultPrevented}function Vu(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Go(c){c.g=Vu(()=>{c.g=null,c.i&&(c.i=!1,Go(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Df extends de{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){de.call(this),this.h=c,this.g={}}k(ks,de);var Ii=[];function Zt(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&Lr(y)},c),c.g={}}ks.prototype.N=function(){ks.aa.N.call(this),Zt(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $o=d.JSON.stringify,lr=d.JSON.parse,ln=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ko(){}Ko.prototype.h=null;function Pu(c){return c.h||(c.h=c.i())}function Lu(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){oe.call(this,"d")}k(Ni,oe);function Wn(){oe.call(this,"c")}k(Wn,oe);var xn={},Di=null;function Ca(){return Di=Di||new Ee}xn.La="serverreachability";function Qo(c){oe.call(this,xn.La,c)}k(Qo,oe);function xi(c){const y=Ca();at(y,new Qo(y))}xn.STAT_EVENT="statevent";function Ia(c,y){oe.call(this,xn.STAT_EVENT,c),this.stat=y}k(Ia,oe);function yt(c){const y=Ca();at(y,new Ia(y,c))}xn.Ma="timingevent";function Uu(c,y){oe.call(this,xn.Ma,c),this.size=y}k(Uu,oe);function Oi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function ju(c,y,v,w,H,K){c.info(function(){if(c.g)if(K)for(var ie="",He=K.split("&"),Ct=0;Ct<He.length;Ct++){var Fe=He[Ct].split("=");if(1<Fe.length){var Ut=Fe[0];Fe=Fe[1];var It=Ut.split("_");ie=2<=It.length&&It[1]=="type"?ie+(Ut+"="+Fe+"&"):ie+(Ut+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+y+`
`+v+`
`+ie})}function zu(c,y,v,w,H,K,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+y+`
`+v+`
`+K+" "+ie})}function Mi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pt(c,v)+(w?" "+w:"")})}function cr(c,y){c.info(function(){return"TIMEOUT: "+y})}ki.prototype.info=function(){};function Pt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<H.length;ie++)H[ie]=""}}}}return $o(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ur={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ms;function Na(){}k(Na,Ko),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Ms=new Na;function hr(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yo}function Yo(){this.i=null,this.g="",this.h=!1}var Vi={},Vs={};function Zn(c,y,v){c.L=1,c.v=Us(dt(y)),c.m=v,c.P=!0,jr(c,null)}function jr(c,y){c.F=Date.now(),ut(c),c.A=dt(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Hr(v.i,"t",w),c.C=0,v=c.j.J,c.h=new Yo,c.g=ec(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Df(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ii[0]=H.toString()),H=Ii);for(var K=0;K<H.length;K++){var ie=mn(v,H[K],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xi(),ju(c.i,c.u,c.A,c.l,c.R,c.m)}hr.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},hr.prototype.Y=function(c){try{if(c==this.g)e:{const It=Pn(this.g);var y=this.g.Ba();const $r=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||It!=4||y==7||(y==8||0>=$r?xi(3):xi(2)),Da(this);var v=this.g.Z();this.X=v;t:if(Pi(this)){var w=$u(this.g);c="";var H=w.length,K=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Tn(this);var ie="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==H-1)});w.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,zu(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ct=this.g;if((He=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(He)){var Fe=He;break t}}Fe=null}if(v=Fe)Mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,v);else{this.o=!1,this.s=3,yt(12),pn(this),Tn(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<ie.length;)if(qt=Li(this,ie),qt==Vs){It==4&&(this.s=4,yt(14),v=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Vi){this.s=4,yt(15),Mi(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Mi(this.i,this.l,qt,null),bn(this,qt);if(Pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ie.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Mi(this.i,this.l,ie,"[Invalid Chunked Response]"),pn(this),Tn(this);else if(0<ie.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Gs(Ut),Ut.M=!0,yt(11))}}else Mi(this.i,this.l,ie,null),bn(this,ie);It==4&&pn(this),this.o&&!this.J&&(It==4?Wu(this.j,this):(this.o=!1,ut(this)))}else Pf(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),pn(this),Tn(this)}}}catch{}finally{}};function Pi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Li(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Vs:(v=Number(y.substring(v,w)),isNaN(v)?Vi:(w+=1,w+v>y.length?Vs:(y=y.slice(w,w+v),c.C=w+v,y)))}hr.prototype.cancel=function(){this.J=!0,pn(this)};function ut(c){c.S=Date.now()+c.I,Xo(c,c.I)}function Xo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oi(S(c.ba,c),y)}function Da(c){c.B&&(d.clearTimeout(c.B),c.B=null)}hr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(cr(this.i,this.A),this.L!=2&&(xi(),yt(17)),pn(this),this.s=2,Tn(this)):Xo(this,this.S-c)};function Tn(c){c.j.G==0||c.J||Wu(c.j,c)}function pn(c){Da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Zt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function bn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ui(v.h,c))){if(!c.K&&Ui(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)za(v),Ua(v);else break e;ol(v),yt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Oi(S(v.Za,v),6e3));if(1>=Bu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gr(v,11)}else if((c.K||v.g==c)&&za(v),!J(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Fe=H[y];if(v.T=Fe[0],Fe=Fe[1],v.G==2)if(Fe[0]=="c"){v.K=Fe[1],v.ia=Fe[2];const Ut=Fe[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const It=Fe[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const $r=Fe[5];$r!=null&&typeof $r=="number"&&0<$r&&(w=1.5*$r,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const qt=c.g;if(qt){const vr=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var K=w.h;K.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ji(K,K.h),K.h=null))}if(w.D){const ul=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(w.ya=ul,Ke(w.I,w.D,ul))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ie=c;if(w.qa=Ju(w,w.J?w.ia:null,w.W),ie.K){On(w.h,ie);var He=ie,Ct=w.L;Ct&&(He.I=Ct),He.B&&(Da(He),ut(He)),w.g=ie}else Yu(w);0<v.i.length&&ja(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Gr(v,7);else v.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Gr(v,7):sl(v):Fe[0]!="noop"&&v.l&&v.l.ta(Fe),v.v=0)}}xi(4)}catch{}}var xf=class{constructor(c,y){this.g=c,this.map=y}};function Wo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bu(c){return c.h?1:c.g?c.g.size:0}function Ui(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ji(c,y){c.g?c.g.add(y):c.h=y}function On(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function un(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function Hu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function Of(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Ps(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Of(c),w=Hu(c),H=w.length,K=0;K<H;K++)y.call(void 0,w[K],v&&v[K],c)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),H=null;if(0<=w){var K=c[v].substring(0,w);H=c[v].substring(w+1)}else K=c[v];y(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function zr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zr){this.h=c.h,zi(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.s),this.l=c.l;var y=c.i,v=new fr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Oa(this,v),this.m=c.m}else c&&(y=String(c).match(Jo))?(this.h=!1,zi(this,y[1]||"",!0),this.o=Bi(y[2]||""),this.g=Bi(y[3]||"",!0),Ls(this,y[4]),this.l=Bi(y[5]||"",!0),Oa(this,y[6]||"",!0),this.m=Bi(y[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}zr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(kn(y,el,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(kn(y,el,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(kn(v,v.charAt(0)=="/"?tl:Fu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",kn(v,Vf)),c.join("")};function dt(c){return new zr(c)}function zi(c,y,v){c.j=v?Bi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oa(c,y,v){y instanceof fr?(c.i=y,nl(c.i,c.h)):(v||(y=kn(y,Mf)),c.i=new fr(y,c.h))}function Ke(c,y,v){c.i.set(y,v)}function Us(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,kf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,Fu=/[#\?:]/g,tl=/[#\?]/g,Mf=/[#\?@]/g,Vf=/#/g;function fr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,y){Mn(this),this.i=null,c=Fr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ka(c,y){Mn(c),y=Fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Br(c,y){return Mn(c),y=Fr(c,y),c.g.has(y)}r.forEach=function(c,y){Mn(this),this.g.forEach(function(v,w){v.forEach(function(H){c.call(y,H,w,this)},this)},this)},r.na=function(){Mn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const H=c[w];for(let K=0;K<H.length;K++)v.push(y[w])}return v},r.V=function(c){Mn(this);let y=[];if(typeof c=="string")Br(this,c)&&(y=y.concat(this.g.get(Fr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Mn(this),this.i=null,c=Fr(this,c),Br(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Hr(c,y,v){ka(c,y),0<v.length&&(c.i=null,c.g.set(Fr(c,y),q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var H=K;ie[w]!==""&&(H+="="+encodeURIComponent(String(ie[w]))),c.push(H)}}return this.i=c.join("&")};function Fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function nl(c,y){y&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(v,w){var H=w.toLowerCase();w!=H&&(ka(this,w),Hr(this,H,v))},c)),c.j=y}function qu(c,y){const v=new ki;if(d.Image){const w=new Image;w.onload=x(Vn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=x(Vn,v,"TestLoadImage: error",!1,y,w),w.onabort=x(Vn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=x(Vn,v,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function js(c,y){const v=new ki,w=new AbortController,H=setTimeout(()=>{w.abort(),Vn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(H),K.ok?Vn(v,"TestPingServer: ok",!0,y):Vn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Vn(v,"TestPingServer: error",!1,y)})}function Vn(c,y,v,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(v)}catch{}}function zs(){this.g=new ln}function dr(c,y,v){const w=v||"";try{Ps(c,function(H,K){let ie=H;g(H)&&(ie=$o(H)),y.push(w+K+"="+encodeURIComponent(ie))})}catch(H){throw y.push(w+"type="+encodeURIComponent("_badmap")),H}}function Hi(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Hi,Ko),Hi.prototype.g=function(){return new qr(this.l,this.j)},Hi.prototype.i=function(c){return function(){return c}}({});function qr(c,y){Ee.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(qr,Ee),r=qr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mr(this):pr(this),this.readyState==3&&rl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},r.Qa=function(c){this.g&&(this.response=c,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function il(c){let y="";return fe(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=il(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,y,v))}function Xe(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Xe,Ee);var Ma=/^https?$/i,Bs=["POST","PUT"];r=Xe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ms.g(),this.v=this.o?Pu(this.o):Pu(Ms),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Gu(this,K);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)v.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Bs,y,void 0))||w||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of v)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Gu(this,K)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Va(c),gr(c)}function Va(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Xe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},r.bb=function(){Pa(this)};function Pa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Vu(c.Ea,0,c);else if(at(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=ie===0){var H=String(c.D).match(Jo)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),w=!Ma.test(H?H.toLowerCase():"")}v=w}if(v)at(c,"complete"),at(c,"success");else{c.m=6;try{var K=2<Pn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Va(c)}}finally{gr(c)}}}}function gr(c,y){if(c.g){Hs(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||at(c,"ready");try{v.onreadystatechange=w}catch{}}}function Hs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),lr(y)}};function $u(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pf(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(J(c[w]))continue;var v=P(c[w]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[H]||[];y[H]=K,K.push(v)}M(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function La(c){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,c),this.cb=Fs("retryDelaySeedMs",1e4,c),this.Wa=Fs("forwardChannelMaxRetries",2,c),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wo(c&&c.concurrentRequestLimit),this.Da=new zs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=La.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){yt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ju(this,null,this.W),ja(this)};function sl(c){if(Ku(c),c.G==3){var y=c.U++,v=dt(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),qs(c,v),y=new hr(c,c.j,y),y.L=2,y.v=Us(dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ut(y)}Zu(c)}function Ua(c){c.g&&(Gs(c),c.g.cancel(),c.g=null)}function Ku(c){Ua(c),c.u&&(d.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ja(c){if(!Zo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||V(),ue||(ce(),ue=!0),Be.add(y,c),c.B=0}}function Lf(c,y){return Bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oi(S(c.Ga,c,y),ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new hr(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Qu(this,H,y),v=dt(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),qs(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(il(K)))+"&"+y:this.m&&Lt(v,this.m,K)),ji(this.h,H),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",y),Ke(v,"SID","null"),H.T=!0,Zn(H,v,null)):Zn(H,v,y),this.G=2}}else this.G==3&&(c?al(this,c):this.i.length==0||Zo(this.h)||al(this))};function al(c,y){var v;y?v=y.l:v=c.U++;const w=dt(c.I);Ke(w,"SID",c.K),Ke(w,"RID",v),Ke(w,"AID",c.T),qs(c,w),c.m&&c.o&&Lt(w,c.m,c.o),v=new hr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Qu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ji(c.h,v),Zn(v,w,y)}function qs(c,y){c.H&&fe(c.H,function(v,w){Ke(y,w,v)}),c.l&&Ps({},function(v,w){Ke(y,w,v)})}function Qu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;e:{var H=c.i;let K=-1;for(;;){const ie=["count="+v];K==-1?0<v?(K=H[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let He=!0;for(let Ct=0;Ct<v;Ct++){let Fe=H[Ct].g;const Ut=H[Ct].map;if(Fe-=K,0>Fe)K=Math.max(0,H[Ct].g-100),He=!1;else try{dr(Ut,ie,"req"+Fe+"_")}catch{w&&w(Ut)}}if(He){w=ie.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||V(),ue||(ce(),ue=!0),Be.add(y,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oi(S(c.Fa,c),ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oi(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ua(this),Xu(this))};function Gs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),qs(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Us(dt(y)),v.m=null,v.P=!0,jr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ua(this),ol(this),yt(19))};function za(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){za(c),Gs(c),c.g=null;var w=2}else if(Ui(c.h,y))v=y.D,On(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;w=Ca(),at(w,new Uu(w,v)),ja(c)}else Yu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(w==1&&Lf(c,y)||w==2&&ol(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function ll(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Gr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const H=!w;w=new zr(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zi(w,"https"),Us(w),H?qu(w.toString(),v):js(w.toString(),v)}else yt(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=un(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,v){var w=v instanceof zr?dt(v):new zr(v);if(w.g!="")y&&(w.g=y+"."+w.g),Ls(w,w.s);else{var H=d.location;w=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var K=new zr(null);w&&zi(K,w),y&&(K.g=y),H&&Ls(K,H),v&&(K.l=v),w=K}return v=c.D,y=c.ya,v&&y&&Ke(w,v,y),Ke(w,"VER",c.la),qs(c,w),w}function ec(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new Hi({eb:v})):new Xe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ba(){}Ba.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){Ee.call(this),this.g=new La(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yr(this)}k(cn,Ee),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){sl(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=$o(c),c=v);y.i.push(new xf(y.Ya++,c)),y.G==3&&ja(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,cn.aa.N.call(this)};function nc(c){Ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(nc,Ni);function rc(){Wn.call(this),this.status=1}k(rc,Wn);function yr(c){this.g=c}k(yr,tc),yr.prototype.ua=function(){at(this.g,"a")},yr.prototype.ta=function(c){at(this.g,new nc(c))},yr.prototype.sa=function(c){at(this.g,new rc)},yr.prototype.ra=function(){at(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,bb=function(){return new Ba},Tb=function(){return Ca()},Eb=xn,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,yh=Rt,Ur.COMPLETE="complete",_b=Ur,Lu.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,eu=Lu,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,vb=Xe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore",GE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new $p("@firebase/firestore");function vo(){return Ta.logLevel}function he(r,...e){if(Ta.logLevel<=Le.DEBUG){const t=e.map(ig);Ta.debug(`Firestore (${jo}): ${r}`,...t)}}function vi(r,...e){if(Ta.logLevel<=Le.ERROR){const t=e.map(ig);Ta.error(`Firestore (${jo}): ${r}`,...t)}}function Io(r,...e){if(Ta.logLevel<=Le.WARN){const t=e.map(ig);Ta.warn(`Firestore (${jo}): ${r}`,...t)}}function ig(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+r;throw vi(e),new Error(e)}function We(r,e){r||we()}function Ne(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class _D{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ED{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new di;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new di,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new di)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new wb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new rn(e)}}class TD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new TD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,In(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $E(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new $E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function No(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,QE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*QE);return new Ot(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<KE)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ot(0,0))}static max(){return new Ce(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__name__";class Sr{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Sr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Sr.isNumericId(e),o=Sr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class ot extends Sr{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const AD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Sr{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return AD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YE}static keyField(){return new Yt([YE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function RD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Ot(t+1,0):new Ot(t,s));return new bs(o,ve.empty(),e)}function CD(r){return new bs(r.readTime,r.key,mu)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(Ce.min(),ve.empty(),mu)}static max(){return new bs(Ce.max(),ve.empty(),mu)}}function ID(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==ND)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function xD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}af.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function of(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function OD(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="";function kD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=XE(e)),e=MD(r.get(t),e);return XE(e)}function MD(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case Ab:t+="";break;default:t+=u}}return t}function XE(r){return r+Ab+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ds(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Rb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Qt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new kt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Cb("Invalid base64 string: "+u):u}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const VD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(r){if(We(!!r),typeof r=="string"){let e=0;const t=VD.exec(r);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ss(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="server_timestamp",Nb="__type__",Db="__previous_value__",xb="__local_write_time__";function ag(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nb])===null||t===void 0?void 0:t.stringValue)===Ib}function lf(r){const e=r.mapValue.fields[Db];return ag(e)?lf(e):e}function pu(r){const e=ws(r.mapValue.fields[xb].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,s,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const kh="(default)";class gu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",LD="__max__",sh={mapValue:{}},kb="__vector__",Mh="value";function As(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ag(r)?4:jD(r)?9007199254740991:UD(r)?10:11:we()}function Dr(r,e){if(r===e)return!0;const t=As(r);if(t!==As(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return pu(r).isEqual(pu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ws(o.timestampValue),d=ws(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),d=_t(u.doubleValue);return h===d?Oh(h)===Oh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return No(r.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(WE(h)!==WE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Dr(h[p],d[p])))return!1;return!0}(r,e);default:return we()}}function yu(r,e){return(r.values||[]).find(t=>Dr(t,e))!==void 0}function Do(r,e){if(r===e)return 0;const t=As(r),s=As(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return JE(r.timestampValue,e.timestampValue);case 4:return JE(pu(r),pu(e));case 5:return ze(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Ss(u),p=Ss(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=ze(d[g],p[g]);if(E!==0)return E}return ze(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=ze(_t(u.latitude),_t(h.latitude));return d!==0?d:ze(_t(u.longitude),_t(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return eT(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const b=u.fields||{},S=h.fields||{},x=(d=b[Mh])===null||d===void 0?void 0:d.arrayValue,k=(p=S[Mh])===null||p===void 0?void 0:p.arrayValue,q=ze(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:eT(x,k)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=ze(p[b],E[b]);if(S!==0)return S;const x=Do(d[p[b]],g[E[b]]);if(x!==0)return x}return ze(p.length,E.length)}(r.mapValue,e.mapValue);default:throw we()}}function JE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=ws(r),s=ws(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function eT(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Do(t[o],s[o]);if(u)return u}return ze(t.length,s.length)}function xo(r){return mp(r)}function mp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ws(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ss(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ve.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=mp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${mp(t.fields[h])}`;return o+"}"}(r.mapValue):we()}function vh(r){switch(As(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(r);return e?16+vh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+vh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ds(s.fields,(u,h)=>{o+=u.length+vh(h)}),o}(r.mapValue);default:throw we()}}function pp(r){return!!r&&"integerValue"in r}function og(r){return!!r&&"arrayValue"in r}function tT(r){return!!r&&"nullValue"in r}function nT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function UD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ob])===null||t===void 0?void 0:t.stringValue)===kb}function au(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ds(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=au(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(r.arrayValue.values[t]);return e}return Object.assign({},r)}function jD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===LD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!_h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=au(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());_h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ds(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new _n(au(this.value))}}function Mb(r){const e=[];return Ds(r.fields,(t,s)=>{const o=new Yt([t]);if(_h(s)){const u=Mb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Ce.min(),Ce.min(),Ce.min(),_n.empty(),0)}static newFoundDocument(e,t,s,o){return new sn(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new sn(e,2,t,Ce.min(),Ce.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ce.min(),Ce.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function rT(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=Do(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Dr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function zD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{}class xt extends Vb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new HD(e,t,s):t==="array-contains"?new GD(e,s):t==="in"?new $D(e,s):t==="not-in"?new KD(e,s):t==="array-contains-any"?new QD(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new FD(e,s):new qD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Do(t,this.value)):t!==null&&As(this.value)===As(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends Vb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new xr(e,t)}matches(e){return Pb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Pb(r){return r.op==="and"}function Lb(r){return BD(r)&&Pb(r)}function BD(r){for(const e of r.filters)if(e instanceof xr)return!1;return!0}function gp(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+xo(r.value);if(Lb(r))return r.filters.map(e=>gp(e)).join(",");{const e=r.filters.map(t=>gp(t)).join(",");return`${r.op}(${e})`}}function Ub(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Dr(s.value,o.value)}(r,e):r instanceof xr?function(s,o){return o instanceof xr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&Ub(h,o.filters[d]),!0):!1}(r,e):void we()}function jb(r){return r instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`}(r):r instanceof xr?function(t){return t.op.toString()+" {"+t.getFilters().map(jb).join(" ,")+"}"}(r):"Filter"}class HD extends xt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class FD extends xt{constructor(e,t){super(e,"in",t),this.keys=zb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qD extends xt{constructor(e,t){super(e,"not-in",t),this.keys=zb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class GD extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&yu(t.arrayValue,this.value)}}class $D extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yu(this.value.arrayValue,t)}}class KD extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yu(this.value.arrayValue,t)}}class QD extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function sT(r,e=null,t=[],s=[],o=null,u=null,h=null){return new YD(r,e,t,s,o,u,h)}function lg(r){const e=Ne(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>gp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>xo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>xo(s)).join(",")),e.le=t}return e.le}function ug(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ub(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!iT(r.startAt,e.startAt)&&iT(r.endAt,e.endAt)}function yp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function XD(r,e,t,s,o,u,h,d){return new uf(r,e,t,s,o,u,h,d)}function cf(r){return new uf(r)}function aT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WD(r){return r.collectionGroup!==null}function ou(r){const e=Ne(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new kt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ph(u,s))}),t.has(Yt.keyField().canonicalString())||e.he.push(new Ph(Yt.keyField(),s))}return e.he}function Ir(r){const e=Ne(r);return e.Pe||(e.Pe=ZD(e,ou(r))),e.Pe}function ZD(r,e){if(r.limitType==="F")return sT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)});const t=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return sT(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function vp(r,e,t){return new uf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function hf(r,e){return ug(Ir(r),Ir(e))&&r.limitType===e.limitType}function Bb(r){return`${lg(Ir(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>jb(o)).join(", ")}]`),of(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>xo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>xo(o)).join(",")),`Target(${s})`}(Ir(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=rT(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,ou(s),o)||s.endAt&&!function(h,d,p){const g=rT(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,ou(s),o))}(r,e)}function JD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hb(r){return(e,t)=>{let s=!1;for(const o of ou(r)){const u=ex(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ex(r,e,t){const s=r.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Do(p,g):we()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new ft(ve.comparator);function _i(){return tx}const Fb=new ft(ve.comparator);function tu(...r){let e=Fb;for(const t of r)e=e.insert(t.key,t);return e}function qb(r){let e=Fb;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function pa(){return lu()}function Gb(){return lu()}function lu(){return new Sa(r=>r.toString(),(r,e)=>r.isEqual(e))}const nx=new ft(ve.comparator),rx=new kt(ve.comparator);function Ue(...r){let e=rx;for(const t of r)e=e.add(t);return e}const ix=new kt(ze);function sx(){return ix}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function $b(r){return{integerValue:""+r}}function ax(r,e){return OD(e)?$b(e):cg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function ox(r,e,t){return r instanceof vu?function(o,u){const h={fields:{[Nb]:{stringValue:Ib},[xb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=lf(u)),u&&(h.fields[Db]=u),{mapValue:h}}(t,e):r instanceof _u?Qb(r,e):r instanceof Eu?Yb(r,e):function(o,u){const h=Kb(o,u),d=oT(h)+oT(o.Ie);return pp(h)&&pp(o.Ie)?$b(d):cg(o.serializer,d)}(r,e)}function lx(r,e,t){return r instanceof _u?Qb(r,e):r instanceof Eu?Yb(r,e):t}function Kb(r,e){return r instanceof Lh?function(s){return pp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class vu extends df{}class _u extends df{constructor(e){super(),this.elements=e}}function Qb(r,e){const t=Xb(e);for(const s of r.elements)t.some(o=>Dr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Eu extends df{constructor(e){super(),this.elements=e}}function Yb(r,e){let t=Xb(e);for(const s of r.elements)t=t.filter(o=>!Dr(o,s));return{arrayValue:{values:t}}}class Lh extends df{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function oT(r){return _t(r.integerValue||r.doubleValue)}function Xb(r){return og(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.field=e,this.transform=t}}function cx(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof _u&&o instanceof _u||s instanceof Eu&&o instanceof Eu?No(s.elements,o.elements,Dr):s instanceof Lh&&o instanceof Lh?Dr(s.Ie,o.Ie):s instanceof vu&&o instanceof vu}(r.transform,e.transform)}class hx{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function Wb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hg(r.key,Yn.none()):new Nu(r.key,r.data,Yn.none());{const t=r.data,s=_n.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new xs(r.key,s,new Nn(o.toArray()),Yn.none())}}function fx(r,e,t){r instanceof Nu?function(o,u,h){const d=o.value.clone(),p=uT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof xs?function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=uT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Zb(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uu(r,e,t,s){return r instanceof Nu?function(u,h,d,p){if(!Eh(u.precondition,h))return d;const g=u.value.clone(),E=cT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof xs?function(u,h,d,p){if(!Eh(u.precondition,h))return d;const g=cT(u.fieldTransforms,p,h),E=h.data;return E.setAll(Zb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(u,h,d){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function dx(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Kb(s.transform,o||null);u!=null&&(t===null&&(t=_n.empty()),t.set(s.field,u))}return t||null}function lT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,(u,h)=>cx(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends mf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends mf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function uT(r,e,t){const s=new Map;We(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,lx(h,d,t[o]))}return s}function cT(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,ox(u,h,e))}return s}class hg extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mx extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&fx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Gb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=Wb(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,s)=>lT(t,s))&&No(this.baseMutations,e.baseMutations,(t,s)=>lT(t,s))}}class fg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length);let o=function(){return nx}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ge;function vx(r){switch(r){case re.OK:return we();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return we()}}function Jb(r){if(r===void 0)return vi("GRPC error has no .code"),re.UNKNOWN;switch(r){case St.OK:return re.OK;case St.CANCELLED:return re.CANCELLED;case St.UNKNOWN:return re.UNKNOWN;case St.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case St.INTERNAL:return re.INTERNAL;case St.UNAVAILABLE:return re.UNAVAILABLE;case St.UNAUTHENTICATED:return re.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case St.NOT_FOUND:return re.NOT_FOUND;case St.ALREADY_EXISTS:return re.ALREADY_EXISTS;case St.PERMISSION_DENIED:return re.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case St.ABORTED:return re.ABORTED;case St.OUT_OF_RANGE:return re.OUT_OF_RANGE;case St.UNIMPLEMENTED:return re.UNIMPLEMENTED;case St.DATA_LOSS:return re.DATA_LOSS;default:return we()}}(Ge=St||(St={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new _s([4294967295,4294967295],0);function hT(r){const e=_x().encode(r),t=new yb;return t.update(e),new Uint8Array(t.digest())}function fT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _s([t,s],0),new _s([o,u],0)]}class dg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=_s.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(_s.fromNumber(s)));return o.compare(Ex)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=hT(e),[s,o]=fT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new dg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=hT(e),[s,o]=fT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pf(Ce.min(),o,new ft(ze),_i(),Ue())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class ew{constructor(e,t){this.targetId=e,this.ge=t}}class tw{constructor(e,t,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class dT{constructor(){this.pe=0,this.ye=mT(),this.we=Xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Du(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=mT()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Tx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_i(),this.$e=ah(),this.Ke=ah(),this.Ue=new ft(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(yp(u))if(s===0){const h=new ve(u.path);this.ze(t,h,sn.newNoDocument(h,Ce.min()))}else We(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=Ss(s).toUint8Array()}catch(p){if(p instanceof Cb)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new dg(h,o,u)}catch(p){return Io(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&yp(d.target)){const p=new ve(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,sn.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Ue();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new pf(e,t,this.Ue,this.Qe,s);return this.Qe=_i(),this.$e=ah(),this.Ke=ah(),this.Ue=new ft(ze),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new dT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new kt(ze),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new kt(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ah(){return new ft(ve.comparator)}function mT(){return new ft(ve.comparator)}const bx={asc:"ASCENDING",desc:"DESCENDING"},wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sx={and:"AND",or:"OR"};class Ax{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(r,e){return r.useProto3Json||of(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Rx(r,e){return Uh(r,e.toTimestamp())}function Nr(r){return We(!!r),Ce.fromTimestamp(function(t){const s=ws(t);return new Ot(s.seconds,s.nanos)}(r))}function mg(r,e){return Ep(r,e).canonicalString()}function Ep(r,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function rw(r){const e=ot.fromString(r);return We(lw(e)),e}function Tp(r,e){return mg(r.databaseId,e.path)}function Hm(r,e){const t=rw(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(sw(t))}function iw(r,e){return mg(r.databaseId,e)}function Cx(r){const e=rw(r);return e.length===4?ot.emptyPath():sw(e)}function bp(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sw(r){return We(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function pT(r,e,t){return{name:Tp(r,e),fields:t.value.mapValue.fields}}function Ix(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(We(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?re.UNKNOWN:Jb(g.code);return new ge(E,g.message||"")}(h);t=new tw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(r,s.document.name),u=Nr(s.document.updateTime),h=s.document.createTime?Nr(s.document.createTime):Ce.min(),d=new _n({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(r,s.document),u=s.readTime?Nr(s.readTime):Ce.min(),h=sn.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Th([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(r,s.document),u=s.removedTargetIds||[];t=new Th([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new yx(o,u),d=s.targetId;t=new ew(d,h)}}return t}function Nx(r,e){let t;if(e instanceof Nu)t={update:pT(r,e.key,e.value)};else if(e instanceof hg)t={delete:Tp(r,e.key)};else if(e instanceof xs)t={update:pT(r,e.key,e.data),updateMask:Ux(e.fieldMask)};else{if(!(e instanceof mx))return we();t={verify:Tp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof vu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _u)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Rx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),t}function Dx(r,e){return r&&r.length>0?(We(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Nr(o.updateTime):Nr(u);return h.isEqual(Ce.min())&&(h=Nr(u)),new hx(h,o.transformResults||[])}(t,e))):[]}function xx(r,e){return{documents:[iw(r,e.path)]}}function Ox(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=iw(r,o);const u=function(g){if(g.length!==0)return ow(xr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Eo(S.field),direction:Vx(S.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=_p(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function kx(r){let e=Cx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const S=aw(b);return S instanceof xr&&Lb(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(S=>function(k){return new Ph(To(k.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(b){let S;return S=typeof b=="object"?b.value:b,of(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,x=b.values||[];return new Vh(x,S)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const S=!b.before,x=b.values||[];return new Vh(x,S)}(t.endAt)),XD(e,o,h,u,d,"F",p,g)}function Mx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=To(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(t){return xt.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return xr.create(t.compositeFilter.filters.map(s=>aw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(r):we()}function Vx(r){return bx[r]}function Px(r){return wx[r]}function Lx(r){return Sx[r]}function Eo(r){return{fieldPath:r.canonicalString()}}function To(r){return Yt.fromServerFormat(r.fieldPath)}function ow(r){return r instanceof xt?function(t){if(t.op==="=="){if(nT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(tT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(tT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:Px(t.op),value:t.value}}}(r):r instanceof xr?function(t){const s=t.getFilters().map(o=>ow(o));return s.length===1?s[0]:{compositeFilter:{op:Lx(t.op),filters:s}}}(r):we()}function Ux(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,s,o,u=Ce.min(),h=Ce.min(),d=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.Tt=e}}function zx(r){const e=kx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.Tn=new Hx}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(bs.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class Hx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(ot.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(uw,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Oo(0)}static Un(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LruGarbageCollector",Fx=1048576;function vT([r,e],[t,s]){const o=ze(r,t);return o===0?ze(e,s):o}class qx{constructor(e){this.Hn=e,this.buffer=new kt(vT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();vT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Gx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(yT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?he(yT,"Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.er(3e5)})}}class $x{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(af.ae);const s=new qx(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(gT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),vo()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Kx(r,e){return new $x(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&uu(s.mutation,o,Nn.empty(),Ot.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=tu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=pa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=_i();const h=lu(),d=function(){return lu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof xs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),uu(E.mutation,g,E.mutation.getFieldMask(),Ot.now())):h.set(g.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var b;return d.set(g,new Yx(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=lu();let o=new ft((h,d)=>h-d),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Nn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const b=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,b=Gb();E.forEach(S=>{if(!u.has(S)){const x=Wb(t.get(S),s.get(S));x!==null&&b.set(S,x),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(pa());let d=mu,p=u;return h.next(g=>Z.forEach(g,(E,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:d,changes:qb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next(d=>Z.forEach(d,p=>{const g=function(b,S){return new uf(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,sn.newInvalidDocument(E)))});let d=tu();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&uu(E.mutation,g,Nn.empty(),Ot.now()),ff(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:zx(o.bundledQuery),readTime:Nr(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.overlays=new ft(ve.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=pa();return Z.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=pa(),u=t.length+1,h=new ve(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=pa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new gx(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ue(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Vr=new kt(Ht.mr),this.gr=new kt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ht(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new ve(new ot([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new ot([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=Ue();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ht(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(Ht.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new px(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ht(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sg:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(ze);return t.forEach(o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new ve(u),0);let d=new kt(ze);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.kr=e,this.docs=function(){return new ft(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let s=_i();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=_i();const h=t.path,d=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||ID(CD(E),s)<=0||(o.has(E.key)||ff(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new nO(this)}getSize(e){return Z.resolve(this.size)}}class nO extends Qx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.persistence=e,this.Qr=new Sa(t=>lg(t),ug),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new pg,this.targetCount=0,this.Ur=Oo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new af(0),this.zr=!1,this.zr=!0,this.jr=new Jx,this.referenceDelegate=e(this),this.Hr=new rO(this),this.indexManager=new Bx,this.remoteDocumentCache=function(o){return new tO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new jx(t),this.Yr=new Wx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new eO(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new iO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class iO extends DD{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.ti=new pg,this.ni=null}static ri(e){return new gg(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.oi=new Sa(s=>kD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Kx(this,t)}static ri(e,t){return new jh(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vh(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return UC()?8:xD(an())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new sO;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(vo()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(vo()<=Le.DEBUG&&he("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(vo()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):Z.resolve())}rs(e,t){if(aT(t))return Z.resolve(null);let s=Ir(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vp(t,null,"F"),s=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ue(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,vp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return aT(t)||o.isEqual(Ce.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Z.resolve(null):(vo()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.hs(e,h,t,RD(o,mu)).next(d=>d))})}cs(e,t){let s=new kt(Hb(e));return t.forEach((o,u)=>{ff(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return vo()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ns.getDocumentsMatchingQuery(e,t,bs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",oO=3e8;class lO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ft(ze),this.Is=new Sa(u=>lg(u),ug),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function uO(r,e,t,s){return new lO(r,e,t,s)}async function hw(r,e){const t=Ne(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function cO(r,e){const t=Ne(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const b=g.batch,S=b.keys();let x=Z.resolve();return S.forEach(k=>{x=x.next(()=>E.getEntry(p,k)).next(q=>{const z=g.docVersions.get(k);We(z!==null),q.version.compareTo(z)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fw(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function hO(r,e){const t=Ne(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,b)));let x=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Xt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),function(q,z,$){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=oO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,x,E)&&d.push(t.Hr.updateTargetData(u,x))});let p=_i(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(fO(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ce.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(b=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function fO(r,e,t){let s=Ue(),o=Ue();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=_i();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(vg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function dO(r,e){const t=Ne(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mO(r,e){const t=Ne(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new ps(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function wp(r,e,t){const s=Ne(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Bo(h))throw h;he(vg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function _T(r,e,t){const s=Ne(r);let o=Ce.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const b=Ne(p),S=b.Is.get(E);return S!==void 0?Z.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,E)}(s,h,Ir(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?u:Ue())).next(d=>(pO(s,JD(e),d),{documents:d,gs:u})))}function pO(r,e,t){let s=r.Es.get(e)||Ce.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class ET{constructor(){this.activeTargetIds=sx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gO{constructor(){this.ho=new ET,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ET,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class bT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(TT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function Sp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",vO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _O{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const h=Sp(),d=this.So(e,t.toUriEncodedString());he(Fm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(he(Fm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Io(Fm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=vO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class TO extends _O{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Sp();return new Promise((h,d)=>{const p=new vb;p.setWithCredentials(!0),p.listenOnce(_b.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const E=p.getResponseJson();he(tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case yh.TIMEOUT:he(tn,`RPC '${e}' ${u} timed out`),d(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const b=p.getStatus();if(he(tn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S==null?void 0:S.error;if(x&&x.status&&x.message){const k=function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN}(x.status);d(new ge(k,x.message))}else d(new ge(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(re.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{he(tn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(tn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Sp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=bb(),d=Tb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);let S=!1,x=!1;const k=new EO({Fo:z=>{x?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),he(tn,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Mo:()=>b.close()}),q=(z,$,J)=>{z.listen($,X=>{try{J(X)}catch(se){setTimeout(()=>{throw se},0)}})};return q(b,eu.EventType.OPEN,()=>{x||(he(tn,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),q(b,eu.EventType.CLOSE,()=>{x||(x=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),q(b,eu.EventType.ERROR,z=>{x||(x=!0,Io(tn,`RPC '${e}' stream ${o} transport errored:`,z),k.Ko(new ge(re.UNAVAILABLE,"The operation could not be completed")))}),q(b,eu.EventType.MESSAGE,z=>{var $;if(!x){const J=z.data[0];We(!!J);const X=J,se=(X==null?void 0:X.error)||(($=X[0])===null||$===void 0?void 0:$.error);if(se){he(tn,`RPC '${e}' stream ${o} received error:`,se);const ae=se.status;let fe=function(R){const O=St[R];if(O!==void 0)return Jb(O)}(ae),M=se.message;fe===void 0&&(fe=re.INTERNAL,M="Unknown error status: "+ae+" with message "+se.message),x=!0,k.Ko(new ge(fe,M)),b.close()}else he(tn,`RPC '${e}' stream ${o} received:`,J),k.Uo(J)}}),q(d,Eb.STAT_EVENT,z=>{z.stat===dp.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===dp.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return new Ax(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="PersistentStream";class mw{constructor(e,t,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new dw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ge(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(wT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bO extends mw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Ix(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Nr(h.readTime):Ce.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=bp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=yp(p)?{documents:xx(u,p)}:{query:Ox(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=nw(u,h.resumeToken);const g=_p(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=_p(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=Mx(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=bp(this.serializer),t.removeTarget=e,this.I_(t)}}class wO extends mw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Dx(e.writeResults,e.commitTime),s=Nr(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=bp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Nx(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{}class AO extends SO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Ep(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(re.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Ep(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(re.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class RO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vi(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class CO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Aa(this)&&(he(ba,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.W_.add(4),await xu(g),g.j_.set("Unknown"),g.W_.delete(4),await yf(g)}(this))})}),this.j_=new RO(s,o)}}async function yf(r){if(Aa(r))for(const e of r.G_)await e(!0)}async function xu(r){for(const e of r.G_)await e(!1)}function pw(r,e){const t=Ne(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),bg(t)?Tg(t):Ho(t).c_()&&Eg(t,e))}function _g(r,e){const t=Ne(r),s=Ho(t);t.U_.delete(e),s.c_()&&gw(t,e),t.U_.size===0&&(s.c_()?s.P_():Aa(t)&&t.j_.set("Unknown"))}function Eg(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(r).y_(e)}function gw(r,e){r.H_.Ne(e),Ho(r).w_(e)}function Tg(r){r.H_=new Tx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.j_.B_()}function bg(r){return Aa(r)&&!Ho(r).u_()&&r.U_.size>0}function Aa(r){return Ne(r).W_.size===0}function yw(r){r.H_=void 0}async function IO(r){r.j_.set("Online")}async function NO(r){r.U_.forEach((e,t)=>{Eg(r,e)})}async function DO(r,e){yw(r),bg(r)?(r.j_.q_(e),Tg(r)):r.j_.set("Unknown")}async function xO(r,e,t){if(r.j_.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(r,e)}catch(s){he(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof Th?r.H_.We(e):e instanceof ew?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Ce.min()))try{const s=await fw(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),gw(u,p);const b=new ps(E.target,p,g,E.sequenceNumber);Eg(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){he(ba,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,t){if(!Bo(e))throw e;r.W_.add(1),await xu(r),r.j_.set("Offline"),t||(t=()=>fw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(ba,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await yf(r)})}function vw(r,e){return e().catch(t=>zh(r,t,e))}async function vf(r){const e=Ne(r),t=Rs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:sg;for(;OO(e);)try{const o=await dO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,kO(e,o)}catch(o){await zh(e,o)}_w(e)&&Ew(e)}function OO(r){return Aa(r)&&r.K_.length<10}function kO(r,e){r.K_.push(e);const t=Rs(r);t.c_()&&t.b_&&t.S_(e.mutations)}function _w(r){return Aa(r)&&!Rs(r).u_()&&r.K_.length>0}function Ew(r){Rs(r).start()}async function MO(r){Rs(r).C_()}async function VO(r){const e=Rs(r);for(const t of r.K_)e.S_(t.mutations)}async function PO(r,e,t){const s=r.K_.shift(),o=fg.from(s,e,t);await vw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await vf(r)}async function LO(r,e){e&&Rs(r).b_&&await async function(s,o){if(function(h){return vx(h)&&h!==re.ABORTED}(o.code)){const u=s.K_.shift();Rs(s).h_(),await vw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await vf(s)}}(r,e),_w(r)&&Ew(r)}async function ST(r,e){const t=Ne(r);t.asyncQueue.verifyOperationInProgress(),he(ba,"RemoteStore received new credentials");const s=Aa(t);t.W_.add(3),await xu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yf(t)}async function UO(r,e){const t=Ne(r);e?(t.W_.delete(2),await yf(t)):e||(t.W_.add(2),await xu(t),t.j_.set("Unknown"))}function Ho(r){return r.J_||(r.J_=function(t,s,o){const u=Ne(t);return u.M_(),new bO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:IO.bind(null,r),No:NO.bind(null,r),Lo:DO.bind(null,r),p_:xO.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),bg(r)?Tg(r):r.j_.set("Unknown")):(await r.J_.stop(),yw(r))})),r.J_}function Rs(r){return r.Y_||(r.Y_=function(t,s,o){const u=Ne(t);return u.M_(),new wO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:MO.bind(null,r),Lo:LO.bind(null,r),D_:VO.bind(null,r),v_:PO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await vf(r)):(await r.Y_.stop(),r.K_.length>0&&(he(ba,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new wg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,e){if(vi("AsyncQueue",`${e}: ${r}`),Bo(r))return new ge(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=tu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.Z_=new ft(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ko{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new ko(e,t,Co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zO{constructor(){this.queries=RT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ne(t),u=o.queries;o.queries=RT(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function RT(){return new Sa(r=>Bb(r),hf)}async function Ag(r,e){const t=Ne(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new jO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Sg(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Cg(t)}async function Rg(r,e){const t=Ne(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function BO(r,e){const t=Ne(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Cg(t)}function HO(r,e,t){const s=Ne(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Cg(r){r.ia.forEach(e=>{e.next()})}var Ap,CT;(CT=Ap||(Ap={}))._a="default",CT.Cache="cache";class Ig{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.key=e}}class bw{constructor(e){this.key=e}}class FO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=Hb(e),this.wa=new Co(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new AT,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),x=ff(this.query,b)?b:null,k=!!S&&this.mutatedKeys.has(S.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let z=!1;S&&x?S.data.isEqual(x.data)?k!==q&&(s.track({type:3,doc:x}),z=!0):this.va(S,x)||(s.track({type:2,doc:x}),z=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(d=!0)):!S&&x?(s.track({type:0,doc:x}),z=!0):S&&!x&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(d=!0)),z&&(x?(h=h.add(x),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,b)=>function(x,k){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return q(x)-q(k)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new ko(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new AT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new bw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Tw(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ng="SyncEngine";class qO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class GO{constructor(e){this.key=e,this.Ba=!1}}class $O{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Sa(d=>Bb(d),hf),this.qa=new Map,this.Qa=new Set,this.$a=new ft(ve.comparator),this.Ka=new Map,this.Ua=new pg,this.Wa={},this.Ga=new Map,this.za=Oo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function KO(r,e,t=!0){const s=Iw(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await ww(s,e,t,!0),o}async function QO(r,e){const t=Iw(r);await ww(t,e,!0,!1)}async function ww(r,e,t,s){const o=await mO(r.localStore,Ir(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await YO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&pw(r.remoteStore,o),d}async function YO(r,e,t,s,o){r.Ha=(b,S,x)=>async function(q,z,$,J){let X=z.view.Sa($);X.ls&&(X=await _T(q.localStore,z.query,!1).then(({documents:M})=>z.view.Sa(M,X)));const se=J&&J.targetChanges.get(z.targetId),ae=J&&J.targetMismatches.get(z.targetId)!=null,fe=z.view.applyChanges(X,q.isPrimaryClient,se,ae);return NT(q,z.targetId,fe.Ma),fe.snapshot}(r,b,S,x);const u=await _T(r.localStore,e,!0),h=new FO(e,u.gs),d=h.Sa(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);NT(r,t,g.Ma);const E=new qO(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function XO(r,e,t){const s=Ne(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!hf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&_g(s.remoteStore,o.targetId),Rp(s,o.targetId)}).catch(zo)):(Rp(s,o.targetId),await wp(s.localStore,o.targetId,!0))}async function WO(r,e){const t=Ne(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),_g(t.remoteStore,s.targetId))}async function ZO(r,e,t){const s=s2(r);try{const o=await function(h,d){const p=Ne(h),g=Ot.now(),E=d.reduce((x,k)=>x.add(k.key),Ue());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=_i(),q=Ue();return p.ds.getEntries(x,E).next(z=>{k=z,k.forEach(($,J)=>{J.isValidDocument()||(q=q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,k)).next(z=>{b=z;const $=[];for(const J of d){const X=dx(J,b.get(J.key).overlayedDocument);X!=null&&$.push(new xs(J.key,X,Mb(X.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,$,d)}).next(z=>{S=z;const $=z.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(x,z.batchId,$)})}).then(()=>({batchId:S.batchId,changes:qb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ft(ze)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Ou(s,o.changes),await vf(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");t.reject(u)}}async function Sw(r,e){const t=Ne(r);try{const s=await hO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?We(h.Ba):o.removedDocuments.size>0&&(We(h.Ba),h.Ba=!1))}),await Ou(t,s,e)}catch(s){await zo(s)}}function IT(r,e,t){const s=Ne(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ne(h);p.onlineState=d;let g=!1;p.queries.forEach((E,b)=>{for(const S of b.ta)S.sa(d)&&(g=!0)}),g&&Cg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JO(r,e,t){const s=Ne(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new ft(ve.comparator);h=h.insert(u,sn.newNoDocument(u,Ce.min()));const d=Ue().add(u),p=new pf(Ce.min(),new Map,new ft(ze),h,d);await Sw(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Dg(s)}else await wp(s.localStore,e,!1).then(()=>Rp(s,e,t)).catch(zo)}async function e2(r,e){const t=Ne(r),s=e.batch.batchId;try{const o=await cO(t.localStore,e);Rw(t,s,null),Aw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(t,o)}catch(o){await zo(o)}}async function t2(r,e,t){const s=Ne(r);try{const o=await function(h,d){const p=Ne(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(We(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Rw(s,e,t),Aw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ou(s,o)}catch(o){await zo(o)}}function Aw(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function Rw(r,e,t){const s=Ne(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Rp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||Cw(r,s)})}function Cw(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(_g(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),Dg(r))}function NT(r,e,t){for(const s of t)s instanceof Tw?(r.Ua.addReference(s.key,e),n2(r,s)):s instanceof bw?(he(Ng,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||Cw(r,s.key)):we()}function n2(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(he(Ng,"New document in limbo: "+t),r.Qa.add(s),Dg(r))}function Dg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new ve(ot.fromString(e)),s=r.za.next();r.Ka.set(s,new GO(t)),r.$a=r.$a.insert(t,s),pw(r.remoteStore,new ps(Ir(cf(t.path)),s,"TargetPurposeLimboResolution",af.ae))}}async function Ou(r,e,t){const s=Ne(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=yg.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(g,S=>Z.forEach(S.Hi,x=>E.persistence.referenceDelegate.addReference(b,S.targetId,x)).next(()=>Z.forEach(S.Ji,x=>E.persistence.referenceDelegate.removeReference(b,S.targetId,x)))))}catch(b){if(!Bo(b))throw b;he(vg,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const x=E.Ts.get(S),k=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(S,q)}}}(s.localStore,u))}async function r2(r,e){const t=Ne(r);if(!t.currentUser.isEqual(e)){he(Ng,"User change. New user:",e.toKey());const s=await hw(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ge(re.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(t,s.Rs)}}function i2(r,e){const t=Ne(r),s=t.Ka.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function Iw(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JO.bind(null,e),e.La.p_=BO.bind(null,e.eventManager),e.La.Ja=HO.bind(null,e.eventManager),e}function s2(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t2.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return uO(this.persistence,new aO,e.initialUser,this.serializer)}Xa(e){return new cw(gg.ri,this.serializer)}Za(e){return new gO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class a2 extends Bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof jh);const s=this.persistence.referenceDelegate.garbageCollector;return new Gx(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new cw(s=>jh.ri(s,t),this.serializer)}}class Cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=r2.bind(null,this.syncEngine),await UO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zO}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),s=function(u){return new TO(u)}(e.databaseInfo);return function(u,h,d,p){return new AO(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new CO(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>IT(this.syncEngine,t,0),function(){return bT.D()?new bT:new yO}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,E){const b=new $O(o,u,h,d,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ne(o);he(ba,"RemoteStore shutting down."),u.W_.add(5),await xu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class o2{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(Cs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(Cs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gm(r,e){r.asyncQueue.verifyOperationInProgress(),he(Cs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function DT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await l2(r);he(Cs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>ST(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>ST(e.remoteStore,o)),r._onlineComponents=e}async function l2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Cs,"Using user provided OfflineComponentProvider");try{await Gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Gm(r,new Bh)}}else he(Cs,"Using default OfflineComponentProvider"),await Gm(r,new a2(void 0));return r._offlineComponents}async function Nw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Cs,"Using user provided OnlineComponentProvider"),await DT(r,r._uninitializedComponentsProvider._online)):(he(Cs,"Using default OnlineComponentProvider"),await DT(r,new Cp))),r._onlineComponents}function u2(r){return Nw(r).then(e=>e.syncEngine)}async function Hh(r){const e=await Nw(r),t=e.eventManager;return t.onListen=KO.bind(null,e.syncEngine),t.onUnlisten=XO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WO.bind(null,e.syncEngine),t}function c2(r,e,t={}){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new xg({next:S=>{E.su(),h.enqueueAndForget(()=>Rg(u,b));const x=S.docs.has(d);!x&&S.fromCache?g.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&p&&p.source==="server"?g.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Ig(cf(d.path),E,{includeMetadataChanges:!0,Ta:!0});return Ag(u,b)}(await Hh(r),r.asyncQueue,e,t,s)),s.promise}function h2(r,e,t={}){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new xg({next:S=>{E.su(),h.enqueueAndForget(()=>Rg(u,b)),S.fromCache&&p.source==="server"?g.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Ig(d,E,{includeMetadataChanges:!0,Ta:!0});return Ag(u,b)}(await Hh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r,e,t){if(!t)throw new ge(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function f2(r,e,t,s){if(e===!0&&s===!0)throw new ge(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function OT(r){if(!ve.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kT(r){if(ve.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Og(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function En(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Og(r);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",MT=!0;class VT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=MT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:MT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fx)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vD;switch(s.type){case"firstParty":return new bD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=xT.get(t);s&&(he("ComponentProvider","Removing Datastore"),xT.delete(t),s.terminate())}(this),Promise.resolve()}}function d2(r,e,t,s={}){var o;const u=(r=En(r,_f))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==Ow&&u.host!==d&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!ya(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=rn.MOCK_USER;else{g=I0(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(b)}r._authCredentials=new _D(new wb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ku(this.firestore,e,this._query)}}class dn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Es extends ku{constructor(e,t,s){super(e,t,cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ve(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Ip(r,e,...t){if(r=At(r),xw("collection","path",e),r instanceof _f){const s=ot.fromString(e,...t);return kT(s),new Es(r,null,s)}{if(!(r instanceof dn||r instanceof Es))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...t));return kT(s),new Es(r.firestore,null,s)}}function Or(r,e,...t){if(r=At(r),arguments.length===1&&(e=Sb.newId()),xw("doc","path",e),r instanceof _f){const s=ot.fromString(e,...t);return OT(s),new dn(r,null,new ve(s))}{if(!(r instanceof dn||r instanceof Es))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...t));return OT(s),new dn(r.firestore,r instanceof Es?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class LT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new dw(this,"async_queue_retry"),this.bu=()=>{const s=qm();s&&he(PT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new di;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bo(e))throw e;he(PT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw vi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=wg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function UT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ei extends _f{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new LT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function m2(r,e){const t=typeof r=="object"?r:Qp(),s=typeof r=="string"?r:kh,o=Jh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=A0("firestore");u&&d2(o,...u)}return o}function Ef(r){if(r._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||p2(r),r._firestoreClient}function p2(r){var e,t,s;const o=r._freezeSettings(),u=function(d,p,g,E){return new PD(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Dw(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new o2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Xt.fromBase64String(e))}catch(t){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=/^__.*__$/;class y2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nu(e,this.data,t,this.fieldTransforms)}}class kw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Vg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Mw(this.Lu)&&g2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class v2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gf(e)}ju(e,t,s,o=!1){return new Vg({Lu:e,methodName:t,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(r){const e=r._freezeSettings(),t=gf(r._databaseId);return new v2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Vw(r,e,t,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,t,o);Ug("Data must be an object, but it was:",h,s);const d=Pw(s,h);let p,g;if(u.merge)p=new Nn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Np(e,b,t);if(!h.contains(S))throw new ge(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Uw(E,S)||E.push(S)}p=new Nn(E),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new y2(new _n(d),p,g)}class wf extends bf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}class Lg extends bf{_toFieldTransform(e){return new ux(e.path,new vu)}isEqual(e){return e instanceof Lg}}function _2(r,e,t,s){const o=r.ju(1,e,t);Ug("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();Ds(s,(p,g)=>{const E=jg(e,p,t);g=At(g);const b=o.Ku(E);if(g instanceof wf)u.push(E);else{const S=Sf(g,b);S!=null&&(u.push(E),h.set(E,S))}});const d=new Nn(u);return new kw(h,d,o.fieldTransforms)}function E2(r,e,t,s,o,u){const h=r.ju(1,e,t),d=[Np(e,s,t)],p=[o];if(u.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Np(e,u[S])),p.push(u[S+1]);const g=[],E=_n.empty();for(let S=d.length-1;S>=0;--S)if(!Uw(g,d[S])){const x=d[S];let k=p[S];k=At(k);const q=h.Ku(x);if(k instanceof wf)g.push(x);else{const z=Sf(k,q);z!=null&&(g.push(x),E.set(x,z))}}const b=new Nn(g);return new kw(E,b,h.fieldTransforms)}function Sf(r,e){if(Lw(r=At(r)))return Ug("Unsupported field value:",e,r),Pw(r,e);if(r instanceof bf)return function(s,o){if(!Mw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Sf(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ax(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof kg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mo)return{bytesValue:nw(o.serializer,s._byteString)};if(s instanceof dn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mg)return function(h,d){return{mapValue:{fields:{[Ob]:{stringValue:kb},[Mh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return cg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Og(s)}`)}(r,e)}function Pw(r,e){const t={};return Rb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(r,(s,o)=>{const u=Sf(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Lw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ot||r instanceof kg||r instanceof Mo||r instanceof dn||r instanceof bf||r instanceof Mg)}function Ug(r,e,t){if(!Lw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Og(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Np(r,e,t){if((e=At(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return jg(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,t)}const T2=new RegExp("[~\\*/\\[\\]]");function jg(r,e,t){if(e.search(T2)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Tf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Fh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ge(re.INVALID_ARGUMENT,d+r+p)}function Uw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class b2 extends jw{data(){return super.data()}}function zw(r,e){return typeof e=="string"?jg(r,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w2{convertValue(e,t="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ds(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Mg(u)}convertGeoPoint(e){return new kg(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=ws(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);We(lw(s));const o=new gu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||vi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fw extends jw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(zw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class bh extends Fw{data(e={}){return super.data(e)}}class qw{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new bh(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ru(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ru(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:S2(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function S2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r){r=En(r,dn);const e=En(r.firestore,Ei);return c2(Ef(e),r._key).then(t=>Gw(e,r,t))}class zg extends w2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function A2(r){r=En(r,ku);const e=En(r.firestore,Ei),t=Ef(e),s=new zg(e);return Bw(r._query),h2(t,r._query).then(o=>new qw(e,s,r,o))}function R2(r,e,t){r=En(r,dn);const s=En(r.firestore,Ei),o=Hw(r.converter,e);return Rf(s,[Vw(Pg(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Yn.none())])}function Dp(r,e,t,...s){r=En(r,dn);const o=En(r.firestore,Ei),u=Pg(o);let h;return h=typeof(e=At(e))=="string"||e instanceof Tf?E2(u,"updateDoc",r._key,e,t,s):_2(u,"updateDoc",r._key,e),Rf(o,[h.toMutation(r._key,Yn.exists(!0))])}function C2(r){return Rf(En(r.firestore,Ei),[new hg(r._key,Yn.none())])}function I2(r,e){const t=En(r.firestore,Ei),s=Or(r),o=Hw(r.converter,e);return Rf(t,[Vw(Pg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then(()=>s)}function N2(r,...e){var t,s,o;r=At(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||UT(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(UT(e[h])){const b=e[h];e[h]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[h+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[h+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,E;if(r instanceof dn)g=En(r.firestore,Ei),E=cf(r._key.path),p={next:b=>{e[h]&&e[h](Gw(g,r,b))},error:e[h+1],complete:e[h+2]};else{const b=En(r,ku);g=En(b.firestore,Ei),E=b._query;const S=new zg(g);p={next:x=>{e[h]&&e[h](new qw(g,S,b,x))},error:e[h+1],complete:e[h+2]},Bw(r._query)}return function(S,x,k,q){const z=new xg(q),$=new Ig(x,z,k);return S.asyncQueue.enqueueAndForget(async()=>Ag(await Hh(S),$)),()=>{z.su(),S.asyncQueue.enqueueAndForget(async()=>Rg(await Hh(S),$))}}(Ef(g),E,d,p)}function Rf(r,e){return function(s,o){const u=new di;return s.asyncQueue.enqueueAndForget(async()=>ZO(await u2(s),o,u)),u.promise}(Ef(r),e)}function Gw(r,e,t){const s=t.docs.get(e._key),o=new zg(r);return new Fw(r,o,e._key,s,new ru(t.hasPendingWrites,t.fromCache),e.converter)}function D2(){return new Lg("serverTimestamp")}(function(e,t=!0){(function(o){jo=o})(wa),va(new Ts("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Ei(new ED(s.getProvider("auth-internal")),new wD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ar(qE,GE,e),Ar(qE,GE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firebasestorage.googleapis.com",x2="storageBucket",O2=2*60*1e3,k2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Vr{constructor(e,t,s=0){super($m(e),`Firebase Storage: ${t} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kr||(kr={}));function $m(r){return"storage/"+r}function M2(){const r="An unknown error occurred, please check the error payload for server response.";return new Pr(kr.UNKNOWN,r)}function V2(){return new Pr(kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P2(){return new Pr(kr.CANCELED,"User canceled the upload/download.")}function L2(r){return new Pr(kr.INVALID_URL,"Invalid URL '"+r+"'.")}function U2(r){return new Pr(kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function jT(r){return new Pr(kr.INVALID_ARGUMENT,r)}function Kw(){return new Pr(kr.APP_DELETED,"The Firebase app was deleted.")}function j2(r){return new Pr(kr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ir.makeFromUrl(e,t)}catch{return new ir(e,"")}if(s.path==="")return s;throw U2(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},q=t===$w?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",$=new RegExp(`^https?://${q}/${o}/${z}`,"i"),X=[{regex:d,indices:p,postModify:u},{regex:x,indices:k,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<X.length;se++){const ae=X[se],fe=ae.regex.exec(e);if(fe){const M=fe[ae.indices.bucket];let C=fe[ae.indices.path];C||(C=""),s=new ir(M,C),ae.postModify(s);break}}if(s==null)throw L2(e);return s}}class z2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...z){g||(g=!0,e.apply(null,z))}function b(z){o=setTimeout(()=>{o=null,r(x,p())},z)}function S(){u&&clearTimeout(u)}function x(z,...$){if(g){S();return}if(z){S(),E.call(null,z,...$);return}if(p()||h){S(),E.call(null,z,...$);return}s<64&&(s*=2);let X;d===1?(d=2,X=0):X=(s+Math.random())*1e3,b(X)}let k=!1;function q(z){k||(k=!0,S(),!g&&(o!==null?(z||(d=2),clearTimeout(o),b(0)):z||(d=1)))}return b(0),u=setTimeout(()=>{h=!0,q(!0)},t),q}function H2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(r){return r!==void 0}function zT(r,e,t,s){if(s<e)throw jT(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw jT(`Invalid value for '${r}'. Expected ${t} or less.`)}function q2(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var qh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qh||(qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t,s,o,u,h,d,p,g,E,b,S=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===qh.NO_ERROR,p=u.getStatus();if(!d||G2(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===qh.ABORT;s(!1,new lh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new lh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());F2(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=M2();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Kw():P2();h(p)}else{const p=V2();h(p)}};this.canceled_?t(!1,new lh(!1,null,!0)):this.backoffId_=B2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function K2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Q2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Y2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function X2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function W2(r,e,t,s,o,u,h=!0){const d=q2(r.urlParams),p=r.url+d,g=Object.assign({},r.headers);return Y2(g,e),K2(g,t),Q2(g,u),X2(g,s),new $2(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function J2(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this._service=e,t instanceof ir?this._location=t:this._location=ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gh(e,t)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J2(this._location.path)}get storage(){return this._service}get parent(){const e=Z2(this._location.path);if(e===null)return null;const t=new ir(this._location.bucket,e);return new Gh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw j2(e)}}function BT(r,e){const t=e==null?void 0:e[x2];return t==null?null:ir.makeFromBucketSpec(t,r)}function ek(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:I0(o,r.app.options.projectId))}class tk{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=$w,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O2,this._maxUploadRetryTime=k2,this._requests=new Set,o!=null?this._bucket=ir.makeFromBucketSpec(o,this._host):this._bucket=BT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,e):this._bucket=BT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gh(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new z2(Kw());{const h=W2(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const HT="@firebase/storage",FT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="storage";function nk(r=Qp(),e){r=At(r);const s=Jh(r,Qw).getImmediate({identifier:e}),o=A0("storage");return o&&rk(s,...o),s}function rk(r,e,t,s={}){ek(r,e,t,s)}function ik(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new tk(t,s,o,e,wa)}function sk(){va(new Ts(Qw,ik,"PUBLIC").setMultipleInstances(!0)),Ar(HT,FT,""),Ar(HT,FT,"esm2017")}sk();const ak={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},Bg=x0(ak),gs=sf(Bg),Qn=m2(Bg);nk(Bg);const Km=({children:r,requiredRole:e})=>{const[t,s]=N.useState(!0),[o,u]=N.useState(!1);return N.useEffect(()=>{const h=tf(gs,async d=>{if(d){const p=await Af(Or(Qn,"Users",d.uid));p.exists()&&p.data().role===e&&u(!0)}s(!1)});return()=>h()},[e]),t?A.jsx("p",{}):o?r:A.jsx(BR,{to:"/unauthorized"})},ok=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is Home Page"})}),lk=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is about page"})}),uk=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is services page"})}),ck=()=>A.jsx("div",{children:A.jsx("h1",{children:"HI THIS IS OUR COMMITMENT"})}),hk=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is contact page"})}),qT="/cargofran/assets/logo2-d8LGHafD.png";var Qm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var GT;function fk(){return GT||(GT=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var d in u)e.call(u,d)&&u[d]&&(h=o(h,d));return h}function o(u,h){return h?u?u+" "+h:u+h:u}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(Qm)),Qm.exports}var dk=fk();const it=Yh(dk);function mk(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)!==-1)continue;t[s]=r[s]}return t}function xp(r,e){return xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},xp(r,e)}function pk(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,xp(r,e)}const gk=["xxl","xl","lg","md","sm","xs"],yk="xs",Mu=N.createContext({prefixes:{},breakpoints:gk,minBreakpoint:yk}),{Consumer:tV,Provider:nV}=Mu;function Mt(r,e){const{prefixes:t}=N.useContext(Mu);return r||t[e]||e}function vk(){const{breakpoints:r}=N.useContext(Mu);return r}function _k(){const{minBreakpoint:r}=N.useContext(Mu);return r}function Ek(){const{dir:r}=N.useContext(Mu);return r==="rtl"}function Cf(r){return r&&r.ownerDocument||document}function Tk(r){var e=Cf(r);return e&&e.defaultView||window}function bk(r,e){return Tk(r).getComputedStyle(r,e)}var wk=/([A-Z])/g;function Sk(r){return r.replace(wk,"-$1").toLowerCase()}var Ak=/^ms-/;function uh(r){return Sk(r).replace(Ak,"-ms-")}var Rk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ck(r){return!!(r&&Rk.test(r))}function ga(r,e){var t="",s="";if(typeof e=="string")return r.style.getPropertyValue(uh(e))||bk(r).getPropertyValue(uh(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?r.style.removeProperty(uh(o)):Ck(o)?s+=o+"("+u+") ":t+=uh(o)+": "+u+";"}),s&&(t+="transform: "+s+";"),r.style.cssText+=";"+t}var Ym={exports:{}},Xm,$T;function Ik(){if($T)return Xm;$T=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xm=r,Xm}var Wm,KT;function Nk(){if(KT)return Wm;KT=1;var r=Ik();function e(){}function t(){}return t.resetWarningCache=e,Wm=function(){function s(h,d,p,g,E,b){if(b!==r){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},Wm}var QT;function Dk(){return QT||(QT=1,Ym.exports=Nk()()),Ym.exports}var xk=Dk();const mi=Yh(xk),YT={disabled:!1},Yw=ma.createContext(null);var Ok=function(e){return e.scrollTop},iu="unmounted",ha="exited",cs="entering",fa="entered",Op="exiting",Si=function(r){pk(e,r);function e(s,o){var u;u=r.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?d?(p=ha,u.appearStatus=cs):p=fa:s.unmountOnExit||s.mountOnEnter?p=iu:p=ha,u.state={status:p},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===iu?{status:ha}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==cs&&h!==fa&&(u=cs):(h===cs||h===fa)&&(u=Op)}this.updateStatus(!1,u)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,u,h,d;return u=h=d=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:d}},t.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===cs){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:bo.findDOMNode(this);h&&Ok(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ha&&this.setState({status:iu})},t.performEnter=function(o){var u=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[bo.findDOMNode(this),d],g=p[0],E=p[1],b=this.getTimeouts(),S=d?b.appear:b.enter;if(!o&&!h||YT.disabled){this.safeSetState({status:fa},function(){u.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:cs},function(){u.props.onEntering(g,E),u.onTransitionEnd(S,function(){u.safeSetState({status:fa},function(){u.props.onEntered(g,E)})})})},t.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:bo.findDOMNode(this);if(!u||YT.disabled){this.safeSetState({status:ha},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Op},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ha},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},t.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:bo.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===iu)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=mk(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ma.createElement(Yw.Provider,{value:null},typeof h=="function"?h(o,d):ma.cloneElement(ma.Children.only(h),d))},e}(ma.Component);Si.contextType=Yw;Si.propTypes={};function po(){}Si.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:po,onEntering:po,onEntered:po,onExit:po,onExiting:po,onExited:po};Si.UNMOUNTED=iu;Si.EXITED=ha;Si.ENTERING=cs;Si.ENTERED=fa;Si.EXITING=Op;function kk(r){return r.code==="Escape"||r.keyCode===27}function Mk(){const r=N.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function If(r){if(!r||typeof r=="function")return null;const{major:e}=Mk();return e>=19?r.props.ref:r.ref}const Fo=!!(typeof window<"u"&&window.document&&window.document.createElement);var kp=!1,Mp=!1;try{var Zm={get passive(){return kp=!0},get once(){return Mp=kp=!0}};Fo&&(window.addEventListener("test",Zm,Zm),window.removeEventListener("test",Zm,!0))}catch{}function Xw(r,e,t,s){if(s&&typeof s!="boolean"&&!Mp){var o=s.once,u=s.capture,h=t;!Mp&&o&&(h=t.__once||function d(p){this.removeEventListener(e,d,u),t.call(this,p)},t.__once=h),r.addEventListener(e,h,kp?s:u)}r.addEventListener(e,t,s)}function Vp(r,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(e,t,o),t.__once&&r.removeEventListener(e,t.__once,o)}function $h(r,e,t,s){return Xw(r,e,t,s),function(){Vp(r,e,t,s)}}function Vk(r,e,t,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),r.dispatchEvent(o)}}function Pk(r){var e=ga(r,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Lk(r,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||Vk(r,"transitionend",!0)},e+t),u=$h(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function Ww(r,e,t,s){t==null&&(t=Pk(r)||0);var o=Lk(r,t,s),u=$h(r,"transitionend",e);return function(){o(),u()}}function XT(r,e){const t=ga(r,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Uk(r,e){const t=XT(r,"transitionDuration"),s=XT(r,"transitionDelay"),o=Ww(r,u=>{u.target===r&&(o(),e(u))},t+s)}function jk(r){r.offsetHeight}const WT=r=>!r||typeof r=="function"?r:e=>{r.current=e};function zk(r,e){const t=WT(r),s=WT(e);return o=>{t&&t(o),s&&s(o)}}function Zw(r,e){return N.useMemo(()=>zk(r,e),[r,e])}function Bk(r){return r&&"setState"in r?bo.findDOMNode(r):r??null}const Hk=ma.forwardRef(({onEnter:r,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:d,childRef:p,...g},E)=>{const b=N.useRef(null),S=Zw(b,p),x=fe=>{S(Bk(fe))},k=fe=>M=>{fe&&b.current&&fe(b.current,M)},q=N.useCallback(k(r),[r]),z=N.useCallback(k(e),[e]),$=N.useCallback(k(t),[t]),J=N.useCallback(k(s),[s]),X=N.useCallback(k(o),[o]),se=N.useCallback(k(u),[u]),ae=N.useCallback(k(h),[h]);return A.jsx(Si,{ref:E,...g,onEnter:q,onEntered:$,onEntering:z,onExit:J,onExited:se,onExiting:X,addEndListener:ae,nodeRef:b,children:typeof d=="function"?(fe,M)=>d(fe,{...M,ref:x}):ma.cloneElement(d,{ref:x})})});function Fk(r){const e=N.useRef(r);return N.useEffect(()=>{e.current=r},[r]),e}function Pp(r){const e=Fk(r);return N.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const qk=r=>N.forwardRef((e,t)=>A.jsx("div",{...e,ref:t,className:it(e.className,r)}));function Gk(r){const e=N.useRef(r);return N.useEffect(()=>{e.current=r},[r]),e}function da(r){const e=Gk(r);return N.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function $k(){const r=N.useRef(!0),e=N.useRef(()=>r.current);return N.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function Kk(r){const e=N.useRef(null);return N.useEffect(()=>{e.current=r}),e.current}const Qk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Yk=typeof document<"u",ZT=Yk||Qk?N.useLayoutEffect:N.useEffect,Xk=["as","disabled"];function Wk(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function Zk(r){return!r||r.trim()==="#"}function Jw({tagName:r,disabled:e,href:t,target:s,rel:o,role:u,onClick:h,tabIndex:d=0,type:p}){r||(t!=null||s!=null||o!=null?r="a":r="button");const g={tagName:r};if(r==="button")return[{type:p||"button",disabled:e},g];const E=S=>{if((e||r==="a"&&Zk(t))&&S.preventDefault(),e){S.stopPropagation();return}h==null||h(S)},b=S=>{S.key===" "&&(S.preventDefault(),E(S))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:r==="a"?s:void 0,"aria-disabled":e||void 0,rel:r==="a"?o:void 0,onClick:E,onKeyDown:b},g]}const Jk=N.forwardRef((r,e)=>{let{as:t,disabled:s}=r,o=Wk(r,Xk);const[u,{tagName:h}]=Jw(Object.assign({tagName:t,disabled:s},o));return A.jsx(h,Object.assign({},o,u,{ref:e}))});Jk.displayName="Button";const eM={[cs]:"show",[fa]:"show"},Hg=N.forwardRef(({className:r,children:e,transitionClasses:t={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=N.useCallback((p,g)=>{jk(p),s==null||s(p,g)},[s]);return A.jsx(Hk,{ref:u,addEndListener:Uk,...h,onEnter:d,childRef:If(e),children:(p,g)=>N.cloneElement(e,{...g,className:it("fade",r,e.props.className,eM[p],t[p])})})});Hg.displayName="Fade";const tM={"aria-label":mi.string,onClick:mi.func,variant:mi.oneOf(["white"])},Fg=N.forwardRef(({className:r,variant:e,"aria-label":t="Close",...s},o)=>A.jsx("button",{ref:o,type:"button",className:it("btn-close",e&&`btn-close-${e}`,r),"aria-label":t,...s}));Fg.displayName="CloseButton";Fg.propTypes=tM;const rr=N.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:u=!1,className:h,...d},p)=>{const g=Mt(e,"btn"),[E,{tagName:b}]=Jw({tagName:r,disabled:u,...d}),S=b;return A.jsx(S,{...E,...d,ref:p,disabled:u,className:it(h,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&u&&"disabled")})});rr.displayName="Button";function nM(r){const e=N.useRef(r);return e.current=r,e}function rM(r){const e=nM(r);N.useEffect(()=>()=>e.current(),[])}function iM(r,e){return N.Children.toArray(r).some(t=>N.isValidElement(t)&&t.type===e)}function sM({as:r,bsPrefix:e,className:t,...s}){e=Mt(e,"col");const o=vk(),u=_k(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,b,S;typeof g=="object"&&g!=null?{span:E,offset:b,order:S}=g:E=g;const x=p!==u?`-${p}`:"";E&&h.push(E===!0?`${e}${x}`:`${e}${x}-${E}`),S!=null&&d.push(`order${x}-${S}`),b!=null&&d.push(`offset${x}-${b}`)}),[{...s,className:it(t,...h,...d)},{as:r,bsPrefix:e,spans:h}]}const eS=N.forwardRef((r,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:u,spans:h}]=sM(r);return A.jsx(o,{...s,ref:e,className:it(t,!h.length&&u)})});eS.displayName="Col";var aM=Function.prototype.bind.call(Function.prototype.call,[].slice);function go(r,e){return aM(r.querySelectorAll(e))}function JT(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}const oM="data-rr-ui-";function lM(r){return`${oM}${r}`}const tS=N.createContext(Fo?window:void 0);tS.Provider;function qg(){return N.useContext(tS)}const uM={type:mi.string,tooltip:mi.bool,as:mi.elementType},Nf=N.forwardRef(({as:r="div",className:e,type:t="valid",tooltip:s=!1,...o},u)=>A.jsx(r,{...o,ref:u,className:it(e,`${t}-${s?"tooltip":"feedback"}`)}));Nf.displayName="Feedback";Nf.propTypes=uM;const Ti=N.createContext({}),Gg=N.forwardRef(({id:r,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...d},p)=>{const{controlId:g}=N.useContext(Ti);return e=Mt(e,"form-check-input"),A.jsx(h,{...d,ref:p,type:s,id:r||g,className:it(t,e,o&&"is-valid",u&&"is-invalid")})});Gg.displayName="FormCheckInput";const Kh=N.forwardRef(({bsPrefix:r,className:e,htmlFor:t,...s},o)=>{const{controlId:u}=N.useContext(Ti);return r=Mt(r,"form-check-label"),A.jsx("label",{...s,ref:o,htmlFor:t||u,className:it(e,r)})});Kh.displayName="FormCheckLabel";const nS=N.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:b,style:S,title:x="",type:k="checkbox",label:q,children:z,as:$="input",...J},X)=>{e=Mt(e,"form-check"),t=Mt(t,"form-switch");const{controlId:se}=N.useContext(Ti),ae=N.useMemo(()=>({controlId:r||se}),[se,r]),fe=!z&&q!=null&&q!==!1||iM(z,Kh),M=A.jsx(Gg,{...J,type:k==="switch"?"checkbox":k,ref:X,isValid:h,isInvalid:d,disabled:u,as:$});return A.jsx(Ti.Provider,{value:ae,children:A.jsx("div",{style:S,className:it(b,fe&&e,s&&`${e}-inline`,o&&`${e}-reverse`,k==="switch"&&t),children:z||A.jsxs(A.Fragment,{children:[M,fe&&A.jsx(Kh,{title:x,children:q}),g&&A.jsx(Nf,{type:E,tooltip:p,children:g})]})})})});nS.displayName="FormCheck";const Qh=Object.assign(nS,{Input:Gg,Label:Kh}),rS=N.forwardRef(({bsPrefix:r,type:e,size:t,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:E="input",...b},S)=>{const{controlId:x}=N.useContext(Ti);return r=Mt(r,"form-control"),A.jsx(E,{...b,type:e,size:s,ref:S,readOnly:g,id:o||x,className:it(u,p?`${r}-plaintext`:r,t&&`${r}-${t}`,e==="color"&&`${r}-color`,h&&"is-valid",d&&"is-invalid")})});rS.displayName="FormControl";const cM=Object.assign(rS,{Feedback:Nf}),iS=N.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Mt(e,"form-floating"),A.jsx(t,{ref:o,className:it(r,e),...s})));iS.displayName="FormFloating";const $g=N.forwardRef(({controlId:r,as:e="div",...t},s)=>{const o=N.useMemo(()=>({controlId:r}),[r]);return A.jsx(Ti.Provider,{value:o,children:A.jsx(e,{...t,ref:s})})});$g.displayName="FormGroup";const sS=N.forwardRef(({as:r="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},d)=>{const{controlId:p}=N.useContext(Ti);e=Mt(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const E=it(o,e,s&&"visually-hidden",t&&g);return u=u||p,t?A.jsx(eS,{ref:d,as:"label",className:E,htmlFor:u,...h}):A.jsx(r,{ref:d,className:E,htmlFor:u,...h})});sS.displayName="FormLabel";const aS=N.forwardRef(({bsPrefix:r,className:e,id:t,...s},o)=>{const{controlId:u}=N.useContext(Ti);return r=Mt(r,"form-range"),A.jsx("input",{...s,type:"range",ref:o,className:it(e,r),id:t||u})});aS.displayName="FormRange";const oS=N.forwardRef(({bsPrefix:r,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...d},p)=>{const{controlId:g}=N.useContext(Ti);return r=Mt(r,"form-select"),A.jsx("select",{...d,size:t,ref:p,className:it(s,r,e&&`${r}-${e}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});oS.displayName="FormSelect";const lS=N.forwardRef(({bsPrefix:r,className:e,as:t="small",muted:s,...o},u)=>(r=Mt(r,"form-text"),A.jsx(t,{...o,ref:u,className:it(e,r,s&&"text-muted")})));lS.displayName="FormText";const uS=N.forwardRef((r,e)=>A.jsx(Qh,{...r,ref:e,type:"switch"}));uS.displayName="Switch";const hM=Object.assign(uS,{Input:Qh.Input,Label:Qh.Label}),cS=N.forwardRef(({bsPrefix:r,className:e,children:t,controlId:s,label:o,...u},h)=>(r=Mt(r,"form-floating"),A.jsxs($g,{ref:h,className:it(e,r),controlId:s,...u,children:[t,A.jsx("label",{htmlFor:s,children:o})]})));cS.displayName="FloatingLabel";const fM={_ref:mi.any,validated:mi.bool,as:mi.elementType},Kg=N.forwardRef(({className:r,validated:e,as:t="form",...s},o)=>A.jsx(t,{...s,ref:o,className:it(r,e&&"was-validated")}));Kg.displayName="Form";Kg.propTypes=fM;const xe=Object.assign(Kg,{Group:$g,Control:cM,Floating:iS,Check:Qh,Switch:hM,Label:sS,Text:lS,Range:aS,Select:oS,FloatingLabel:cS}),e0=r=>!r||typeof r=="function"?r:e=>{r.current=e};function dM(r,e){const t=e0(r),s=e0(e);return o=>{t&&t(o),s&&s(o)}}function Qg(r,e){return N.useMemo(()=>dM(r,e),[r,e])}var ch;function t0(r){if((!ch&&ch!==0||r)&&Fo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ch=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ch}function mM(){return N.useState(null)}function Jm(r){r===void 0&&(r=Cf());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function pM(r){const e=N.useRef(r);return e.current=r,e}function gM(r){const e=pM(r);N.useEffect(()=>()=>e.current(),[])}function yM(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const n0=lM("modal-open");class Yg{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return yM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(ga(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(n0,""),ga(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(n0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ep=(r,e)=>Fo?r==null?(e||Cf()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function vM(r,e){const t=qg(),[s,o]=N.useState(()=>ep(r,t==null?void 0:t.document));if(!s){const u=ep(r);u&&o(u)}return N.useEffect(()=>{},[e,s]),N.useEffect(()=>{const u=ep(r);u!==s&&o(u)},[r,s]),s}function _M({children:r,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const u=N.useRef(null),h=N.useRef(e),d=da(t);N.useEffect(()=>{e?h.current=!0:d(u.current)},[e,d]);const p=Qg(u,If(r)),g=N.cloneElement(r,{ref:p});return e?g:o||!h.current&&s?null:g}const EM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function TM(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function bM(r){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:d,children:p}=r,g=TM(r,EM);const E=N.useRef(null),b=Qg(E,If(p)),S=se=>ae=>{se&&E.current&&se(E.current,ae)},x=N.useCallback(S(e),[e]),k=N.useCallback(S(t),[t]),q=N.useCallback(S(s),[s]),z=N.useCallback(S(o),[o]),$=N.useCallback(S(u),[u]),J=N.useCallback(S(h),[h]),X=N.useCallback(S(d),[d]);return Object.assign({},g,{nodeRef:E},e&&{onEnter:x},t&&{onEntering:k},s&&{onEntered:q},o&&{onExit:z},u&&{onExiting:$},h&&{onExited:J},d&&{addEndListener:X},{children:typeof p=="function"?(se,ae)=>p(se,Object.assign({},ae,{ref:b})):N.cloneElement(p,{ref:b})})}const wM=["component"];function SM(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}const AM=N.forwardRef((r,e)=>{let{component:t}=r,s=SM(r,wM);const o=bM(s);return A.jsx(t,Object.assign({ref:e},o))});function RM({in:r,onTransition:e}){const t=N.useRef(null),s=N.useRef(!0),o=da(e);return ZT(()=>{if(!t.current)return;let u=!1;return o({in:r,element:t.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),ZT(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function CM({children:r,in:e,onExited:t,onEntered:s,transition:o}){const[u,h]=N.useState(!e);e&&u&&h(!1);const d=RM({in:!!e,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),t==null||t(g.element)))};Promise.resolve(o(g)).then(E,b=>{throw g.in||h(!0),b})}}),p=Qg(d,If(r));return u&&!e?null:N.cloneElement(r,{ref:p})}function r0(r,e,t){return r?A.jsx(AM,Object.assign({},t,{component:r})):e?A.jsx(CM,Object.assign({},t,{transition:e})):A.jsx(_M,Object.assign({},t))}const IM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function NM(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}let tp;function DM(r){return tp||(tp=new Yg({ownerDocument:r==null?void 0:r.document})),tp}function xM(r){const e=qg(),t=r||DM(e),s=N.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:N.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:N.useCallback(o=>{s.current.backdrop=o},[])})}const hS=N.forwardRef((r,e)=>{let{show:t=!1,role:s="dialog",className:o,style:u,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:b,runTransition:S,backdropTransition:x,runBackdropTransition:k,autoFocus:q=!0,enforceFocus:z=!0,restoreFocus:$=!0,restoreFocusOptions:J,renderDialog:X,renderBackdrop:se=$e=>A.jsx("div",Object.assign({},$e)),manager:ae,container:fe,onShow:M,onHide:C=()=>{},onExit:R,onExited:O,onExiting:P,onEnter:j,onEntering:I,onEntered:Ae}=r,_e=NM(r,IM);const ee=qg(),ce=vM(fe),ue=xM(ae),Be=$k(),V=Kk(t),[te,de]=N.useState(!t),oe=N.useRef(null);N.useImperativeHandle(e,()=>ue,[ue]),Fo&&!V&&t&&(oe.current=Jm(ee==null?void 0:ee.document)),t&&te&&de(!1);const le=da(()=>{if(ue.add(),Pe.current=$h(document,"keydown",Ve),Ze.current=$h(document,"focus",()=>setTimeout(Re),!0),M&&M(),q){var $e,mn;const Xn=Jm(($e=(mn=ue.dialog)==null?void 0:mn.ownerDocument)!=null?$e:ee==null?void 0:ee.document);ue.dialog&&Xn&&!JT(ue.dialog,Xn)&&(oe.current=Xn,ue.dialog.focus())}}),Se=da(()=>{if(ue.remove(),Pe.current==null||Pe.current(),Ze.current==null||Ze.current(),$){var $e;($e=oe.current)==null||$e.focus==null||$e.focus(J),oe.current=null}});N.useEffect(()=>{!t||!ce||le()},[t,ce,le]),N.useEffect(()=>{te&&Se()},[te,Se]),gM(()=>{Se()});const Re=da(()=>{if(!z||!Be()||!ue.isTopModal())return;const $e=Jm(ee==null?void 0:ee.document);ue.dialog&&$e&&!JT(ue.dialog,$e)&&ue.dialog.focus()}),st=da($e=>{$e.target===$e.currentTarget&&(g==null||g($e),d===!0&&C())}),Ve=da($e=>{p&&kk($e)&&ue.isTopModal()&&(E==null||E($e),$e.defaultPrevented||C())}),Ze=N.useRef(),Pe=N.useRef(),Et=(...$e)=>{de(!0),O==null||O(...$e)};if(!ce)return null;const Wt=Object.assign({role:s,ref:ue.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},_e,{style:u,className:o,tabIndex:-1});let Vt=X?X(Wt):A.jsx("div",Object.assign({},Wt,{children:N.cloneElement(h,{role:"document"})}));Vt=r0(b,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:R,onExiting:P,onExited:Et,onEnter:j,onEntering:I,onEntered:Ae,children:Vt});let on=null;return d&&(on=se({ref:ue.setBackdropRef,onClick:st}),on=r0(x,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:on})),A.jsx(A.Fragment,{children:bo.createPortal(A.jsxs(A.Fragment,{children:[on,Vt]}),ce)})});hS.displayName="Modal";const OM=Object.assign(hS,{Manager:Yg});function kM(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function MM(r,e){r.classList?r.classList.add(e):kM(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function i0(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function VM(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=i0(r.className,e):r.setAttribute("class",i0(r.className&&r.className.baseVal||"",e))}const yo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class PM extends Yg{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,ga(t,{[e]:`${parseFloat(ga(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],ga(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(MM(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";go(t,yo.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,e.scrollBarWidth)),go(t,yo.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-e.scrollBarWidth)),go(t,yo.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();VM(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";go(t,yo.FIXED_CONTENT).forEach(u=>this.restore(s,u)),go(t,yo.STICKY_CONTENT).forEach(u=>this.restore(o,u)),go(t,yo.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let np;function LM(r){return np||(np=new PM(r)),np}const fS=N.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Mt(e,"modal-body"),A.jsx(t,{ref:o,className:it(r,e),...s})));fS.displayName="ModalBody";const dS=N.createContext({onHide(){}}),Xg=N.forwardRef(({bsPrefix:r,className:e,contentClassName:t,centered:s,size:o,fullscreen:u,children:h,scrollable:d,...p},g)=>{r=Mt(r,"modal");const E=`${r}-dialog`,b=typeof u=="string"?`${r}-fullscreen-${u}`:`${r}-fullscreen`;return A.jsx("div",{...p,ref:g,className:it(E,e,o&&`${r}-${o}`,s&&`${E}-centered`,d&&`${E}-scrollable`,u&&b),children:A.jsx("div",{className:it(`${r}-content`,t),children:h})})});Xg.displayName="ModalDialog";const mS=N.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Mt(e,"modal-footer"),A.jsx(t,{ref:o,className:it(r,e),...s})));mS.displayName="ModalFooter";const UM=N.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...u},h)=>{const d=N.useContext(dS),p=Pp(()=>{d==null||d.onHide(),s==null||s()});return A.jsxs("div",{ref:h,...u,children:[o,t&&A.jsx(Fg,{"aria-label":r,variant:e,onClick:p})]})}),pS=N.forwardRef(({bsPrefix:r,className:e,closeLabel:t="Close",closeButton:s=!1,...o},u)=>(r=Mt(r,"modal-header"),A.jsx(UM,{ref:u,...o,className:it(e,r),closeLabel:t,closeButton:s})));pS.displayName="ModalHeader";const jM=qk("h4"),gS=N.forwardRef(({className:r,bsPrefix:e,as:t=jM,...s},o)=>(e=Mt(e,"modal-title"),A.jsx(t,{ref:o,className:it(r,e),...s})));gS.displayName="ModalTitle";function zM(r){return A.jsx(Hg,{...r,timeout:null})}function BM(r){return A.jsx(Hg,{...r,timeout:null})}const yS=N.forwardRef(({bsPrefix:r,className:e,style:t,dialogClassName:s,contentClassName:o,children:u,dialogAs:h=Xg,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:b=!1,animation:S=!0,backdrop:x=!0,keyboard:k=!0,onEscapeKeyDown:q,onShow:z,onHide:$,container:J,autoFocus:X=!0,enforceFocus:se=!0,restoreFocus:ae=!0,restoreFocusOptions:fe,onEntered:M,onExit:C,onExiting:R,onEnter:O,onEntering:P,onExited:j,backdropClassName:I,manager:Ae,..._e},ee)=>{const[ce,ue]=N.useState({}),[Be,V]=N.useState(!1),te=N.useRef(!1),de=N.useRef(!1),oe=N.useRef(null),[le,Se]=mM(),Re=Zw(ee,Se),st=Pp($),Ve=Ek();r=Mt(r,"modal");const Ze=N.useMemo(()=>({onHide:st}),[st]);function Pe(){return Ae||LM({isRTL:Ve})}function Et(Ee){if(!Fo)return;const at=Pe().getScrollbarWidth()>0,Dn=Ee.scrollHeight>Cf(Ee).documentElement.clientHeight;ue({paddingRight:at&&!Dn?t0():void 0,paddingLeft:!at&&Dn?t0():void 0})}const Wt=Pp(()=>{le&&Et(le.dialog)});rM(()=>{Vp(window,"resize",Wt),oe.current==null||oe.current()});const Vt=()=>{te.current=!0},on=Ee=>{te.current&&le&&Ee.target===le.dialog&&(de.current=!0),te.current=!1},$e=()=>{V(!0),oe.current=Ww(le.dialog,()=>{V(!1)})},mn=Ee=>{Ee.target===Ee.currentTarget&&$e()},Xn=Ee=>{if(x==="static"){mn(Ee);return}if(de.current||Ee.target!==Ee.currentTarget){de.current=!1;return}$==null||$()},Ai=Ee=>{k?q==null||q(Ee):(Ee.preventDefault(),x==="static"&&$e())},Ri=(Ee,at)=>{Ee&&Et(Ee),O==null||O(Ee,at)},Lr=Ee=>{oe.current==null||oe.current(),C==null||C(Ee)},Ci=(Ee,at)=>{P==null||P(Ee,at),Xw(window,"resize",Wt)},qo=Ee=>{Ee&&(Ee.style.display=""),j==null||j(Ee),Vp(window,"resize",Wt)},Os=N.useCallback(Ee=>A.jsx("div",{...Ee,className:it(`${r}-backdrop`,I,!S&&"show")}),[S,I,r]),Ft={...t,...ce};Ft.display="block";const Ra=Ee=>A.jsx("div",{role:"dialog",...Ee,style:Ft,className:it(e,r,Be&&`${r}-static`,!S&&"show"),onClick:x?Xn:void 0,onMouseUp:on,"data-bs-theme":d,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:A.jsx(h,{..._e,onMouseDown:Vt,className:s,contentClassName:o,children:u})});return A.jsx(dS.Provider,{value:Ze,children:A.jsx(OM,{show:b,ref:Re,backdrop:x,container:J,keyboard:!0,autoFocus:X,enforceFocus:se,restoreFocus:ae,restoreFocusOptions:fe,onEscapeKeyDown:Ai,onShow:z,onHide:$,onEnter:Ri,onEntering:Ci,onEntered:M,onExit:Lr,onExiting:R,onExited:qo,manager:Pe(),transition:S?zM:void 0,backdropTransition:S?BM:void 0,renderBackdrop:Os,renderDialog:Ra})})});yS.displayName="Modal";const yn=Object.assign(yS,{Body:fS,Header:pS,Title:gS,Footer:mS,Dialog:Xg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function vS(){const[r,e]=N.useState(!1),[t,s]=N.useState("login"),[o,u]=N.useState(""),[h,d]=N.useState(""),[p,g]=N.useState(""),[E,b]=N.useState(""),[S,x]=N.useState(""),[k,q]=N.useState(""),[z,$]=N.useState(""),J=Bp(),X=()=>{e(!1),s("login"),q(""),$("")},se=()=>e(!0),ae=async C=>{C.preventDefault(),q("");try{await iN(gs,lb);const O=(await rN(gs,p,E)).user,P=await Af(Or(Qn,"Users",O.uid));if(P.exists()){const j=P.data();j.role==="admin"?J("/AdminDashboard"):j.role==="staff"?J("/StaffDashboard"):J("/UserDashboard"),j.verified||$("Your account is not verified yet. Some features may be restricted.")}else q("User role not found in database.");X()}catch(R){q(R.message)}},fe=async C=>{if(C.preventDefault(),q(""),$(""),E!==S){q("Passwords do not match");return}try{const P=(await nN(gs,p,E)).user.uid,j=Or(Qn,"Users",P);await R2(j,{uid:P,firstName:o,lastName:h,email:p,role:"user",verified:!1,createdAt:new Date}),$("Account created! You can now log in."),s("login")}catch(R){q(R.message)}},M=async C=>{if(C.preventDefault(),q(""),$(""),!p){q("Please enter your email address.");return}try{await sb(gs,p),$("Password reset link sent to your email."),g("")}catch(R){q(R.message)}};return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:`text-xl drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-110 active:scale-95 
                  after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/90 after:transition-all after:duration-300 
                  hover:after:w-full text-white/100 hover:text-green-400 cursor-pointer`,onClick:se,children:"Log In / Sign Up"}),A.jsxs(yn,{show:r,onHide:X,centered:!0,children:[A.jsx(yn.Header,{closeButton:!0,children:A.jsxs(yn.Title,{children:[t==="login"&&"Log In",t==="signup"&&"Sign Up",t==="forgotPassword"&&"Reset Password"]})}),A.jsxs(yn.Body,{children:[k&&A.jsx("p",{className:"text-danger",children:k}),z&&A.jsx("p",{className:"text-success",children:z}),t==="forgotPassword"&&A.jsxs(xe,{onSubmit:M,children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email Address"}),A.jsx(xe.Control,{type:"email",placeholder:"Enter your email",value:p,onChange:C=>g(C.target.value),required:!0})]}),A.jsx(rr,{variant:"primary",type:"submit",className:"w-100",children:"Send Reset Link"}),A.jsx("div",{className:"mt-3 text-center",children:A.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),s("login")},children:"Back to Login"})})]}),t==="login"&&A.jsxs(xe,{onSubmit:ae,children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email"}),A.jsx(xe.Control,{type:"email",placeholder:"Enter email",value:p,onChange:C=>g(C.target.value)})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Password"}),A.jsx(xe.Control,{type:"password",placeholder:"Password",value:E,onChange:C=>b(C.target.value)}),A.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),s("forgotPassword")},children:"Forgot Password?"})]}),A.jsx(rr,{variant:"primary",type:"submit",className:"w-100",children:"Log In"}),A.jsx("div",{className:"mt-3 text-center",children:A.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),s("signup")},children:"First time? Sign up"})})]}),t==="signup"&&A.jsxs(xe,{onSubmit:fe,children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"First Name"}),A.jsx(xe.Control,{type:"text",placeholder:"Enter first name",value:o,onChange:C=>u(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Last Name"}),A.jsx(xe.Control,{type:"text",placeholder:"Enter last name",value:h,onChange:C=>d(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email"}),A.jsx(xe.Control,{type:"email",placeholder:"Enter email",value:p,onChange:C=>g(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Password"}),A.jsx(xe.Control,{type:"password",placeholder:"Password",value:E,onChange:C=>b(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Confirm Password"}),A.jsx(xe.Control,{type:"password",placeholder:"Confirm Password",value:S,onChange:C=>x(C.target.value),required:!0})]}),A.jsx(rr,{variant:"primary",type:"submit",className:"w-100",children:"Sign Up"}),A.jsx("div",{className:"mt-3 text-center",children:A.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),s("login")},children:"Back to Login"})})]})]})]})]})}function _S({show:r,onHide:e}){const[t,s]=N.useState([]),[o,u]=N.useState(""),[h,d]=N.useState(!1),[p,g]=N.useState(""),[E,b]=N.useState(""),[S,x]=N.useState(""),[k,q]=N.useState(""),[z,$]=N.useState("user"),[J,X]=N.useState({}),se=Ip(Qn,"Users"),ae=sf();N.useEffect(()=>{(async()=>{const _e=(await A2(se)).docs.map(ee=>({id:ee.id,...ee.data()}));_e.sort((ee,ce)=>new Date(ee.createdAt)-new Date(ce.createdAt)),s(_e)})()},[]),N.useEffect(()=>{const I=setInterval(()=>{X(Ae=>{const _e={...Ae};return Object.keys(_e).forEach(ee=>{_e[ee]>0?_e[ee]-=1:delete _e[ee]}),_e})},1e3);return()=>clearInterval(I)},[]);const fe=async(I,Ae)=>{const _e=Ae==="staff"?"user":"staff";await Dp(Or(Qn,"Users",I),{role:_e}),s(ee=>ee.map(ce=>ce.id===I?{...ce,role:_e}:ce))},M=async I=>{if(J[I]){alert("Please wait before sending another reset email.");return}try{await sb(ae,I),alert(`Password reset email sent to ${I}`),X(Ae=>({...Ae,[I]:60}))}catch(Ae){console.error("Error sending reset email:",Ae.message),alert("Failed to send reset email. Please try again.")}},C=()=>{d(!0)},R=async()=>{if(!p||!E||!S||!k){alert("Please fill in all fields.");return}if(k.length<6){alert("Password must be at least 6 characters long.");return}const I=new Date().toISOString();try{const Ae=await fetch("http://localhost:5000/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:p,lastName:E,email:S,password:k,role:z,createdAt:new Date().toISOString()})}),_e=await Ae.json();Ae.ok?(s(ee=>[...ee,{id:_e.uid,firstName:p,lastName:E,email:S,role:z,createdAt:I,verified:!1}].sort((ce,ue)=>new Date(ue.createdAt)-new Date(ce.createdAt))),alert("User created successfully!"),d(!1),g(""),b(""),x(""),q(""),$("user")):alert("Failed to create user: "+_e.error)}catch(Ae){console.error("Error:",Ae),alert("Something went wrong.")}},O=async I=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const _e=await fetch(`http://localhost:5000/deleteUser/${I}`,{method:"DELETE"}),ee=await _e.json();_e.ok?(s(ce=>ce.filter(ue=>ue.id!==I)),alert("User deleted successfully!")):alert("Failed to delete user: "+ee.error)}catch(_e){console.error("Error:",_e),alert("Something went wrong while deleting the user.")}},P=async(I,Ae)=>{const _e=!Ae;try{await Dp(Or(Qn,"Users",I),{verified:_e}),s(ee=>ee.map(ce=>ce.id===I?{...ce,verified:_e}:ce))}catch(ee){console.error("Error updating verification status:",ee),alert("Failed to update verification status.")}},j=()=>{d(!1)};return A.jsxs(A.Fragment,{children:[A.jsxs(yn,{show:r,onHide:e,centered:!0,size:"xl",className:"sm:max-w-full sm:h-screen sm:modal-dialog",children:[A.jsx(yn.Header,{closeButton:!0,children:A.jsx(yn.Title,{children:"Manage Users"})}),A.jsxs(yn.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:[A.jsx(xe.Control,{type:"text",placeholder:"Search by email...",value:o,onChange:I=>u(I.target.value),className:"mb-3"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-200",children:[A.jsx("th",{className:"p-2 border",children:"Email"}),A.jsx("th",{className:"p-2 border",children:"Role"}),A.jsx("th",{className:"p-2 border"}),A.jsx("th",{className:"p-2 border",children:"Verified"}),A.jsx("th",{className:"p-2 border"}),A.jsx("th",{className:"p-2 border",children:"Reset Password"})]})}),A.jsx("tbody",{className:"max-h-[300px] overflow-y-auto",children:t.filter(I=>I.email.toLowerCase().includes(o.toLowerCase())).map(I=>A.jsxs("tr",{className:"text-center",children:[A.jsx("td",{className:"p-2 border",children:I.email}),A.jsx("td",{className:"p-2 border",children:I.role}),A.jsx("td",{className:"p-2 border",children:A.jsx(rr,{variant:I.role==="staff"?"danger":"success",onClick:()=>I.role!=="admin"&&fe(I.id,I.role),disabled:I.role==="admin",className:I.role==="admin"?"bg-gray-400 text-gray-700 cursor-not-allowed":"",children:I.role==="admin"?"Admin":`Change to ${I.role==="staff"?"User":"Staff"}`})}),A.jsx("td",{className:"p-2 border",children:I.verified?"Yes":"No"}),A.jsx("td",{className:"p-2 border",children:A.jsx(rr,{variant:I.verified?"danger":"success",onClick:()=>P(I.id,I.verified),children:I.verified?"Unverify":"Verify"})}),A.jsx("td",{className:"p-2 border",children:A.jsx(rr,{variant:"warning",onClick:()=>M(I.email),disabled:!!J[I.email],children:J[I.email]?`Wait (${J[I.email]}s)`:"Send Reset Email"})}),A.jsx("td",{className:"p-2 border",children:A.jsx(rr,{variant:"danger",onClick:()=>O(I.id),children:"Delete"})})]},I.id))})]})})]}),A.jsx(yn.Footer,{className:"flex justify-end",children:A.jsx(rr,{variant:"primary",onClick:C,children:"Add New User"})})]}),A.jsxs(yn,{show:h,onHide:()=>d(!1),centered:!0,size:"md",children:[A.jsx(yn.Header,{closeButton:!0,children:A.jsx(yn.Title,{className:"text-center w-full",children:"Add New User"})}),A.jsx(yn.Body,{children:A.jsxs(xe,{children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"First Name"}),A.jsx(xe.Control,{type:"text",value:p,onChange:I=>{const Ae=I.target.value.toLowerCase().replace(/\b\w/g,_e=>_e.toUpperCase());g(Ae)}})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Last Name"}),A.jsx(xe.Control,{type:"text",value:E,onChange:I=>{const Ae=I.target.value.toLowerCase().replace(/\b\w/g,_e=>_e.toUpperCase());b(Ae)}})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email"}),A.jsx(xe.Control,{type:"email",value:S,onChange:I=>x(I.target.value)})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Password"}),A.jsx(xe.Control,{type:"password",value:k,onChange:I=>q(I.target.value)})]})]})}),A.jsxs(yn.Footer,{className:"flex justify-between w-full",children:[A.jsx(rr,{variant:"secondary",onClick:j,children:"Back"}),A.jsx(rr,{variant:"success",onClick:async()=>{await R()},children:"Add User"})]})]})]})}const HM=()=>{const[r,e]=N.useState(!1),[t,s]=N.useState(null),[o,u]=N.useState(""),[h,d]=N.useState(void 0),[p,g]=N.useState(!1),[E,b]=N.useState(!1);N.useEffect(()=>{const x=gs.onAuthStateChanged(async k=>{if(s(k),k)try{const q=await Af(Or(Qn,"Users",k.uid));q.exists()?(u(q.data().firstName),d(q.data().role)):d(null)}catch(q){console.error("Error fetching user data: ",q),d(null)}else d(null)});return()=>x()},[]);const S=async()=>{try{await oN(gs)}catch(x){console.error("Error signing out: ",x)}};return A.jsx(A.Fragment,{children:h!==void 0&&A.jsxs("nav",{className:"border-b border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700 font-semibold",children:[A.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-4",children:[A.jsx(Kn,{to:h==="admin"?"/adminDashboard":"/",className:"flex items-center space-x-3",children:A.jsx("img",{src:qT,className:"h-12 w-auto",alt:"FCL"})}),A.jsx("div",{className:"hidden md:flex items-center gap-4 ml-auto",children:h==="admin"?A.jsx("div",{className:`mr-3 cursor-pointer relative block py-2 px-3 text-black no-underline rounded transition-all duration-200 transform hover:scale-105 active:scale-95 
                          after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:w-0 after:bg-blue-500 after:transition-all after:duration-300 
                          hover:after:w-full`,onClick:()=>g(!0),children:"Manage Users"}):A.jsxs(A.Fragment,{children:[A.jsx(Kn,{to:"/About",className:({isActive:x})=>`relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                     after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                     ${x?"after:w-full scale-110":"after:w-0 hover:after:w-full"}`,children:"About Us"}),A.jsx(Kn,{to:"/Services",className:({isActive:x})=>`relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                     after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                     ${x?"after:w-full scale-110":"after:w-0 hover:after:w-full"}`,children:"Services"}),A.jsx(Kn,{to:"/OurCommitment",className:({isActive:x})=>`relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                     after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300 mr-3
                     ${x?"after:w-full scale-110":"after:w-0 hover:after:w-full"}`,children:"Our Commitment"})]})}),A.jsx("div",{className:"flex items-center space-x-2 md:space-x-3",children:A.jsx("button",{onClick:()=>e(!0),className:"p-2 text-black rounded-lg hover:bg-gray-100 focus:outline-none",children:A.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),A.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),A.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})})]}),r&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 backdrop-blur-md",onClick:()=>e(!1)}),A.jsxs("div",{className:`fixed inset-y-0 right-0 w-full sm:w-80 bg-white text-black shadow-lg transform ${r?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out z-50 flex flex-col h-full`,children:[A.jsxs("div",{className:"p-5 flex justify-between items-center border-b border-gray-500 bg-[rgba(0,127,130,255)]",children:[A.jsx("span",{className:"text-md font-semibold",children:A.jsx("a",{children:t?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] text-white text-xl mb-3",children:["Welcome, ",h==="admin"?"Admin":o||"User","!"]}),A.jsx("button",{onClick:S,className:`drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                      after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/100 after:transition-all after:duration-300 
                      hover:after:w-full text-white/100 hover:text-red-400 cursor-pointer text-sm`,children:"Log Out"})]}):A.jsx(vS,{})})}),A.jsx("button",{onClick:()=>e(!1),className:"text-black hover:text-black",children:""})]}),A.jsxs("ul",{className:"p-0 space-y-0 flex flex-col items-center text-center flex-grow w-full text-xl",children:[h==="admin"?A.jsxs(A.Fragment,{children:[A.jsx("li",{className:"w-full",children:A.jsx("div",{className:`md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 hover:bg-blue-200 active:bg-blue-300 
                              hover:scale-105 cursor-pointer`,onClick:()=>g(!0),children:"Manage Users"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{onClick:()=>e(!1),className:({isActive:x})=>`border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${r&&x?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Messages"})})]}):A.jsxs(A.Fragment,{children:[A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/About",onClick:()=>e(!1),className:({isActive:x})=>`md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${r&&x?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"About Us"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/Services",onClick:()=>e(!1),className:({isActive:x})=>`md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${r&&x?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Services"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/OurCommitment",onClick:()=>e(!1),className:({isActive:x})=>`md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${r&&x?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Our Commitment"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/TrackPackage",onClick:()=>e(!1),className:({isActive:x})=>`border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${r&&x?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Track Package"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/Contact",onClick:()=>e(!1),className:({isActive:x})=>`border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${r&&x?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Contact Us!"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:x})=>`border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${r&&x?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Need Help?"})})]}),A.jsxs("li",{className:"bg-white mt-auto pt-4 border-t w-full text-center text-gray-500 text-sm",children:[" 2025 Frances Logistics. All rights reserved.",A.jsx("img",{src:qT,className:"mx-auto h-15 w-auto mt-2",alt:"FCL"})]})]}),A.jsx(_S,{show:p,onHide:()=>g(!1)})]})]})})};function FM(){const[r,e]=N.useState([]),[t,s]=N.useState({driver:"",status:"",trackingNumber:""}),[o,u]=N.useState(1);N.useEffect(()=>{const g=N2(Ip(Qn,"DeliverTrack"),E=>{const b=E.docs.map(S=>({id:S.id,...S.data()}));if(e(b),b.length>0){const S=Math.max(...b.map(x=>x.autoIncrementId||0));u(S+1)}});return()=>g()},[]);const h=async()=>{t.driver&&t.status&&t.trackingNumber&&(await I2(Ip(Qn,"DeliverTrack"),{driver:t.driver,status:t.status,trackingNumber:t.trackingNumber,autoIncrementId:o,timestamp:D2()}),s({driver:"",status:"",trackingNumber:""}),u(o+1))},d=async g=>{const E=prompt("Enter new status:");if(E){const b=Or(Qn,"DeliverTrack",g);await Dp(b,{status:E})}},p=async g=>{const E=Or(Qn,"DeliverTrack",g);await C2(E)};return A.jsxs("div",{className:"p-4",children:[A.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Tracking System"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("input",{type:"text",placeholder:"Driver Name",value:t.driver,onChange:g=>s({...t,driver:g.target.value}),className:"border p-2 mr-2"}),A.jsx("input",{type:"text",placeholder:"Status",value:t.status,onChange:g=>s({...t,status:g.target.value}),className:"border p-2 mr-2"}),A.jsx("input",{type:"text",placeholder:"Tracking Number",value:t.trackingNumber,onChange:g=>s({...t,trackingNumber:g.target.value}),className:"border p-2 mr-2"}),A.jsx("button",{onClick:h,className:"bg-blue-500 text-white p-2",children:"Add Delivery"})]}),A.jsx("ul",{children:r.map(g=>{var E;return A.jsxs("li",{className:"border-b p-2 flex justify-between",children:[A.jsxs("div",{children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Driver:"})," ",g.driver]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Status:"})," ",g.status]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Tracking #:"})," ",g.trackingNumber]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Package ID:"})," ",g.autoIncrementId]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Timestamp:"})," ",(E=g.timestamp)==null?void 0:E.toDate().toString()]})]}),A.jsxs("div",{children:[A.jsx("button",{onClick:()=>d(g.id),className:"text-yellow-500 mr-2",children:"Update"}),A.jsx("button",{onClick:()=>p(g.id),className:"text-red-500",children:"Delete"})]})]},g.id)})})]})}const qM=()=>A.jsx("div",{children:A.jsx("h1",{children:"aaa"})});function GM(){const[r,e]=N.useState(null),t=sf();return N.useEffect(()=>{const s=tf(t,o=>{e(o)});return()=>s()},[]),A.jsx("div",{children:A.jsxs("h1",{children:["Welcome ",r?r.email:"Guest"]})})}function $M(){const[r,e]=N.useState(null),t=sf();return N.useEffect(()=>{const s=tf(t,o=>{e(o)});return()=>s()},[]),A.jsx("div",{children:A.jsxs("h1",{children:["Welcome ",r?r.email:"Guest"]})})}const KM=()=>{const[r,e]=N.useState(""),t=s=>{if(s.preventDefault(),!r)return;const o=`https://www.track-trace.com/aircargo?awb=${r}`;window.location.href=o};return A.jsxs("div",{className:"p-5 border rounded-lg shadow-md max-w-lg mx-auto",children:[A.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Track Your Air Cargo Shipment"}),A.jsxs("form",{onSubmit:t,className:"flex flex-col space-y-3",children:[A.jsx("label",{htmlFor:"awb",className:"text-sm font-medium",children:"Enter Air Waybill (AWB):"}),A.jsx("input",{type:"text",id:"awb",value:r,onChange:s=>e(s.target.value),placeholder:"Example: 123-45678901",required:!0,className:"border p-2 rounded w-full"}),A.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:"Track"})]})]})},QM=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is Staff"})}),YM=()=>A.jsx("div",{children:A.jsx(A.Fragment,{children:"HIIIIIIIII"})}),XM=()=>A.jsxs(A.Fragment,{children:[A.jsx(HM,{}),A.jsxs(FR,{children:[A.jsx(nn,{path:"/",element:A.jsx(ok,{})}),A.jsx(nn,{path:"/About",element:A.jsx(lk,{})}),A.jsx(nn,{path:"/Services",element:A.jsx(uk,{})}),A.jsx(nn,{path:"/OurCommitment",element:A.jsx(ck,{})}),A.jsx(nn,{path:"/Contact",element:A.jsx(hk,{})}),A.jsx(nn,{path:"/Login",element:A.jsx(vS,{})}),A.jsx(nn,{path:"/FirebaseTest",element:A.jsx(FM,{})}),A.jsx(nn,{path:"/TrackPackage",element:A.jsx(qM,{})}),A.jsx(nn,{path:"/AirCargoTracking",element:A.jsx(KM,{})}),A.jsx(nn,{path:"/UserDashboard",element:A.jsx($M,{})}),A.jsx(nn,{path:"/ChatHelp",element:A.jsx(YM,{})}),A.jsx(nn,{path:"/AdminDashboard",element:A.jsx(Km,{requiredRole:"admin",children:A.jsx(GM,{})})}),A.jsx(nn,{path:"/ManageUsers",element:A.jsx(Km,{requiredRole:"admin",children:A.jsx(_S,{})})}),A.jsx(nn,{path:"/StaffDashboard",element:A.jsx(Km,{requiredRole:"staff",children:A.jsx(QM,{})})}),A.jsx(nn,{path:"/unauthorized",element:A.jsx(bC,{})})]})]}),WM=N.createContext(),ZM=({children:r})=>{const[e,t]=N.useState(null),[s,o]=N.useState(!0);return N.useEffect(()=>{const u=tf(gs,async h=>{if(h){const d=await Af(Or(Qn,"Users",h.uid));d.exists()?t({...h,role:d.data().role}):t(h)}else t(null);o(!1)});return()=>u()},[]),A.jsx(WM.Provider,{value:{user:e,loading:s},children:r})};ZA.createRoot(document.getElementById("root")).render(A.jsxs(ZM,{children:[" ",A.jsx(fC,{basename:"/cargofran",children:A.jsx(XM,{})})]}));
