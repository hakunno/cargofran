(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Yh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function FA(){if(Zv)return Ql;Zv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var Jv;function qA(){return Jv||(Jv=1,Cm.exports=FA()),Cm.exports}var A=qA(),Im={exports:{}},Yl={},Nm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function GA(){return eE||(eE=1,function(i){function e(ee,ce){var ue=ee.length;ee.push(ce);e:for(;0<ue;){var Be=ue-1>>>1,V=ee[Be];if(0<o(V,ce))ee[Be]=ce,ee[ue]=V,ue=Be;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ce=ee[0],ue=ee.pop();if(ue!==ce){ee[0]=ue;e:for(var Be=0,V=ee.length,te=V>>>1;Be<te;){var de=2*(Be+1)-1,oe=ee[de],le=de+1,Se=ee[le];if(0>o(oe,ue))le<V&&0>o(Se,oe)?(ee[Be]=Se,ee[le]=ue,Be=le):(ee[Be]=oe,ee[de]=ue,Be=de);else if(le<V&&0>o(Se,ue))ee[Be]=Se,ee[le]=ue,Be=le;else break e}}return ce}function o(ee,ce){var ue=ee.sortIndex-ce.sortIndex;return ue!==0?ue:ee.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,b=null,S=3,O=!1,M=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(ee){for(var ce=t(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=ee)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function se(ee){if(q=!1,X(ee),!M)if(t(p)!==null)M=!0,Ae();else{var ce=t(g);ce!==null&&ve(se,ce.startTime-ee)}}var ae=!1,fe=-1,k=5,C=-1;function R(){return!(i.unstable_now()-C<k)}function x(){if(ae){var ee=i.unstable_now();C=ee;var ce=!0;try{e:{M=!1,q&&(q=!1,$(fe),fe=-1),O=!0;var ue=S;try{t:{for(X(ee),b=t(p);b!==null&&!(b.expirationTime>ee&&R());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,S=b.priorityLevel;var V=Be(b.expirationTime<=ee);if(ee=i.unstable_now(),typeof V=="function"){b.callback=V,X(ee),ce=!0;break t}b===t(p)&&s(p),X(ee)}else s(p);b=t(p)}if(b!==null)ce=!0;else{var te=t(g);te!==null&&ve(se,te.startTime-ee),ce=!1}}break e}finally{b=null,S=ue,O=!1}ce=void 0}}finally{ce?P():ae=!1}}}var P;if(typeof J=="function")P=function(){J(x)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,I=j.port2;j.port1.onmessage=x,P=function(){I.postMessage(null)}}else P=function(){z(x,0)};function Ae(){ae||(ae=!0,P())}function ve(ee,ce){fe=z(function(){ee(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){M||O||(M=!0,Ae())},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var ue=S;S=ce;try{return ee()}finally{S=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=S;S=ee;try{return ce()}finally{S=ue}},i.unstable_scheduleCallback=function(ee,ce,ue){var Be=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Be+ue:Be):ue=Be,ee){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ue+V,ee={id:E++,callback:ce,priorityLevel:ee,startTime:ue,expirationTime:V,sortIndex:-1},ue>Be?(ee.sortIndex=ue,e(g,ee),t(p)===null&&ee===t(g)&&(q?($(fe),fe=-1):q=!0,ve(se,ue-Be))):(ee.sortIndex=V,e(p,ee),M||O||(M=!0,Ae())),ee},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(ee){var ce=S;return function(){var ue=S;S=ce;try{return ee.apply(this,arguments)}finally{S=ue}}}}(Dm)),Dm}var tE;function $A(){return tE||(tE=1,Nm.exports=GA()),Nm.exports}var xm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function KA(){if(nE)return De;nE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,q={};function z(V,te,de){this.props=V,this.context=te,this.refs=q,this.updater=de||O}z.prototype.isReactComponent={},z.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=z.prototype;function J(V,te,de){this.props=V,this.context=te,this.refs=q,this.updater=de||O}var X=J.prototype=new $;X.constructor=J,M(X,z.prototype),X.isPureReactComponent=!0;var se=Array.isArray,ae={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function k(V,te,de,oe,le,Se){return de=Se.ref,{$$typeof:i,type:V,key:te,ref:de!==void 0?de:null,props:Se}}function C(V,te){return k(V.type,te,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function x(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return te[de]})}var P=/\/+/g;function j(V,te){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):te.toString(36)}function I(){}function Ae(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ve(V,te,de,oe,le){var Se=typeof V;(Se==="undefined"||Se==="boolean")&&(V=null);var Re=!1;if(V===null)Re=!0;else switch(Se){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(V.$$typeof){case i:case e:Re=!0;break;case E:return Re=V._init,ve(Re(V._payload),te,de,oe,le)}}if(Re)return le=le(V),Re=oe===""?"."+j(V,0):oe,se(le)?(de="",Re!=null&&(de=Re.replace(P,"$&/")+"/"),ve(le,te,de,"",function(Ze){return Ze})):le!=null&&(R(le)&&(le=C(le,de+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(P,"$&/")+"/")+Re)),te.push(le)),1;Re=0;var st=oe===""?".":oe+":";if(se(V))for(var Ve=0;Ve<V.length;Ve++)oe=V[Ve],Se=st+j(oe,Ve),Re+=ve(oe,te,de,Se,le);else if(Ve=S(V),typeof Ve=="function")for(V=Ve.call(V),Ve=0;!(oe=V.next()).done;)oe=oe.value,Se=st+j(oe,Ve++),Re+=ve(oe,te,de,Se,le);else if(Se==="object"){if(typeof V.then=="function")return ve(Ae(V),te,de,oe,le);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ee(V,te,de){if(V==null)return V;var oe=[],le=0;return ve(V,oe,"","",function(Se){return te.call(de,Se,le++)}),oe}function ce(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Be(){}return De.Children={map:ee,forEach:function(V,te,de){ee(V,function(){te.apply(this,arguments)},de)},count:function(V){var te=0;return ee(V,function(){te++}),te},toArray:function(V){return ee(V,function(te){return te})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},De.Component=z,De.Fragment=t,De.Profiler=o,De.PureComponent=J,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(V){return function(){return V.apply(null,arguments)}},De.cloneElement=function(V,te,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=M({},V.props),le=V.key,Se=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Se=void 0),te.key!==void 0&&(le=""+te.key),te)!fe.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(oe[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)oe.children=de;else if(1<Re){for(var st=Array(Re),Ve=0;Ve<Re;Ve++)st[Ve]=arguments[Ve+2];oe.children=st}return k(V.type,le,void 0,void 0,Se,oe)},De.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},De.createElement=function(V,te,de){var oe,le={},Se=null;if(te!=null)for(oe in te.key!==void 0&&(Se=""+te.key),te)fe.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=te[oe]);var Re=arguments.length-2;if(Re===1)le.children=de;else if(1<Re){for(var st=Array(Re),Ve=0;Ve<Re;Ve++)st[Ve]=arguments[Ve+2];le.children=st}if(V&&V.defaultProps)for(oe in Re=V.defaultProps,Re)le[oe]===void 0&&(le[oe]=Re[oe]);return k(V,Se,void 0,void 0,null,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:d,render:V}},De.isValidElement=R,De.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ce}},De.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},De.startTransition=function(V){var te=ae.T,de={};ae.T=de;try{var oe=V(),le=ae.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Be,ue)}catch(Se){ue(Se)}finally{ae.T=te}},De.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},De.use=function(V){return ae.H.use(V)},De.useActionState=function(V,te,de){return ae.H.useActionState(V,te,de)},De.useCallback=function(V,te){return ae.H.useCallback(V,te)},De.useContext=function(V){return ae.H.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V,te){return ae.H.useDeferredValue(V,te)},De.useEffect=function(V,te){return ae.H.useEffect(V,te)},De.useId=function(){return ae.H.useId()},De.useImperativeHandle=function(V,te,de){return ae.H.useImperativeHandle(V,te,de)},De.useInsertionEffect=function(V,te){return ae.H.useInsertionEffect(V,te)},De.useLayoutEffect=function(V,te){return ae.H.useLayoutEffect(V,te)},De.useMemo=function(V,te){return ae.H.useMemo(V,te)},De.useOptimistic=function(V,te){return ae.H.useOptimistic(V,te)},De.useReducer=function(V,te,de){return ae.H.useReducer(V,te,de)},De.useRef=function(V){return ae.H.useRef(V)},De.useState=function(V){return ae.H.useState(V)},De.useSyncExternalStore=function(V,te,de){return ae.H.useSyncExternalStore(V,te,de)},De.useTransition=function(){return ae.H.useTransition()},De.version="19.0.0",De}var iE;function Lp(){return iE||(iE=1,xm.exports=KA()),xm.exports}var Om={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function QA(){if(rE)return en;rE=1;var i=Lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},en.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.0.0",en}var sE;function r0(){if(sE)return Om.exports;sE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Om.exports=QA(),Om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function YA(){if(aE)return Yl;aE=1;var i=$A(),e=Lp(),t=r0();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),se=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case q:return"Suspense";case z:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case M:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return r=n.displayName||null,r!==null?r:C(n.type)||"Memo";case J:r=n._payload,n=n._init;try{return C(n(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,P,j;function I(n){if(P===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+j}var Ae=!1;function ve(n,r){if(!n||Ae)return"";Ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var G=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){G=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],T=m[1];if(v&&T){var D=v.split(`
`),U=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===U.length)for(l=D.length-1,f=U.length-1;1<=l&&0<=f&&D[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==U[f]){var Y=`
`+D[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?I(a):""}function ee(n){switch(n.tag){case 26:case 27:case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return n=ve(n.type,!1),n;case 11:return n=ve(n.type.render,!1),n;case 1:return n=ve(n.type,!0),n;default:return""}}function ce(n){try{var r="";do r+=ee(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ue(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Be(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(ue(n)!==n)throw Error(s(188))}function te(n){var r=n.alternate;if(!r){if(r=ue(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===l)return V(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=m;break}if(T===l){v=!0,l=f,a=m;break}T=T.sibling}if(!v){for(T=m.child;T;){if(T===a){v=!0,a=m,l=f;break}if(T===l){v=!0,l=m,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function de(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=de(n),r!==null)return r;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Re=[],st=-1;function Ve(n){return{current:n}}function Ze(n){0>st||(n.current=Re[st],Re[st]=null,st--)}function Pe(n,r){st++,Re[st]=n.current,n.current=r}var Et=Ve(null),Wt=Ve(null),Vt=Ve(null),on=Ve(null);function $e(n,r){switch(Pe(Vt,r),Pe(Wt,n),Pe(Et,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Cv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=Cv(n),r=Iv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ze(Et),Pe(Et,r)}function mn(){Ze(Et),Ze(Wt),Ze(Vt)}function Xn(n){n.memoizedState!==null&&Pe(on,n);var r=Et.current,a=Iv(r,n.type);r!==a&&(Pe(Wt,n),Pe(Et,a))}function Ar(n){Wt.current===n&&(Ze(Et),Ze(Wt)),on.current===n&&(Ze(on),Fl._currentValue=Se)}var Rr=Object.prototype.hasOwnProperty,Li=i.unstable_scheduleCallback,Cr=i.unstable_cancelCallback,qo=i.unstable_shouldYield,Os=i.unstable_requestPaint,Ft=i.unstable_now,Ra=i.unstable_getCurrentPriorityLevel,Ee=i.unstable_ImmediatePriority,at=i.unstable_UserBlockingPriority,Dn=i.unstable_NormalPriority,Vu=i.unstable_LowPriority,Go=i.unstable_IdlePriority,Df=i.log,ks=i.unstable_setDisableYieldValue,Ir=null,Zt=null;function $o(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ir,n,void 0,(n.current.flags&128)===128)}catch{}}function li(n){if(typeof Df=="function"&&ks(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Ir,n)}catch{}}var ln=Math.clz32?Math.clz32:Lu,Ko=Math.log,Pu=Math.LN2;function Lu(n){return n>>>=0,n===0?32:31-(Ko(n)/Pu|0)|0}var ui=128,Nr=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?l=Wn(a):(m&=T,m!==0?l=Wn(m):n||(v=T&~v,v!==0&&(l=Wn(v))))):(T=a&~f,T!==0?l=Wn(T):m!==0?l=Wn(m):n||(v=a&~v,v!==0&&(l=Wn(v)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function Dr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ca(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var n=ui;return ui<<=1,(ui&4194176)===0&&(ui=128),n}function xr(){var n=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),n}function Ia(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function yt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uu(n,r,a,l,f,m){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,D=n.expirationTimes,U=n.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-ln(a),ne=1<<Y;T[Y]=0,D[Y]=-1;var G=U[Y];if(G!==null)for(U[Y]=null,Y=0;Y<G.length;Y++){var Q=G[Y];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&Or(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~r))}function Or(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-ln(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function kr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-ln(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ju(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zu(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:$v(n.type))}function Mr(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var ci=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ci,Rt="__reactProps$"+ci,Ui="__reactContainer$"+ci,Ms="__reactEvents$"+ci,Na="__reactListeners$"+ci,hi="__reactHandles$"+ci,Yo="__reactResources$"+ci,Vr="__reactMarker$"+ci;function Vs(n){delete n[Pt],delete n[Rt],delete n[Ms],delete n[Na],delete n[hi]}function Zn(n){var r=n[Pt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ui]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=xv(n);n!==null;){if(a=n[Pt])return a;n=xv(n)}return r}n=a,a=n.parentNode}return null}function ji(n){if(n=n[Pt]||n[Ui]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Pr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Lr(n){var r=n[Yo];return r||(r=n[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(n){n[Vr]=!0}var Xo=new Set,Da={};function Tn(n,r){pn(n,r),pn(n+"Capture",r)}function pn(n,r){for(Da[n]=r,n=0;n<r.length;n++)Xo.add(r[n])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Zo={};function Bu(n){return Rr.call(Zo,n)?!0:Rr.call(Wo,n)?!1:xf.test(n)?Zo[n]=!0:(Wo[n]=!0,!1)}function Ur(n,r,a){if(Bu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function jr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function On(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Of(n){var r=Hu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,m.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ps(n){n._valueTracker||(n._valueTracker=Of(n))}function Jo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Hu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function xa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zi=/[\n"\\]/g;function dt(n){return n.replace(zi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function zr(n,r,a,l,f,m,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+un(r)):n.value!==""+un(r)&&(n.value=""+un(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Oa(n,v,un(r)):a!=null?Oa(n,v,un(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+un(T):n.removeAttribute("name")}function Ls(n,r,a,l,f,m,v,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+un(a):"",r=r!=null?""+un(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Oa(n,r,a){r==="number"&&xa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ke(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Us(n,r,a){if(r!=null&&(r=""+un(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+un(a):""}function Br(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=un(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function kn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||kf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Fu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&el(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&el(n,m,r[m])}function tl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(n){return Vf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Mn=null;function ka(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bi=null,Hi=null;function Fi(n){var r=ji(n);if(r&&(n=r.stateNode)){var a=n[Rt]||null;e:switch(n=r.stateNode,r.type){case"input":if(zr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Rt]||null;if(!f)throw Error(s(90));zr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Jo(l)}break e;case"textarea":Us(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ke(n,!!a.multiple,r,!1)}}}var nl=!1;function qu(n,r,a){if(nl)return n(r,a);nl=!0;try{var l=n(r);return l}finally{if(nl=!1,(Bi!==null||Hi!==null)&&(Vc(),Bi&&(r=Bi,n=Hi,Hi=Bi=null,Fi(r),n)))for(r=0;r<n.length;r++)Fi(n[r])}}function js(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!1;if(bn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Vn=!1}var di=null,Hr=null,qi=null;function il(){if(qi)return qi;var n,r=Hr,a=r.length,l,f="value"in di?di.value:di.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===f[m-l];l++);return qi=f.slice(n,1<l?1-l:void 0)}function mi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function rl(){return!1}function Lt(n){function r(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pi:rl,this.isPropagationStopped=rl,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Lt(Xe),Bs=x({},Xe,{view:0,detail:0}),Gu=Lt(Bs),Va,Pa,gi,Hs=x({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(Va=n.screenX-gi.screenX,Pa=n.screenY-gi.screenY):Pa=Va=0,gi=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:Pa}}),Pn=Lt(Hs),$u=x({},Hs,{dataTransfer:0}),Pf=Lt($u),Fs=x({},Bs,{relatedTarget:0}),La=Lt(Fs),sl=x({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Lt(sl),Ku=x({},Xe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=Lt(Ku),Lf=x({},Xe,{data:0}),al=Lt(Lf),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Yu[n])?!!r[n]:!1}function Gs(){return ol}var Xu=x({},Bs,{key:function(n){if(n.key){var r=qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Lt(Xu),Wu=x({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Lt(Wu),Gi=x({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Zu=Lt(Gi),Ju=x({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Lt(Ju),tc=x({},Hs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Lt(tc),cn=x({},Xe,{newState:0,oldState:0}),nc=Lt(cn),ic=[9,13,27,32],yi=bn&&"CompositionEvent"in window,c=null;bn&&"documentMode"in document&&(c=document.documentMode);var y=bn&&"TextEvent"in window&&!c,_=bn&&(!yi||c&&8<c&&11>=c),w=" ",H=!1;function K(n,r){switch(n){case"keyup":return ic.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var He=!1;function Ct(n,r){switch(n){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(H=!0,w);case"textInput":return n=r.data,n===w&&H?null:n;default:return null}}function Fe(n,r){if(He)return n==="compositionend"||!yi&&K(n,r)?(n=il(),qi=Hr=di=null,He=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function $i(n,r,a,l){Bi?Hi?Hi.push(l):Hi=[l]:Bi=l,r=zc(r,"onChange"),0<r.length&&(a=new Ma("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var qt=null,_i=null;function ul(n){bv(n,0)}function rc(n){var r=Pr(n);if(Jo(r))return n}function Wg(n,r){if(n==="change")return r}var Zg=!1;if(bn){var Uf;if(bn){var jf="oninput"in document;if(!jf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),jf=typeof Jg.oninput=="function"}Uf=jf}else Uf=!1;Zg=Uf&&(!document.documentMode||9<document.documentMode)}function ey(){qt&&(qt.detachEvent("onpropertychange",ty),_i=qt=null)}function ty(n){if(n.propertyName==="value"&&rc(_i)){var r=[];$i(r,_i,n,ka(n)),qu(ul,r)}}function vS(n,r,a){n==="focusin"?(ey(),qt=r,_i=a,qt.attachEvent("onpropertychange",ty)):n==="focusout"&&ey()}function ES(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(_i)}function TS(n,r){if(n==="click")return rc(r)}function bS(n,r){if(n==="input"||n==="change")return rc(r)}function wS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var wn=typeof Object.is=="function"?Object.is:wS;function cl(n,r){if(wn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Rr.call(r,f)||!wn(n[f],r[f]))return!1}return!0}function ny(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iy(n,r){var a=ny(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ny(a)}}function ry(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ry(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=xa(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=xa(n.document)}return r}function zf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function SS(n,r){var a=sy(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&ry(r.ownerDocument.documentElement,r)){if(l!==null&&zf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=iy(r,m);var v=iy(r,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var AS=bn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Bf=null,hl=null,Hf=!1;function ay(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||Ha==null||Ha!==xa(l)||(l=Ha,"selectionStart"in l&&zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=zc(Bf,"onSelect"),0<l.length&&(r=new Ma("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ha)))}function $s(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Fa={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Ff={},oy={};bn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Ks(n){if(Ff[n])return Ff[n];if(!Fa[n])return n;var r=Fa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in oy)return Ff[n]=r[a];return n}var ly=Ks("animationend"),uy=Ks("animationiteration"),cy=Ks("animationstart"),RS=Ks("transitionrun"),CS=Ks("transitionstart"),IS=Ks("transitioncancel"),hy=Ks("transitionend"),fy=new Map,dy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jn(n,r){fy.set(n,r),Tn(r,[n])}var Ln=[],qa=0,qf=0;function sc(){for(var n=qa,r=qf=qa=0;r<n;){var a=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var m=Ln[r];if(Ln[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&my(a,f,m)}}function ac(n,r,a,l){Ln[qa++]=n,Ln[qa++]=r,Ln[qa++]=a,Ln[qa++]=l,qf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Gf(n,r,a,l){return ac(n,r,a,l),oc(n)}function Fr(n,r){return ac(n,null,null,r),oc(n)}function my(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-ln(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function oc(n){if(50<Pl)throw Pl=0,Wd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ga={},py=new WeakMap;function Un(n,r){if(typeof n=="object"&&n!==null){var a=py.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ce(r)},py.set(n,r),r)}return{value:n,source:r,stack:ce(r)}}var $a=[],Ka=0,lc=null,uc=0,jn=[],zn=0,Qs=null,Ki=1,Qi="";function Ys(n,r){$a[Ka++]=uc,$a[Ka++]=lc,lc=n,uc=r}function gy(n,r,a){jn[zn++]=Ki,jn[zn++]=Qi,jn[zn++]=Qs,Qs=n;var l=Ki;n=Qi;var f=32-ln(l)-1;l&=~(1<<f),a+=1;var m=32-ln(r)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ki=1<<32-ln(r)+f|a<<f|l,Qi=m+n}else Ki=1<<m|a<<f|l,Qi=n}function $f(n){n.return!==null&&(Ys(n,1),gy(n,1,0))}function Kf(n){for(;n===lc;)lc=$a[--Ka],$a[Ka]=null,uc=$a[--Ka],$a[Ka]=null;for(;n===Qs;)Qs=jn[--zn],jn[zn]=null,Qi=jn[--zn],jn[zn]=null,Ki=jn[--zn],jn[zn]=null}var hn=null,Gt=null,Qe=!1,ei=null,vi=!1,Qf=Error(s(519));function Xs(n){var r=Error(s(418,""));throw ml(Un(r,n)),Qf}function yy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Pt]=n,r[Rt]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Ul.length;a++)je(Ul[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Ls(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ps(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Br(r,l.value,l.defaultValue,l.children),Ps(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Rv(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||Xs(n)}function _y(n){for(hn=n.return;hn;)switch(hn.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:hn=hn.return}}function fl(n){if(n!==hn)return!1;if(!Qe)return _y(n),Qe=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||mm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Gt&&Xs(n),_y(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Gt=ni(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Gt=null}}else Gt=hn?ni(n.stateNode.nextSibling):null;return!0}function dl(){Gt=hn=null,Qe=!1}function ml(n){ei===null?ei=[n]:ei.push(n)}var pl=Error(s(460)),vy=Error(s(474)),Yf={then:function(){}};function Ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function cc(){}function Ty(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(cc,cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===pl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(cc,cc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===pl?Error(s(483)):n}throw gl=r,pl}}var gl=null;function by(){if(gl===null)throw Error(s(459));var n=gl;return gl=null,n}var Qa=null,yl=0;function hc(n){var r=yl;return yl+=1,Qa===null&&(Qa=[]),Ty(Qa,n,r)}function _l(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function fc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function wy(n){var r=n._init;return r(n._payload)}function Sy(n){function r(B,L){if(n){var F=B.deletions;F===null?(B.deletions=[L],B.flags|=16):F.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=ts(B,L),B.index=0,B.sibling=null,B}function m(B,L,F){return B.index=F,n?(F=B.alternate,F!==null?(F=F.index,F<L?(B.flags|=33554434,L):F):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function v(B){return n&&B.alternate===null&&(B.flags|=33554434),B}function T(B,L,F,W){return L===null||L.tag!==6?(L=Fd(F,B.mode,W),L.return=B,L):(L=f(L,F),L.return=B,L)}function D(B,L,F,W){var me=F.type;return me===p?Y(B,L,F.props.children,W,F.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===J&&wy(me)===L.type)?(L=f(L,F.props),_l(L,F),L.return=B,L):(L=Dc(F.type,F.key,F.props,null,B.mode,W),_l(L,F),L.return=B,L)}function U(B,L,F,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=qd(F,B.mode,W),L.return=B,L):(L=f(L,F.children||[]),L.return=B,L)}function Y(B,L,F,W,me){return L===null||L.tag!==7?(L=aa(F,B.mode,W,me),L.return=B,L):(L=f(L,F),L.return=B,L)}function ne(B,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Fd(""+L,B.mode,F),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return F=Dc(L.type,L.key,L.props,null,B.mode,F),_l(F,L),F.return=B,F;case d:return L=qd(L,B.mode,F),L.return=B,L;case J:var W=L._init;return L=W(L._payload),ne(B,L,F)}if(oe(L)||fe(L))return L=aa(L,B.mode,F,null),L.return=B,L;if(typeof L.then=="function")return ne(B,hc(L),F);if(L.$$typeof===O)return ne(B,Cc(B,L),F);fc(B,L)}return null}function G(B,L,F,W){var me=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return me!==null?null:T(B,L,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===me?D(B,L,F,W):null;case d:return F.key===me?U(B,L,F,W):null;case J:return me=F._init,F=me(F._payload),G(B,L,F,W)}if(oe(F)||fe(F))return me!==null?null:Y(B,L,F,W,null);if(typeof F.then=="function")return G(B,L,hc(F),W);if(F.$$typeof===O)return G(B,L,Cc(B,F),W);fc(B,F)}return null}function Q(B,L,F,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(F)||null,T(L,B,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return B=B.get(W.key===null?F:W.key)||null,D(L,B,W,me);case d:return B=B.get(W.key===null?F:W.key)||null,U(L,B,W,me);case J:var ke=W._init;return W=ke(W._payload),Q(B,L,F,W,me)}if(oe(W)||fe(W))return B=B.get(F)||null,Y(L,B,W,me,null);if(typeof W.then=="function")return Q(B,L,F,hc(W),me);if(W.$$typeof===O)return Q(B,L,F,Cc(L,W),me);fc(L,W)}return null}function pe(B,L,F,W){for(var me=null,ke=null,ye=L,Te=L=0,Bt=null;ye!==null&&Te<F.length;Te++){ye.index>Te?(Bt=ye,ye=null):Bt=ye.sibling;var Ye=G(B,ye,F[Te],W);if(Ye===null){ye===null&&(ye=Bt);break}n&&ye&&Ye.alternate===null&&r(B,ye),L=m(Ye,L,Te),ke===null?me=Ye:ke.sibling=Ye,ke=Ye,ye=Bt}if(Te===F.length)return a(B,ye),Qe&&Ys(B,Te),me;if(ye===null){for(;Te<F.length;Te++)ye=ne(B,F[Te],W),ye!==null&&(L=m(ye,L,Te),ke===null?me=ye:ke.sibling=ye,ke=ye);return Qe&&Ys(B,Te),me}for(ye=l(ye);Te<F.length;Te++)Bt=Q(ye,B,Te,F[Te],W),Bt!==null&&(n&&Bt.alternate!==null&&ye.delete(Bt.key===null?Te:Bt.key),L=m(Bt,L,Te),ke===null?me=Bt:ke.sibling=Bt,ke=Bt);return n&&ye.forEach(function(ls){return r(B,ls)}),Qe&&Ys(B,Te),me}function Ie(B,L,F,W){if(F==null)throw Error(s(151));for(var me=null,ke=null,ye=L,Te=L=0,Bt=null,Ye=F.next();ye!==null&&!Ye.done;Te++,Ye=F.next()){ye.index>Te?(Bt=ye,ye=null):Bt=ye.sibling;var ls=G(B,ye,Ye.value,W);if(ls===null){ye===null&&(ye=Bt);break}n&&ye&&ls.alternate===null&&r(B,ye),L=m(ls,L,Te),ke===null?me=ls:ke.sibling=ls,ke=ls,ye=Bt}if(Ye.done)return a(B,ye),Qe&&Ys(B,Te),me;if(ye===null){for(;!Ye.done;Te++,Ye=F.next())Ye=ne(B,Ye.value,W),Ye!==null&&(L=m(Ye,L,Te),ke===null?me=Ye:ke.sibling=Ye,ke=Ye);return Qe&&Ys(B,Te),me}for(ye=l(ye);!Ye.done;Te++,Ye=F.next())Ye=Q(ye,B,Te,Ye.value,W),Ye!==null&&(n&&Ye.alternate!==null&&ye.delete(Ye.key===null?Te:Ye.key),L=m(Ye,L,Te),ke===null?me=Ye:ke.sibling=Ye,ke=Ye);return n&&ye.forEach(function(HA){return r(B,HA)}),Qe&&Ys(B,Te),me}function gt(B,L,F,W){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:e:{for(var me=F.key;L!==null;){if(L.key===me){if(me=F.type,me===p){if(L.tag===7){a(B,L.sibling),W=f(L,F.props.children),W.return=B,B=W;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===J&&wy(me)===L.type){a(B,L.sibling),W=f(L,F.props),_l(W,F),W.return=B,B=W;break e}a(B,L);break}else r(B,L);L=L.sibling}F.type===p?(W=aa(F.props.children,B.mode,W,F.key),W.return=B,B=W):(W=Dc(F.type,F.key,F.props,null,B.mode,W),_l(W,F),W.return=B,B=W)}return v(B);case d:e:{for(me=F.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(B,L.sibling),W=f(L,F.children||[]),W.return=B,B=W;break e}else{a(B,L);break}else r(B,L);L=L.sibling}W=qd(F,B.mode,W),W.return=B,B=W}return v(B);case J:return me=F._init,F=me(F._payload),gt(B,L,F,W)}if(oe(F))return pe(B,L,F,W);if(fe(F)){if(me=fe(F),typeof me!="function")throw Error(s(150));return F=me.call(F),Ie(B,L,F,W)}if(typeof F.then=="function")return gt(B,L,hc(F),W);if(F.$$typeof===O)return gt(B,L,Cc(B,F),W);fc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(B,L.sibling),W=f(L,F),W.return=B,B=W):(a(B,L),W=Fd(F,B.mode,W),W.return=B,B=W),v(B)):a(B,L)}return function(B,L,F,W){try{yl=0;var me=gt(B,L,F,W);return Qa=null,me}catch(ye){if(ye===pl)throw ye;var ke=qn(29,ye,null,B.mode);return ke.lanes=W,ke.return=B,ke}finally{}}}var Ws=Sy(!0),Ay=Sy(!1),Ya=Ve(null),dc=Ve(0);function Ry(n,r){n=sr,Pe(dc,n),Pe(Ya,r),sr=n|r.baseLanes}function Xf(){Pe(dc,sr),Pe(Ya,Ya.current)}function Wf(){sr=dc.current,Ze(Ya),Ze(dc)}var Bn=Ve(null),Ei=null;function qr(n){var r=n.alternate;Pe(Nt,Nt.current&1),Pe(Bn,n),Ei===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(Ei=n)}function Cy(n){if(n.tag===22){if(Pe(Nt,Nt.current),Pe(Bn,n),Ei===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ei=n)}}else Gr()}function Gr(){Pe(Nt,Nt.current),Pe(Bn,Bn.current)}function Yi(n){Ze(Bn),Ei===n&&(Ei=null),Ze(Nt)}var Nt=Ve(0);function mc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var NS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},DS=i.unstable_scheduleCallback,xS=i.unstable_NormalPriority,Dt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new NS,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&DS(xS,function(){n.controller.abort()})}var El=null,Jf=0,Xa=0,Wa=null;function OS(n,r){if(El===null){var a=El=[];Jf=0,Xa=sm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,r.then(Iy,Iy),r}function Iy(){if(--Jf===0&&El!==null){Wa!==null&&(Wa.status="fulfilled");var n=El;El=null,Xa=0,Wa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function kS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ny=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&OS(n,r),Ny!==null&&Ny(n,r)};var Zs=Ve(null);function ed(){var n=Zs.current;return n!==null?n:nt.pooledCache}function pc(n,r){r===null?Pe(Zs,Zs.current):Pe(Zs,r.pool)}function Dy(){var n=ed();return n===null?null:{parent:Dt._currentValue,pool:n}}var $r=0,Oe=null,Je=null,Tt=null,gc=!1,Za=!1,Js=!1,yc=0,Tl=0,Ja=null,MS=0;function _t(){throw Error(s(321))}function td(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!wn(n[a],r[a]))return!1;return!0}function nd(n,r,a,l,f,m){return $r=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?ea:Kr,Js=!1,m=a(l,f),Js=!1,Za&&(m=Oy(r,a,l,f)),xy(n),m}function xy(n){R.H=Ti;var r=Je!==null&&Je.next!==null;if($r=0,Tt=Je=Oe=null,gc=!1,Tl=0,Ja=null,r)throw Error(s(300));n===null||jt||(n=n.dependencies,n!==null&&Rc(n)&&(jt=!0))}function Oy(n,r,a,l){Oe=n;var f=0;do{if(Za&&(Ja=null),Tl=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=ta,m=r(a,l)}while(Za);return m}function VS(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?bl(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Oe.flags|=1024),r}function id(){var n=yc!==0;return yc=0,n}function rd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function sd(n){if(gc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}gc=!1}$r=0,Tt=Je=Oe=null,Za=!1,Tl=yc=0,Ja=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function bt(){if(Je===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=Tt===null?Oe.memoizedState:Tt.next;if(r!==null)Tt=r,Je=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}var _c;_c=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bl(n){var r=Tl;return Tl+=1,Ja===null&&(Ja=[]),n=Ty(Ja,n,r),r=Oe,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?ea:Kr),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bl(n);if(n.$$typeof===O)return Jt(n)}throw Error(s(438,String(n)))}function ad(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=_c(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=se;return r.index++,a}function Xi(n,r){return typeof r=="function"?r(n):r}function Ec(n){var r=bt();return od(r,Je,n)}function od(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var T=v=null,D=null,U=r,Y=!1;do{var ne=U.lane&-536870913;if(ne!==U.lane?(qe&ne)===ne:($r&ne)===ne){var G=U.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ne===Xa&&(Y=!0);else if(($r&G)===G){U=U.next,G===Xa&&(Y=!0);continue}else ne={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(T=D=ne,v=m):D=D.next=ne,Oe.lanes|=G,ns|=G;ne=U.action,Js&&a(m,ne),m=U.hasEagerState?U.eagerState:a(m,ne)}else G={lane:ne,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(T=D=G,v=m):D=D.next=G,Oe.lanes|=ne,ns|=ne;U=U.next}while(U!==null&&U!==r);if(D===null?v=m:D.next=T,!wn(m,n.memoizedState)&&(jt=!0,Y&&(a=Wa,a!==null)))throw a;n.memoizedState=m,n.baseState=v,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ld(n){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);wn(m,r.memoizedState)||(jt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function ky(n,r,a){var l=Oe,f=bt(),m=Qe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!wn((Je||f).memoizedState,a);if(v&&(f.memoizedState=a,jt=!0),f=f.queue,hd(Py.bind(null,l,f,n),[n]),f.getSnapshot!==r||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,eo(9,Vy.bind(null,l,f,a,r),{destroy:void 0},null),nt===null)throw Error(s(349));m||($r&60)!==0||My(l,r,a)}return a}function My(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=_c(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Vy(n,r,a,l){r.value=a,r.getSnapshot=l,Ly(r)&&Uy(n)}function Py(n,r,a){return a(function(){Ly(r)&&Uy(n)})}function Ly(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!wn(n,a)}catch{return!0}}function Uy(n){var r=Fr(n,2);r!==null&&fn(r,n,2)}function ud(n){var r=gn();if(typeof n=="function"){var a=n;if(n=a(),Js){li(!0);try{a()}finally{li(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:n},r}function jy(n,r,a,l){return n.baseState=a,od(n,Je,typeof l=="function"?l:Xi)}function PS(n,r,a,l,f){if(wc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};R.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,zy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function zy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=R.T,v={};R.T=v;try{var T=a(f,l),D=R.S;D!==null&&D(v,T),By(n,r,T)}catch(U){cd(n,r,U)}finally{R.T=m}}else try{m=a(f,l),By(n,r,m)}catch(U){cd(n,r,U)}}function By(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hy(n,r,l)},function(l){return cd(n,r,l)}):Hy(n,r,a)}function Hy(n,r,a){r.status="fulfilled",r.value=a,Fy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,zy(n,a)))}function cd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Fy(r),r=r.next;while(r!==l)}n.action=null}function Fy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function qy(n,r){return r}function Gy(n,r){if(Qe){var a=nt.formState;if(a!==null){e:{var l=Oe;if(Qe){if(Gt){t:{for(var f=Gt,m=vi;f.nodeType!==8;){if(!m){f=null;break t}if(f=ni(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gt=ni(f.nextSibling),l=f.data==="F!";break e}}Xs(l)}l=!1}l&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:r},a.queue=l,a=u_.bind(null,Oe,l),l.dispatch=a,l=ud(!1),m=gd.bind(null,Oe,!1,l.queue),l=gn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=PS.bind(null,Oe,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function $y(n){var r=bt();return Ky(r,Je,n)}function Ky(n,r,a){r=od(n,r,qy)[0],n=Ec(Xi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?bl(r):r;var l=bt(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,eo(9,LS.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function LS(n,r){n.action=r}function Qy(n){var r=bt(),a=Je;if(a!==null)return Ky(r,a,n);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function eo(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Oe.updateQueue,r===null&&(r=_c(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Yy(){return bt().memoizedState}function Tc(n,r,a,l){var f=gn();Oe.flags|=n,f.memoizedState=eo(1|r,a,{destroy:void 0},l===void 0?null:l)}function bc(n,r,a,l){var f=bt();l=l===void 0?null:l;var m=f.memoizedState.inst;Je!==null&&l!==null&&td(l,Je.memoizedState.deps)?f.memoizedState=eo(r,a,m,l):(Oe.flags|=n,f.memoizedState=eo(1|r,a,m,l))}function Xy(n,r){Tc(8390656,8,n,r)}function hd(n,r){bc(2048,8,n,r)}function Wy(n,r){return bc(4,2,n,r)}function Zy(n,r){return bc(4,4,n,r)}function Jy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function e_(n,r,a){a=a!=null?a.concat([n]):null,bc(4,4,Jy.bind(null,r,n),a)}function fd(){}function t_(n,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&td(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function n_(n,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&td(r,l[1]))return l[0];if(l=n(),Js){li(!0);try{n()}finally{li(!1)}}return a.memoizedState=[l,r],l}function dd(n,r,a){return a===void 0||($r&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=rv(),Oe.lanes|=n,ns|=n,a)}function i_(n,r,a,l){return wn(a,r)?a:Ya.current!==null?(n=dd(n,a,l),wn(n,r)||(jt=!0),n):($r&42)===0?(jt=!0,n.memoizedState=a):(n=rv(),Oe.lanes|=n,ns|=n,r)}function r_(n,r,a,l,f){var m=le.p;le.p=m!==0&&8>m?m:8;var v=R.T,T={};R.T=T,gd(n,!1,r,a);try{var D=f(),U=R.S;if(U!==null&&U(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=kS(D,l);wl(n,r,Y,Cn(n))}else wl(n,r,l,Cn(n))}catch(ne){wl(n,r,{then:function(){},status:"rejected",reason:ne},Cn())}finally{le.p=m,R.T=v}}function US(){}function md(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=s_(n).queue;r_(n,f,r,Se,a===null?US:function(){return a_(n),a(l)})}function s_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:Se},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function a_(n){var r=s_(n).next.queue;wl(n,r,{},Cn())}function pd(){return Jt(Fl)}function o_(){return bt().memoizedState}function l_(){return bt().memoizedState}function jS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();n=Xr(a);var l=Wr(r,n,a);l!==null&&(fn(l,r,a),Rl(l,r,a)),r={cache:Zf()},n.payload=r;return}r=r.return}}function zS(n,r,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?c_(r,a):(a=Gf(n,r,a,l),a!==null&&(fn(a,n,l),h_(a,r,l)))}function u_(n,r,a){var l=Cn();wl(n,r,a,l)}function wl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))c_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,T=m(v,a);if(f.hasEagerState=!0,f.eagerState=T,wn(T,v))return ac(n,r,f,0),nt===null&&sc(),!1}catch{}finally{}if(a=Gf(n,r,f,l),a!==null)return fn(a,n,l),h_(a,r,l),!0}return!1}function gd(n,r,a,l){if(l={lane:2,revertLane:sm(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(r)throw Error(s(479))}else r=Gf(n,a,l,2),r!==null&&fn(r,n,2)}function wc(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function c_(n,r){Za=gc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function h_(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,kr(n,a)}}var Ti={readContext:Jt,use:vc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Ti.useCacheRefresh=_t,Ti.useMemoCache=_t,Ti.useHostTransitionStatus=_t,Ti.useFormState=_t,Ti.useActionState=_t,Ti.useOptimistic=_t;var ea={readContext:Jt,use:vc,useCallback:function(n,r){return gn().memoizedState=[n,r===void 0?null:r],n},useContext:Jt,useEffect:Xy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Tc(4194308,4,Jy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Tc(4194308,4,n,r)},useInsertionEffect:function(n,r){Tc(4,2,n,r)},useMemo:function(n,r){var a=gn();r=r===void 0?null:r;var l=n();if(Js){li(!0);try{n()}finally{li(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=gn();if(a!==void 0){var f=a(r);if(Js){li(!0);try{a(r)}finally{li(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=zS.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var r=gn();return n={current:n},r.memoizedState=n},useState:function(n){n=ud(n);var r=n.queue,a=u_.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(n,r){var a=gn();return dd(a,n,r)},useTransition:function(){var n=ud(!1);return n=r_.bind(null,Oe,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Oe,f=gn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(qe&60)!==0||My(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Xy(Py.bind(null,l,m,n),[n]),l.flags|=2048,eo(9,Vy.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=gn(),r=nt.identifierPrefix;if(Qe){var a=Qi,l=Ki;a=(l&~(1<<32-ln(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=yc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=MS++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return gn().memoizedState=jS.bind(null,Oe)}};ea.useMemoCache=ad,ea.useHostTransitionStatus=pd,ea.useFormState=Gy,ea.useActionState=Gy,ea.useOptimistic=function(n){var r=gn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=gd.bind(null,Oe,!0,a),a.dispatch=r,[n,r]};var Kr={readContext:Jt,use:vc,useCallback:t_,useContext:Jt,useEffect:hd,useImperativeHandle:e_,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:n_,useReducer:Ec,useRef:Yy,useState:function(){return Ec(Xi)},useDebugValue:fd,useDeferredValue:function(n,r){var a=bt();return i_(a,Je.memoizedState,n,r)},useTransition:function(){var n=Ec(Xi)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:bl(n),r]},useSyncExternalStore:ky,useId:o_};Kr.useCacheRefresh=l_,Kr.useMemoCache=ad,Kr.useHostTransitionStatus=pd,Kr.useFormState=$y,Kr.useActionState=$y,Kr.useOptimistic=function(n,r){var a=bt();return jy(a,Je,n,r)};var ta={readContext:Jt,use:vc,useCallback:t_,useContext:Jt,useEffect:hd,useImperativeHandle:e_,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:n_,useReducer:ld,useRef:Yy,useState:function(){return ld(Xi)},useDebugValue:fd,useDeferredValue:function(n,r){var a=bt();return Je===null?dd(a,n,r):i_(a,Je.memoizedState,n,r)},useTransition:function(){var n=ld(Xi)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:bl(n),r]},useSyncExternalStore:ky,useId:o_};ta.useCacheRefresh=l_,ta.useMemoCache=ad,ta.useHostTransitionStatus=pd,ta.useFormState=Qy,ta.useActionState=Qy,ta.useOptimistic=function(n,r){var a=bt();return Je!==null?jy(a,Je,n,r):(a.baseState=n,[n,a.queue.dispatch])};function yd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:x({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var _d={isMounted:function(n){return(n=n._reactInternals)?ue(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Cn(),f=Xr(l);f.payload=r,a!=null&&(f.callback=a),r=Wr(n,f,l),r!==null&&(fn(r,n,l),Rl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Cn(),f=Xr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Wr(n,f,l),r!==null&&(fn(r,n,l),Rl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Cn(),l=Xr(a);l.tag=2,r!=null&&(l.callback=r),r=Wr(n,l,a),r!==null&&(fn(r,n,a),Rl(r,n,a))}};function f_(n,r,a,l,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!cl(a,l)||!cl(f,m):!0}function d_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&_d.enqueueReplaceState(r,r.state,null)}function na(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=x({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function m_(n){Sc(n)}function p_(n){console.error(n)}function g_(n){Sc(n)}function Ac(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function y_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vd(n,r,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(n,r)},a}function __(n){return n=Xr(n),n.tag=3,n}function v_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){y_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){y_(r,a,l),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function BS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Al(r,a,f,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return Ei===null?em():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Yf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),nm(n,l,f)),!1;case 22:return a.flags|=65536,l===Yf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),nm(n,l,f)),!1}throw Error(s(435,a.tag))}return nm(n,l,f),em(),!1}if(Qe)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Qf&&(n=Error(s(422),{cause:l}),ml(Un(n,a)))):(l!==Qf&&(r=Error(s(423),{cause:l}),ml(Un(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Un(l,a),f=vd(n.stateNode,l,f),Md(n,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:l});if(m=Un(m,a),Ml===null?Ml=[m]:Ml.push(m),pt!==4&&(pt=2),r===null)return!0;l=Un(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=vd(a.stateNode,l,n),Md(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=__(f),v_(f,n,a,l),Md(a,f),!1}a=a.return}while(a!==null);return!1}var E_=Error(s(461)),jt=!1;function $t(n,r,a,l){r.child=n===null?Ay(r,null,a,l):Ws(r,n.child,a,l)}function T_(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ra(r),l=nd(n,r,a,v,m,f),T=id(),n!==null&&!jt?(rd(n,r,f),Wi(n,r,f)):(Qe&&T&&$f(r),r.flags|=1,$t(n,r,l,f),r.child)}function b_(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Hd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,w_(n,r,m,l,f)):(n=Dc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Id(n,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(v,l)&&n.ref===r.ref)return Wi(n,r,f)}return r.flags|=1,n=ts(m,l),n.ref=r.ref,n.return=r,r.child=n}function w_(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(cl(m,l)&&n.ref===r.ref)if(jt=!1,r.pendingProps=l=m,Id(n,f))(n.flags&131072)!==0&&(jt=!0);else return r.lanes=n.lanes,Wi(n,r,f)}return Ed(n,r,a,l,f)}function S_(n,r,a){var l=r.pendingProps,f=l.children,m=(r.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(Sl(n,r),l.mode==="hidden"||m){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return A_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&pc(r,v!==null?v.cachePool:null),v!==null?Ry(r,v):Xf(),Cy(r);else return r.lanes=r.childLanes=536870912,A_(n,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(pc(r,v.cachePool),Ry(r,v),Gr(),r.memoizedState=null):(n!==null&&pc(r,null),Xf(),Gr());return $t(n,r,f,a),r.child}function A_(n,r,a,l){var f=ed();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&pc(r,null),Xf(),Cy(r),n!==null&&Al(n,r,l,!0),null}function Sl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Ed(n,r,a,l,f){return ra(r),a=nd(n,r,a,l,void 0,f),l=id(),n!==null&&!jt?(rd(n,r,f),Wi(n,r,f)):(Qe&&l&&$f(r),r.flags|=1,$t(n,r,a,f),r.child)}function R_(n,r,a,l,f,m){return ra(r),r.updateQueue=null,a=Oy(r,l,a,f),xy(n),l=id(),n!==null&&!jt?(rd(n,r,m),Wi(n,r,m)):(Qe&&l&&$f(r),r.flags|=1,$t(n,r,a,m),r.child)}function C_(n,r,a,l,f){if(ra(r),r.stateNode===null){var m=Ga,v=a.contextType;typeof v=="object"&&v!==null&&(m=Jt(v)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_d,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Od(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?Jt(v):Ga,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yd(r,a,v,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&_d.enqueueReplaceState(m,m.state,null),Il(r,l,m,f),Cl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var T=r.memoizedProps,D=na(a,T);m.props=D;var U=m.context,Y=a.contextType;v=Ga,typeof Y=="object"&&Y!==null&&(v=Jt(Y));var ne=a.getDerivedStateFromProps;Y=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||U!==v)&&d_(r,m,l,v),Yr=!1;var G=r.memoizedState;m.state=G,Il(r,l,m,f),Cl(),U=r.memoizedState,T||G!==U||Yr?(typeof ne=="function"&&(yd(r,a,ne,l),U=r.memoizedState),(D=Yr||f_(r,a,D,l,G,U,v))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),m.props=l,m.state=U,m.context=v,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,kd(n,r),v=r.memoizedProps,Y=na(a,v),m.props=Y,ne=r.pendingProps,G=m.context,U=a.contextType,D=Ga,typeof U=="object"&&U!==null&&(D=Jt(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==ne||G!==D)&&d_(r,m,l,D),Yr=!1,G=r.memoizedState,m.state=G,Il(r,l,m,f),Cl();var Q=r.memoizedState;v!==ne||G!==Q||Yr||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof T=="function"&&(yd(r,a,T,l),Q=r.memoizedState),(Y=Yr||f_(r,a,Y,l,G,Q,D)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),m.props=l,m.state=Q,m.context=D,l=Y):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Sl(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=Ws(r,n.child,null,f),r.child=Ws(r,null,a,f)):$t(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Wi(n,r,f),n}function I_(n,r,a,l){return dl(),r.flags|=256,$t(n,r,a,l),r.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function bd(n){return{baseLanes:n,cachePool:Dy()}}function wd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Gn),n}function N_(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Qe){if(f?qr(r):Gr(),Qe){var T=Gt,D;if(D=T){e:{for(D=T,T=vi;D.nodeType!==8;){if(!T){T=null;break e}if(D=ni(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:Qs!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912},D=qn(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,hn=r,Gt=null,D=!0):D=!1}D||Xs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Yi(r)}return T=l.children,l=l.fallback,f?(Gr(),f=r.mode,T=Ad({mode:"hidden",children:T},f),l=aa(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=bd(a),f.childLanes=wd(n,v,a),r.memoizedState=Td,l):(qr(r),Sd(r,T))}if(D=n.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(m)r.flags&256?(qr(r),r.flags&=-257,r=Rd(n,r,a)):r.memoizedState!==null?(Gr(),r.child=n.child,r.flags|=128,r=null):(Gr(),f=l.fallback,T=r.mode,l=Ad({mode:"visible",children:l.children},T),f=aa(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ws(r,n.child,null,a),l=r.child,l.memoizedState=bd(a),l.childLanes=wd(n,v,a),r.memoizedState=Td,r=f);else if(qr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),r=Rd(n,r,a)}else if(jt||Al(n,r,a,!1),v=(a&n.childLanes)!==0,jt||v){if(v=nt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Fr(n,l),fn(v,n,l),E_}T.data==="$?"||em(),r=Rd(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=nA.bind(null,n),T._reactRetry=r,r=null):(n=D.treeContext,Gt=ni(T.nextSibling),hn=r,Qe=!0,ei=null,vi=!1,n!==null&&(jn[zn++]=Ki,jn[zn++]=Qi,jn[zn++]=Qs,Ki=n.id,Qi=n.overflow,Qs=r),r=Sd(r,l.children),r.flags|=4096);return r}return f?(Gr(),f=l.fallback,T=r.mode,D=n.child,U=D.sibling,l=ts(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,U!==null?f=ts(U,f):(f=aa(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=bd(a):(D=T.cachePool,D!==null?(U=Dt._currentValue,D=D.parent!==U?{parent:U,pool:U}:D):D=Dy(),T={baseLanes:T.baseLanes|a,cachePool:D}),f.memoizedState=T,f.childLanes=wd(n,v,a),r.memoizedState=Td,l):(qr(r),a=n.child,n=a.sibling,a=ts(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Sd(n,r){return r=Ad({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ad(n,r){return tv(n,r,0,null)}function Rd(n,r,a){return Ws(r,n.child,null,a),n=Sd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function D_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Dd(n.return,r,a)}function Cd(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function x_(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if($t(n,r,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&D_(n,a,r);else if(n.tag===19)D_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Pe(Nt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Cd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&mc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Cd(r,!0,a,null,m);break;case"together":Cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ns|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Al(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ts(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ts(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Id(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function HS(n,r,a){switch(r.tag){case 3:$e(r,r.stateNode.containerInfo),Qr(r,Dt,n.memoizedState.cache),dl();break;case 27:case 5:Xn(r);break;case 4:$e(r,r.stateNode.containerInfo);break;case 10:Qr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?N_(n,r,a):(qr(r),n=Wi(n,r,a),n!==null?n.sibling:null);qr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Al(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return x_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Pe(Nt,Nt.current),l)break;return null;case 22:case 23:return r.lanes=0,S_(n,r,a);case 24:Qr(r,Dt,n.memoizedState.cache)}return Wi(n,r,a)}function O_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)jt=!0;else{if(!Id(n,a)&&(r.flags&128)===0)return jt=!1,HS(n,r,a);jt=(n.flags&131072)!==0}else jt=!1,Qe&&(r.flags&1048576)!==0&&gy(r,uc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Hd(l)?(n=na(l,n),r.tag=1,r=C_(null,r,l,n,a)):(r.tag=0,r=Ed(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===M){r.tag=11,r=T_(null,r,l,n,a);break e}else if(f===$){r.tag=14,r=b_(null,r,l,n,a);break e}}throw r=C(l)||l,Error(s(306,r,""))}}return r;case 0:return Ed(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=na(l,r.pendingProps),C_(n,r,l,f,a);case 3:e:{if($e(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,l=f.element,kd(n,r),Il(r,m,null,a);var v=r.memoizedState;if(m=v.cache,Qr(r,Dt,m),m!==f.cache&&xd(r,[Dt],a,!0),Cl(),m=v.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=I_(n,r,m,a);break e}else if(m!==l){l=Un(Error(s(424)),r),ml(l),r=I_(n,r,m,a);break e}else for(Gt=ni(r.stateNode.containerInfo.firstChild),hn=r,Qe=!0,ei=null,vi=!0,a=Ay(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(dl(),m===l){r=Wi(n,r,a);break e}$t(n,r,m,a)}r=r.child}return r;case 26:return Sl(n,r),n===null?(a=Vv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,n=r.pendingProps,l=Hc(Vt.current).createElement(a),l[Pt]=r,l[Rt]=n,Kt(l,a,n),ut(l),r.stateNode=l):r.memoizedState=Vv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Xn(r),n===null&&Qe&&(l=r.stateNode=Ov(r.type,r.pendingProps,Vt.current),hn=r,vi=!0,Gt=ni(l.firstChild)),l=r.pendingProps.children,n!==null||Qe?$t(n,r,l,a):r.child=Ws(r,null,l,a),Sl(n,r),r.child;case 5:return n===null&&Qe&&((f=l=Gt)&&(l=_A(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,hn=r,Gt=ni(l.firstChild),vi=!1,f=!0):f=!1),f||Xs(r)),Xn(r),f=r.type,m=r.pendingProps,v=n!==null?n.memoizedProps:null,l=m.children,mm(f,m)?l=null:v!==null&&mm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=nd(n,r,VS,null,null,a),Fl._currentValue=f),Sl(n,r),$t(n,r,l,a),r.child;case 6:return n===null&&Qe&&((n=a=Gt)&&(a=vA(a,r.pendingProps,vi),a!==null?(r.stateNode=a,hn=r,Gt=null,n=!0):n=!1),n||Xs(r)),null;case 13:return N_(n,r,a);case 4:return $e(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ws(r,null,l,a):$t(n,r,l,a),r.child;case 11:return T_(n,r,r.type,r.pendingProps,a);case 7:return $t(n,r,r.pendingProps,a),r.child;case 8:return $t(n,r,r.pendingProps.children,a),r.child;case 12:return $t(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Qr(r,r.type,l.value),$t(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ra(r),f=Jt(f),l=l(f),r.flags|=1,$t(n,r,l,a),r.child;case 14:return b_(n,r,r.type,r.pendingProps,a);case 15:return w_(n,r,r.type,r.pendingProps,a);case 19:return x_(n,r,a);case 22:return S_(n,r,a);case 24:return ra(r),l=Jt(Dt),n===null?(f=ed(),f===null&&(f=nt,m=Zf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Od(r),Qr(r,Dt,f)):((n.lanes&a)!==0&&(kd(n,r),Il(r,null,null,a),Cl()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Qr(r,Dt,l)):(l=m.cache,Qr(r,Dt,l),l!==f.cache&&xd(r,[Dt],a,!0))),$t(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Nd=Ve(null),ia=null,Zi=null;function Qr(n,r,a){Pe(Nd,r._currentValue),r._currentValue=a}function Ji(n){n._currentValue=Nd.current,Ze(Nd)}function Dd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function xd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<r.length;D++)if(T.context===r[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Dd(m.return,a,n),l||(v=null);break e}m=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Dd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Al(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;wn(f.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(f===on.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Fl):n=[Fl])}f=f.return}n!==null&&xd(r,n,a,l),r.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ra(n){ia=n,Zi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return k_(ia,n)}function Cc(n,r){return ia===null&&ra(n),k_(n,r)}function k_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(n===null)throw Error(s(308));Zi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Zi=Zi.next=r;return a}var Yr=!1;function Od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=oc(n),my(n,null,a),r}return ac(n,l,r,a),oc(n)}function Rl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,kr(n,a)}}function Md(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Vd=!1;function Cl(){if(Vd){var n=Wa;if(n!==null)throw n}}function Il(n,r,a,l){Vd=!1;var f=n.updateQueue;Yr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,U=D.next;D.next=null,v===null?m=U:v.next=U,v=D;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;v=0,Y=U=D=null,T=m;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(qe&G)===G:(l&G)===G){G!==0&&G===Xa&&(Vd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=n,Ie=T;G=r;var gt=a;switch(Ie.tag){case 1:if(pe=Ie.payload,typeof pe=="function"){ne=pe.call(gt,ne,G);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ie.payload,G=typeof pe=="function"?pe.call(gt,ne,G):pe,G==null)break e;ne=x({},ne,G);break e;case 2:Yr=!0}}G=T.callback,G!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=Q,D=ne):Y=Y.next=Q,v|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=U,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),ns|=v,n.lanes=v,n.memoizedState=ne}}function M_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function V_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)M_(a[n],r)}function Nl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(r,r.return,T)}}function Zr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var D=a;try{T()}catch(U){tt(f,D,U)}}}l=l.next}while(l!==m)}}catch(U){tt(r,r.return,U)}}function P_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{V_(r,a)}catch(l){tt(n,n.return,l)}}}function L_(n,r,a){a.props=na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,r,l)}}function sa(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){tt(n,r,m)}}function Sn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,r,f)}else a.current=null}function U_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function j_(n,r,a){try{var l=n.stateNode;dA(l,n.type,a,r),l[Rt]=r}catch(f){tt(n,n.return,f)}}function z_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Pd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||z_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ld(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ld(n,r,a),n=n.sibling;n!==null;)Ld(n,r,a),n=n.sibling}function Ic(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ic(n,r,a),n=n.sibling;n!==null;)Ic(n,r,a),n=n.sibling}var er=!1,mt=!1,Ud=!1,B_=typeof WeakSet=="function"?WeakSet:Set,zt=null,H_=!1;function FS(n,r){if(n=n.containerInfo,fm=Qc,n=sy(n),zf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,T=-1,D=-1,U=0,Y=0,ne=n,G=null;t:for(;;){for(var Q;ne!==a||f!==0&&ne.nodeType!==3||(T=v+f),ne!==m||l!==0&&ne.nodeType!==3||(D=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)G=ne,ne=Q;for(;;){if(ne===n)break t;if(G===a&&++U===f&&(T=v),G===m&&++Y===l&&(D=v),(Q=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=Q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:n,selectionRange:a},Qc=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var pe=na(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(pe,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){tt(a,a.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}return pe=H_,H_=!1,pe}function F_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(n,a),l&4&&Nl(5,a);break;case 1:if(nr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){tt(a,a.return,T)}else{var f=na(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){tt(a,a.return,T)}}l&64&&P_(a),l&512&&sa(a,a.return);break;case 3:if(nr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{V_(l,n)}catch(T){tt(a,a.return,T)}}break;case 26:nr(n,a),l&512&&sa(a,a.return);break;case 27:case 5:nr(n,a),r===null&&l&4&&U_(a),l&512&&sa(a,a.return);break;case 12:nr(n,a);break;case 13:nr(n,a),l&4&&$_(n,a);break;case 22:if(f=a.memoizedState!==null||er,!f){r=r!==null&&r.memoizedState!==null||mt;var m=er,v=mt;er=f,(mt=r)&&!v?Jr(n,a,(a.subtreeFlags&8772)!==0):nr(n,a),er=m,mt=v}l&512&&(a.memoizedProps.mode==="manual"?sa(a,a.return):Sn(a,a.return));break;default:nr(n,a)}}function q_(n){var r=n.alternate;r!==null&&(n.alternate=null,q_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Vs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,An=!1;function tr(n,r,a){for(a=a.child;a!==null;)G_(n,r,a),a=a.sibling}function G_(n,r,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ir,a)}catch{}switch(a.tag){case 26:mt||Sn(a,r),tr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Sn(a,r);var l=wt,f=An;for(wt=a.stateNode,tr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Vs(a),wt=l,An=f;break;case 5:mt||Sn(a,r);case 6:f=wt;var m=An;if(wt=null,tr(n,r,a),wt=f,An=m,wt!==null)if(An)try{n=wt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(v){tt(a,r,v)}else try{wt.removeChild(a.stateNode)}catch(v){tt(a,r,v)}break;case 18:wt!==null&&(An?(r=wt,a=a.stateNode,r.nodeType===8?gm(r.parentNode,a):r.nodeType===1&&gm(r,a),Kl(r)):gm(wt,a.stateNode));break;case 4:l=wt,f=An,wt=a.stateNode.containerInfo,An=!0,tr(n,r,a),wt=l,An=f;break;case 0:case 11:case 14:case 15:mt||Zr(2,a,r),mt||Zr(4,a,r),tr(n,r,a);break;case 1:mt||(Sn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L_(a,r,l)),tr(n,r,a);break;case 21:tr(n,r,a);break;case 22:mt||Sn(a,r),mt=(l=mt)||a.memoizedState!==null,tr(n,r,a),mt=l;break;default:tr(n,r,a)}}function $_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kl(n)}catch(a){tt(r,r.return,a)}}function qS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new B_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new B_),r;default:throw Error(s(435,n.tag))}}function jd(n,r){var a=qS(n);r.forEach(function(l){var f=iA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Hn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:wt=T.stateNode,An=!1;break e;case 3:wt=T.stateNode.containerInfo,An=!0;break e;case 4:wt=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(wt===null)throw Error(s(160));G_(m,v,f),wt=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)K_(r,n),r=r.sibling}var ti=null;function K_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(r,n),Fn(n),l&4&&(Zr(3,n,n.return),Nl(3,n),Zr(5,n,n.return));break;case 1:Hn(r,n),Fn(n),l&512&&(mt||a===null||Sn(a,a.return)),l&64&&er&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ti;if(Hn(r,n),Fn(n),l&512&&(mt||a===null||Sn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Vr]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Kt(m,l,a),m[Pt]=n,ut(m),l=m;break e;case"link":var v=Uv("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(m=v[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;case"meta":if(v=Uv("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(m=v[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}m=f.createElement(l),Kt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Pt]=n,ut(m),l=m}n.stateNode=l}else jv(f,n.type,n.stateNode);else n.stateNode=Lv(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?jv(f,n.type,n.stateNode):Lv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&j_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var D=f.firstChild;D;){var U=D.nextSibling,Y=D.nodeName;D[Vr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=U}for(var ne=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Kt(f,ne,m),f[Pt]=n,f[Rt]=m}catch(pe){tt(n,n.return,pe)}}case 5:if(Hn(r,n),Fn(n),l&512&&(mt||a===null||Sn(a,a.return)),n.flags&32){f=n.stateNode;try{kn(f,"")}catch(pe){tt(n,n.return,pe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,j_(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Ud=!0);break;case 6:if(Hn(r,n),Fn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){tt(n,n.return,pe)}}break;case 3:if(Gc=null,f=ti,ti=Fc(r.containerInfo),Hn(r,n),ti=f,Fn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(r.containerInfo)}catch(pe){tt(n,n.return,pe)}Ud&&(Ud=!1,Q_(n));break;case 4:l=ti,ti=Fc(n.stateNode.containerInfo),Hn(r,n),Fn(n),ti=l;break;case 12:Hn(r,n),Fn(n);break;case 13:Hn(r,n),Fn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qd=Ft()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 22:if(l&512&&(mt||a===null||Sn(a,a.return)),D=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,Y=er,ne=mt,er=Y||D,mt=ne||U,Hn(r,n),mt=ne,er=Y,Fn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=er||mt,a===null||U||r||to(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=U.stateNode,T=U.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(U,U.return,pe)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=D?"":U.memoizedProps}catch(pe){tt(U,U.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jd(n,a))));break;case 19:Hn(r,n),Fn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,jd(n,l)));break;case 21:break;default:Hn(r,n),Fn(n)}}function Fn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(z_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,m=Pd(n);Ic(n,m,f);break;case 5:var v=l.stateNode;l.flags&32&&(kn(v,""),l.flags&=-33);var T=Pd(n);Ic(n,T,v);break;case 3:case 4:var D=l.stateNode.containerInfo,U=Pd(n);Ld(n,U,D);break;default:throw Error(s(161))}}}catch(Y){tt(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Q_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Q_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function nr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)F_(n,r.alternate,r),r=r.sibling}function to(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Zr(4,r,r.return),to(r);break;case 1:Sn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&L_(r,r.return,a),to(r);break;case 26:case 27:case 5:Sn(r,r.return),to(r);break;case 22:Sn(r,r.return),r.memoizedState===null&&to(r);break;default:to(r)}n=n.sibling}}function Jr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:Jr(f,m,a),Nl(4,m);break;case 1:if(Jr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){tt(l,l.return,U)}if(l=m,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)M_(D[f],T)}catch(U){tt(l,l.return,U)}}a&&v&64&&P_(m),sa(m,m.return);break;case 26:case 27:case 5:Jr(f,m,a),a&&l===null&&v&4&&U_(m),sa(m,m.return);break;case 12:Jr(f,m,a);break;case 13:Jr(f,m,a),a&&v&4&&$_(f,m);break;case 22:m.memoizedState===null&&Jr(f,m,a),sa(m,m.return);break;default:Jr(f,m,a)}r=r.sibling}}function zd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&vl(a))}function Bd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vl(n))}function es(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Y_(n,r,a,l),r=r.sibling}function Y_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:es(n,r,a,l),f&2048&&Nl(9,r);break;case 3:es(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vl(n)));break;case 12:if(f&2048){es(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,v=m.id,T=m.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){tt(r,r.return,D)}}else es(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?es(n,r,a,l):Dl(n,r):m._visibility&4?es(n,r,a,l):(m._visibility|=4,no(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&zd(r.alternate,r);break;case 24:es(n,r,a,l),f&2048&&Bd(r.alternate,r);break;default:es(n,r,a,l)}}function no(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,v=r,T=a,D=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:no(m,v,T,D,f),Nl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?no(m,v,T,D,f):Dl(m,v):(Y._visibility|=4,no(m,v,T,D,f)),f&&U&2048&&zd(v.alternate,v);break;case 24:no(m,v,T,D,f),f&&U&2048&&Bd(v.alternate,v);break;default:no(m,v,T,D,f)}r=r.sibling}}function Dl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&zd(l.alternate,l);break;case 24:Dl(a,l),f&2048&&Bd(l.alternate,l);break;default:Dl(a,l)}r=r.sibling}}var xl=8192;function io(n){if(n.subtreeFlags&xl)for(n=n.child;n!==null;)X_(n),n=n.sibling}function X_(n){switch(n.tag){case 26:io(n),n.flags&xl&&n.memoizedState!==null&&OA(ti,n.memoizedState,n.memoizedProps);break;case 5:io(n);break;case 3:case 4:var r=ti;ti=Fc(n.stateNode.containerInfo),io(n),ti=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=xl,xl=16777216,io(n),xl=r):io(n));break;default:io(n)}}function W_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ol(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,n)}W_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Z_(n),n=n.sibling}function Z_(n){switch(n.tag){case 0:case 11:case 15:Ol(n),n.flags&2048&&Zr(9,n,n.return);break;case 3:Ol(n);break;case 12:Ol(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Nc(n)):Ol(n);break;default:Ol(n)}}function Nc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,n)}W_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Zr(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Nc(r));break;default:Nc(r)}n=n.sibling}}function J_(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Zr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var f=l.sibling,m=l.return;if(q_(l),l===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}function GS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,r,a,l){return new GS(n,r,a,l)}function Hd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ts(n,r){var a=n.alternate;return a===null?(a=qn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ev(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Dc(n,r,a,l,f,m){var v=0;if(l=n,typeof n=="function")Hd(n)&&(v=1);else if(typeof n=="string")v=DA(n,a,Et.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return aa(a.children,f,m,r);case g:v=8,f|=24;break;case E:return n=qn(12,a,r,f|2),n.elementType=E,n.lanes=m,n;case q:return n=qn(13,a,r,f),n.elementType=q,n.lanes=m,n;case z:return n=qn(19,a,r,f),n.elementType=z,n.lanes=m,n;case X:return tv(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case O:v=10;break e;case S:v=9;break e;case M:v=11;break e;case $:v=14;break e;case J:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=qn(v,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function aa(n,r,a,l){return n=qn(7,n,l,r),n.lanes=a,n}function tv(n,r,a,l){n=qn(22,n,l,r),n.elementType=X,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=Fr(m,2);v!==null&&(f._pendingVisibility|=2,fn(v,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=Fr(m,2);v!==null&&(f._pendingVisibility&=-3,fn(v,m,2))}}};return n.stateNode=f,n}function Fd(n,r,a){return n=qn(6,n,null,r),n.lanes=a,n}function qd(n,r,a){return r=qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function ir(n){n.flags|=4}function nv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!zv(r)){if(r=Bn.current,r!==null&&((qe&4194176)===qe?Ei!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==Ei))throw gl=Yf,vy;n.flags|=8192}}function xc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?xr():536870912,n.lanes|=r,so|=r)}function kl(n,r){if(!Qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function $S(n,r,a){var l=r.pendingProps;switch(Kf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(Dt),mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fl(r)?ir(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ei!==null&&(Zd(ei),ei=null))),ct(r),null;case 26:return a=r.memoizedState,n===null?(ir(r),a!==null?(ct(r),nv(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ir(r),ct(r),nv(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==l&&ir(r),ct(r),r.flags&=-16777217),null;case 27:Ar(r),a=Vt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=Et.current,fl(r)?yy(r):(n=Ov(f,l,a),r.stateNode=n,ir(r))}return ct(r),null;case 5:if(Ar(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=Et.current,fl(r))yy(r);else{switch(f=Hc(Vt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Pt]=r,n[Rt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Kt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ir(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Vt.current,fl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=hn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Pt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Rv(n.nodeValue,a)),n||Xs(r)}else n=Hc(n).createTextNode(l),n[Pt]=r,r.stateNode=n}return ct(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Pt]=r}else dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else ei!==null&&(Zd(ei),ei=null),f=!0;if(!f)return r.flags&256?(Yi(r),r):(Yi(r),null)}if(Yi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),ct(r),null;case 4:return mn(),n===null&&um(r.stateNode.containerInfo),ct(r),null;case 10:return Ji(r.type),ct(r),null;case 19:if(Ze(Nt),f=r.memoizedState,f===null)return ct(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)kl(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=mc(n),m!==null){for(r.flags|=128,kl(f,!1),n=m.updateQueue,r.updateQueue=n,xc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)ev(a,n),a=a.sibling;return Pe(Nt,Nt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Ft()>Oc&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304)}else{if(!l)if(n=mc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,xc(r,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Qe)return ct(r),null}else 2*Ft()-f.renderingStartTime>Oc&&a!==536870912&&(r.flags|=128,l=!0,kl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ft(),r.sibling=null,n=Nt.current,Pe(Nt,l?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return Yi(r),Wf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&Ze(Zs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(Dt),ct(r),null;case 25:return null}throw Error(s(156,r.tag))}function KS(n,r){switch(Kf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ji(Dt),mn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ar(r),null;case 13:if(Yi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));dl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ze(Nt),null;case 4:return mn(),null;case 10:return Ji(r.type),null;case 22:case 23:return Yi(r),Wf(),n!==null&&Ze(Zs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ji(Dt),null;case 25:return null;default:return null}}function iv(n,r){switch(Kf(r),r.tag){case 3:Ji(Dt),mn();break;case 26:case 27:case 5:Ar(r);break;case 4:mn();break;case 13:Yi(r);break;case 19:Ze(Nt);break;case 10:Ji(r.type);break;case 22:case 23:Yi(r),Wf(),n!==null&&Ze(Zs);break;case 24:Ji(Dt)}}var QS={getCacheForType:function(n){var r=Jt(Dt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},YS=typeof WeakMap=="function"?WeakMap:Map,ht=0,nt=null,Me=null,qe=0,it=0,Rn=null,rr=!1,ro=!1,Gd=!1,sr=0,pt=0,ns=0,oa=0,$d=0,Gn=0,so=0,Ml=null,bi=null,Kd=!1,Qd=0,Oc=1/0,kc=null,is=null,Mc=!1,la=null,Vl=0,Yd=0,Xd=null,Pl=0,Wd=null;function Cn(){if((ht&2)!==0&&qe!==0)return qe&-qe;if(R.T!==null){var n=Xa;return n!==0?n:sm()}return zu()}function rv(){Gn===0&&(Gn=(qe&536870912)===0||Qe?Qo():536870912);var n=Bn.current;return n!==null&&(n.flags|=32),Gn}function fn(n,r,a){(n===nt&&it===2||n.cancelPendingCommit!==null)&&(ao(n,0),ar(n,qe,Gn,!1)),yt(n,a),((ht&2)===0||n!==nt)&&(n===nt&&((ht&2)===0&&(oa|=a),pt===4&&ar(n,qe,Gn,!1)),wi(n))}function sv(n,r,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Dr(n,r),f=l?ZS(n,r):tm(n,r,!0),m=l;do{if(f===0){ro&&!l&&ar(n,r,0,!1);break}else if(f===6)ar(n,r,0,!rr);else{if(a=n.current.alternate,m&&!XS(a)){f=tm(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;f=Ml;var D=T.current.memoizedState.isDehydrated;if(D&&(ao(T,v).flags|=256),v=tm(T,v,!1),v!==2){if(Gd&&!D){T.errorRecoveryDisabledLanes|=m,oa|=m,f=4;break e}m=bi,bi=f,m!==null&&Zd(m)}f=v}if(m=!1,f!==2)continue}}if(f===1){ao(n,0),ar(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){ar(l,r,Gn,!rr);break e}break;case 2:bi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=Qd+300-Ft(),10<m)){if(ar(l,r,Gn,!rr),xn(l,0)!==0)break e;l.timeoutHandle=Nv(av.bind(null,l,a,bi,kc,Kd,r,Gn,oa,so,rr,2,-0,0),m);break e}av(l,a,bi,kc,Kd,r,Gn,oa,so,rr,0,-0,0)}}break}while(!0);wi(n)}function Zd(n){bi===null?bi=n:bi.push.apply(bi,n)}function av(n,r,a,l,f,m,v,T,D,U,Y,ne,G){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:xA},X_(r),r=kA(),r!==null)){n.cancelPendingCommit=r(dv.bind(null,n,a,l,f,v,T,D,1,ne,G)),ar(n,m,v,!U);return}dv(n,a,l,f,v,T,D,Y,ne,G)}function XS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!wn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ar(n,r,a,l){r&=~$d,r&=~oa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-ln(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&Or(n,a,r)}function Vc(){return(ht&6)===0?(Ll(0),!1):!0}function Jd(){if(Me!==null){if(it===0)var n=Me.return;else n=Me,Zi=ia=null,sd(n),Qa=null,yl=0,n=Me;for(;n!==null;)iv(n.alternate,n),n=n.return;Me=null}}function ao(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,pA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Jd(),nt=n,Me=a=ts(n.current,null),qe=r,it=0,Rn=null,rr=!1,ro=Dr(n,r),Gd=!1,so=Gn=$d=oa=ns=pt=0,bi=Ml=null,Kd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-ln(l),m=1<<f;r|=n[f],l&=~m}return sr=r,sc(),a}function ov(n,r){Oe=null,R.H=Ti,r===pl?(r=by(),it=3):r===vy?(r=by(),it=4):it=r===E_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Me===null&&(pt=1,Ac(n,Un(r,n.current)))}function lv(){var n=R.H;return R.H=Ti,n===null?Ti:n}function uv(){var n=R.A;return R.A=QS,n}function em(){pt=4,rr||(qe&4194176)!==qe&&Bn.current!==null||(ro=!0),(ns&134217727)===0&&(oa&134217727)===0||nt===null||ar(nt,qe,Gn,!1)}function tm(n,r,a){var l=ht;ht|=2;var f=lv(),m=uv();(nt!==n||qe!==r)&&(kc=null,ao(n,r)),r=!1;var v=pt;e:do try{if(it!==0&&Me!==null){var T=Me,D=Rn;switch(it){case 8:Jd(),v=6;break e;case 3:case 2:case 6:Bn.current===null&&(r=!0);var U=it;if(it=0,Rn=null,oo(n,T,D,U),a&&ro){v=0;break e}break;default:U=it,it=0,Rn=null,oo(n,T,D,U)}}WS(),v=pt;break}catch(Y){ov(n,Y)}while(!0);return r&&n.shellSuspendCounter++,Zi=ia=null,ht=l,R.H=f,R.A=m,Me===null&&(nt=null,qe=0,sc()),v}function WS(){for(;Me!==null;)cv(Me)}function ZS(n,r){var a=ht;ht|=2;var l=lv(),f=uv();nt!==n||qe!==r?(kc=null,Oc=Ft()+500,ao(n,r)):ro=Dr(n,r);e:do try{if(it!==0&&Me!==null){r=Me;var m=Rn;t:switch(it){case 1:it=0,Rn=null,oo(n,r,m,1);break;case 2:if(Ey(m)){it=0,Rn=null,hv(r);break}r=function(){it===2&&nt===n&&(it=7),wi(n)},m.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Ey(m)?(it=0,Rn=null,hv(r)):(it=0,Rn=null,oo(n,r,m,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(!v||zv(v)){it=0,Rn=null;var D=T.sibling;if(D!==null)Me=D;else{var U=T.return;U!==null?(Me=U,Pc(U)):Me=null}break t}}it=0,Rn=null,oo(n,r,m,5);break;case 6:it=0,Rn=null,oo(n,r,m,6);break;case 8:Jd(),pt=6;break e;default:throw Error(s(462))}}JS();break}catch(Y){ov(n,Y)}while(!0);return Zi=ia=null,R.H=l,R.A=f,ht=a,Me!==null?0:(nt=null,qe=0,sc(),pt)}function JS(){for(;Me!==null&&!qo();)cv(Me)}function cv(n){var r=O_(n.alternate,n,sr);n.memoizedProps=n.pendingProps,r===null?Pc(n):Me=r}function hv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=R_(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=R_(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:sd(r);default:iv(a,r),r=Me=ev(r,sr),r=O_(a,r,sr)}n.memoizedProps=n.pendingProps,r===null?Pc(n):Me=r}function oo(n,r,a,l){Zi=ia=null,sd(r),Qa=null,yl=0;var f=r.return;try{if(BS(n,f,r,a,qe)){pt=1,Ac(n,Un(a,n.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;pt=1,Ac(n,Un(a,n.current)),Me=null;return}r.flags&32768?(Qe||l===1?n=!0:ro||(qe&536870912)!==0?n=!1:(rr=n=!0,(l===2||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(r,n)):Pc(r)}function Pc(n){var r=n;do{if((r.flags&32768)!==0){fv(r,rr);return}n=r.return;var a=$S(r.alternate,r,sr);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);pt===0&&(pt=5)}function fv(n,r){do{var a=KS(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);pt=6,Me=null}function dv(n,r,a,l,f,m,v,T,D,U){var Y=R.T,ne=le.p;try{le.p=2,R.T=null,eA(n,r,a,l,ne,f,m,v,T,D,U)}finally{R.T=Y,le.p=ne}}function eA(n,r,a,l,f,m,v,T){do lo();while(la!==null);if((ht&6)!==0)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=D.lanes|D.childLanes;if(U|=qf,Uu(n,l,U,m,v,T),n===nt&&(Me=nt=null,qe=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Mc||(Mc=!0,Yd=U,Xd=a,rA(Dn,function(){return lo(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,m=le.p,le.p=2,v=ht,ht|=4,FS(n,D),K_(D,n),SS(dm,n.containerInfo),Qc=!!fm,dm=fm=null,n.current=D,F_(n,D.alternate,D),Os(),ht=v,le.p=m,R.T=a):n.current=D,Mc?(Mc=!1,la=n,Vl=l):mv(n,U),U=n.pendingLanes,U===0&&(is=null),$o(D.stateNode),wi(n),r!==null)for(f=n.onRecoverableError,D=0;D<r.length;D++)U=r[D],f(U.value,{componentStack:U.stack});return(Vl&3)!==0&&lo(),U=n.pendingLanes,(l&4194218)!==0&&(U&42)!==0?n===Wd?Pl++:(Pl=0,Wd=n):Pl=0,Ll(0),null}function mv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,vl(r)))}function lo(){if(la!==null){var n=la,r=Yd;Yd=0;var a=ju(Vl),l=R.T,f=le.p;try{if(le.p=32>a?32:a,R.T=null,la===null)var m=!1;else{a=Xd,Xd=null;var v=la,T=Vl;if(la=null,Vl=0,(ht&6)!==0)throw Error(s(331));var D=ht;if(ht|=4,Z_(v.current),Y_(v,v.current,T,a),ht=D,Ll(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ir,v)}catch{}m=!0}return m}finally{le.p=f,R.T=l,mv(n,r)}}return!1}function pv(n,r,a){r=Un(a,r),r=vd(n.stateNode,r,2),n=Wr(n,r,2),n!==null&&(yt(n,2),wi(n))}function tt(n,r,a){if(n.tag===3)pv(n,n,a);else for(;r!==null;){if(r.tag===3){pv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){n=Un(a,n),a=__(2),l=Wr(r,a,2),l!==null&&(v_(a,l,r,n),yt(l,2),wi(l));break}}r=r.return}}function nm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new YS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Gd=!0,f.add(a),n=tA.bind(null,n,r,a),r.then(n,n))}function tA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(qe&a)===a&&(pt===4||pt===3&&(qe&62914560)===qe&&300>Ft()-Qd?(ht&2)===0&&ao(n,0):$d|=a,so===qe&&(so=0)),wi(n)}function gv(n,r){r===0&&(r=xr()),n=Fr(n,r),n!==null&&(yt(n,r),wi(n))}function nA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),gv(n,a)}function iA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),gv(n,a)}function rA(n,r){return Li(n,r)}var Lc=null,uo=null,im=!1,Uc=!1,rm=!1,ua=0;function wi(n){n!==uo&&n.next===null&&(uo===null?Lc=uo=n:uo=uo.next=n),Uc=!0,im||(im=!0,aA(sA))}function Ll(n,r){if(!rm&&Uc){rm=!0;do for(var a=!1,l=Lc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-ln(42|n)+1)-1,m&=f&~(v&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,vv(l,m))}else m=qe,m=xn(l,l===nt?m:0),(m&3)===0||Dr(l,m)||(a=!0,vv(l,m));l=l.next}while(a);rm=!1}}function sA(){Uc=im=!1;var n=0;ua!==0&&(mA()&&(n=ua),ua=0);for(var r=Ft(),a=null,l=Lc;l!==null;){var f=l.next,m=yv(l,r);m===0?(l.next=null,a===null?Lc=f:a.next=f,f===null&&(uo=a)):(a=l,(n!==0||(m&3)!==0)&&(Uc=!0)),l=f}Ll(n)}function yv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-ln(m),T=1<<v,D=f[v];D===-1?((T&a)===0||(T&l)!==0)&&(f[v]=Ca(T,r)):D<=r&&(n.expiredLanes|=T),m&=~T}if(r=nt,a=qe,a=xn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&it===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Dr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Cr(l),ju(a)){case 2:case 8:a=at;break;case 32:a=Dn;break;case 268435456:a=Go;break;default:a=Dn}return l=_v.bind(null,n),a=Li(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Cr(l),n.callbackPriority=2,n.callbackNode=null,2}function _v(n,r){var a=n.callbackNode;if(lo()&&n.callbackNode!==a)return null;var l=qe;return l=xn(n,n===nt?l:0),l===0?null:(sv(n,l,r),yv(n,Ft()),n.callbackNode!=null&&n.callbackNode===a?_v.bind(null,n):null)}function vv(n,r){if(lo())return null;sv(n,r,!0)}function aA(n){gA(function(){(ht&6)!==0?Li(Ee,n):n()})}function sm(){return ua===0&&(ua=Qo()),ua}function Ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fi(""+n)}function Tv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function oA(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Ev((f[Rt]||null).action),v=l.submitter;v&&(r=(r=v[Rt]||null)?Ev(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var T=new Ma("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var D=v?Tv(f,v):new FormData(f);md(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=v?Tv(f,v):new FormData(f),md(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var am=0;am<dy.length;am++){var om=dy[am],lA=om.toLowerCase(),uA=om[0].toUpperCase()+om.slice(1);Jn(lA,"on"+uA)}Jn(ly,"onAnimationEnd"),Jn(uy,"onAnimationIteration"),Jn(cy,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(RS,"onTransitionRun"),Jn(CS,"onTransitionStart"),Jn(IS,"onTransitionCancel"),Jn(hy,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function bv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,U=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(Y){Sc(Y)}f.currentTarget=null,m=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,U=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(Y){Sc(Y)}f.currentTarget=null,m=D}}}}function je(n,r){var a=r[Ms];a===void 0&&(a=r[Ms]=new Set);var l=n+"__bubble";a.has(l)||(wv(r,n,2,!1),a.add(l))}function lm(n,r,a){var l=0;r&&(l|=4),wv(a,n,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function um(n){if(!n[jc]){n[jc]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(cA.has(a)||lm(a,!1,n),lm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[jc]||(r[jc]=!0,lm("selectionchange",!1,r))}}function wv(n,r,a,l){switch($v(r)){case 2:var f=PA;break;case 8:f=LA;break;default:f=bm}a=f.bind(null,r,a,n),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function cm(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&(D=v.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;v=v.return}for(;T!==null;){if(v=Zn(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=m=v;continue e}T=T.parentNode}}l=l.return}qu(function(){var U=m,Y=ka(a),ne=[];e:{var G=fy.get(n);if(G!==void 0){var Q=Ma,pe=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":Q=za;break;case"focusin":pe="focus",Q=La;break;case"focusout":pe="blur",Q=La;break;case"beforeblur":case"afterblur":Q=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Zu;break;case ly:case uy:case cy:Q=Ua;break;case hy:Q=ec;break;case"scroll":case"scrollend":Q=Gu;break;case"wheel":Q=Ba;break;case"copy":case"cut":case"paste":Q=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ll;break;case"toggle":case"beforetoggle":Q=nc}var Ie=(r&4)!==0,gt=!Ie&&(n==="scroll"||n==="scrollend"),B=Ie?G!==null?G+"Capture":null:G;Ie=[];for(var L=U,F;L!==null;){var W=L;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||B===null||(W=js(L,B),W!=null&&Ie.push(jl(L,W,F))),gt)break;L=L.return}0<Ie.length&&(G=new Q(G,pe,null,a,Y),ne.push({event:G,listeners:Ie}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",G&&a!==Mn&&(pe=a.relatedTarget||a.fromElement)&&(Zn(pe)||pe[Ui]))break e;if((Q||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=U,pe=pe?Zn(pe):null,pe!==null&&(gt=ue(pe),Ie=pe.tag,pe!==gt||Ie!==5&&Ie!==27&&Ie!==6)&&(pe=null)):(Q=null,pe=U),Q!==pe)){if(Ie=Pn,W="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=ll,W="onPointerLeave",B="onPointerEnter",L="pointer"),gt=Q==null?G:Pr(Q),F=pe==null?G:Pr(pe),G=new Ie(W,L+"leave",Q,a,Y),G.target=gt,G.relatedTarget=F,W=null,Zn(Y)===U&&(Ie=new Ie(B,L+"enter",pe,a,Y),Ie.target=F,Ie.relatedTarget=gt,W=Ie),gt=W,Q&&pe)t:{for(Ie=Q,B=pe,L=0,F=Ie;F;F=co(F))L++;for(F=0,W=B;W;W=co(W))F++;for(;0<L-F;)Ie=co(Ie),L--;for(;0<F-L;)B=co(B),F--;for(;L--;){if(Ie===B||B!==null&&Ie===B.alternate)break t;Ie=co(Ie),B=co(B)}Ie=null}else Ie=null;Q!==null&&Sv(ne,G,Q,Ie,!1),pe!==null&&gt!==null&&Sv(ne,gt,pe,Ie,!0)}}e:{if(G=U?Pr(U):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var me=Wg;else if(It(G))if(Zg)me=bS;else{me=ES;var ke=vS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&tl(U.elementType)&&(me=Wg):me=TS;if(me&&(me=me(n,U))){$i(ne,me,a,Y);break e}ke&&ke(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Oa(G,"number",G.value)}switch(ke=U?Pr(U):window,n){case"focusin":(It(ke)||ke.contentEditable==="true")&&(Ha=ke,Bf=U,hl=null);break;case"focusout":hl=Bf=Ha=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,ay(ne,a,Y);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":ay(ne,a,Y)}var ye;if(yi)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else He?K(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(He||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&He&&(ye=il()):(di=Y,Hr="value"in di?di.value:di.textContent,He=!0)),ke=zc(U,Te),0<ke.length&&(Te=new al(Te,n,null,a,Y),ne.push({event:Te,listeners:ke}),ye?Te.data=ye:(ye=re(a),ye!==null&&(Te.data=ye)))),(ye=y?Ct(n,a):Fe(n,a))&&(Te=zc(U,"onBeforeInput"),0<Te.length&&(ke=new al("onBeforeInput","beforeinput",null,a,Y),ne.push({event:ke,listeners:Te}),ke.data=ye)),oA(ne,n,U,a,Y)}bv(ne,r)})}function jl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function zc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=js(n,a),f!=null&&l.unshift(jl(n,f,m)),f=js(n,r),f!=null&&l.push(jl(n,f,m))),n=n.return}return l}function co(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Sv(n,r,a,l,f){for(var m=r._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,U=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||U===null||(D=U,f?(U=js(a,m),U!=null&&v.unshift(jl(a,U,D))):f||(U=js(a,m),U!=null&&v.push(jl(a,U,D)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var hA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function Av(n){return(typeof n=="string"?n:""+n).replace(hA,`
`).replace(fA,"")}function Rv(n,r){return r=Av(r),Av(n)===r}function Bc(){}function et(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||kn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&kn(n,""+l);break;case"className":jr(n,"class",l);break;case"tabIndex":jr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(n,a,l);break;case"style":Fu(n,l,m);break;case"data":if(r!=="object"){jr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fi(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(n,r,"name",f.name,f,null),et(n,r,"formEncType",f.formEncType,f,null),et(n,r,"formMethod",f.formMethod,f,null),et(n,r,"formTarget",f.formTarget,f,null)):(et(n,r,"encType",f.encType,f,null),et(n,r,"method",f.method,f,null),et(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fi(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=fi(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),Ur(n,"popover",l);break;case"xlinkActuate":On(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":On(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":On(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":On(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":On(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":On(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":On(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":On(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":On(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ur(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mf.get(a)||a,Ur(n,a,l))}}function hm(n,r,a,l,f,m){switch(a){case"style":Fu(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?kn(n,l):(typeof l=="number"||typeof l=="bigint")&&kn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ur(n,a,l)}}}function Kt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,m,v,a,null)}}f&&et(n,r,"srcSet",a.srcSet,a,null),l&&et(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var T=m=v=f=null,D=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":D=Y;break;case"defaultChecked":U=Y;break;case"value":m=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(n,r,l,Y,a,null)}}Ls(n,m,T,D,U,v,f,!1),Ps(n);return;case"select":je("invalid",n),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:et(n,r,f,T,a,null)}r=m,a=v,n.multiple=!!l,r!=null?Ke(n,!!l,r,!1):a!=null&&Ke(n,!!l,a,!0);return;case"textarea":je("invalid",n),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(n,r,v,T,a,null)}Br(n,l,f,m),Ps(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(n,r,D,l,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<Ul.length;l++)je(Ul[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,U,l,a,null)}return;default:if(tl(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&hm(n,r,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(n,r,T,l,a,null))}function dA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,T=null,D=null,U=null,Y=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ne;default:l.hasOwnProperty(Q)||et(n,r,Q,null,l,ne)}}for(var G in l){var Q=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(Q!=null||ne!=null))switch(G){case"type":m=Q;break;case"name":f=Q;break;case"checked":U=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ne&&et(n,r,G,Q,l,ne)}}zr(n,v,T,D,U,Y,m,f);return;case"select":Q=v=T=G=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(m)||et(n,r,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":G=m;break;case"defaultValue":T=m;break;case"multiple":v=m;default:m!==D&&et(n,r,f,m,l,D)}r=T,a=v,l=Q,G!=null?Ke(n,!!a,G,!1):!!l!=!!a&&(r!=null?Ke(n,!!a,r,!0):Ke(n,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(n,r,T,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(n,r,v,f,l,m)}Us(n,G,Q);return;case"option":for(var pe in a)if(G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:et(n,r,pe,null,l,G)}for(D in l)if(G=l[D],Q=a[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(n,r,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in a)G=a[Ie],a.hasOwnProperty(Ie)&&G!=null&&!l.hasOwnProperty(Ie)&&et(n,r,Ie,null,l,G);for(U in l)if(G=l[U],Q=a[U],l.hasOwnProperty(U)&&G!==Q&&(G!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:et(n,r,U,G,l,Q)}return;default:if(tl(r)){for(var gt in a)G=a[gt],a.hasOwnProperty(gt)&&G!==void 0&&!l.hasOwnProperty(gt)&&hm(n,r,gt,void 0,l,G);for(Y in l)G=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||G===Q||G===void 0&&Q===void 0||hm(n,r,Y,G,l,Q);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&et(n,r,B,null,l,G);for(ne in l)G=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||G===Q||G==null&&Q==null||et(n,r,ne,G,l,Q)}var fm=null,dm=null;function Hc(n){return n.nodeType===9?n:n.ownerDocument}function Cv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function mm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pm=null;function mA(){var n=window.event;return n&&n.type==="popstate"?n===pm?!1:(pm=n,!0):(pm=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(n){return Dv.resolve(null).then(n).catch(yA)}:Nv;function yA(n){setTimeout(function(){throw n})}function gm(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),Kl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Kl(r)}function ym(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function _A(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Vr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ni(n.nextSibling),n===null)break}return null}function vA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ni(n.nextSibling),n===null))return null;return n}function ni(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function xv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Ov(n,r,a){switch(r=Hc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var $n=new Map,kv=new Set;function Fc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var or=le.d;le.d={f:EA,r:TA,D:bA,C:wA,L:SA,m:AA,X:CA,S:RA,M:IA};function EA(){var n=or.f(),r=Vc();return n||r}function TA(n){var r=ji(n);r!==null&&r.tag===5&&r.type==="form"?a_(r):or.r(n)}var ho=typeof document>"u"?null:document;function Mv(n,r,a){var l=ho;if(l&&typeof r=="string"&&r){var f=dt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),kv.has(f)||(kv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Kt(r,"link",n),ut(r),l.head.appendChild(r)))}}function bA(n){or.D(n),Mv("dns-prefetch",n,null)}function wA(n,r){or.C(n,r),Mv("preconnect",n,r)}function SA(n,r,a){or.L(n,r,a);var l=ho;if(l&&n&&r){var f='link[rel="preload"][as="'+dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dt(a.imageSizes)+'"]')):f+='[href="'+dt(n)+'"]';var m=f;switch(r){case"style":m=fo(n);break;case"script":m=mo(n)}$n.has(m)||(n=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(zl(m))||r==="script"&&l.querySelector(Bl(m))||(r=l.createElement("link"),Kt(r,"link",n),ut(r),l.head.appendChild(r)))}}function AA(n,r){or.m(n,r);var a=ho;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+dt(l)+'"][href="'+dt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(n)}if(!$n.has(m)&&(n=x({rel:"modulepreload",href:n},r),$n.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(m)))return}l=a.createElement("link"),Kt(l,"link",n),ut(l),a.head.appendChild(l)}}}function RA(n,r,a){or.S(n,r,a);var l=ho;if(l&&n){var f=Lr(l).hoistableStyles,m=fo(n);r=r||"default";var v=f.get(m);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(zl(m)))T.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(m))&&_m(n,a);var D=v=l.createElement("link");ut(D),Kt(D,"link",n),D._p=new Promise(function(U,Y){D.onload=U,D.onerror=Y}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(m,v)}}}function CA(n,r){or.X(n,r);var a=ho;if(a&&n){var l=Lr(a).hoistableScripts,f=mo(n),m=l.get(f);m||(m=a.querySelector(Bl(f)),m||(n=x({src:n,async:!0},r),(r=$n.get(f))&&vm(n,r),m=a.createElement("script"),ut(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function IA(n,r){or.M(n,r);var a=ho;if(a&&n){var l=Lr(a).hoistableScripts,f=mo(n),m=l.get(f);m||(m=a.querySelector(Bl(f)),m||(n=x({src:n,async:!0,type:"module"},r),(r=$n.get(f))&&vm(n,r),m=a.createElement("script"),ut(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Vv(n,r,a,l){var f=(f=Vt.current)?Fc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fo(a.href),a=Lr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=fo(a.href);var m=Lr(f).hoistableStyles,v=m.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=f.querySelector(zl(n)))&&!m._p&&(v.instance=m,v.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),m||NA(f,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=Lr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fo(n){return'href="'+dt(n)+'"'}function zl(n){return'link[rel="stylesheet"]['+n+"]"}function Pv(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function NA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),ut(r),n.head.appendChild(r))}function mo(n){return'[src="'+dt(n)+'"]'}function Bl(n){return"script[async]"+n}function Lv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+dt(a.href)+'"]');if(l)return r.instance=l,ut(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ut(l),Kt(l,"style",f),qc(l,a.precedence,n),r.instance=l;case"stylesheet":f=fo(a.href);var m=n.querySelector(zl(f));if(m)return r.state.loading|=4,r.instance=m,ut(m),m;l=Pv(a),(f=$n.get(f))&&_m(l,f),m=(n.ownerDocument||n).createElement("link"),ut(m);var v=m;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Kt(m,"link",l),r.state.loading|=4,qc(m,a.precedence,n),r.instance=m;case"script":return m=mo(a.src),(f=n.querySelector(Bl(m)))?(r.instance=f,ut(f),f):(l=a,(f=$n.get(m))&&(l=x({},a),vm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),Kt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,n));return r.instance}function qc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function _m(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function vm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Gc=null;function Uv(n,r,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Vr]||m[Pt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(m):l.set(v,[m])}}return l}function jv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function DA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hl=null;function xA(){}function OA(n,r,a){if(Hl===null)throw Error(s(475));var l=Hl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=fo(a.href),m=n.querySelector(zl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=$c.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,ut(m);return}m=n.ownerDocument||n,a=Pv(a),(f=$n.get(f))&&_m(a,f),m=m.createElement("link"),ut(m);var v=m;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Kt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=$c.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function kA(){if(Hl===null)throw Error(s(475));var n=Hl;return n.stylesheets&&n.count===0&&Em(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Em(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kc=null;function Em(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kc=new Map,r.forEach(MA,n),Kc=null,$c.call(n))}function MA(n,r){if(!(r.state.loading&4)){var a=Kc.get(n);if(a)var l=a.get(null);else{a=new Map,Kc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=$c.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Fl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function VA(n,r,a,l,f,m,v,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Bv(n,r,a,l,f,m,v,T,D,U,Y,ne){return n=new VA(n,r,a,v,T,D,U,ne),r=1,m===!0&&(r|=24),m=qn(3,null,null,r),n.current=m,m.stateNode=n,r=Zf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Od(m),n}function Hv(n){return n?(n=Ga,n):Ga}function Fv(n,r,a,l,f,m){f=Hv(f),l.context===null?l.context=f:l.pendingContext=f,l=Xr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Wr(n,l,r),a!==null&&(fn(a,n,r),Rl(a,n,r))}function qv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Tm(n,r){qv(n,r),(n=n.alternate)&&qv(n,r)}function Gv(n){if(n.tag===13){var r=Fr(n,67108864);r!==null&&fn(r,n,67108864),Tm(n,67108864)}}var Qc=!0;function PA(n,r,a,l){var f=R.T;R.T=null;var m=le.p;try{le.p=2,bm(n,r,a,l)}finally{le.p=m,R.T=f}}function LA(n,r,a,l){var f=R.T;R.T=null;var m=le.p;try{le.p=8,bm(n,r,a,l)}finally{le.p=m,R.T=f}}function bm(n,r,a,l){if(Qc){var f=wm(l);if(f===null)cm(n,r,l,Yc,a),Kv(n,l);else if(jA(f,n,r,a,l))l.stopPropagation();else if(Kv(n,l),r&4&&-1<UA.indexOf(n)){for(;f!==null;){var m=ji(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Wn(m.pendingLanes);if(v!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-ln(v);T.entanglements[1]|=D,v&=~D}wi(m),(ht&6)===0&&(Oc=Ft()+500,Ll(0))}}break;case 13:T=Fr(m,2),T!==null&&fn(T,m,2),Vc(),Tm(m,2)}if(m=wm(l),m===null&&cm(n,r,l,Yc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else cm(n,r,l,null,a)}}function wm(n){return n=ka(n),Sm(n)}var Yc=null;function Sm(n){if(Yc=null,n=Zn(n),n!==null){var r=ue(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Be(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Yc=n,null}function $v(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case Ee:return 2;case at:return 8;case Dn:case Vu:return 32;case Go:return 268435456;default:return 32}default:return 32}}var Am=!1,rs=null,ss=null,as=null,ql=new Map,Gl=new Map,os=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(n,r){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(r.pointerId)}}function $l(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ji(r),r!==null&&Gv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function jA(n,r,a,l,f){switch(r){case"focusin":return rs=$l(rs,n,r,a,l,f),!0;case"dragenter":return ss=$l(ss,n,r,a,l,f),!0;case"mouseover":return as=$l(as,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return ql.set(m,$l(ql.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Gl.set(m,$l(Gl.get(m)||null,n,r,a,l,f)),!0}return!1}function Qv(n){var r=Zn(n.target);if(r!==null){var a=ue(r);if(a!==null){if(r=a.tag,r===13){if(r=Be(a),r!==null){n.blockedOn=r,Mr(n.priority,function(){if(a.tag===13){var l=Cn(),f=Fr(a,l);f!==null&&fn(f,a,l),Tm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=wm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Mn=l,a.target.dispatchEvent(l),Mn=null}else return r=ji(a),r!==null&&Gv(r),n.blockedOn=a,!1;r.shift()}return!0}function Yv(n,r,a){Xc(n)&&a.delete(r)}function zA(){Am=!1,rs!==null&&Xc(rs)&&(rs=null),ss!==null&&Xc(ss)&&(ss=null),as!==null&&Xc(as)&&(as=null),ql.forEach(Yv),Gl.forEach(Yv)}function Wc(n,r){n.blockedOn===r&&(n.blockedOn=null,Am||(Am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zA)))}var Zc=null;function Xv(n){Zc!==n&&(Zc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===n&&(Zc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var m=ji(a);m!==null&&(n.splice(r,3),r-=3,md(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Kl(n){function r(D){return Wc(D,n)}rs!==null&&Wc(rs,n),ss!==null&&Wc(ss,n),as!==null&&Wc(as,n),ql.forEach(r),Gl.forEach(r);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&os.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[Rt]||null;if(typeof m=="function")v||Xv(a);else if(v){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Rt]||null)T=v.formAction;else if(Sm(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Xv(a)}}}function Rm(n){this._internalRoot=n}Jc.prototype.render=Rm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Cn();Fv(a,l,n,r,null,null)},Jc.prototype.unmount=Rm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&lo(),Fv(n.current,2,null,n,null,null),Vc(),r[Ui]=null}};function Jc(n){this._internalRoot=n}Jc.prototype.unstable_scheduleHydration=function(n){if(n){var r=zu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<os.length&&r!==0&&r<os[a].priority;a++);os.splice(a,0,n),a===0&&Qv(n)}};var Wv=e.version;if(Wv!=="19.0.0")throw Error(s(527,Wv,"19.0.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=te(r),n=n!==null?de(n):null,n=n===null?null:n.stateNode,n};var BA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Ir=eh.inject(BA),Zt=eh}catch{}}return Yl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=m_,m=p_,v=g_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Bv(n,1,!1,null,null,a,l,f,m,v,T,null),n[Ui]=r.current,um(n.nodeType===8?n.parentNode:n),new Rm(r)},Yl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=m_,v=p_,T=g_,D=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=Bv(n,1,!0,r,a??null,l,f,m,v,T,D,U),r.context=Hv(null),a=r.current,l=Cn(),f=Xr(l),f.callback=null,Wr(a,f,l),r.current.lanes=l,yt(r,l),wi(r),n[Ui]=r.current,um(n),new Jc(r)},Yl.version="19.0.0",Yl}var oE;function XA(){if(oE)return Im.exports;oE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=YA(),Im.exports}var WA=XA(),N=Lp();const ma=Yh(N);var Xl={},lE;function ZA(){if(lE)return Xl;lE=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=h,Xl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,O){const M=new u,q=S.length;if(q<2)return M;const z=(O==null?void 0:O.decode)||E;let $=0;do{const J=S.indexOf("=",$);if(J===-1)break;const X=S.indexOf(";",$),se=X===-1?q:X;if(J>se){$=S.lastIndexOf(";",J-1)+1;continue}const ae=d(S,$,J),fe=p(S,J,ae),k=S.slice(ae,fe);if(M[k]===void 0){let C=d(S,J+1,se),R=p(S,se,C);const x=z(S.slice(C,R));M[k]=x}$=se+1}while($<q);return M}function d(S,O,M){do{const q=S.charCodeAt(O);if(q!==32&&q!==9)return O}while(++O<M);return M}function p(S,O,M){for(;O>M;){const q=S.charCodeAt(--O);if(q!==32&&q!==9)return O+1}return M}function g(S,O,M){const q=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=q(O);if(!e.test(z))throw new TypeError(`argument val is invalid: ${O}`);let $=S+"="+z;if(!M)return $;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);$+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);$+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);$+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);$+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&($+="; HttpOnly"),M.secure&&($+="; Secure"),M.partitioned&&($+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Xl}ZA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uE="popstate";function JA(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return ip("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:cu(o)}return tR(e,t,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eR(){return Math.random().toString(36).substring(2,10)}function cE(i,e){return{usr:i.state,key:i.key,idx:e}}function ip(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||s||eR()}}function cu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Vo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function tR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){d="POP";let z=E(),$=z==null?null:z-g;g=z,p&&p({action:d,location:q.location,delta:$})}function S(z,$){d="PUSH";let J=ip(q.location,z,$);g=E()+1;let X=cE(J,g),se=q.createHref(J);try{h.pushState(X,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(se)}u&&p&&p({action:d,location:q.location,delta:1})}function O(z,$){d="REPLACE";let J=ip(q.location,z,$);g=E();let X=cE(J,g),se=q.createHref(J);h.replaceState(X,"",se),u&&p&&p({action:d,location:q.location,delta:0})}function M(z){let $=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof z=="string"?z:cu(z);return J=J.replace(/ $/,"%20"),lt($,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,$)}let q={get action(){return d},get location(){return i(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(uE,b),p=z,()=>{o.removeEventListener(uE,b),p=null}},createHref(z){return e(o,z)},createURL:M,encodeLocation(z){let $=M(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:O,go(z){return h.go(z)}};return q}function s0(i,e,t="/"){return nR(i,e,t,!1)}function nR(i,e,t,s){let o=typeof e=="string"?Vo(e):e,u=pr(o.pathname||"/",t);if(u==null)return null;let h=a0(i);iR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=mR(u);d=fR(h[p],g,s)}return d}function a0(i,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=hr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),a0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:cR(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of o0(u.path))o(u,h,p)}),e}function o0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=o0(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function iR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:hR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var rR=/^:[\w-]+$/,sR=3,aR=2,oR=1,lR=10,uR=-2,hE=i=>i==="*";function cR(i,e){let t=i.split("/"),s=t.length;return t.some(hE)&&(s+=uR),e&&(s+=aR),t.filter(o=>!hE(o)).reduce((o,u)=>o+(rR.test(u)?sR:u===""?oR:lR),s)}function hR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function fR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:hr([u,b.pathname]),pathnameBase:_R(hr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=hr([u,b.pathnameBase]))}return h}function wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=dR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},S)=>{if(E==="*"){let M=d[S]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=d[S];return b&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function dR(i,e=!1,t=!0){si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function pR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Vo(i):i;return{pathname:t?t.startsWith("/")?t:gR(t,e):e,search:vR(s),hash:ER(o)}}function gR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function km(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Up(i){let e=yR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function jp(i,e,t,s=!1){let o;typeof i=="string"?o=Vo(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}d=b>=0?e[b]:"/"}let p=pR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var hr=i=>i.join("/").replace(/\/\/+/g,"/"),_R=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ER=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function TR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var l0=["POST","PUT","PATCH","DELETE"];new Set(l0);var bR=["GET",...l0];new Set(bR);var Po=N.createContext(null);Po.displayName="DataRouter";var Xh=N.createContext(null);Xh.displayName="DataRouterState";var u0=N.createContext({isTransitioning:!1});u0.displayName="ViewTransition";var wR=N.createContext(new Map);wR.displayName="Fetchers";var SR=N.createContext(null);SR.displayName="Await";var oi=N.createContext(null);oi.displayName="Navigation";var Tu=N.createContext(null);Tu.displayName="Location";var Mi=N.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var zp=N.createContext(null);zp.displayName="RouteError";function AR(i,{relative:e}={}){lt(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=N.useContext(oi),{hash:o,pathname:u,search:h}=bu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:hr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Lo(){return N.useContext(Tu)!=null}function Is(){return lt(Lo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Tu).location}var c0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h0(i){N.useContext(oi).static||N.useLayoutEffect(i)}function Bp(){let{isDataRoute:i}=N.useContext(Mi);return i?UR():RR()}function RR(){lt(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext(Po),{basename:e,navigator:t}=N.useContext(oi),{matches:s}=N.useContext(Mi),{pathname:o}=Is(),u=JSON.stringify(Up(s)),h=N.useRef(!1);return h0(()=>{h.current=!0}),N.useCallback((p,g={})=>{if(si(h.current,c0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=jp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}N.createContext(null);function bu(i,{relative:e}={}){let{matches:t}=N.useContext(Mi),{pathname:s}=Is(),o=JSON.stringify(Up(t));return N.useMemo(()=>jp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function CR(i,e){return f0(i,e)}function f0(i,e,t,s){var J;lt(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=N.useContext(oi),{matches:h}=N.useContext(Mi),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",b=d&&d.route;{let X=b&&b.path||"";d0(g,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=Is(),O;if(e){let X=typeof e=="string"?Vo(e):e;lt(E==="/"||((J=X.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),O=X}else O=S;let M=O.pathname||"/",q=M;if(E!=="/"){let X=E.replace(/^\//,"").split("/");q="/"+M.replace(/^\//,"").split("/").slice(X.length).join("/")}let z=!u&&t&&t.matches&&t.matches.length>0?t.matches:s0(i,{pathname:q});si(b||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),si(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=OR(z&&z.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:hr([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:hr([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,t,s);return e&&$?N.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function IR(){let i=LR(),e=TR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,h)}var NR=N.createElement(IR,null),DR=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?N.createElement(Mi.Provider,{value:this.props.routeContext},N.createElement(zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xR({routeContext:i,match:e,children:t}){let s=N.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Mi.Provider,{value:i},t)}function OR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:b}=t,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,S=!1,O=null,M=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||NR,h&&(d<0&&E===0?(d0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):d===E&&(S=!0,M=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),z=()=>{let $;return b?$=O:S?$=M:g.route.Component?$=N.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,N.createElement(xR,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:$})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?N.createElement(DR,{location:t.location,revalidation:t.revalidation,component:O,error:b,children:z(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):z()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kR(i){let e=N.useContext(Po);return lt(e,Hp(i)),e}function MR(i){let e=N.useContext(Xh);return lt(e,Hp(i)),e}function VR(i){let e=N.useContext(Mi);return lt(e,Hp(i)),e}function Fp(i){let e=VR(i),t=e.matches[e.matches.length-1];return lt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function PR(){return Fp("useRouteId")}function LR(){var s;let i=N.useContext(zp),e=MR("useRouteError"),t=Fp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function UR(){let{router:i}=kR("useNavigate"),e=Fp("useNavigate"),t=N.useRef(!1);return h0(()=>{t.current=!0}),N.useCallback(async(o,u={})=>{si(t.current,c0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var fE={};function d0(i,e,t){!e&&!fE[i]&&(fE[i]=!0,si(!1,t))}N.memo(jR);function jR({routes:i,future:e,state:t}){return f0(i,void 0,t,e)}function zR({to:i,replace:e,state:t,relative:s}){lt(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(oi);si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Mi),{pathname:h}=Is(),d=Bp(),p=jp(i,Up(u),h,s==="path"),g=JSON.stringify(p);return N.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function nn(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Vo(t));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:S="default"}=t,O=N.useMemo(()=>{let M=pr(p,h);return M==null?null:{location:{pathname:M,search:g,hash:E,state:b,key:S},navigationType:s}},[h,p,g,E,b,S,s]);return si(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(oi.Provider,{value:d},N.createElement(Tu.Provider,{children:e,value:O}))}function HR({children:i,location:e}){return CR(rp(i),e)}function rp(i,e=[]){let t=[];return N.Children.forEach(i,(s,o)=>{if(!N.isValidElement(s))return;let u=[...e,o];if(s.type===N.Fragment){t.push.apply(t,rp(s.props.children,u));return}lt(s.type===nn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=rp(s.props.children,u)),t.push(h)}),t}var hh="get",fh="application/x-www-form-urlencoded";function Wh(i){return i!=null&&typeof i.tagName=="string"}function FR(i){return Wh(i)&&i.tagName.toLowerCase()==="button"}function qR(i){return Wh(i)&&i.tagName.toLowerCase()==="form"}function GR(i){return Wh(i)&&i.tagName.toLowerCase()==="input"}function $R(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function KR(i,e){return i.button===0&&(!e||e==="_self")&&!$R(i)}var th=null;function QR(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var YR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(i){return i!=null&&!YR.has(i)?(si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function XR(i,e){let t,s,o,u,h;if(qR(i)){let d=i.getAttribute("action");s=d?pr(d,e):null,t=i.getAttribute("method")||hh,o=Mm(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(FR(i)||GR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?pr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||hh,o=Mm(i.getAttribute("formenctype"))||Mm(d.getAttribute("enctype"))||fh,u=new FormData(d,i),!QR()){let{name:g,type:E,value:b}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Wh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,s=null,o=fh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function qp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function WR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function JR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await WR(u,t);return h.links?h.links():[]}return[]}));return iC(s.flat(1).filter(ZR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dE(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function eC(i,e,{includeHydrateFallback:t}={}){return tC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function tC(i){return[...new Set(i)]}function nC(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function iC(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(nC(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function rC(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&pr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function m0(){let i=N.useContext(Po);return qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function sC(){let i=N.useContext(Xh);return qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Gp=N.createContext(void 0);Gp.displayName="FrameworkContext";function p0(){let i=N.useContext(Gp);return qp(i,"You must render this element inside a <HydratedRouter> element"),i}function aC(i,e){let t=N.useContext(Gp),[s,o]=N.useState(!1),[u,h]=N.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,S=N.useRef(null);N.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=$=>{$.forEach(J=>{h(J.isIntersecting)})},z=new IntersectionObserver(q,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),N.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Wl(d,O),onBlur:Wl(p,M),onMouseEnter:Wl(g,O),onMouseLeave:Wl(E,M),onTouchStart:Wl(b,O)}]:[!1,S,{}]}function Wl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function oC({page:i,...e}){let{router:t}=m0(),s=N.useMemo(()=>s0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?N.createElement(uC,{page:i,matches:s,...e}):null}function lC(i){let{manifest:e,routeModules:t}=p0(),[s,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return JR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function uC({page:i,matches:e,...t}){let s=Is(),{manifest:o,routeModules:u}=p0(),{basename:h}=m0(),{loaderData:d,matches:p}=sC(),g=N.useMemo(()=>dE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=N.useMemo(()=>dE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=N.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,q=!1;if(e.forEach($=>{var X;let J=o.routes[$.route.id];!J||!J.hasLoader||(!g.some(se=>se.route.id===$.route.id)&&$.route.id in d&&((X=u[$.route.id])!=null&&X.shouldRevalidate)||J.hasClientLoader?q=!0:M.add($.route.id))}),M.size===0)return[];let z=rC(i,h);return q&&M.size>0&&z.searchParams.set("_routes",e.filter($=>M.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[h,d,s,o,g,e,i,u]),S=N.useMemo(()=>eC(E,o),[E,o]),O=lC(E);return N.createElement(N.Fragment,null,b.map(M=>N.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),S.map(M=>N.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),O.map(({key:M,link:q})=>N.createElement("link",{key:M,...q})))}function cC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var g0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g0&&(window.__reactRouterVersion="7.3.0")}catch{}function hC({basename:i,children:e,window:t}){let s=N.useRef();s.current==null&&(s.current=JA({window:t,v5Compat:!0}));let o=s.current,[u,h]=N.useState({action:o.action,location:o.location}),d=N.useCallback(p=>{N.startTransition(()=>h(p))},[h]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(BR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0=N.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:b,...S},O){let{basename:M}=N.useContext(oi),q=typeof g=="string"&&y0.test(g),z,$=!1;if(typeof g=="string"&&q&&(z=g,g0))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=pr(x.pathname,M);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:$=!0}catch{si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=AR(g,{relative:o}),[X,se,ae]=aC(s,S),fe=mC(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:b});function k(R){e&&e(R),R.defaultPrevented||fe(R)}let C=N.createElement("a",{...S,...ae,href:z||J,onClick:$||u?e:k,ref:cC(O,se),target:p,"data-discover":!q&&t==="render"?"true":void 0});return X&&!q?N.createElement(N.Fragment,null,C,N.createElement(oC,{page:J})):C});_0.displayName="Link";var Kn=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let b=bu(h,{relative:g.relative}),S=Is(),O=N.useContext(Xh),{navigator:M,basename:q}=N.useContext(oi),z=O!=null&&vC(b)&&d===!0,$=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,J=S.pathname,X=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(J=J.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&q&&(X=pr(X,q)||X);const se=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=J===$||!o&&J.startsWith($)&&J.charAt(se)==="/",fe=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),k={isActive:ae,isPending:fe,isTransitioning:z},C=ae?e:void 0,R;typeof s=="function"?R=s(k):R=[s,ae?"active":null,fe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return N.createElement(_0,{...g,"aria-current":C,className:R,ref:E,style:x,to:h,viewTransition:d},typeof p=="function"?p(k):p)});Kn.displayName="NavLink";var fC=N.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=hh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...S},O)=>{let M=yC(),q=_C(d,{relative:g}),z=h.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&y0.test(d),J=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let se=X.nativeEvent.submitter,ae=(se==null?void 0:se.getAttribute("formmethod"))||h;M(se||X.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return N.createElement("form",{ref:O,method:z,action:q,onSubmit:s?p:J,...S,"data-discover":!$&&i==="render"?"true":void 0})});fC.displayName="Form";function dC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v0(i){let e=N.useContext(Po);return lt(e,dC(i)),e}function mC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Bp(),p=Is(),g=bu(i,{relative:u});return N.useCallback(E=>{if(KR(E,e)){E.preventDefault();let b=t!==void 0?t:cu(p)===cu(g);d(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var pC=0,gC=()=>`__${String(++pC)}__`;function yC(){let{router:i}=v0("useSubmit"),{basename:e}=N.useContext(oi),t=PR();return N.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=XR(s,e);if(o.navigate===!1){let E=o.fetcherKey||gC();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function _C(i,{relative:e}={}){let{basename:t}=N.useContext(oi),s=N.useContext(Mi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(i||".",{relative:e})},h=Is();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:hr([t,u.pathname])),cu(u)}function vC(i,e={}){let t=N.useContext(u0);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=v0("useViewTransitionState"),o=bu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=pr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=pr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}new TextEncoder;var EC=r0();const bo=Yh(EC),TC=()=>A.jsx("div",{children:A.jsx("h1",{children:"UNAUTHORIZED ACCESS"})}),bC=()=>{};var mE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},wC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,O=g&63;p||(O=64,h||(S=64)),s.push(t[E],t[b],t[S],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(E0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):wC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||b==null)throw new SC;const S=u<<2|d>>4;if(s.push(S),g!==64){const O=d<<4&240|g>>2;if(s.push(O),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class SC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AC=function(i){const e=E0(i);return T0.encodeByteArray(e,!0)},Sh=function(i){return AC(i).replace(/\./g,"")},b0=function(i){try{return T0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=()=>RC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof mE>"u")return;const i=mE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},NC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&b0(i[1]);return e&&JSON.parse(e)},Zh=()=>{try{return bC()||CC()||IC()||NC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},w0=i=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},S0=i=>{const e=w0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},A0=()=>{var i;return(i=Zh())===null||i===void 0?void 0:i.config},R0=i=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Sh(JSON.stringify(t)),Sh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function OC(){var i;const e=(i=Zh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function VC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PC(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function LC(){return!OC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UC(){try{return typeof indexedDB=="object"}catch{return!1}}function jC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="FirebaseError";class Vi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=zC,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?BC(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Vi(o,d,s)}}function BC(i,e){return i.replace(HC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const HC=/\{\$([^}]+)}/g;function FC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ya(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(pE(u)&&pE(h)){if(!ya(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function pE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function qC(i,e){const t=new GC(i,e);return t.subscribe.bind(t)}class GC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");$C(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $C(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i){return i&&i._delegate?i._delegate:i}class Ts{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new DC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YC(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QC(i){return i===ca?void 0:i}function YC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const WC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},ZC=Le.INFO,JC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},eI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=JC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=ZC,this._logHandler=eI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const tI=(i,e)=>e.some(t=>i instanceof t);let gE,yE;function nI(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iI(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,sp=new WeakMap,N0=new WeakMap,Pm=new WeakMap,Kp=new WeakMap;function rI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ys(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&I0.set(t,i)}).catch(()=>{}),Kp.set(e,i),e}function sI(i){if(sp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});sp.set(i,e)}let ap={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return sp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||N0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aI(i){ap=i(ap)}function oI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Lm(this),e,...t);return N0.set(s,e.sort?e.sort():[e]),ys(s)}:iI().includes(i)?function(...e){return i.apply(Lm(this),e),ys(I0.get(this))}:function(...e){return ys(i.apply(Lm(this),e))}}function lI(i){return typeof i=="function"?oI(i):(i instanceof IDBTransaction&&sI(i),tI(i,nI())?new Proxy(i,ap):i)}function ys(i){if(i instanceof IDBRequest)return rI(i);if(Pm.has(i))return Pm.get(i);const e=lI(i);return e!==i&&(Pm.set(i,e),Kp.set(e,i)),e}const Lm=i=>Kp.get(i);function uI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=ys(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ys(h.result),p.oldVersion,p.newVersion,ys(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const cI=["get","getKey","getAll","getAllKeys","count"],hI=["put","add","delete","clear"],Um=new Map;function _E(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=hI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cI.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Um.set(e,u),u}aI(i=>({...i,get:(e,t,s)=>_E(e,t)||i.get(e,t,s),has:(e,t)=>!!_E(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function dI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",vE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new $p("@firebase/app"),mI="@firebase/app-compat",pI="@firebase/analytics-compat",gI="@firebase/analytics",yI="@firebase/app-check-compat",_I="@firebase/app-check",vI="@firebase/auth",EI="@firebase/auth-compat",TI="@firebase/database",bI="@firebase/data-connect",wI="@firebase/database-compat",SI="@firebase/functions",AI="@firebase/functions-compat",RI="@firebase/installations",CI="@firebase/installations-compat",II="@firebase/messaging",NI="@firebase/messaging-compat",DI="@firebase/performance",xI="@firebase/performance-compat",OI="@firebase/remote-config",kI="@firebase/remote-config-compat",MI="@firebase/storage",VI="@firebase/storage-compat",PI="@firebase/firestore",LI="@firebase/vertexai",UI="@firebase/firestore-compat",jI="firebase",zI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",BI={[op]:"fire-core",[mI]:"fire-core-compat",[gI]:"fire-analytics",[pI]:"fire-analytics-compat",[_I]:"fire-app-check",[yI]:"fire-app-check-compat",[vI]:"fire-auth",[EI]:"fire-auth-compat",[TI]:"fire-rtdb",[bI]:"fire-data-connect",[wI]:"fire-rtdb-compat",[SI]:"fire-fn",[AI]:"fire-fn-compat",[RI]:"fire-iid",[CI]:"fire-iid-compat",[II]:"fire-fcm",[NI]:"fire-fcm-compat",[DI]:"fire-perf",[xI]:"fire-perf-compat",[OI]:"fire-rc",[kI]:"fire-rc-compat",[MI]:"fire-gcs",[VI]:"fire-gcs-compat",[PI]:"fire-fst",[UI]:"fire-fst-compat",[LI]:"fire-vertex","fire-js":"fire-js",[jI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,HI=new Map,up=new Map;function EE(i,e){try{i.container.addComponent(e)}catch(t){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function _a(i){const e=i.name;if(up.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,i);for(const t of Ah.values())EE(t,i);for(const t of HI.values())EE(t,i);return!0}function Jh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function In(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new wu("app","Firebase",FI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=zI;function D0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(t||(t=A0()),!t)throw _s.create("no-options");const u=Ah.get(o);if(u){if(ya(t,u.options)&&ya(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const h=new XC(o);for(const p of up.values())h.addComponent(p);const d=new qI(t,s,h);return Ah.set(o,d),d}function Qp(i=lp){const e=Ah.get(i);if(!e&&i===lp&&A0())return D0();if(!e)throw _s.create("no-app",{appName:i});return e}function Ai(i,e,t){var s;let o=(s=BI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(d.join(" "));return}_a(new Ts(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebase-heartbeat-database",$I=1,hu="firebase-heartbeat-store";let jm=null;function x0(){return jm||(jm=uI(GI,$I,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),jm}async function KI(i){try{const t=(await x0()).transaction(hu),s=await t.objectStore(hu).get(O0(i));return await t.done,s}catch(e){if(e instanceof Vi)gr.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(t.message)}}}async function TE(i,e){try{const s=(await x0()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,O0(i)),await s.done}catch(t){if(t instanceof Vi)gr.warn(t.message);else{const s=_s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gr.warn(s.message)}}}function O0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1024,YI=30;class XI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>YI){const h=JI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bE(),{heartbeatsToSend:s,unsentEntries:o}=WI(this._heartbeatsCache.heartbeats),u=Sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return gr.warn(t),""}}}function bE(){return new Date().toISOString().substring(0,10)}function WI(i,e=QI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),wE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ZI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UC()?jC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return TE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return TE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wE(i){return Sh(JSON.stringify({version:2,heartbeats:i})).length}function JI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(i){_a(new Ts("platform-logger",e=>new fI(e),"PRIVATE")),_a(new Ts("heartbeat",e=>new XI(e),"PRIVATE")),Ai(op,vE,i),Ai(op,vE,"esm2017"),Ai("fire-js","")}e1("");var t1="firebase",n1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(t1,n1,"app");function Yp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function k0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i1=k0,M0=new wu("auth","Firebase",k0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new $p("@firebase/auth");function r1(i,...e){Rh.logLevel<=Le.WARN&&Rh.warn(`Auth (${wa}): ${i}`,...e)}function dh(i,...e){Rh.logLevel<=Le.ERROR&&Rh.error(`Auth (${wa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(i,...e){throw Xp(i,...e)}function Ri(i,...e){return Xp(i,...e)}function V0(i,e,t){const s=Object.assign(Object.assign({},i1()),{[e]:t});return new wu("auth","Firebase",s).create(e,{appName:i.name})}function fr(i){return V0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return M0.create(i,...e)}function be(i,e,...t){if(!i)throw Xp(e,...t)}function lr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function yr(i,e){i||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function s1(){return SE()==="http:"||SE()==="https:"}function SE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s1()||MC()||"connection"in navigator)?navigator.onLine:!0}function o1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=xC()||VC()}get(){return a1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i,e){yr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Au(3e4,6e4);function br(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function wr(i,e,t,s,o={}){return L0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Su(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return kC()||(g.referrerPolicy="no-referrer"),P0.fetch()(U0(i,i.config.apiHost,t,d),g)})}async function L0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},l1),e);try{const o=new h1(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw V0(i,E,g);ai(i,E)}}catch(o){if(o instanceof Vi)throw o;ai(i,"network-request-failed",{message:String(o)})}}async function Ru(i,e,t,s,o={}){const u=await wr(i,e,t,s,o);return"mfaPendingCredential"in u&&ai(i,"multi-factor-auth-required",{_serverResponse:u}),u}function U0(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Wp(i.config,o):`${i.config.apiScheme}://${o}`}function c1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),u1.get())})}}function nh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ri(i,e,s);return o.customData._tokenResponse=t,o}function AE(i){return i!==void 0&&i.enterprise!==void 0}class f1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return c1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function d1(i,e){return wr(i,"GET","/v2/recaptchaConfig",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(i,e){return wr(i,"POST","/v1/accounts:delete",e)}async function j0(i,e){return wr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p1(i,e=!1){const t=At(i),s=await t.getIdToken(e),o=Zp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:su(zm(o.auth_time)),issuedAtTime:su(zm(o.iat)),expirationTime:su(zm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function zm(i){return Number(i)*1e3}function Zp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=b0(t);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function RE(i){const e=Zp(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Vi&&g1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function g1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){var e;const t=i.auth,s=await i.getIdToken(),o=await fu(i,j0(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?z0(u.providerUserInfo):[],d=v1(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new hp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function _1(i){const e=At(i);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function z0(i){return i.map(e=>{var{providerId:t}=e,s=Yp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(i,e){const t=await L0(i,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=U0(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",P0.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function T1(i,e){return wr(i,"POST","/v2/accounts:revokeToken",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=RE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await E1(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new So;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ur{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new y1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await fu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return p1(this,e)}reload(){return _1(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await fu(this,m1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(d=t.tenantId)!==null&&d!==void 0?d:void 0,z=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,J=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:se,isAnonymous:ae,providerData:fe,stsTokenManager:k}=t;be(X&&k,e,"internal-error");const C=So.fromJSON(this.name,k);be(typeof X=="string",e,"internal-error"),us(b,e.name),us(S,e.name),be(typeof se=="boolean",e,"internal-error"),be(typeof ae=="boolean",e,"internal-error"),us(O,e.name),us(M,e.name),us(q,e.name),us(z,e.name),us($,e.name),us(J,e.name);const R=new ur({uid:X,auth:e,email:S,emailVerified:se,displayName:b,isAnonymous:ae,photoURL:M,phoneNumber:O,tenantId:q,stsTokenManager:C,createdAt:$,lastLoginAt:J});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(x=>Object.assign({},x))),z&&(R._redirectEventId=z),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new So;o.updateFromServerResponse(t);const u=new ur({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?z0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new So;d.updateFromIdToken(s);const p=new ur({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function cr(i){yr(i instanceof Function,"Expected a class definition");let e=CE.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,CE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}B0.type="NONE";const IE=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i,e,t){return`firebase:${i}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ur._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(cr(IE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(IE);const h=mh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const b=ur._fromJSON(e,E);g!==u&&(d=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K0(e))return"Blackberry";if(Q0(e))return"Webos";if(F0(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if($0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function H0(i=an()){return/firefox\//i.test(i)}function F0(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(i=an()){return/crios\//i.test(i)}function G0(i=an()){return/iemobile/i.test(i)}function $0(i=an()){return/android/i.test(i)}function K0(i=an()){return/blackberry/i.test(i)}function Q0(i=an()){return/webos/i.test(i)}function Jp(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function b1(i=an()){var e;return Jp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w1(){return PC()&&document.documentMode===10}function Y0(i=an()){return Jp(i)||$0(i)||Q0(i)||K0(i)||/windows phone/i.test(i)||G0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i,e=[]){let t;switch(i){case"Browser":t=NE(an());break;case"Worker":t=`${NE(an())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(i,e={}){return wr(i,"GET","/v2/passwordPolicy",br(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=6;class C1{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:R1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new S1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await j0(this,{idToken:e}),s=await ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(fr(this));const t=e?At(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A1(this),t=new C1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await T1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&r1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ns(i){return At(i)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qC(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N1(i){ef=i}function W0(i){return ef.loadJS(i)}function D1(){return ef.recaptchaEnterpriseScript}function x1(){return ef.gapiScript}function O1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class k1{constructor(){this.enterprise=new M1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class M1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const V1="recaptcha-enterprise",Z0="NO_RECAPTCHA";class P1{constructor(e){this.type=V1,this.auth=Ns(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{d1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new f1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;AE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Z0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&AE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=D1();p.length!==0&&(p+=d),W0(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function xE(i,e,t,s=!1,o=!1){const u=new P1(i);let h;if(o)h=Z0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ih(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await xE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await xE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(i,e){const t=Jh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ya(u,e??{}))return o;ai(o,"already-initialized")}return t.initialize({options:e})}function U1(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(cr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function j1(i,e,t){const s=Ns(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=J0(e),{host:h,port:d}=z1(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ya(g,s.config.emulator)&&ya(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,B1()}function J0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function z1(i){const e=J0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:OE(h)}}}function OE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function B1(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function H1(i,e){return wr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(i,e){return Ru(i,"POST","/v1/accounts:signInWithPassword",br(i,e))}async function q1(i,e){return wr(i,"POST","/v1/accounts:sendOobCode",br(i,e))}async function G1(i,e){return q1(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",br(i,e))}async function K1(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends eg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new du(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new du(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,t,"signInWithPassword",F1);case"emailLink":return $1(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,s,"signUpPassword",H1);case"emailLink":return K1(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,e){return Ru(i,"POST","/v1/accounts:signInWithIdp",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="http://localhost";class va extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Yp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new va(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ro(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:Q1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X1(i){const e=Zl(Jl(i)).link,t=e?Zl(Jl(e)).deep_link_id:null,s=Zl(Jl(i)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||t||e||i}class tg{constructor(e){var t,s,o,u,h,d;const p=Zl(Jl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=Y1((o=p.mode)!==null&&o!==void 0?o:null);be(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=X1(e);try{return new tg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=tg.parseLink(t);return be(s,"argument-error"),du._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Cu{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fs.credential(t,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Cu{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Cu{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ms.credential(t,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(i,e){return Ru(i,"POST","/v1/accounts:signUp",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ur._fromIdTokenResponse(e,s,o),h=kE(s);return new Ea({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=kE(s);return new Ea({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function kE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Vi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nh(e,t,s,o)}}function tb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(i,u,e,s):u})}async function Z1(i,e,t=!1){const s=await fu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ea._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(i,e,t=!1){const{auth:s}=i;if(In(s.app))return Promise.reject(fr(s));const o="reauthenticate";try{const u=await fu(i,tb(s,o,e,i),t);be(u.idToken,s,"internal-error");const h=Zp(u.idToken);be(h,s,"internal-error");const{sub:d}=h;return be(i.uid===d,s,"user-mismatch"),Ea._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(i,e,t=!1){if(In(i.app))return Promise.reject(fr(i));const s="signIn",o=await tb(i,s,e),u=await Ea._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function eN(i,e){return nb(Ns(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(i){const e=Ns(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rb(i,e,t){const s=Ns(i);await Ih(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",G1)}async function tN(i,e,t){if(In(i.app))return Promise.reject(fr(i));const s=Ns(i),h=await Ih(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ib(i),p}),d=await Ea._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function nN(i,e,t){return In(i.app)?Promise.reject(fr(i)):eN(At(i),Uo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ib(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(i,e){return At(i).setPersistence(e)}function rN(i,e,t,s){return At(i).onIdTokenChanged(e,t,s)}function sN(i,e,t){return At(i).beforeAuthStateChanged(e,t)}function tf(i,e,t,s){return At(i).onAuthStateChanged(e,t,s)}function aN(i){return At(i).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1e3,lN=10;class ab extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);w1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ab.type="LOCAL";const ob=ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lb.type="SESSION";const ub=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await uN(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=ng("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function hN(i){Ci().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function fN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function mN(){return cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="firebaseLocalStorageDb",pN=1,xh="firebaseLocalStorage",fb="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(i,e){return i.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function gN(){const i=indexedDB.deleteDatabase(hb);return new Iu(i).toPromise()}function fp(){const i=indexedDB.open(hb,pN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(xh,{keyPath:fb})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await gN(),e(await fp()))})})}async function ME(i,e,t){const s=rf(i,!0).put({[fb]:e,value:t});return new Iu(s).toPromise()}async function yN(i,e){const t=rf(i,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function VE(i,e){const t=rf(i,!0).delete(e);return new Iu(t).toPromise()}const _N=800,vN=3;class db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>vN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(mN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fN(),!this.activeServiceWorker)return;this.sender=new cN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await ME(e,Dh,"1"),await VE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ME(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>yN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>VE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}db.type="LOCAL";const EN=db;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(i,e){return e?cr(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bN(i){return nb(i.auth,new ig(i),i.bypassAuthState)}function wN(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),J1(t,new ig(i),i.bypassAuthState)}async function SN(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),Z1(t,new ig(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return SN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:ai(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Au(2e3,1e4);class wo extends mb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AN.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="pendingRedirect",ph=new Map;class CN extends mb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await IN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IN(i,e){const t=xN(e),s=DN(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function NN(i,e){ph.set(i._key(),e)}function DN(i){return cr(i._redirectPersistence)}function xN(i){return mh(RN,i.config.apiKey,i.name)}async function ON(i,e,t=!1){if(In(i.app))return Promise.reject(fr(i));const s=Ns(i),o=TN(s,e),h=await new CN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=10*60*1e3;class MN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!pb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ri(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function pb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(i,e={}){return wr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UN=/^https?/;async function jN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await PN(i);for(const t of e)try{if(zN(t))return}catch{}ai(i,"unauthorized-domain")}function zN(i){const e=cp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!UN.test(t))return!1;if(LN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new Au(3e4,6e4);function LE(){const i=Ci().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function HN(i){return new Promise((e,t)=>{var s,o,u;function h(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),t(Ri(i,"network-request-failed"))},timeout:BN.get()})}if(!((o=(s=Ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ci().gapi)===null||u===void 0)&&u.load)h();else{const d=O1("iframefcb");return Ci()[d]=()=>{gapi.load?h():t(Ri(i,"network-request-failed"))},W0(`${x1()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function FN(i){return gh=gh||HN(i),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Au(5e3,15e3),GN="__/auth/iframe",$N="emulator/auth/iframe",KN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YN(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Wp(e,$N):`https://${i.config.authDomain}/${GN}`,s={apiKey:e.apiKey,appName:i.name,v:wa},o=QN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Su(s).slice(1)}`}async function XN(i){const e=await FN(i),t=Ci().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:YN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ri(i,"network-request-failed"),d=Ci().setTimeout(()=>{u(h)},qN.get());function p(){Ci().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZN=500,JN=600,eD="_blank",tD="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nD(i,e,t,s=ZN,o=JN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},WN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=an().toLowerCase();t&&(d=q0(g)?eD:t),H0(g)&&(e=e||tD,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[O,M])=>`${S}${O}=${M},`,"");if(b1(g)&&d!=="_self")return iD(e||"",d),new UE(null);const b=window.open(e||"",d,E);be(b,i,"popup-blocked");try{b.focus()}catch{}return new UE(b)}function iD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="__/auth/handler",sD="emulator/auth/handler",aD=encodeURIComponent("fac");async function jE(i,e,t,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:wa,eventId:o};if(e instanceof eb){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",FC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Cu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${aD}=${encodeURIComponent(p)}`:"";return`${oD(i)}?${Su(d).slice(1)}${g}`}function oD({config:i}){return i.emulator?Wp(i,sD):`https://${i.authDomain}/${rD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class lD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ub,this._completeRedirectFn=ON,this._overrideRedirectResult=NN}async _openPopup(e,t,s,o){var u;yr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await jE(e,t,s,cp(),o);return nD(e,h,ng())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await jE(e,t,s,cp(),o);return hN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await XN(e),s=new MN(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bm,{type:Bm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Bm];h!==void 0&&t(!!h),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y0()||F0()||Jp()}}const uD=lD;var zE="@firebase/auth",BE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fD(i){_a(new Ts("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X0(i)},g=new I1(s,o,u,p);return U1(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),_a(new Ts("auth-internal",e=>{const t=Ns(e.getProvider("auth").getImmediate());return(s=>new cD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(zE,BE,hD(i)),Ai(zE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=5*60,mD=R0("authIdTokenMaxAge")||dD;let HE=null;const pD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>mD)return;const o=t==null?void 0:t.token;HE!==o&&(HE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sf(i=Qp()){const e=Jh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=L1(i,{popupRedirectResolver:uD,persistence:[EN,ob,ub]}),s=R0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=pD(u.toString());sN(t,h,()=>h(t.currentUser)),rN(t,d=>h(d))}}const o=w0("auth");return o&&j1(t,`http://${o}`),t}function gD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}N1({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ri("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",gD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fD("Browser");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,gb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function R(){}R.prototype=C.prototype,k.D=C.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,P,j){for(var I=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)I[Ae-2]=arguments[Ae];return C.prototype[P].apply(x,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,C,R){R||(R=0);var x=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)x[P]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=k.g[0],R=k.g[1],P=k.g[2];var j=k.g[3],I=C+(j^R&(P^j))+x[0]+3614090360&4294967295;C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+x[1]+3905402710&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+x[2]+606105819&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+x[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(j^R&(P^j))+x[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+x[5]+1200080426&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+x[6]+2821735955&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+x[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(j^R&(P^j))+x[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+x[9]+2336552879&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+x[10]+4294925233&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+x[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(j^R&(P^j))+x[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=j+(P^C&(R^P))+x[13]+4254626195&4294967295,j=C+(I<<12&4294967295|I>>>20),I=P+(R^j&(C^R))+x[14]+2792965006&4294967295,P=j+(I<<17&4294967295|I>>>15),I=R+(C^P&(j^C))+x[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=C+(P^j&(R^P))+x[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+x[6]+3225465664&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+x[11]+643717713&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+x[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^j&(R^P))+x[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+x[10]+38016083&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+x[15]+3634488961&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+x[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^j&(R^P))+x[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+x[14]+3275163606&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+x[3]+4107603335&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+x[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(P^j&(R^P))+x[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=j+(R^P&(C^R))+x[2]+4243563512&4294967295,j=C+(I<<9&4294967295|I>>>23),I=P+(C^R&(j^C))+x[7]+1735328473&4294967295,P=j+(I<<14&4294967295|I>>>18),I=R+(j^C&(P^j))+x[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=C+(R^P^j)+x[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+x[8]+2272392833&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+x[11]+1839030562&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+x[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^j)+x[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+x[4]+1272893353&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+x[7]+4139469664&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+x[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^j)+x[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+x[0]+3936430074&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+x[3]+3572445317&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+x[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(R^P^j)+x[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=j+(C^R^P)+x[12]+3873151461&4294967295,j=C+(I<<11&4294967295|I>>>21),I=P+(j^C^R)+x[15]+530742520&4294967295,P=j+(I<<16&4294967295|I>>>16),I=R+(P^j^C)+x[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=C+(P^(R|~j))+x[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+x[7]+1126891415&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+x[14]+2878612391&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+x[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~j))+x[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+x[3]+2399980690&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+x[10]+4293915773&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+x[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~j))+x[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+x[15]+4264355552&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+x[6]+2734768916&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+x[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=C+(P^(R|~j))+x[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=j+(R^(C|~P))+x[11]+3174756917&4294967295,j=C+(I<<10&4294967295|I>>>22),I=P+(C^(j|~R))+x[2]+718787259&4294967295,P=j+(I<<15&4294967295|I>>>17),I=R+(j^(P|~C))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+j&4294967295}s.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var R=C-this.blockSize,x=this.B,P=this.h,j=0;j<C;){if(P==0)for(;j<=R;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<C;)if(x[P++]=k.charCodeAt(j++),P==this.blockSize){o(this,x),P=0;break}}else for(;j<C;)if(x[P++]=k[j++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=C},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var R=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=R&255,R/=256;for(this.u(k),k=Array(16),C=R=0;4>C;++C)for(var x=0;32>x;x+=8)k[R++]=this.g[C]>>>x&255;return k};function u(k,C){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=C(k)}function h(k,C){this.h=C;for(var R=[],x=!0,P=k.length-1;0<=P;P--){var j=k[P]|0;x&&j==C||(R[P]=j,x=!1)}this.g=R}var d={};function p(k){return-128<=k&&128>k?u(k,function(C){return new h([C|0],0>C?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return z(g(-k));for(var C=[],R=1,x=0;k>=R;x++)C[x]=k/R|0,R*=4294967296;return new h(C,0)}function E(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return z(E(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),x=b,P=0;P<k.length;P+=8){var j=Math.min(8,k.length-P),I=parseInt(k.substring(P,P+j),C);8>j?(j=g(Math.pow(C,j)),x=x.j(j).add(g(I))):(x=x.j(R),x=x.add(g(I)))}return x}var b=p(0),S=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-z(this).m();for(var k=0,C=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*C,C*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(q(this))return"-"+z(this).toString(k);for(var C=g(Math.pow(k,6)),R=this,x="";;){var P=se(R,C).g;R=$(R,P.j(C));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=P,M(R))return j+x;for(;6>j.length;)j="0"+j;x=j+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function q(k){return k.h==-1}i.l=function(k){return k=$(this,k),q(k)?-1:M(k)?0:1};function z(k){for(var C=k.g.length,R=[],x=0;x<C;x++)R[x]=~k.g[x];return new h(R,~k.h).add(S)}i.abs=function(){return q(this)?z(this):this},i.add=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0,P=0;P<=C;P++){var j=x+(this.i(P)&65535)+(k.i(P)&65535),I=(j>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);x=I>>>16,j&=65535,I&=65535,R[P]=I<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(k,C){return k.add(z(C))}i.j=function(k){if(M(this)||M(k))return b;if(q(this))return q(k)?z(this).j(z(k)):z(z(this).j(k));if(q(k))return z(this.j(z(k)));if(0>this.l(O)&&0>k.l(O))return g(this.m()*k.m());for(var C=this.g.length+k.g.length,R=[],x=0;x<2*C;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<k.g.length;P++){var j=this.i(x)>>>16,I=this.i(x)&65535,Ae=k.i(P)>>>16,ve=k.i(P)&65535;R[2*x+2*P]+=I*ve,J(R,2*x+2*P),R[2*x+2*P+1]+=j*ve,J(R,2*x+2*P+1),R[2*x+2*P+1]+=I*Ae,J(R,2*x+2*P+1),R[2*x+2*P+2]+=j*Ae,J(R,2*x+2*P+2)}for(x=0;x<C;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=C;x<2*C;x++)R[x]=0;return new h(R,0)};function J(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function X(k,C){this.g=k,this.h=C}function se(k,C){if(M(C))throw Error("division by zero");if(M(k))return new X(b,b);if(q(k))return C=se(z(k),C),new X(z(C.g),z(C.h));if(q(C))return C=se(k,z(C)),new X(z(C.g),C.h);if(30<k.g.length){if(q(k)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var R=S,x=C;0>=x.l(k);)R=ae(R),x=ae(x);var P=fe(R,1),j=fe(x,1);for(x=fe(x,2),R=fe(R,2);!M(x);){var I=j.add(x);0>=I.l(k)&&(P=P.add(R),j=I),x=fe(x,1),R=fe(R,1)}return C=$(k,P.j(C)),new X(P,C)}for(P=b;0<=k.l(C);){for(R=Math.max(1,Math.floor(k.m()/C.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),j=g(R),I=j.j(C);q(I)||0<I.l(k);)R-=x,j=g(R),I=j.j(C);M(j)&&(j=S),P=P.add(j),k=$(k,I)}return new X(P,k)}i.A=function(k){return se(this,k).h},i.and=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},i.or=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},i.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function ae(k){for(var C=k.g.length+1,R=[],x=0;x<C;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function fe(k,C){var R=C>>5;C%=32;for(var x=k.g.length-R,P=[],j=0;j<x;j++)P[j]=0<C?k.i(j+R)>>>C|k.i(j+R+1)<<32-C:k.i(j+R);return new h(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,vs=h}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yb,eu,_b,yh,dp,vb,Eb,Tb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in _))break e;_=_[H]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,H={next:function(){if(!w&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,H,K){for(var re=Array(arguments.length-2),He=2;He<arguments.length;He++)re[He-2]=arguments[He];return y.prototype[H].apply(w,re)}}function q(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const H=c.length||0,K=w.length||0;c.length=H+K;for(let re=0;re<K;re++)c[H+re]=w[re]}else c.push(w)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function fe(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(_ in w)c[_]=w[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function I(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,_){const w=ve.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ve=new $(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ue=!1,Be=new Ae,V=()=>{const c=d.Promise.resolve(void 0);ce=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){j(_)}var y=ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ue=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Se(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{se(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}M(Se,oe);var Re={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Ze(c,y,_,w,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=H,this.key=++Ve,this.da=this.fa=!1}function Pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Et(c){this.src=c,this.g={},this.h=0}Et.prototype.add=function(c,y,_,w,H){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var re=Vt(c,y,w,H);return-1<re?(y=c[re],_||(y.fa=!1)):(y=new Ze(y,this.src,K,!!w,H),y.fa=_,c.push(y)),y};function Wt(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],H=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=H)&&Array.prototype.splice.call(w,H,1),K&&(Pe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Vt(c,y,_,w){for(var H=0;H<c.length;++H){var K=c[H];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return H}return-1}var on="closure_lm_"+(1e6*Math.random()|0),$e={};function mn(c,y,_,w,H){if(Array.isArray(y)){for(var K=0;K<y.length;K++)mn(c,y[K],_,w,H);return null}return _=Ra(_),c&&c[st]?c.K(y,_,g(w)?!!w.capture:!1,H):Xn(c,y,_,!1,w,H)}function Xn(c,y,_,w,H,K){if(!y)throw Error("Invalid event type");var re=g(H)?!!H.capture:!!H,He=Os(c);if(He||(c[on]=He=new Et(c)),_=He.add(y,_,w,re,K),_.proxy)return _;if(w=Ar(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)le||(H=re),H===void 0&&(H=!1),c.addEventListener(y.toString(),w,H);else if(c.attachEvent)c.attachEvent(Cr(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ar(){function c(_){return y.call(c.src,c.listener,_)}const y=qo;return c}function Rr(c,y,_,w,H){if(Array.isArray(y))for(var K=0;K<y.length;K++)Rr(c,y[K],_,w,H);else w=g(w)?!!w.capture:!!w,_=Ra(_),c&&c[st]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=Vt(K,_,w,H),-1<_&&(Pe(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Os(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Vt(y,_,w,H)),(_=-1<c?y[c]:null)&&Li(_))}function Li(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[st])Wt(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Cr(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Os(y))?(Wt(_,c),_.h==0&&(_.src=null,y[on]=null)):Pe(c)}}}function Cr(c){return c in $e?$e[c]:$e[c]="on"+c}function qo(c,y){if(c.da)c=!0;else{y=new Se(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Li(c),c=_.call(w,y)}return c}function Os(c){return c=c[on],c instanceof Et?c:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ra(c){return typeof c=="function"?c:(c[Ft]||(c[Ft]=function(y){return c.handleEvent(y)}),c[Ft])}function Ee(){de.call(this),this.i=new Et(this),this.M=this,this.F=null}M(Ee,de),Ee.prototype[st]=!0,Ee.prototype.removeEventListener=function(c,y,_,w){Rr(this,c,y,_,w)};function at(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var H=y;y=new oe(w,c),x(y,H)}if(H=!0,_)for(var K=_.length-1;0<=K;K--){var re=y.g=_[K];H=Dn(re,w,!0,y)&&H}if(re=y.g=c,H=Dn(re,w,!0,y)&&H,H=Dn(re,w,!1,y)&&H,_)for(K=0;K<_.length;K++)re=y.g=_[K],H=Dn(re,w,!1,y)&&H}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)Pe(_[w]);delete c.g[y],c.h--}}this.F=null},Ee.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},Ee.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Dn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,K=0;K<y.length;++K){var re=y[K];if(re&&!re.da&&re.capture==_){var He=re.listener,Ct=re.ha||re.src;re.fa&&Wt(c.i,re),H=He.call(Ct,w)!==!1&&H}}return H&&!w.defaultPrevented}function Vu(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Go(c){c.g=Vu(()=>{c.g=null,c.i&&(c.i=!1,Go(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Df extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){de.call(this),this.h=c,this.g={}}M(ks,de);var Ir=[];function Zt(c){fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&Li(y)},c),c.g={}}ks.prototype.N=function(){ks.aa.N.call(this),Zt(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $o=d.JSON.stringify,li=d.JSON.parse,ln=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ko(){}Ko.prototype.h=null;function Pu(c){return c.h||(c.h=c.i())}function Lu(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){oe.call(this,"d")}M(Nr,oe);function Wn(){oe.call(this,"c")}M(Wn,oe);var xn={},Dr=null;function Ca(){return Dr=Dr||new Ee}xn.La="serverreachability";function Qo(c){oe.call(this,xn.La,c)}M(Qo,oe);function xr(c){const y=Ca();at(y,new Qo(y))}xn.STAT_EVENT="statevent";function Ia(c,y){oe.call(this,xn.STAT_EVENT,c),this.stat=y}M(Ia,oe);function yt(c){const y=Ca();at(y,new Ia(y,c))}xn.Ma="timingevent";function Uu(c,y){oe.call(this,xn.Ma,c),this.size=y}M(Uu,oe);function Or(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function kr(){this.g=!0}kr.prototype.xa=function(){this.g=!1};function ju(c,y,_,w,H,K){c.info(function(){if(c.g)if(K)for(var re="",He=K.split("&"),Ct=0;Ct<He.length;Ct++){var Fe=He[Ct].split("=");if(1<Fe.length){var Ut=Fe[0];Fe=Fe[1];var It=Ut.split("_");re=2<=It.length&&It[1]=="type"?re+(Ut+"="+Fe+"&"):re+(Ut+"=redacted&")}}else re=null;else re=K;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+y+`
`+_+`
`+re})}function zu(c,y,_,w,H,K,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+y+`
`+_+`
`+K+" "+re})}function Mr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pt(c,_)+(w?" "+w:"")})}function ci(c,y){c.info(function(){return"TIMEOUT: "+y})}kr.prototype.info=function(){};function Pt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var re=1;re<H.length;re++)H[re]=""}}}}return $o(_)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ms;function Na(){}M(Na,Ko),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Ms=new Na;function hi(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yo}function Yo(){this.i=null,this.g="",this.h=!1}var Vr={},Vs={};function Zn(c,y,_){c.L=1,c.v=Us(dt(y)),c.m=_,c.P=!0,ji(c,null)}function ji(c,y){c.F=Date.now(),ut(c),c.A=dt(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Hi(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Yo,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Df(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ir[0]=H.toString()),H=Ir);for(var K=0;K<H.length;K++){var re=mn(_,H[K],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xr(),ju(c.i,c.u,c.A,c.l,c.R,c.m)}hi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},hi.prototype.Y=function(c){try{if(c==this.g)e:{const It=Pn(this.g);var y=this.g.Ba();const $i=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||It!=4||y==7||(y==8||0>=$i?xr(3):xr(2)),Da(this);var _=this.g.Z();this.X=_;t:if(Pr(this)){var w=$u(this.g);c="";var H=w.length,K=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Tn(this);var re="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==H-1)});w.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,zu(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ct=this.g;if((He=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(He)){var Fe=He;break t}}Fe=null}if(_=Fe)Mr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,_);else{this.o=!1,this.s=3,yt(12),pn(this),Tn(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<re.length;)if(qt=Lr(this,re),qt==Vs){It==4&&(this.s=4,yt(14),_=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Vr){this.s=4,yt(15),Mr(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Mr(this.i,this.l,qt,null),bn(this,qt);if(Pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||re.length!=0||this.h.h||(this.s=1,yt(16),_=!1),this.o=this.o&&_,!_)Mr(this.i,this.l,re,"[Invalid Chunked Response]"),pn(this),Tn(this);else if(0<re.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Gs(Ut),Ut.M=!0,yt(11))}}else Mr(this.i,this.l,re,null),bn(this,re);It==4&&pn(this),this.o&&!this.J&&(It==4?Wu(this.j,this):(this.o=!1,ut(this)))}else Pf(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),pn(this),Tn(this)}}}catch{}finally{}};function Pr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lr(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Vs:(_=Number(y.substring(_,w)),isNaN(_)?Vr:(w+=1,w+_>y.length?Vs:(y=y.slice(w,w+_),c.C=w+_,y)))}hi.prototype.cancel=function(){this.J=!0,pn(this)};function ut(c){c.S=Date.now()+c.I,Xo(c,c.I)}function Xo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Or(S(c.ba,c),y)}function Da(c){c.B&&(d.clearTimeout(c.B),c.B=null)}hi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ci(this.i,this.A),this.L!=2&&(xr(),yt(17)),pn(this),this.s=2,Tn(this)):Xo(this,this.S-c)};function Tn(c){c.j.G==0||c.J||Wu(c.j,c)}function pn(c){Da(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Zt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function bn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ur(_.h,c))){if(!c.K&&Ur(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)za(_),Ua(_);else break e;ol(_),yt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Or(S(_.Za,_),6e3));if(1>=Bu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gi(_,11)}else if((c.K||_.g==c)&&za(_),!J(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Fe=H[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const Ut=Fe[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const It=Fe[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const $i=Fe[5];$i!=null&&typeof $i=="number"&&0<$i&&(w=1.5*$i,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const qt=c.g;if(qt){const _i=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var K=w.h;K.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(jr(K,K.h),K.h=null))}if(w.D){const ul=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(w.ya=ul,Ke(w.I,w.D,ul))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var re=c;if(w.qa=Ju(w,w.J?w.ia:null,w.W),re.K){On(w.h,re);var He=re,Ct=w.L;Ct&&(He.I=Ct),He.B&&(Da(He),ut(He)),w.g=re}else Yu(w);0<_.i.length&&ja(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Gi(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Gi(_,7):sl(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}xr(4)}catch{}}var xf=class{constructor(c,y){this.g=c,this.map=y}};function Wo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bu(c){return c.h?1:c.g?c.g.size:0}function Ur(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jr(c,y){c.g?c.g.add(y):c.h=y}function On(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function un(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return q(c.i)}function Hu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Of(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Ps(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Of(c),w=Hu(c),H=w.length,K=0;K<H;K++)y.call(void 0,w[K],_&&_[K],c)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),H=null;if(0<=w){var K=c[_].substring(0,w);H=c[_].substring(w+1)}else K=c[_];y(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function zi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zi){this.h=c.h,zr(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.s),this.l=c.l;var y=c.i,_=new fi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Oa(this,_),this.m=c.m}else c&&(y=String(c).match(Jo))?(this.h=!1,zr(this,y[1]||"",!0),this.o=Br(y[2]||""),this.g=Br(y[3]||"",!0),Ls(this,y[4]),this.l=Br(y[5]||"",!0),Oa(this,y[6]||"",!0),this.m=Br(y[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}zi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(kn(y,el,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(kn(y,el,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(kn(_,_.charAt(0)=="/"?tl:Fu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",kn(_,Vf)),c.join("")};function dt(c){return new zi(c)}function zr(c,y,_){c.j=_?Br(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oa(c,y,_){y instanceof fi?(c.i=y,nl(c.i,c.h)):(_||(y=kn(y,Mf)),c.i=new fi(y,c.h))}function Ke(c,y,_){c.i.set(y,_)}function Us(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Br(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,kf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,Fu=/[#\?:]/g,tl=/[#\?]/g,Mf=/[#\?@]/g,Vf=/#/g;function fi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=fi.prototype,i.add=function(c,y){Mn(this),this.i=null,c=Fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ka(c,y){Mn(c),y=Fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bi(c,y){return Mn(c),y=Fi(c,y),c.g.has(y)}i.forEach=function(c,y){Mn(this),this.g.forEach(function(_,w){_.forEach(function(H){c.call(y,H,w,this)},this)},this)},i.na=function(){Mn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const H=c[w];for(let K=0;K<H.length;K++)_.push(y[w])}return _},i.V=function(c){Mn(this);let y=[];if(typeof c=="string")Bi(this,c)&&(y=y.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Mn(this),this.i=null,c=Fi(this,c),Bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Hi(c,y,_){ka(c,y),0<_.length&&(c.i=null,c.g.set(Fi(c,y),q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const K=encodeURIComponent(String(w)),re=this.V(w);for(w=0;w<re.length;w++){var H=K;re[w]!==""&&(H+="="+encodeURIComponent(String(re[w]))),c.push(H)}}return this.i=c.join("&")};function Fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function nl(c,y){y&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(_,w){var H=w.toLowerCase();w!=H&&(ka(this,w),Hi(this,H,_))},c)),c.j=y}function qu(c,y){const _=new kr;if(d.Image){const w=new Image;w.onload=O(Vn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=O(Vn,_,"TestLoadImage: error",!1,y,w),w.onabort=O(Vn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=O(Vn,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function js(c,y){const _=new kr,w=new AbortController,H=setTimeout(()=>{w.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(H),K.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Vn(_,"TestPingServer: error",!1,y)})}function Vn(c,y,_,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(_)}catch{}}function zs(){this.g=new ln}function di(c,y,_){const w=_||"";try{Ps(c,function(H,K){let re=H;g(H)&&(re=$o(H)),y.push(w+K+"="+encodeURIComponent(re))})}catch(H){throw y.push(w+"type="+encodeURIComponent("_badmap")),H}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Hr,Ko),Hr.prototype.g=function(){return new qi(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function qi(c,y){Ee.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(qi,Ee),i=qi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mi(this):pi(this),this.readyState==3&&il(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},i.Qa=function(c){this.g&&(this.response=c,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rl(c){let y="";return fe(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Lt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=rl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,y,_))}function Xe(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Xe,Ee);var Ma=/^https?$/i,Bs=["POST","PUT"];i=Xe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ms.g(),this.v=this.o?Pu(this.o):Pu(Ms),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Gu(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)_.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Bs,y,void 0))||w||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of _)this.g.setRequestHeader(K,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Gu(this,K)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Va(c),gi(c)}function Va(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},i.bb=function(){Pa(this)};function Pa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Vu(c.Ea,0,c);else if(at(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=re===0){var H=String(c.D).match(Jo)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),w=!Ma.test(H?H.toLowerCase():"")}_=w}if(_)at(c,"complete"),at(c,"success");else{c.m=6;try{var K=2<Pn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Va(c)}}finally{gi(c)}}}}function gi(c,y){if(c.g){Hs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||at(c,"ready");try{_.onreadystatechange=w}catch{}}}function Hs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),li(y)}};function $u(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pf(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(J(c[w]))continue;var _=P(c[w]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[H]||[];y[H]=K,K.push(_)}k(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function La(c){this.Aa=0,this.i=[],this.j=new kr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,c),this.cb=Fs("retryDelaySeedMs",1e4,c),this.Wa=Fs("forwardChannelMaxRetries",2,c),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wo(c&&c.concurrentRequestLimit),this.Da=new zs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=La.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){yt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Ju(this,null,this.W),ja(this)};function sl(c){if(Ku(c),c.G==3){var y=c.U++,_=dt(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",y),Ke(_,"TYPE","terminate"),qs(c,_),y=new hi(c,c.j,y),y.L=2,y.v=Us(dt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ut(y)}Zu(c)}function Ua(c){c.g&&(Gs(c),c.g.cancel(),c.g=null)}function Ku(c){Ua(c),c.u&&(d.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ja(c){if(!Zo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||V(),ue||(ce(),ue=!0),Be.add(y,c),c.B=0}}function Lf(c,y){return Bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Or(S(c.Ga,c,y),ll(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new hi(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Qu(this,H,y),_=dt(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),qs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(rl(K)))+"&"+y:this.m&&Lt(_,this.m,K)),jr(this.h,H),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",y),Ke(_,"SID","null"),H.T=!0,Zn(H,_,null)):Zn(H,_,y),this.G=2}}else this.G==3&&(c?al(this,c):this.i.length==0||Zo(this.h)||al(this))};function al(c,y){var _;y?_=y.l:_=c.U++;const w=dt(c.I);Ke(w,"SID",c.K),Ke(w,"RID",_),Ke(w,"AID",c.T),qs(c,w),c.m&&c.o&&Lt(w,c.m,c.o),_=new hi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jr(c.h,_),Zn(_,w,y)}function qs(c,y){c.H&&fe(c.H,function(_,w){Ke(y,w,_)}),c.l&&Ps({},function(_,w){Ke(y,w,_)})}function Qu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;e:{var H=c.i;let K=-1;for(;;){const re=["count="+_];K==-1?0<_?(K=H[0].g,re.push("ofs="+K)):K=0:re.push("ofs="+K);let He=!0;for(let Ct=0;Ct<_;Ct++){let Fe=H[Ct].g;const Ut=H[Ct].map;if(Fe-=K,0>Fe)K=Math.max(0,H[Ct].g-100),He=!1;else try{di(Ut,re,"req"+Fe+"_")}catch{w&&w(Ut)}}if(He){w=re.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||V(),ue||(ce(),ue=!0),Be.add(y,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Or(S(c.Fa,c),ll(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Or(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ua(this),Xu(this))};function Gs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new hi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),qs(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Us(dt(y)),_.m=null,_.P=!0,ji(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ua(this),ol(this),yt(19))};function za(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Wu(c,y){var _=null;if(c.g==y){za(c),Gs(c),c.g=null;var w=2}else if(Ur(c.h,y))_=y.D,On(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;w=Ca(),at(w,new Uu(w,_)),ja(c)}else Yu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(w==1&&Lf(c,y)||w==2&&ol(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function ll(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Gi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const H=!w;w=new zi(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zr(w,"https"),Us(w),H?qu(w.toString(),_):js(w.toString(),_)}else yt(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Ku(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=un(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,_){var w=_ instanceof zi?dt(_):new zi(_);if(w.g!="")y&&(w.g=y+"."+w.g),Ls(w,w.s);else{var H=d.location;w=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var K=new zi(null);w&&zr(K,w),y&&(K.g=y),H&&Ls(K,H),_&&(K.l=_),w=K}return _=c.D,y=c.ya,_&&y&&Ke(w,_,y),Ke(w,"VER",c.la),qs(c,w),w}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new Hr({eb:_})):new Xe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}i=tc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ba(){}Ba.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){Ee.call(this),this.g=new La(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yi(this)}M(cn,Ee),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){sl(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=$o(c),c=_);y.i.push(new xf(y.Ya++,c)),y.G==3&&ja(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,cn.aa.N.call(this)};function nc(c){Nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(nc,Nr);function ic(){Wn.call(this),this.status=1}M(ic,Wn);function yi(c){this.g=c}M(yi,tc),yi.prototype.ua=function(){at(this.g,"a")},yi.prototype.ta=function(c){at(this.g,new nc(c))},yi.prototype.sa=function(c){at(this.g,new ic)},yi.prototype.ra=function(){at(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Tb=function(){return new Ba},Eb=function(){return Ca()},vb=xn,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,yh=Rt,Ui.COMPLETE="complete",_b=Ui,Lu.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,eu=Lu,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,yb=Xe}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore",GE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new $p("@firebase/firestore");function _o(){return Ta.logLevel}function he(i,...e){if(Ta.logLevel<=Le.DEBUG){const t=e.map(rg);Ta.debug(`Firestore (${jo}): ${i}`,...t)}}function _r(i,...e){if(Ta.logLevel<=Le.ERROR){const t=e.map(rg);Ta.error(`Firestore (${jo}): ${i}`,...t)}}function Io(i,...e){if(Ta.logLevel<=Le.WARN){const t=e.map(rg);Ta.warn(`Firestore (${jo}): ${i}`,...t)}}function rg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+i;throw _r(e),new Error(e)}function We(i,e){i||we()}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class _D{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new dr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new dr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new bb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new rn(e)}}class ED{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new ED(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,In(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $E(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new $E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=wD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function No(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,QE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*QE);return new Ot(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<KE)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ot(0,0))}static max(){return new Ce(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__name__";class Si{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Si.isNumericId(e),o=Si.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class ot extends Si{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Si{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YE}static keyField(){return new Yt([YE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function AD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Ot(t+1,0):new Ot(t,s));return new bs(o,_e.empty(),e)}function RD(i){return new bs(i.readTime,i.key,mu)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(Ce.min(),_e.empty(),mu)}static max(){return new bs(Ce.max(),_e.empty(),mu)}}function CD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ND{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==ID)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function DD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}af.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function of(i){return i==null}function Oh(i){return i===0&&1/i==-1/0}function xD(i){return typeof i=="number"&&Number.isInteger(i)&&!Oh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="";function OD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=XE(e)),e=kD(i.get(t),e);return XE(e)}function kD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Sb:t+="";break;default:t+=u}}return t}function XE(i){return i+Sb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ds(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ab(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Qt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new kt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Rb("Invalid base64 string: "+u):u}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const MD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if(We(!!i),typeof i=="string"){let e=0;const t=MD.exec(i);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ss(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="server_timestamp",Ib="__type__",Nb="__previous_value__",Db="__local_write_time__";function ag(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ib])===null||t===void 0?void 0:t.stringValue)===Cb}function lf(i){const e=i.mapValue.fields[Nb];return ag(e)?lf(e):e}function pu(i){const e=ws(i.mapValue.fields[Db].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,t,s,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const kh="(default)";class gu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__type__",PD="__max__",sh={mapValue:{}},Ob="__vector__",Mh="value";function As(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:UD(i)?9007199254740991:LD(i)?10:11:we()}function Di(i,e){if(i===e)return!0;const t=As(i);if(t!==As(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ws(o.timestampValue),d=ws(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),d=vt(u.doubleValue);return h===d?Oh(h)===Oh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(WE(h)!==WE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Di(h[p],d[p])))return!1;return!0}(i,e);default:return we()}}function yu(i,e){return(i.values||[]).find(t=>Di(t,e))!==void 0}function Do(i,e){if(i===e)return 0;const t=As(i),s=As(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return JE(i.timestampValue,e.timestampValue);case 4:return JE(pu(i),pu(e));case 5:return ze(i.stringValue,e.stringValue);case 6:return function(u,h){const d=Ss(u),p=Ss(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=ze(d[g],p[g]);if(E!==0)return E}return ze(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=ze(vt(u.latitude),vt(h.latitude));return d!==0?d:ze(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return eT(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const b=u.fields||{},S=h.fields||{},O=(d=b[Mh])===null||d===void 0?void 0:d.arrayValue,M=(p=S[Mh])===null||p===void 0?void 0:p.arrayValue,q=ze(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:eT(O,M)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=ze(p[b],E[b]);if(S!==0)return S;const O=Do(d[p[b]],g[E[b]]);if(O!==0)return O}return ze(p.length,E.length)}(i.mapValue,e.mapValue);default:throw we()}}function JE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const t=ws(i),s=ws(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function eT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Do(t[o],s[o]);if(u)return u}return ze(t.length,s.length)}function xo(i){return mp(i)}function mp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ws(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ss(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=mp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${mp(t.fields[h])}`;return o+"}"}(i.mapValue):we()}function _h(i){switch(As(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(i);return e?16+_h(e):16;case 5:return 2*i.stringValue.length;case 6:return Ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+_h(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ds(s.fields,(u,h)=>{o+=u.length+_h(h)}),o}(i.mapValue);default:throw we()}}function pp(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function tT(i){return!!i&&"nullValue"in i}function nT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function LD(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[xb])===null||t===void 0?void 0:t.stringValue)===Ob}function au(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ds(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=au(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(i.arrayValue.values[t]);return e}return Object.assign({},i)}function UD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===PD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=au(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ds(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new vn(au(this.value))}}function kb(i){const e=[];return Ds(i.fields,(t,s)=>{const o=new Yt([t]);if(vh(s)){const u=kb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Ce.min(),Ce.min(),Ce.min(),vn.empty(),0)}static newFoundDocument(e,t,s,o){return new sn(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new sn(e,2,t,Ce.min(),Ce.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ce.min(),Ce.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function iT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=Do(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function rT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Di(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function jD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{}class xt extends Mb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new BD(e,t,s):t==="array-contains"?new qD(e,s):t==="in"?new GD(e,s):t==="not-in"?new $D(e,s):t==="array-contains-any"?new KD(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new HD(e,s):new FD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Do(t,this.value)):t!==null&&As(this.value)===As(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends Mb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new xi(e,t)}matches(e){return Vb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Vb(i){return i.op==="and"}function Pb(i){return zD(i)&&Vb(i)}function zD(i){for(const e of i.filters)if(e instanceof xi)return!1;return!0}function gp(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(Pb(i))return i.filters.map(e=>gp(e)).join(",");{const e=i.filters.map(t=>gp(t)).join(",");return`${i.op}(${e})`}}function Lb(i,e){return i instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(i,e):i instanceof xi?function(s,o){return o instanceof xi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&Lb(h,o.filters[d]),!0):!1}(i,e):void we()}function Ub(i){return i instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`}(i):i instanceof xi?function(t){return t.op.toString()+" {"+t.getFilters().map(Ub).join(" ,")+"}"}(i):"Filter"}class BD extends xt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class HD extends xt{constructor(e,t){super(e,"in",t),this.keys=jb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FD extends xt{constructor(e,t){super(e,"not-in",t),this.keys=jb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class qD extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&yu(t.arrayValue,this.value)}}class GD extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yu(this.value.arrayValue,t)}}class $D extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yu(this.value.arrayValue,t)}}class KD extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function sT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new QD(i,e,t,s,o,u,h)}function lg(i){const e=Ne(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>gp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>xo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>xo(s)).join(",")),e.le=t}return e.le}function ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!jD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Lb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!rT(i.startAt,e.startAt)&&rT(i.endAt,e.endAt)}function yp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function YD(i,e,t,s,o,u,h,d){return new uf(i,e,t,s,o,u,h,d)}function cf(i){return new uf(i)}function aT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XD(i){return i.collectionGroup!==null}function ou(i){const e=Ne(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new kt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ph(u,s))}),t.has(Yt.keyField().canonicalString())||e.he.push(new Ph(Yt.keyField(),s))}return e.he}function Ii(i){const e=Ne(i);return e.Pe||(e.Pe=WD(e,ou(i))),e.Pe}function WD(i,e){if(i.limitType==="F")return sT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)});const t=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return sT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function _p(i,e,t){return new uf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function hf(i,e){return ug(Ii(i),Ii(e))&&i.limitType===e.limitType}function zb(i){return`${lg(Ii(i))}|lt:${i.limitType}`}function vo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Ub(o)).join(", ")}]`),of(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>xo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>xo(o)).join(",")),`Target(${s})`}(Ii(i))}; limitType=${i.limitType})`}function ff(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=iT(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,ou(s),o)||s.endAt&&!function(h,d,p){const g=iT(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,ou(s),o))}(i,e)}function ZD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Bb(i){return(e,t)=>{let s=!1;for(const o of ou(i)){const u=JD(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function JD(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Do(p,g):we()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new ft(_e.comparator);function vr(){return ex}const Hb=new ft(_e.comparator);function tu(...i){let e=Hb;for(const t of i)e=e.insert(t.key,t);return e}function Fb(i){let e=Hb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function pa(){return lu()}function qb(){return lu()}function lu(){return new Sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const tx=new ft(_e.comparator),nx=new kt(_e.comparator);function Ue(...i){let e=nx;for(const t of i)e=e.add(t);return e}const ix=new kt(ze);function rx(){return ix}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function Gb(i){return{integerValue:""+i}}function sx(i,e){return xD(e)?Gb(e):cg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function ax(i,e,t){return i instanceof _u?function(o,u){const h={fields:{[Ib]:{stringValue:Cb},[Db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=lf(u)),u&&(h.fields[Nb]=u),{mapValue:h}}(t,e):i instanceof vu?Kb(i,e):i instanceof Eu?Qb(i,e):function(o,u){const h=$b(o,u),d=oT(h)+oT(o.Ie);return pp(h)&&pp(o.Ie)?Gb(d):cg(o.serializer,d)}(i,e)}function ox(i,e,t){return i instanceof vu?Kb(i,e):i instanceof Eu?Qb(i,e):t}function $b(i,e){return i instanceof Lh?function(s){return pp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _u extends df{}class vu extends df{constructor(e){super(),this.elements=e}}function Kb(i,e){const t=Yb(e);for(const s of i.elements)t.some(o=>Di(o,s))||t.push(s);return{arrayValue:{values:t}}}class Eu extends df{constructor(e){super(),this.elements=e}}function Qb(i,e){let t=Yb(e);for(const s of i.elements)t=t.filter(o=>!Di(o,s));return{arrayValue:{values:t}}}class Lh extends df{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function oT(i){return vt(i.integerValue||i.doubleValue)}function Yb(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.field=e,this.transform=t}}function ux(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof vu&&o instanceof vu||s instanceof Eu&&o instanceof Eu?No(s.elements,o.elements,Di):s instanceof Lh&&o instanceof Lh?Di(s.Ie,o.Ie):s instanceof _u&&o instanceof _u}(i.transform,e.transform)}class cx{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class mf{}function Xb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hg(i.key,Yn.none()):new Nu(i.key,i.data,Yn.none());{const t=i.data,s=vn.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new xs(i.key,s,new Nn(o.toArray()),Yn.none())}}function hx(i,e,t){i instanceof Nu?function(o,u,h){const d=o.value.clone(),p=uT(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof xs?function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=uT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Wb(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function uu(i,e,t,s){return i instanceof Nu?function(u,h,d,p){if(!Eh(u.precondition,h))return d;const g=u.value.clone(),E=cT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof xs?function(u,h,d,p){if(!Eh(u.precondition,h))return d;const g=cT(u.fieldTransforms,p,h),E=h.data;return E.setAll(Wb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,h,d){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function fx(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=$b(s.transform,o||null);u!=null&&(t===null&&(t=vn.empty()),t.set(s.field,u))}return t||null}function lT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,(u,h)=>ux(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends mf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends mf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Wb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function uT(i,e,t){const s=new Map;We(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,ox(h,d,t[o]))}return s}function cT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,ax(u,h,e))}return s}class hg extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dx extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=qb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=Xb(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,s)=>lT(t,s))&&No(this.baseMutations,e.baseMutations,(t,s)=>lT(t,s))}}class fg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length);let o=function(){return tx}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ge;function yx(i){switch(i){case ie.OK:return we();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we()}}function Zb(i){if(i===void 0)return _r("GRPC error has no .code"),ie.UNKNOWN;switch(i){case St.OK:return ie.OK;case St.CANCELLED:return ie.CANCELLED;case St.UNKNOWN:return ie.UNKNOWN;case St.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case St.INTERNAL:return ie.INTERNAL;case St.UNAVAILABLE:return ie.UNAVAILABLE;case St.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case St.NOT_FOUND:return ie.NOT_FOUND;case St.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case St.ABORTED:return ie.ABORTED;case St.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case St.DATA_LOSS:return ie.DATA_LOSS;default:return we()}}(Ge=St||(St={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new vs([4294967295,4294967295],0);function hT(i){const e=_x().encode(i),t=new gb;return t.update(e),new Uint8Array(t.digest())}function fT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vs([t,s],0),new vs([o,u],0)]}class dg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=vs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(vs.fromNumber(s)));return o.compare(vx)===1&&(o=new vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=hT(e),[s,o]=fT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new dg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=hT(e),[s,o]=fT(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pf(Ce.min(),o,new ft(ze),vr(),Ue())}}class Du{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Du(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Jb{constructor(e,t){this.targetId=e,this.ge=t}}class ew{constructor(e,t,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class dT{constructor(){this.pe=0,this.ye=mT(),this.we=Xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Du(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=mT()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Ex{constructor(e){this.ke=e,this.qe=new Map,this.Qe=vr(),this.$e=ah(),this.Ke=ah(),this.Ue=new ft(ze)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(yp(u))if(s===0){const h=new _e(u.path);this.ze(t,h,sn.newNoDocument(h,Ce.min()))}else We(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=Ss(s).toUint8Array()}catch(p){if(p instanceof Rb)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new dg(h,o,u)}catch(p){return Io(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&yp(d.target)){const p=new _e(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,sn.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Ue();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new pf(e,t,this.Ue,this.Qe,s);return this.Qe=vr(),this.$e=ah(),this.Ke=ah(),this.Ue=new ft(ze),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new dT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new kt(ze),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new kt(ze),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ah(){return new ft(_e.comparator)}function mT(){return new ft(_e.comparator)}const Tx={asc:"ASCENDING",desc:"DESCENDING"},bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wx={and:"AND",or:"OR"};class Sx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(i,e){return i.useProto3Json||of(e)?e:{value:e}}function Uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ax(i,e){return Uh(i,e.toTimestamp())}function Ni(i){return We(!!i),Ce.fromTimestamp(function(t){const s=ws(t);return new Ot(s.seconds,s.nanos)}(i))}function mg(i,e){return Ep(i,e).canonicalString()}function Ep(i,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function nw(i){const e=ot.fromString(i);return We(ow(e)),e}function Tp(i,e){return mg(i.databaseId,e.path)}function Hm(i,e){const t=nw(e);if(t.get(1)!==i.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(rw(t))}function iw(i,e){return mg(i.databaseId,e)}function Rx(i){const e=nw(i);return e.length===4?ot.emptyPath():rw(e)}function bp(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function rw(i){return We(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function pT(i,e,t){return{name:Tp(i,e),fields:t.value.mapValue.fields}}function Cx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(We(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ie.UNKNOWN:Zb(g.code);return new ge(E,g.message||"")}(h);t=new ew(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(i,s.document.name),u=Ni(s.document.updateTime),h=s.document.createTime?Ni(s.document.createTime):Ce.min(),d=new vn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(i,s.document),u=s.readTime?Ni(s.readTime):Ce.min(),h=sn.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Th([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(i,s.document),u=s.removedTargetIds||[];t=new Th([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new gx(o,u),d=s.targetId;t=new Jb(d,h)}}return t}function Ix(i,e){let t;if(e instanceof Nu)t={update:pT(i,e.key,e.value)};else if(e instanceof hg)t={delete:Tp(i,e.key)};else if(e instanceof xs)t={update:pT(i,e.key,e.data),updateMask:Lx(e.fieldMask)};else{if(!(e instanceof dx))return we();t={verify:Tp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof _u)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Ax(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(i,e.precondition)),t}function Nx(i,e){return i&&i.length>0?(We(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Ni(o.updateTime):Ni(u);return h.isEqual(Ce.min())&&(h=Ni(u)),new cx(h,o.transformResults||[])}(t,e))):[]}function Dx(i,e){return{documents:[iw(i,e.path)]}}function xx(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=iw(i,o);const u=function(g){if(g.length!==0)return aw(xi.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Eo(S.field),direction:Mx(S.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=vp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function Ox(i){let e=Rx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const S=sw(b);return S instanceof xi&&Pb(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(S=>function(M){return new Ph(To(M.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(b){let S;return S=typeof b=="object"?b.value:b,of(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,O=b.values||[];return new Vh(O,S)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const S=!b.before,O=b.values||[];return new Vh(O,S)}(t.endAt)),YD(e,o,h,u,d,"F",p,g)}function kx(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=To(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=To(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(t){return xt.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return xi.create(t.compositeFilter.filters.map(s=>sw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(i):we()}function Mx(i){return Tx[i]}function Vx(i){return bx[i]}function Px(i){return wx[i]}function Eo(i){return{fieldPath:i.canonicalString()}}function To(i){return Yt.fromServerFormat(i.fieldPath)}function aw(i){return i instanceof xt?function(t){if(t.op==="=="){if(nT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(tT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(tT(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:Vx(t.op),value:t.value}}}(i):i instanceof xi?function(t){const s=t.getFilters().map(o=>aw(o));return s.length===1?s[0]:{compositeFilter:{op:Px(t.op),filters:s}}}(i):we()}function Lx(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ow(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,s,o,u=Ce.min(),h=Ce.min(),d=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.Tt=e}}function jx(i){const e=Ox({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Tn=new Bx}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(bs.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class Bx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(ot.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lw=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(lw,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Oo(0)}static Un(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LruGarbageCollector",Hx=1048576;function _T([i,e],[t,s]){const o=ze(i,t);return o===0?ze(e,s):o}class Fx{constructor(e){this.Hn=e,this.buffer=new kt(_T),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();_T(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(yT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?he(yT,"Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.er(3e5)})}}class Gx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(af.ae);const s=new Fx(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(gT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),_o()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function $x(i,e){return new Gx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&uu(s.mutation,o,Nn.empty(),Ot.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=tu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=pa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=vr();const h=lu(),d=function(){return lu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof xs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),uu(E.mutation,g,E.mutation.getFieldMask(),Ot.now())):h.set(g.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var b;return d.set(g,new Qx(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=lu();let o=new ft((h,d)=>h-d),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Nn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const b=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,b=qb();E.forEach(S=>{if(!u.has(S)){const O=Xb(t.get(S),s.get(S));O!==null&&b.set(S,O),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):XD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(pa());let d=mu,p=u;return h.next(g=>Z.forEach(g,(E,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:d,changes:Fb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next(d=>Z.forEach(d,p=>{const g=function(b,S){return new uf(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,sn.newInvalidDocument(E)))});let d=tu();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&uu(E.mutation,g,Nn.empty(),Ot.now()),ff(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:jx(o.bundledQuery),readTime:Ni(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.overlays=new ft(_e.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=pa();return Z.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=pa(),u=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=pa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new px(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ue(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Vr=new kt(Ht.mr),this.gr=new kt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ht(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new _e(new ot([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new ot([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=Ue();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ht(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||ze(e.Cr,t.Cr)}static pr(e,t){return ze(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(Ht.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new mx(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ht(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sg:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(ze);return t.forEach(o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new _e(u),0);let d=new kt(ze);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.kr=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let s=vr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=vr();const h=t.path,d=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||CD(RD(E),s)<=0||(o.has(E.key)||ff(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new tO(this)}getSize(e){return Z.resolve(this.size)}}class tO extends Kx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.persistence=e,this.Qr=new Sa(t=>lg(t),ug),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new pg,this.targetCount=0,this.Ur=Oo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new af(0),this.zr=!1,this.zr=!0,this.jr=new Zx,this.referenceDelegate=e(this),this.Hr=new nO(this),this.indexManager=new zx,this.remoteDocumentCache=function(o){return new eO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Ux(t),this.Yr=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new Jx(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new iO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class iO extends ND{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.ti=new pg,this.ni=null}static ri(e){return new gg(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.oi=new Sa(s=>OD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$x(this,t)}static ri(e,t){return new jh(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_h(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return LC()?8:DD(an())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new rO;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(_o()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(_o()<=Le.DEBUG&&he("QueryEngine","Query:",vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(_o()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):Z.resolve())}rs(e,t){if(aT(t))return Z.resolve(null);let s=Ii(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=_p(t,null,"F"),s=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ue(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,_p(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return aT(t)||o.isEqual(Ce.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Z.resolve(null):(_o()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(t)),this.hs(e,h,t,AD(o,mu)).next(d=>d))})}cs(e,t){let s=new kt(Bb(e));return t.forEach((o,u)=>{ff(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return _o()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",vo(t)),this.ns.getDocumentsMatchingQuery(e,t,bs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",aO=3e8;class oO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ft(ze),this.Is=new Sa(u=>lg(u),ug),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function lO(i,e,t,s){return new oO(i,e,t,s)}async function cw(i,e){const t=Ne(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function uO(i,e){const t=Ne(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const b=g.batch,S=b.keys();let O=Z.resolve();return S.forEach(M=>{O=O.next(()=>E.getEntry(p,M)).next(q=>{const z=g.docVersions.get(M);We(z!==null),q.version.compareTo(z)<0&&(b.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function hw(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function cO(i,e){const t=Ne(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,b)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Xt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(b,O),function(q,z,$){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=aO?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,O,E)&&d.push(t.Hr.updateTargetData(u,O))});let p=vr(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(hO(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ce.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(b=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function hO(i,e,t){let s=Ue(),o=Ue();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=vr();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(_g,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function fO(i,e){const t=Ne(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function dO(i,e){const t=Ne(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new ps(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function wp(i,e,t){const s=Ne(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Bo(h))throw h;he(_g,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function vT(i,e,t){const s=Ne(i);let o=Ce.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const b=Ne(p),S=b.Is.get(E);return S!==void 0?Z.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,E)}(s,h,Ii(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?u:Ue())).next(d=>(mO(s,ZD(e),d),{documents:d,gs:u})))}function mO(i,e,t){let s=i.Es.get(e)||Ce.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class ET{constructor(){this.activeTargetIds=rx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pO{constructor(){this.ho=new ET,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ET,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class bT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(TT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function Sp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",yO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _O{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const h=Sp(),d=this.So(e,t.toUriEncodedString());he(Fm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(he(Fm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Io(Fm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=yO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class EO extends _O{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Sp();return new Promise((h,d)=>{const p=new yb;p.setWithCredentials(!0),p.listenOnce(_b.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const E=p.getResponseJson();he(tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case yh.TIMEOUT:he(tn,`RPC '${e}' ${u} timed out`),d(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const b=p.getStatus();if(he(tn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const M=function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN}(O.status);d(new ge(M,O.message))}else d(new ge(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{he(tn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(tn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Sp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Tb(),d=Eb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);let S=!1,O=!1;const M=new vO({Fo:z=>{O?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),he(tn,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Mo:()=>b.close()}),q=(z,$,J)=>{z.listen($,X=>{try{J(X)}catch(se){setTimeout(()=>{throw se},0)}})};return q(b,eu.EventType.OPEN,()=>{O||(he(tn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),q(b,eu.EventType.CLOSE,()=>{O||(O=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),q(b,eu.EventType.ERROR,z=>{O||(O=!0,Io(tn,`RPC '${e}' stream ${o} transport errored:`,z),M.Ko(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),q(b,eu.EventType.MESSAGE,z=>{var $;if(!O){const J=z.data[0];We(!!J);const X=J,se=(X==null?void 0:X.error)||(($=X[0])===null||$===void 0?void 0:$.error);if(se){he(tn,`RPC '${e}' stream ${o} received error:`,se);const ae=se.status;let fe=function(R){const x=St[R];if(x!==void 0)return Zb(x)}(ae),k=se.message;fe===void 0&&(fe=ie.INTERNAL,k="Unknown error status: "+ae+" with message "+se.message),O=!0,M.Ko(new ge(fe,k)),b.close()}else he(tn,`RPC '${e}' stream ${o} received:`,J),M.Uo(J)}}),q(d,vb.STAT_EVENT,z=>{z.stat===dp.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===dp.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(i){return new Sx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="PersistentStream";class dw{constructor(e,t,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ge(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(wT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TO extends dw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Cx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Ni(h.readTime):Ce.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=bp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=yp(p)?{documents:Dx(u,p)}:{query:xx(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=tw(u,h.resumeToken);const g=vp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=vp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=kx(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=bp(this.serializer),t.removeTarget=e,this.I_(t)}}class bO extends dw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Nx(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=bp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Ix(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{}class SO extends wO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Ep(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ie.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Ep(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(ie.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class AO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_r(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class RO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Aa(this)&&(he(ba,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.W_.add(4),await xu(g),g.j_.set("Unknown"),g.W_.delete(4),await yf(g)}(this))})}),this.j_=new AO(s,o)}}async function yf(i){if(Aa(i))for(const e of i.G_)await e(!0)}async function xu(i){for(const e of i.G_)await e(!1)}function mw(i,e){const t=Ne(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),bg(t)?Tg(t):Ho(t).c_()&&Eg(t,e))}function vg(i,e){const t=Ne(i),s=Ho(t);t.U_.delete(e),s.c_()&&pw(t,e),t.U_.size===0&&(s.c_()?s.P_():Aa(t)&&t.j_.set("Unknown"))}function Eg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(i).y_(e)}function pw(i,e){i.H_.Ne(e),Ho(i).w_(e)}function Tg(i){i.H_=new Ex({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.j_.B_()}function bg(i){return Aa(i)&&!Ho(i).u_()&&i.U_.size>0}function Aa(i){return Ne(i).W_.size===0}function gw(i){i.H_=void 0}async function CO(i){i.j_.set("Online")}async function IO(i){i.U_.forEach((e,t)=>{Eg(i,e)})}async function NO(i,e){gw(i),bg(i)?(i.j_.q_(e),Tg(i)):i.j_.set("Unknown")}async function DO(i,e,t){if(i.j_.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){he(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(i,s)}else if(e instanceof Th?i.H_.We(e):e instanceof Jb?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ce.min()))try{const s=await hw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),pw(u,p);const b=new ps(E.target,p,g,E.sequenceNumber);Eg(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){he(ba,"Failed to raise snapshot:",s),await zh(i,s)}}async function zh(i,e,t){if(!Bo(e))throw e;i.W_.add(1),await xu(i),i.j_.set("Offline"),t||(t=()=>hw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(ba,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await yf(i)})}function yw(i,e){return e().catch(t=>zh(i,t,e))}async function _f(i){const e=Ne(i),t=Rs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:sg;for(;xO(e);)try{const o=await fO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,OO(e,o)}catch(o){await zh(e,o)}_w(e)&&vw(e)}function xO(i){return Aa(i)&&i.K_.length<10}function OO(i,e){i.K_.push(e);const t=Rs(i);t.c_()&&t.b_&&t.S_(e.mutations)}function _w(i){return Aa(i)&&!Rs(i).u_()&&i.K_.length>0}function vw(i){Rs(i).start()}async function kO(i){Rs(i).C_()}async function MO(i){const e=Rs(i);for(const t of i.K_)e.S_(t.mutations)}async function VO(i,e,t){const s=i.K_.shift(),o=fg.from(s,e,t);await yw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await _f(i)}async function PO(i,e){e&&Rs(i).b_&&await async function(s,o){if(function(h){return yx(h)&&h!==ie.ABORTED}(o.code)){const u=s.K_.shift();Rs(s).h_(),await yw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await _f(s)}}(i,e),_w(i)&&vw(i)}async function ST(i,e){const t=Ne(i);t.asyncQueue.verifyOperationInProgress(),he(ba,"RemoteStore received new credentials");const s=Aa(t);t.W_.add(3),await xu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yf(t)}async function LO(i,e){const t=Ne(i);e?(t.W_.delete(2),await yf(t)):e||(t.W_.add(2),await xu(t),t.j_.set("Unknown"))}function Ho(i){return i.J_||(i.J_=function(t,s,o){const u=Ne(t);return u.M_(),new TO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:CO.bind(null,i),No:IO.bind(null,i),Lo:NO.bind(null,i),p_:DO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),bg(i)?Tg(i):i.j_.set("Unknown")):(await i.J_.stop(),gw(i))})),i.J_}function Rs(i){return i.Y_||(i.Y_=function(t,s,o){const u=Ne(t);return u.M_(),new bO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:kO.bind(null,i),Lo:PO.bind(null,i),D_:MO.bind(null,i),v_:VO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await _f(i)):(await i.Y_.stop(),i.K_.length>0&&(he(ba,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new wg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Bo(i))return new ge(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=tu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.Z_=new ft(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ko{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new ko(e,t,Co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jO{constructor(){this.queries=RT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ne(t),u=o.queries;o.queries=RT(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function RT(){return new Sa(i=>zb(i),hf)}async function Ag(i,e){const t=Ne(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new UO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Sg(h,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Cg(t)}async function Rg(i,e){const t=Ne(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function zO(i,e){const t=Ne(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Cg(t)}function BO(i,e,t){const s=Ne(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Cg(i){i.ia.forEach(e=>{e.next()})}var Ap,CT;(CT=Ap||(Ap={}))._a="default",CT.Cache="cache";class Ig{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.key=e}}class Tw{constructor(e){this.key=e}}class HO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=Bb(e),this.wa=new Co(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new AT,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),O=ff(this.query,b)?b:null,M=!!S&&this.mutatedKeys.has(S.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;S&&O?S.data.isEqual(O.data)?M!==q&&(s.track({type:3,doc:O}),z=!0):this.va(S,O)||(s.track({type:2,doc:O}),z=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(d=!0)):!S&&O?(s.track({type:0,doc:O}),z=!0):S&&!O&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(d=!0)),z&&(O?(h=h.add(O),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,b)=>function(O,M){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return q(O)-q(M)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new ko(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new AT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Tw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Ew(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ng="SyncEngine";class FO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class qO{constructor(e){this.key=e,this.Ba=!1}}class GO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Sa(d=>zb(d),hf),this.qa=new Map,this.Qa=new Set,this.$a=new ft(_e.comparator),this.Ka=new Map,this.Ua=new pg,this.Wa={},this.Ga=new Map,this.za=Oo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function $O(i,e,t=!0){const s=Cw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await bw(s,e,t,!0),o}async function KO(i,e){const t=Cw(i);await bw(t,e,!0,!1)}async function bw(i,e,t,s){const o=await dO(i.localStore,Ii(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await QO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&mw(i.remoteStore,o),d}async function QO(i,e,t,s,o){i.Ha=(b,S,O)=>async function(q,z,$,J){let X=z.view.Sa($);X.ls&&(X=await vT(q.localStore,z.query,!1).then(({documents:k})=>z.view.Sa(k,X)));const se=J&&J.targetChanges.get(z.targetId),ae=J&&J.targetMismatches.get(z.targetId)!=null,fe=z.view.applyChanges(X,q.isPrimaryClient,se,ae);return NT(q,z.targetId,fe.Ma),fe.snapshot}(i,b,S,O);const u=await vT(i.localStore,e,!0),h=new HO(e,u.gs),d=h.Sa(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);NT(i,t,g.Ma);const E=new FO(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function YO(i,e,t){const s=Ne(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!hf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vg(s.remoteStore,o.targetId),Rp(s,o.targetId)}).catch(zo)):(Rp(s,o.targetId),await wp(s.localStore,o.targetId,!0))}async function XO(i,e){const t=Ne(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vg(t.remoteStore,s.targetId))}async function WO(i,e,t){const s=r2(i);try{const o=await function(h,d){const p=Ne(h),g=Ot.now(),E=d.reduce((O,M)=>O.add(M.key),Ue());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=vr(),q=Ue();return p.ds.getEntries(O,E).next(z=>{M=z,M.forEach(($,J)=>{J.isValidDocument()||(q=q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,M)).next(z=>{b=z;const $=[];for(const J of d){const X=fx(J,b.get(J.key).overlayedDocument);X!=null&&$.push(new xs(J.key,X,kb(X.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,d)}).next(z=>{S=z;const $=z.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(O,z.batchId,$)})}).then(()=>({batchId:S.batchId,changes:Fb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ft(ze)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Ou(s,o.changes),await _f(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");t.reject(u)}}async function ww(i,e){const t=Ne(i);try{const s=await cO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?We(h.Ba):o.removedDocuments.size>0&&(We(h.Ba),h.Ba=!1))}),await Ou(t,s,e)}catch(s){await zo(s)}}function IT(i,e,t){const s=Ne(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ne(h);p.onlineState=d;let g=!1;p.queries.forEach((E,b)=>{for(const S of b.ta)S.sa(d)&&(g=!0)}),g&&Cg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZO(i,e,t){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new ft(_e.comparator);h=h.insert(u,sn.newNoDocument(u,Ce.min()));const d=Ue().add(u),p=new pf(Ce.min(),new Map,new ft(ze),h,d);await ww(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Dg(s)}else await wp(s.localStore,e,!1).then(()=>Rp(s,e,t)).catch(zo)}async function JO(i,e){const t=Ne(i),s=e.batch.batchId;try{const o=await uO(t.localStore,e);Aw(t,s,null),Sw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(t,o)}catch(o){await zo(o)}}async function e2(i,e,t){const s=Ne(i);try{const o=await function(h,d){const p=Ne(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(We(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Aw(s,e,t),Sw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ou(s,o)}catch(o){await zo(o)}}function Sw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Aw(i,e,t){const s=Ne(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Rp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||Rw(i,s)})}function Rw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(vg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Dg(i))}function NT(i,e,t){for(const s of t)s instanceof Ew?(i.Ua.addReference(s.key,e),t2(i,s)):s instanceof Tw?(he(Ng,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Rw(i,s.key)):we()}function t2(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(Ng,"New document in limbo: "+t),i.Qa.add(s),Dg(i))}function Dg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new _e(ot.fromString(e)),s=i.za.next();i.Ka.set(s,new qO(t)),i.$a=i.$a.insert(t,s),mw(i.remoteStore,new ps(Ii(cf(t.path)),s,"TargetPurposeLimboResolution",af.ae))}}async function Ou(i,e,t){const s=Ne(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=yg.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(g,S=>Z.forEach(S.Hi,O=>E.persistence.referenceDelegate.addReference(b,S.targetId,O)).next(()=>Z.forEach(S.Ji,O=>E.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))}catch(b){if(!Bo(b))throw b;he(_g,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const O=E.Ts.get(S),M=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(S,q)}}}(s.localStore,u))}async function n2(i,e){const t=Ne(i);if(!t.currentUser.isEqual(e)){he(Ng,"User change. New user:",e.toKey());const s=await cw(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ge(ie.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(t,s.Rs)}}function i2(i,e){const t=Ne(i),s=t.Ka.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function Cw(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZO.bind(null,e),e.La.p_=zO.bind(null,e.eventManager),e.La.Ja=BO.bind(null,e.eventManager),e}function r2(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return lO(this.persistence,new sO,e.initialUser,this.serializer)}Xa(e){return new uw(gg.ri,this.serializer)}Za(e){return new pO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class s2 extends Bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof jh);const s=this.persistence.referenceDelegate.garbageCollector;return new qx(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new uw(s=>jh.ri(s,t),this.serializer)}}class Cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,this.syncEngine),await LO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jO}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),s=function(u){return new EO(u)}(e.databaseInfo);return function(u,h,d,p){return new SO(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new RO(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>IT(this.syncEngine,t,0),function(){return bT.D()?new bT:new gO}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,E){const b=new GO(o,u,h,d,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ne(o);he(ba,"RemoteStore shutting down."),u.W_.add(5),await xu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class a2{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=wb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(Cs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(Cs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gm(i,e){i.asyncQueue.verifyOperationInProgress(),he(Cs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function DT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await o2(i);he(Cs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>ST(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>ST(e.remoteStore,o)),i._onlineComponents=e}async function o2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Cs,"Using user provided OfflineComponentProvider");try{await Gm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Gm(i,new Bh)}}else he(Cs,"Using default OfflineComponentProvider"),await Gm(i,new s2(void 0));return i._offlineComponents}async function Iw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Cs,"Using user provided OnlineComponentProvider"),await DT(i,i._uninitializedComponentsProvider._online)):(he(Cs,"Using default OnlineComponentProvider"),await DT(i,new Cp))),i._onlineComponents}function l2(i){return Iw(i).then(e=>e.syncEngine)}async function Hh(i){const e=await Iw(i),t=e.eventManager;return t.onListen=$O.bind(null,e.syncEngine),t.onUnlisten=YO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XO.bind(null,e.syncEngine),t}function u2(i,e,t={}){const s=new dr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new xg({next:S=>{E.su(),h.enqueueAndForget(()=>Rg(u,b));const O=S.docs.has(d);!O&&S.fromCache?g.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&p&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Ig(cf(d.path),E,{includeMetadataChanges:!0,Ta:!0});return Ag(u,b)}(await Hh(i),i.asyncQueue,e,t,s)),s.promise}function c2(i,e,t={}){const s=new dr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new xg({next:S=>{E.su(),h.enqueueAndForget(()=>Rg(u,b)),S.fromCache&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Ig(d,E,{includeMetadataChanges:!0,Ta:!0});return Ag(u,b)}(await Hh(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i,e,t){if(!t)throw new ge(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function h2(i,e,t,s){if(e===!0&&s===!0)throw new ge(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function OT(i){if(!_e.isDocumentKey(i))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function kT(i){if(_e.isDocumentKey(i))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Og(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function En(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Og(i);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firestore.googleapis.com",MT=!0;class VT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xw,this.ssl=MT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:MT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hx)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new yD;switch(s.type){case"firstParty":return new TD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=xT.get(t);s&&(he("ComponentProvider","Removing Datastore"),xT.delete(t),s.terminate())}(this),Promise.resolve()}}function f2(i,e,t,s={}){var o;const u=(i=En(i,vf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==xw&&u.host!==d&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!ya(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=rn.MOCK_USER;else{g=C0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(b)}i._authCredentials=new _D(new bb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ku(this.firestore,e,this._query)}}class dn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Es extends ku{constructor(e,t,s){super(e,t,cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new _e(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Ip(i,e,...t){if(i=At(i),Dw("collection","path",e),i instanceof vf){const s=ot.fromString(e,...t);return kT(s),new Es(i,null,s)}{if(!(i instanceof dn||i instanceof Es))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return kT(s),new Es(i.firestore,null,s)}}function Oi(i,e,...t){if(i=At(i),arguments.length===1&&(e=wb.newId()),Dw("doc","path",e),i instanceof vf){const s=ot.fromString(e,...t);return OT(s),new dn(i,null,new _e(s))}{if(!(i instanceof dn||i instanceof Es))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return OT(s),new dn(i.firestore,i instanceof Es?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class LT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fw(this,"async_queue_retry"),this.bu=()=>{const s=qm();s&&he(PT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bo(e))throw e;he(PT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw _r("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=wg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function UT(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Er extends vf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new LT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function d2(i,e){const t=typeof i=="object"?i:Qp(),s=typeof i=="string"?i:kh,o=Jh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=S0("firestore");u&&f2(o,...u)}return o}function Ef(i){if(i._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||m2(i),i._firestoreClient}function m2(i){var e,t,s;const o=i._freezeSettings(),u=function(d,p,g,E){return new VD(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Nw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new a2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Xt.fromBase64String(e))}catch(t){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=/^__.*__$/;class g2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nu(e,this.data,t,this.fieldTransforms)}}class Ow{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Vg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(kw(this.Lu)&&p2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class y2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gf(e)}ju(e,t,s,o=!1){return new Vg({Lu:e,methodName:t,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pg(i){const e=i._freezeSettings(),t=gf(i._databaseId);return new y2(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Mw(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);Ug("Data must be an object, but it was:",h,s);const d=Vw(s,h);let p,g;if(u.merge)p=new Nn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Np(e,b,t);if(!h.contains(S))throw new ge(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Lw(E,S)||E.push(S)}p=new Nn(E),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new g2(new vn(d),p,g)}class wf extends bf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}class Lg extends bf{_toFieldTransform(e){return new lx(e.path,new _u)}isEqual(e){return e instanceof Lg}}function _2(i,e,t,s){const o=i.ju(1,e,t);Ug("Data must be an object, but it was:",o,s);const u=[],h=vn.empty();Ds(s,(p,g)=>{const E=jg(e,p,t);g=At(g);const b=o.Ku(E);if(g instanceof wf)u.push(E);else{const S=Sf(g,b);S!=null&&(u.push(E),h.set(E,S))}});const d=new Nn(u);return new Ow(h,d,o.fieldTransforms)}function v2(i,e,t,s,o,u){const h=i.ju(1,e,t),d=[Np(e,s,t)],p=[o];if(u.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Np(e,u[S])),p.push(u[S+1]);const g=[],E=vn.empty();for(let S=d.length-1;S>=0;--S)if(!Lw(g,d[S])){const O=d[S];let M=p[S];M=At(M);const q=h.Ku(O);if(M instanceof wf)g.push(O);else{const z=Sf(M,q);z!=null&&(g.push(O),E.set(O,z))}}const b=new Nn(g);return new Ow(E,b,h.fieldTransforms)}function Sf(i,e){if(Pw(i=At(i)))return Ug("Unsupported field value:",e,i),Vw(i,e);if(i instanceof bf)return function(s,o){if(!kw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Sf(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof kg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mo)return{bytesValue:tw(o.serializer,s._byteString)};if(s instanceof dn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mg)return function(h,d){return{mapValue:{fields:{[xb]:{stringValue:Ob},[Mh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return cg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Og(s)}`)}(i,e)}function Vw(i,e){const t={};return Ab(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(i,(s,o)=>{const u=Sf(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Pw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof kg||i instanceof Mo||i instanceof dn||i instanceof bf||i instanceof Mg)}function Ug(i,e,t){if(!Pw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Og(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Np(i,e,t){if((e=At(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return jg(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,t)}const E2=new RegExp("[~\\*/\\[\\]]");function jg(i,e,t){if(e.search(E2)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Tf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Fh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ge(ie.INVALID_ARGUMENT,d+i+p)}function Lw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class T2 extends Uw{data(){return super.data()}}function jw(i,e){return typeof e=="string"?jg(i,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b2{convertValue(e,t="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ds(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new Mg(u)}convertGeoPoint(e){return new kg(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=ws(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);We(ow(s));const o=new gu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hw extends Uw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(jw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class bh extends Hw{data(e={}){return super.data(e)}}class Fw{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new bh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new iu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new bh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new iu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:w2(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(i){i=En(i,dn);const e=En(i.firestore,Er);return u2(Ef(e),i._key).then(t=>qw(e,i,t))}class zg extends b2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function S2(i){i=En(i,ku);const e=En(i.firestore,Er),t=Ef(e),s=new zg(e);return zw(i._query),c2(t,i._query).then(o=>new Fw(e,s,i,o))}function A2(i,e,t){i=En(i,dn);const s=En(i.firestore,Er),o=Bw(i.converter,e);return Rf(s,[Mw(Pg(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Yn.none())])}function Dp(i,e,t,...s){i=En(i,dn);const o=En(i.firestore,Er),u=Pg(o);let h;return h=typeof(e=At(e))=="string"||e instanceof Tf?v2(u,"updateDoc",i._key,e,t,s):_2(u,"updateDoc",i._key,e),Rf(o,[h.toMutation(i._key,Yn.exists(!0))])}function R2(i){return Rf(En(i.firestore,Er),[new hg(i._key,Yn.none())])}function C2(i,e){const t=En(i.firestore,Er),s=Oi(i),o=Bw(i.converter,e);return Rf(t,[Mw(Pg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then(()=>s)}function I2(i,...e){var t,s,o;i=At(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||UT(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(UT(e[h])){const b=e[h];e[h]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[h+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[h+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,E;if(i instanceof dn)g=En(i.firestore,Er),E=cf(i._key.path),p={next:b=>{e[h]&&e[h](qw(g,i,b))},error:e[h+1],complete:e[h+2]};else{const b=En(i,ku);g=En(b.firestore,Er),E=b._query;const S=new zg(g);p={next:O=>{e[h]&&e[h](new Fw(g,S,b,O))},error:e[h+1],complete:e[h+2]},zw(i._query)}return function(S,O,M,q){const z=new xg(q),$=new Ig(O,z,M);return S.asyncQueue.enqueueAndForget(async()=>Ag(await Hh(S),$)),()=>{z.su(),S.asyncQueue.enqueueAndForget(async()=>Rg(await Hh(S),$))}}(Ef(g),E,d,p)}function Rf(i,e){return function(s,o){const u=new dr;return s.asyncQueue.enqueueAndForget(async()=>WO(await l2(s),o,u)),u.promise}(Ef(i),e)}function qw(i,e,t){const s=t.docs.get(e._key),o=new zg(i);return new Hw(i,o,e._key,s,new iu(t.hasPendingWrites,t.fromCache),e.converter)}function N2(){return new Lg("serverTimestamp")}(function(e,t=!0){(function(o){jo=o})(wa),_a(new Ts("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Er(new vD(s.getProvider("auth-internal")),new bD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ai(qE,GE,e),Ai(qE,GE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebasestorage.googleapis.com",D2="storageBucket",x2=2*60*1e3,O2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Vi{constructor(e,t,s=0){super($m(e),`Firebase Storage: ${t} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function $m(i){return"storage/"+i}function k2(){const i="An unknown error occurred, please check the error payload for server response.";return new Pi(ki.UNKNOWN,i)}function M2(){return new Pi(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V2(){return new Pi(ki.CANCELED,"User canceled the upload/download.")}function P2(i){return new Pi(ki.INVALID_URL,"Invalid URL '"+i+"'.")}function L2(i){return new Pi(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function jT(i){return new Pi(ki.INVALID_ARGUMENT,i)}function $w(){return new Pi(ki.APP_DELETED,"The Firebase app was deleted.")}function U2(i){return new Pi(ki.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ri.makeFromUrl(e,t)}catch{return new ri(e,"")}if(s.path==="")return s;throw L2(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),M={bucket:1,path:3},q=t===Gw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,z="([^?#]*)",$=new RegExp(`^https?://${q}/${o}/${z}`,"i"),X=[{regex:d,indices:p,postModify:u},{regex:O,indices:M,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<X.length;se++){const ae=X[se],fe=ae.regex.exec(e);if(fe){const k=fe[ae.indices.bucket];let C=fe[ae.indices.path];C||(C=""),s=new ri(k,C),ae.postModify(s);break}}if(s==null)throw P2(e);return s}}class j2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...z){g||(g=!0,e.apply(null,z))}function b(z){o=setTimeout(()=>{o=null,i(O,p())},z)}function S(){u&&clearTimeout(u)}function O(z,...$){if(g){S();return}if(z){S(),E.call(null,z,...$);return}if(p()||h){S(),E.call(null,z,...$);return}s<64&&(s*=2);let X;d===1?(d=2,X=0):X=(s+Math.random())*1e3,b(X)}let M=!1;function q(z){M||(M=!0,S(),!g&&(o!==null?(z||(d=2),clearTimeout(o),b(0)):z||(d=1)))}return b(0),u=setTimeout(()=>{h=!0,q(!0)},t),q}function B2(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i){return i!==void 0}function zT(i,e,t,s){if(s<e)throw jT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw jT(`Invalid value for '${i}'. Expected ${t} or less.`)}function F2(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var qh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(qh||(qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t,s,o,u,h,d,p,g,E,b,S=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,M)=>{this.resolve_=O,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===qh.NO_ERROR,p=u.getStatus();if(!d||q2(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===qh.ABORT;s(!1,new lh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new lh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());H2(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=k2();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?$w():V2();h(p)}else{const p=M2();h(p)}};this.canceled_?t(!1,new lh(!1,null,!0)):this.backoffId_=z2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&B2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function $2(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function K2(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q2(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Y2(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function X2(i,e,t,s,o,u,h=!0){const d=F2(i.urlParams),p=i.url+d,g=Object.assign({},i.headers);return Q2(g,e),$2(g,t),K2(g,u),Y2(g,s),new G2(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Z2(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this._service=e,t instanceof ri?this._location=t:this._location=ri.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gh(e,t)}get root(){const e=new ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z2(this._location.path)}get storage(){return this._service}get parent(){const e=W2(this._location.path);if(e===null)return null;const t=new ri(this._location.bucket,e);return new Gh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw U2(e)}}function BT(i,e){const t=e==null?void 0:e[D2];return t==null?null:ri.makeFromBucketSpec(t,i)}function J2(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:C0(o,i.app.options.projectId))}class ek{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=Gw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x2,this._maxUploadRetryTime=O2,this._requests=new Set,o!=null?this._bucket=ri.makeFromBucketSpec(o,this._host):this._bucket=BT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,e):this._bucket=BT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gh(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new j2($w());{const h=X2(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const HT="@firebase/storage",FT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="storage";function tk(i=Qp(),e){i=At(i);const s=Jh(i,Kw).getImmediate({identifier:e}),o=S0("storage");return o&&nk(s,...o),s}function nk(i,e,t,s={}){J2(i,e,t,s)}function ik(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ek(t,s,o,e,wa)}function rk(){_a(new Ts(Kw,ik,"PUBLIC").setMultipleInstances(!0)),Ai(HT,FT,""),Ai(HT,FT,"esm2017")}rk();const sk={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},Bg=D0(sk),gs=sf(Bg),Qn=d2(Bg);tk(Bg);const Km=({children:i,requiredRole:e})=>{const[t,s]=N.useState(!0),[o,u]=N.useState(!1);return N.useEffect(()=>{const h=tf(gs,async d=>{if(d){const p=await Af(Oi(Qn,"Users",d.uid));p.exists()&&p.data().role===e&&u(!0)}s(!1)});return()=>h()},[e]),t?A.jsx("p",{}):o?i:A.jsx(zR,{to:"/unauthorized"})},ak=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is Home Page"})}),ok=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is about page"})}),lk=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is services page"})}),uk=()=>A.jsx("div",{children:A.jsx("h1",{children:"HI THIS IS OUR COMMITMENT"})}),ck=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is contact page"})}),hk="/cargofran/assets/logo2-d8LGHafD.png";var Qm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var qT;function fk(){return qT||(qT=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var d in u)e.call(u,d)&&u[d]&&(h=o(h,d));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(Qm)),Qm.exports}var dk=fk();const rt=Yh(dk);function mk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function xp(i,e){return xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},xp(i,e)}function pk(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,xp(i,e)}const gk=["xxl","xl","lg","md","sm","xs"],yk="xs",Mu=N.createContext({prefixes:{},breakpoints:gk,minBreakpoint:yk}),{Consumer:tV,Provider:nV}=Mu;function Mt(i,e){const{prefixes:t}=N.useContext(Mu);return i||t[e]||e}function _k(){const{breakpoints:i}=N.useContext(Mu);return i}function vk(){const{minBreakpoint:i}=N.useContext(Mu);return i}function Ek(){const{dir:i}=N.useContext(Mu);return i==="rtl"}function Cf(i){return i&&i.ownerDocument||document}function Tk(i){var e=Cf(i);return e&&e.defaultView||window}function bk(i,e){return Tk(i).getComputedStyle(i,e)}var wk=/([A-Z])/g;function Sk(i){return i.replace(wk,"-$1").toLowerCase()}var Ak=/^ms-/;function uh(i){return Sk(i).replace(Ak,"-ms-")}var Rk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ck(i){return!!(i&&Rk.test(i))}function ga(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(uh(e))||bk(i).getPropertyValue(uh(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?i.style.removeProperty(uh(o)):Ck(o)?s+=o+"("+u+") ":t+=uh(o)+": "+u+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}var Ym={exports:{}},Xm,GT;function Ik(){if(GT)return Xm;GT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xm=i,Xm}var Wm,$T;function Nk(){if($T)return Wm;$T=1;var i=Ik();function e(){}function t(){}return t.resetWarningCache=e,Wm=function(){function s(h,d,p,g,E,b){if(b!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},Wm}var KT;function Dk(){return KT||(KT=1,Ym.exports=Nk()()),Ym.exports}var xk=Dk();const mr=Yh(xk),QT={disabled:!1},Qw=ma.createContext(null);var Ok=function(e){return e.scrollTop},ru="unmounted",ha="exited",cs="entering",fa="entered",Op="exiting",Sr=function(i){pk(e,i);function e(s,o){var u;u=i.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?d?(p=ha,u.appearStatus=cs):p=fa:s.unmountOnExit||s.mountOnEnter?p=ru:p=ha,u.state={status:p},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===ru?{status:ha}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==cs&&h!==fa&&(u=cs):(h===cs||h===fa)&&(u=Op)}this.updateStatus(!1,u)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,u,h,d;return u=h=d=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:d}},t.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===cs){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:bo.findDOMNode(this);h&&Ok(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ha&&this.setState({status:ru})},t.performEnter=function(o){var u=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[bo.findDOMNode(this),d],g=p[0],E=p[1],b=this.getTimeouts(),S=d?b.appear:b.enter;if(!o&&!h||QT.disabled){this.safeSetState({status:fa},function(){u.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:cs},function(){u.props.onEntering(g,E),u.onTransitionEnd(S,function(){u.safeSetState({status:fa},function(){u.props.onEntered(g,E)})})})},t.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:bo.findDOMNode(this);if(!u||QT.disabled){this.safeSetState({status:ha},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Op},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ha},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},t.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:bo.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===ru)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=mk(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ma.createElement(Qw.Provider,{value:null},typeof h=="function"?h(o,d):ma.cloneElement(ma.Children.only(h),d))},e}(ma.Component);Sr.contextType=Qw;Sr.propTypes={};function po(){}Sr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:po,onEntering:po,onEntered:po,onExit:po,onExiting:po,onExited:po};Sr.UNMOUNTED=ru;Sr.EXITED=ha;Sr.ENTERING=cs;Sr.ENTERED=fa;Sr.EXITING=Op;function kk(i){return i.code==="Escape"||i.keyCode===27}function Mk(){const i=N.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function If(i){if(!i||typeof i=="function")return null;const{major:e}=Mk();return e>=19?i.props.ref:i.ref}const Fo=!!(typeof window<"u"&&window.document&&window.document.createElement);var kp=!1,Mp=!1;try{var Zm={get passive(){return kp=!0},get once(){return Mp=kp=!0}};Fo&&(window.addEventListener("test",Zm,Zm),window.removeEventListener("test",Zm,!0))}catch{}function Yw(i,e,t,s){if(s&&typeof s!="boolean"&&!Mp){var o=s.once,u=s.capture,h=t;!Mp&&o&&(h=t.__once||function d(p){this.removeEventListener(e,d,u),t.call(this,p)},t.__once=h),i.addEventListener(e,h,kp?s:u)}i.addEventListener(e,t,s)}function Vp(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}function $h(i,e,t,s){return Yw(i,e,t,s),function(){Vp(i,e,t,s)}}function Vk(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function Pk(i){var e=ga(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Lk(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||Vk(i,"transitionend",!0)},e+t),u=$h(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function Xw(i,e,t,s){t==null&&(t=Pk(i)||0);var o=Lk(i,t,s),u=$h(i,"transitionend",e);return function(){o(),u()}}function YT(i,e){const t=ga(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Uk(i,e){const t=YT(i,"transitionDuration"),s=YT(i,"transitionDelay"),o=Xw(i,u=>{u.target===i&&(o(),e(u))},t+s)}function jk(i){i.offsetHeight}const XT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function zk(i,e){const t=XT(i),s=XT(e);return o=>{t&&t(o),s&&s(o)}}function Ww(i,e){return N.useMemo(()=>zk(i,e),[i,e])}function Bk(i){return i&&"setState"in i?bo.findDOMNode(i):i??null}const Hk=ma.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:d,childRef:p,...g},E)=>{const b=N.useRef(null),S=Ww(b,p),O=fe=>{S(Bk(fe))},M=fe=>k=>{fe&&b.current&&fe(b.current,k)},q=N.useCallback(M(i),[i]),z=N.useCallback(M(e),[e]),$=N.useCallback(M(t),[t]),J=N.useCallback(M(s),[s]),X=N.useCallback(M(o),[o]),se=N.useCallback(M(u),[u]),ae=N.useCallback(M(h),[h]);return A.jsx(Sr,{ref:E,...g,onEnter:q,onEntered:$,onEntering:z,onExit:J,onExited:se,onExiting:X,addEndListener:ae,nodeRef:b,children:typeof d=="function"?(fe,k)=>d(fe,{...k,ref:O}):ma.cloneElement(d,{ref:O})})});function Fk(i){const e=N.useRef(i);return N.useEffect(()=>{e.current=i},[i]),e}function Pp(i){const e=Fk(i);return N.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const qk=i=>N.forwardRef((e,t)=>A.jsx("div",{...e,ref:t,className:rt(e.className,i)}));function Gk(i){const e=N.useRef(i);return N.useEffect(()=>{e.current=i},[i]),e}function da(i){const e=Gk(i);return N.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function $k(){const i=N.useRef(!0),e=N.useRef(()=>i.current);return N.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function Kk(i){const e=N.useRef(null);return N.useEffect(()=>{e.current=i}),e.current}const Qk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Yk=typeof document<"u",WT=Yk||Qk?N.useLayoutEffect:N.useEffect,Xk=["as","disabled"];function Wk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Zk(i){return!i||i.trim()==="#"}function Zw({tagName:i,disabled:e,href:t,target:s,rel:o,role:u,onClick:h,tabIndex:d=0,type:p}){i||(t!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const E=S=>{if((e||i==="a"&&Zk(t))&&S.preventDefault(),e){S.stopPropagation();return}h==null||h(S)},b=S=>{S.key===" "&&(S.preventDefault(),E(S))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:b},g]}const Jk=N.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=Wk(i,Xk);const[u,{tagName:h}]=Zw(Object.assign({tagName:t,disabled:s},o));return A.jsx(h,Object.assign({},o,u,{ref:e}))});Jk.displayName="Button";const eM={[cs]:"show",[fa]:"show"},Hg=N.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=N.useCallback((p,g)=>{jk(p),s==null||s(p,g)},[s]);return A.jsx(Hk,{ref:u,addEndListener:Uk,...h,onEnter:d,childRef:If(e),children:(p,g)=>N.cloneElement(e,{...g,className:rt("fade",i,e.props.className,eM[p],t[p])})})});Hg.displayName="Fade";const tM={"aria-label":mr.string,onClick:mr.func,variant:mr.oneOf(["white"])},Fg=N.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>A.jsx("button",{ref:o,type:"button",className:rt("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));Fg.displayName="CloseButton";Fg.propTypes=tM;const ii=N.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:u=!1,className:h,...d},p)=>{const g=Mt(e,"btn"),[E,{tagName:b}]=Zw({tagName:i,disabled:u,...d}),S=b;return A.jsx(S,{...E,...d,ref:p,disabled:u,className:rt(h,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&u&&"disabled")})});ii.displayName="Button";function nM(i){const e=N.useRef(i);return e.current=i,e}function iM(i){const e=nM(i);N.useEffect(()=>()=>e.current(),[])}function rM(i,e){return N.Children.toArray(i).some(t=>N.isValidElement(t)&&t.type===e)}function sM({as:i,bsPrefix:e,className:t,...s}){e=Mt(e,"col");const o=_k(),u=vk(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,b,S;typeof g=="object"&&g!=null?{span:E,offset:b,order:S}=g:E=g;const O=p!==u?`-${p}`:"";E&&h.push(E===!0?`${e}${O}`:`${e}${O}-${E}`),S!=null&&d.push(`order${O}-${S}`),b!=null&&d.push(`offset${O}-${b}`)}),[{...s,className:rt(t,...h,...d)},{as:i,bsPrefix:e,spans:h}]}const Jw=N.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:u,spans:h}]=sM(i);return A.jsx(o,{...s,ref:e,className:rt(t,!h.length&&u)})});Jw.displayName="Col";var aM=Function.prototype.bind.call(Function.prototype.call,[].slice);function go(i,e){return aM(i.querySelectorAll(e))}function ZT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const oM="data-rr-ui-";function lM(i){return`${oM}${i}`}const eS=N.createContext(Fo?window:void 0);eS.Provider;function qg(){return N.useContext(eS)}const uM={type:mr.string,tooltip:mr.bool,as:mr.elementType},Nf=N.forwardRef(({as:i="div",className:e,type:t="valid",tooltip:s=!1,...o},u)=>A.jsx(i,{...o,ref:u,className:rt(e,`${t}-${s?"tooltip":"feedback"}`)}));Nf.displayName="Feedback";Nf.propTypes=uM;const Tr=N.createContext({}),Gg=N.forwardRef(({id:i,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...d},p)=>{const{controlId:g}=N.useContext(Tr);return e=Mt(e,"form-check-input"),A.jsx(h,{...d,ref:p,type:s,id:i||g,className:rt(t,e,o&&"is-valid",u&&"is-invalid")})});Gg.displayName="FormCheckInput";const Kh=N.forwardRef(({bsPrefix:i,className:e,htmlFor:t,...s},o)=>{const{controlId:u}=N.useContext(Tr);return i=Mt(i,"form-check-label"),A.jsx("label",{...s,ref:o,htmlFor:t||u,className:rt(e,i)})});Kh.displayName="FormCheckLabel";const tS=N.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:b,style:S,title:O="",type:M="checkbox",label:q,children:z,as:$="input",...J},X)=>{e=Mt(e,"form-check"),t=Mt(t,"form-switch");const{controlId:se}=N.useContext(Tr),ae=N.useMemo(()=>({controlId:i||se}),[se,i]),fe=!z&&q!=null&&q!==!1||rM(z,Kh),k=A.jsx(Gg,{...J,type:M==="switch"?"checkbox":M,ref:X,isValid:h,isInvalid:d,disabled:u,as:$});return A.jsx(Tr.Provider,{value:ae,children:A.jsx("div",{style:S,className:rt(b,fe&&e,s&&`${e}-inline`,o&&`${e}-reverse`,M==="switch"&&t),children:z||A.jsxs(A.Fragment,{children:[k,fe&&A.jsx(Kh,{title:O,children:q}),g&&A.jsx(Nf,{type:E,tooltip:p,children:g})]})})})});tS.displayName="FormCheck";const Qh=Object.assign(tS,{Input:Gg,Label:Kh}),nS=N.forwardRef(({bsPrefix:i,type:e,size:t,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:E="input",...b},S)=>{const{controlId:O}=N.useContext(Tr);return i=Mt(i,"form-control"),A.jsx(E,{...b,type:e,size:s,ref:S,readOnly:g,id:o||O,className:rt(u,p?`${i}-plaintext`:i,t&&`${i}-${t}`,e==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});nS.displayName="FormControl";const cM=Object.assign(nS,{Feedback:Nf}),iS=N.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Mt(e,"form-floating"),A.jsx(t,{ref:o,className:rt(i,e),...s})));iS.displayName="FormFloating";const $g=N.forwardRef(({controlId:i,as:e="div",...t},s)=>{const o=N.useMemo(()=>({controlId:i}),[i]);return A.jsx(Tr.Provider,{value:o,children:A.jsx(e,{...t,ref:s})})});$g.displayName="FormGroup";const rS=N.forwardRef(({as:i="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},d)=>{const{controlId:p}=N.useContext(Tr);e=Mt(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const E=rt(o,e,s&&"visually-hidden",t&&g);return u=u||p,t?A.jsx(Jw,{ref:d,as:"label",className:E,htmlFor:u,...h}):A.jsx(i,{ref:d,className:E,htmlFor:u,...h})});rS.displayName="FormLabel";const sS=N.forwardRef(({bsPrefix:i,className:e,id:t,...s},o)=>{const{controlId:u}=N.useContext(Tr);return i=Mt(i,"form-range"),A.jsx("input",{...s,type:"range",ref:o,className:rt(e,i),id:t||u})});sS.displayName="FormRange";const aS=N.forwardRef(({bsPrefix:i,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...d},p)=>{const{controlId:g}=N.useContext(Tr);return i=Mt(i,"form-select"),A.jsx("select",{...d,size:t,ref:p,className:rt(s,i,e&&`${i}-${e}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});aS.displayName="FormSelect";const oS=N.forwardRef(({bsPrefix:i,className:e,as:t="small",muted:s,...o},u)=>(i=Mt(i,"form-text"),A.jsx(t,{...o,ref:u,className:rt(e,i,s&&"text-muted")})));oS.displayName="FormText";const lS=N.forwardRef((i,e)=>A.jsx(Qh,{...i,ref:e,type:"switch"}));lS.displayName="Switch";const hM=Object.assign(lS,{Input:Qh.Input,Label:Qh.Label}),uS=N.forwardRef(({bsPrefix:i,className:e,children:t,controlId:s,label:o,...u},h)=>(i=Mt(i,"form-floating"),A.jsxs($g,{ref:h,className:rt(e,i),controlId:s,...u,children:[t,A.jsx("label",{htmlFor:s,children:o})]})));uS.displayName="FloatingLabel";const fM={_ref:mr.any,validated:mr.bool,as:mr.elementType},Kg=N.forwardRef(({className:i,validated:e,as:t="form",...s},o)=>A.jsx(t,{...s,ref:o,className:rt(i,e&&"was-validated")}));Kg.displayName="Form";Kg.propTypes=fM;const xe=Object.assign(Kg,{Group:$g,Control:cM,Floating:iS,Check:Qh,Switch:hM,Label:rS,Text:oS,Range:sS,Select:aS,FloatingLabel:uS}),JT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function dM(i,e){const t=JT(i),s=JT(e);return o=>{t&&t(o),s&&s(o)}}function Qg(i,e){return N.useMemo(()=>dM(i,e),[i,e])}var ch;function e0(i){if((!ch&&ch!==0||i)&&Fo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ch=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ch}function mM(){return N.useState(null)}function Jm(i){i===void 0&&(i=Cf());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function pM(i){const e=N.useRef(i);return e.current=i,e}function gM(i){const e=pM(i);N.useEffect(()=>()=>e.current(),[])}function yM(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const t0=lM("modal-open");class Yg{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return yM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(ga(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(t0,""),ga(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(t0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ep=(i,e)=>Fo?i==null?(e||Cf()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function _M(i,e){const t=qg(),[s,o]=N.useState(()=>ep(i,t==null?void 0:t.document));if(!s){const u=ep(i);u&&o(u)}return N.useEffect(()=>{},[e,s]),N.useEffect(()=>{const u=ep(i);u!==s&&o(u)},[i,s]),s}function vM({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const u=N.useRef(null),h=N.useRef(e),d=da(t);N.useEffect(()=>{e?h.current=!0:d(u.current)},[e,d]);const p=Qg(u,If(i)),g=N.cloneElement(i,{ref:p});return e?g:o||!h.current&&s?null:g}const EM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function TM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function bM(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:d,children:p}=i,g=TM(i,EM);const E=N.useRef(null),b=Qg(E,If(p)),S=se=>ae=>{se&&E.current&&se(E.current,ae)},O=N.useCallback(S(e),[e]),M=N.useCallback(S(t),[t]),q=N.useCallback(S(s),[s]),z=N.useCallback(S(o),[o]),$=N.useCallback(S(u),[u]),J=N.useCallback(S(h),[h]),X=N.useCallback(S(d),[d]);return Object.assign({},g,{nodeRef:E},e&&{onEnter:O},t&&{onEntering:M},s&&{onEntered:q},o&&{onExit:z},u&&{onExiting:$},h&&{onExited:J},d&&{addEndListener:X},{children:typeof p=="function"?(se,ae)=>p(se,Object.assign({},ae,{ref:b})):N.cloneElement(p,{ref:b})})}const wM=["component"];function SM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const AM=N.forwardRef((i,e)=>{let{component:t}=i,s=SM(i,wM);const o=bM(s);return A.jsx(t,Object.assign({ref:e},o))});function RM({in:i,onTransition:e}){const t=N.useRef(null),s=N.useRef(!0),o=da(e);return WT(()=>{if(!t.current)return;let u=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[i,o]),WT(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function CM({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[u,h]=N.useState(!e);e&&u&&h(!1);const d=RM({in:!!e,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),t==null||t(g.element)))};Promise.resolve(o(g)).then(E,b=>{throw g.in||h(!0),b})}}),p=Qg(d,If(i));return u&&!e?null:N.cloneElement(i,{ref:p})}function n0(i,e,t){return i?A.jsx(AM,Object.assign({},t,{component:i})):e?A.jsx(CM,Object.assign({},t,{transition:e})):A.jsx(vM,Object.assign({},t))}const IM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function NM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let tp;function DM(i){return tp||(tp=new Yg({ownerDocument:i==null?void 0:i.document})),tp}function xM(i){const e=qg(),t=i||DM(e),s=N.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:N.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:N.useCallback(o=>{s.current.backdrop=o},[])})}const cS=N.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:u,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:b,runTransition:S,backdropTransition:O,runBackdropTransition:M,autoFocus:q=!0,enforceFocus:z=!0,restoreFocus:$=!0,restoreFocusOptions:J,renderDialog:X,renderBackdrop:se=$e=>A.jsx("div",Object.assign({},$e)),manager:ae,container:fe,onShow:k,onHide:C=()=>{},onExit:R,onExited:x,onExiting:P,onEnter:j,onEntering:I,onEntered:Ae}=i,ve=NM(i,IM);const ee=qg(),ce=_M(fe),ue=xM(ae),Be=$k(),V=Kk(t),[te,de]=N.useState(!t),oe=N.useRef(null);N.useImperativeHandle(e,()=>ue,[ue]),Fo&&!V&&t&&(oe.current=Jm(ee==null?void 0:ee.document)),t&&te&&de(!1);const le=da(()=>{if(ue.add(),Pe.current=$h(document,"keydown",Ve),Ze.current=$h(document,"focus",()=>setTimeout(Re),!0),k&&k(),q){var $e,mn;const Xn=Jm(($e=(mn=ue.dialog)==null?void 0:mn.ownerDocument)!=null?$e:ee==null?void 0:ee.document);ue.dialog&&Xn&&!ZT(ue.dialog,Xn)&&(oe.current=Xn,ue.dialog.focus())}}),Se=da(()=>{if(ue.remove(),Pe.current==null||Pe.current(),Ze.current==null||Ze.current(),$){var $e;($e=oe.current)==null||$e.focus==null||$e.focus(J),oe.current=null}});N.useEffect(()=>{!t||!ce||le()},[t,ce,le]),N.useEffect(()=>{te&&Se()},[te,Se]),gM(()=>{Se()});const Re=da(()=>{if(!z||!Be()||!ue.isTopModal())return;const $e=Jm(ee==null?void 0:ee.document);ue.dialog&&$e&&!ZT(ue.dialog,$e)&&ue.dialog.focus()}),st=da($e=>{$e.target===$e.currentTarget&&(g==null||g($e),d===!0&&C())}),Ve=da($e=>{p&&kk($e)&&ue.isTopModal()&&(E==null||E($e),$e.defaultPrevented||C())}),Ze=N.useRef(),Pe=N.useRef(),Et=(...$e)=>{de(!0),x==null||x(...$e)};if(!ce)return null;const Wt=Object.assign({role:s,ref:ue.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ve,{style:u,className:o,tabIndex:-1});let Vt=X?X(Wt):A.jsx("div",Object.assign({},Wt,{children:N.cloneElement(h,{role:"document"})}));Vt=n0(b,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:R,onExiting:P,onExited:Et,onEnter:j,onEntering:I,onEntered:Ae,children:Vt});let on=null;return d&&(on=se({ref:ue.setBackdropRef,onClick:st}),on=n0(O,M,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:on})),A.jsx(A.Fragment,{children:bo.createPortal(A.jsxs(A.Fragment,{children:[on,Vt]}),ce)})});cS.displayName="Modal";const OM=Object.assign(cS,{Manager:Yg});function kM(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function MM(i,e){i.classList?i.classList.add(e):kM(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function i0(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function VM(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=i0(i.className,e):i.setAttribute("class",i0(i.className&&i.className.baseVal||"",e))}const yo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class PM extends Yg{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,ga(t,{[e]:`${parseFloat(ga(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],ga(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(MM(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";go(t,yo.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,e.scrollBarWidth)),go(t,yo.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-e.scrollBarWidth)),go(t,yo.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();VM(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";go(t,yo.FIXED_CONTENT).forEach(u=>this.restore(s,u)),go(t,yo.STICKY_CONTENT).forEach(u=>this.restore(o,u)),go(t,yo.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let np;function LM(i){return np||(np=new PM(i)),np}const hS=N.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Mt(e,"modal-body"),A.jsx(t,{ref:o,className:rt(i,e),...s})));hS.displayName="ModalBody";const fS=N.createContext({onHide(){}}),Xg=N.forwardRef(({bsPrefix:i,className:e,contentClassName:t,centered:s,size:o,fullscreen:u,children:h,scrollable:d,...p},g)=>{i=Mt(i,"modal");const E=`${i}-dialog`,b=typeof u=="string"?`${i}-fullscreen-${u}`:`${i}-fullscreen`;return A.jsx("div",{...p,ref:g,className:rt(E,e,o&&`${i}-${o}`,s&&`${E}-centered`,d&&`${E}-scrollable`,u&&b),children:A.jsx("div",{className:rt(`${i}-content`,t),children:h})})});Xg.displayName="ModalDialog";const dS=N.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Mt(e,"modal-footer"),A.jsx(t,{ref:o,className:rt(i,e),...s})));dS.displayName="ModalFooter";const UM=N.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...u},h)=>{const d=N.useContext(fS),p=Pp(()=>{d==null||d.onHide(),s==null||s()});return A.jsxs("div",{ref:h,...u,children:[o,t&&A.jsx(Fg,{"aria-label":i,variant:e,onClick:p})]})}),mS=N.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},u)=>(i=Mt(i,"modal-header"),A.jsx(UM,{ref:u,...o,className:rt(e,i),closeLabel:t,closeButton:s})));mS.displayName="ModalHeader";const jM=qk("h4"),pS=N.forwardRef(({className:i,bsPrefix:e,as:t=jM,...s},o)=>(e=Mt(e,"modal-title"),A.jsx(t,{ref:o,className:rt(i,e),...s})));pS.displayName="ModalTitle";function zM(i){return A.jsx(Hg,{...i,timeout:null})}function BM(i){return A.jsx(Hg,{...i,timeout:null})}const gS=N.forwardRef(({bsPrefix:i,className:e,style:t,dialogClassName:s,contentClassName:o,children:u,dialogAs:h=Xg,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:b=!1,animation:S=!0,backdrop:O=!0,keyboard:M=!0,onEscapeKeyDown:q,onShow:z,onHide:$,container:J,autoFocus:X=!0,enforceFocus:se=!0,restoreFocus:ae=!0,restoreFocusOptions:fe,onEntered:k,onExit:C,onExiting:R,onEnter:x,onEntering:P,onExited:j,backdropClassName:I,manager:Ae,...ve},ee)=>{const[ce,ue]=N.useState({}),[Be,V]=N.useState(!1),te=N.useRef(!1),de=N.useRef(!1),oe=N.useRef(null),[le,Se]=mM(),Re=Ww(ee,Se),st=Pp($),Ve=Ek();i=Mt(i,"modal");const Ze=N.useMemo(()=>({onHide:st}),[st]);function Pe(){return Ae||LM({isRTL:Ve})}function Et(Ee){if(!Fo)return;const at=Pe().getScrollbarWidth()>0,Dn=Ee.scrollHeight>Cf(Ee).documentElement.clientHeight;ue({paddingRight:at&&!Dn?e0():void 0,paddingLeft:!at&&Dn?e0():void 0})}const Wt=Pp(()=>{le&&Et(le.dialog)});iM(()=>{Vp(window,"resize",Wt),oe.current==null||oe.current()});const Vt=()=>{te.current=!0},on=Ee=>{te.current&&le&&Ee.target===le.dialog&&(de.current=!0),te.current=!1},$e=()=>{V(!0),oe.current=Xw(le.dialog,()=>{V(!1)})},mn=Ee=>{Ee.target===Ee.currentTarget&&$e()},Xn=Ee=>{if(O==="static"){mn(Ee);return}if(de.current||Ee.target!==Ee.currentTarget){de.current=!1;return}$==null||$()},Ar=Ee=>{M?q==null||q(Ee):(Ee.preventDefault(),O==="static"&&$e())},Rr=(Ee,at)=>{Ee&&Et(Ee),x==null||x(Ee,at)},Li=Ee=>{oe.current==null||oe.current(),C==null||C(Ee)},Cr=(Ee,at)=>{P==null||P(Ee,at),Yw(window,"resize",Wt)},qo=Ee=>{Ee&&(Ee.style.display=""),j==null||j(Ee),Vp(window,"resize",Wt)},Os=N.useCallback(Ee=>A.jsx("div",{...Ee,className:rt(`${i}-backdrop`,I,!S&&"show")}),[S,I,i]),Ft={...t,...ce};Ft.display="block";const Ra=Ee=>A.jsx("div",{role:"dialog",...Ee,style:Ft,className:rt(e,i,Be&&`${i}-static`,!S&&"show"),onClick:O?Xn:void 0,onMouseUp:on,"data-bs-theme":d,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:A.jsx(h,{...ve,onMouseDown:Vt,className:s,contentClassName:o,children:u})});return A.jsx(fS.Provider,{value:Ze,children:A.jsx(OM,{show:b,ref:Re,backdrop:O,container:J,keyboard:!0,autoFocus:X,enforceFocus:se,restoreFocus:ae,restoreFocusOptions:fe,onEscapeKeyDown:Ar,onShow:z,onHide:$,onEnter:Rr,onEntering:Cr,onEntered:k,onExit:Li,onExiting:R,onExited:qo,manager:Pe(),transition:S?zM:void 0,backdropTransition:S?BM:void 0,renderBackdrop:Os,renderDialog:Ra})})});gS.displayName="Modal";const yn=Object.assign(gS,{Body:hS,Header:mS,Title:pS,Footer:dS,Dialog:Xg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function yS(){const[i,e]=N.useState(!1),[t,s]=N.useState("login"),[o,u]=N.useState(""),[h,d]=N.useState(""),[p,g]=N.useState(""),[E,b]=N.useState(""),[S,O]=N.useState(""),[M,q]=N.useState(""),[z,$]=N.useState(""),J=Bp(),X=()=>{e(!1),s("login"),q(""),$("")},se=()=>e(!0),ae=async C=>{C.preventDefault(),q("");try{await iN(gs,ob);const x=(await nN(gs,p,E)).user,P=await Af(Oi(Qn,"Users",x.uid));if(P.exists()){const j=P.data();j.role==="admin"?J("/AdminDashboard"):j.role==="staff"?J("/StaffDashboard"):J("/UserDashboard"),j.verified||$("Your account is not verified yet. Some features may be restricted.")}else q("User role not found in database.");X()}catch(R){q(R.message)}},fe=async C=>{if(C.preventDefault(),q(""),$(""),E!==S){q("Passwords do not match");return}try{const P=(await tN(gs,p,E)).user.uid,j=Oi(Qn,"Users",P);await A2(j,{uid:P,firstName:o,lastName:h,email:p,role:"user",verified:!1,createdAt:new Date}),$("Account created! You can now log in."),s("login")}catch(R){q(R.message)}},k=async C=>{if(C.preventDefault(),q(""),$(""),!p){q("Please enter your email address.");return}try{await rb(gs,p),$("Password reset link sent to your email."),g("")}catch(R){q(R.message)}};return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"cursor-pointer block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-blue-200 active:bg-gray-200",onClick:se,children:"Log In / Sign Up"}),A.jsxs(yn,{show:i,onHide:X,centered:!0,children:[A.jsx(yn.Header,{closeButton:!0,children:A.jsxs(yn.Title,{children:[t==="login"&&"Log In",t==="signup"&&"Sign Up",t==="forgotPassword"&&"Reset Password"]})}),A.jsxs(yn.Body,{children:[M&&A.jsx("p",{className:"text-danger",children:M}),z&&A.jsx("p",{className:"text-success",children:z}),t==="forgotPassword"&&A.jsxs(xe,{onSubmit:k,children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email Address"}),A.jsx(xe.Control,{type:"email",placeholder:"Enter your email",value:p,onChange:C=>g(C.target.value),required:!0})]}),A.jsx(ii,{variant:"primary",type:"submit",className:"w-100",children:"Send Reset Link"}),A.jsx("div",{className:"mt-3 text-center",children:A.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),s("login")},children:"Back to Login"})})]}),t==="login"&&A.jsxs(xe,{onSubmit:ae,children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email"}),A.jsx(xe.Control,{type:"email",placeholder:"Enter email",value:p,onChange:C=>g(C.target.value)})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Password"}),A.jsx(xe.Control,{type:"password",placeholder:"Password",value:E,onChange:C=>b(C.target.value)}),A.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),s("forgotPassword")},children:"Forgot Password?"})]}),A.jsx(ii,{variant:"primary",type:"submit",className:"w-100",children:"Log In"}),A.jsx("div",{className:"mt-3 text-center",children:A.jsx("a",{href:"#",onClick:C=>{C.preventDefault(),s("signup")},children:"First time? Sign up"})})]}),t==="signup"&&A.jsxs(xe,{onSubmit:fe,children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"First Name"}),A.jsx(xe.Control,{type:"text",placeholder:"Enter first name",value:o,onChange:C=>u(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Last Name"}),A.jsx(xe.Control,{type:"text",placeholder:"Enter last name",value:h,onChange:C=>d(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email"}),A.jsx(xe.Control,{type:"email",placeholder:"Enter email",value:p,onChange:C=>g(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Password"}),A.jsx(xe.Control,{type:"password",placeholder:"Password",value:E,onChange:C=>b(C.target.value),required:!0})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Confirm Password"}),A.jsx(xe.Control,{type:"password",placeholder:"Confirm Password",value:S,onChange:C=>O(C.target.value),required:!0})]}),A.jsx(ii,{variant:"primary",type:"submit",className:"w-100",children:"Sign Up"})]})]})]})]})}function _S({show:i,onHide:e}){const[t,s]=N.useState([]),[o,u]=N.useState(""),[h,d]=N.useState(!1),[p,g]=N.useState(""),[E,b]=N.useState(""),[S,O]=N.useState(""),[M,q]=N.useState(""),[z,$]=N.useState("user"),[J,X]=N.useState({}),se=Ip(Qn,"Users"),ae=sf();N.useEffect(()=>{(async()=>{const ve=(await S2(se)).docs.map(ee=>({id:ee.id,...ee.data()}));ve.sort((ee,ce)=>new Date(ee.createdAt)-new Date(ce.createdAt)),s(ve)})()},[]),N.useEffect(()=>{const I=setInterval(()=>{X(Ae=>{const ve={...Ae};return Object.keys(ve).forEach(ee=>{ve[ee]>0?ve[ee]-=1:delete ve[ee]}),ve})},1e3);return()=>clearInterval(I)},[]);const fe=async(I,Ae)=>{const ve=Ae==="staff"?"user":"staff";await Dp(Oi(Qn,"Users",I),{role:ve}),s(ee=>ee.map(ce=>ce.id===I?{...ce,role:ve}:ce))},k=async I=>{if(J[I]){alert("Please wait before sending another reset email.");return}try{await rb(ae,I),alert(`Password reset email sent to ${I}`),X(Ae=>({...Ae,[I]:60}))}catch(Ae){console.error("Error sending reset email:",Ae.message),alert("Failed to send reset email. Please try again.")}},C=()=>{d(!0)},R=async()=>{if(!p||!E||!S||!M){alert("Please fill in all fields.");return}if(M.length<6){alert("Password must be at least 6 characters long.");return}const I=new Date().toISOString();try{const Ae=await fetch("http://localhost:5000/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:p,lastName:E,email:S,password:M,role:z,createdAt:new Date().toISOString()})}),ve=await Ae.json();Ae.ok?(s(ee=>[...ee,{id:ve.uid,firstName:p,lastName:E,email:S,role:z,createdAt:I,verified:!1}].sort((ce,ue)=>new Date(ue.createdAt)-new Date(ce.createdAt))),alert("User created successfully!"),d(!1),g(""),b(""),O(""),q(""),$("user")):alert("Failed to create user: "+ve.error)}catch(Ae){console.error("Error:",Ae),alert("Something went wrong.")}},x=async I=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const ve=await fetch(`http://localhost:5000/deleteUser/${I}`,{method:"DELETE"}),ee=await ve.json();ve.ok?(s(ce=>ce.filter(ue=>ue.id!==I)),alert("User deleted successfully!")):alert("Failed to delete user: "+ee.error)}catch(ve){console.error("Error:",ve),alert("Something went wrong while deleting the user.")}},P=async(I,Ae)=>{const ve=!Ae;try{await Dp(Oi(Qn,"Users",I),{verified:ve}),s(ee=>ee.map(ce=>ce.id===I?{...ce,verified:ve}:ce))}catch(ee){console.error("Error updating verification status:",ee),alert("Failed to update verification status.")}},j=()=>{d(!1)};return A.jsxs(A.Fragment,{children:[A.jsxs(yn,{show:i,onHide:e,centered:!0,size:"xl",className:"sm:max-w-full sm:h-screen sm:modal-dialog",children:[A.jsx(yn.Header,{closeButton:!0,children:A.jsx(yn.Title,{children:"Manage Users"})}),A.jsxs(yn.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:[A.jsx(xe.Control,{type:"text",placeholder:"Search by email...",value:o,onChange:I=>u(I.target.value),className:"mb-3"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-200",children:[A.jsx("th",{className:"p-2 border",children:"Email"}),A.jsx("th",{className:"p-2 border",children:"Role"}),A.jsx("th",{className:"p-2 border"}),A.jsx("th",{className:"p-2 border",children:"Verified"}),A.jsx("th",{className:"p-2 border"}),A.jsx("th",{className:"p-2 border",children:"Reset Password"})]})}),A.jsx("tbody",{className:"max-h-[300px] overflow-y-auto",children:t.filter(I=>I.email.toLowerCase().includes(o.toLowerCase())).map(I=>A.jsxs("tr",{className:"text-center",children:[A.jsx("td",{className:"p-2 border",children:I.email}),A.jsx("td",{className:"p-2 border",children:I.role}),A.jsx("td",{className:"p-2 border",children:A.jsx(ii,{variant:I.role==="staff"?"danger":"success",onClick:()=>I.role!=="admin"&&fe(I.id,I.role),disabled:I.role==="admin",className:I.role==="admin"?"bg-gray-400 text-gray-700 cursor-not-allowed":"",children:I.role==="admin"?"Admin":`Change to ${I.role==="staff"?"User":"Staff"}`})}),A.jsx("td",{className:"p-2 border",children:I.verified?"Yes":"No"}),A.jsx("td",{className:"p-2 border",children:A.jsx(ii,{variant:I.verified?"danger":"success",onClick:()=>P(I.id,I.verified),children:I.verified?"Unverify":"Verify"})}),A.jsx("td",{className:"p-2 border",children:A.jsx(ii,{variant:"warning",onClick:()=>k(I.email),disabled:!!J[I.email],children:J[I.email]?`Wait (${J[I.email]}s)`:"Send Reset Email"})}),A.jsx("td",{className:"p-2 border",children:A.jsx(ii,{variant:"danger",onClick:()=>x(I.id),children:"Delete"})})]},I.id))})]})})]}),A.jsx(yn.Footer,{className:"flex justify-end",children:A.jsx(ii,{variant:"primary",onClick:C,children:"Add New User"})})]}),A.jsxs(yn,{show:h,onHide:()=>d(!1),centered:!0,size:"md",children:[A.jsx(yn.Header,{closeButton:!0,children:A.jsx(yn.Title,{className:"text-center w-full",children:"Add New User"})}),A.jsx(yn.Body,{children:A.jsxs(xe,{children:[A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"First Name"}),A.jsx(xe.Control,{type:"text",value:p,onChange:I=>{const Ae=I.target.value.toLowerCase().replace(/\b\w/g,ve=>ve.toUpperCase());g(Ae)}})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Last Name"}),A.jsx(xe.Control,{type:"text",value:E,onChange:I=>{const Ae=I.target.value.toLowerCase().replace(/\b\w/g,ve=>ve.toUpperCase());b(Ae)}})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Email"}),A.jsx(xe.Control,{type:"email",value:S,onChange:I=>O(I.target.value)})]}),A.jsxs(xe.Group,{className:"mb-3",children:[A.jsx(xe.Label,{children:"Password"}),A.jsx(xe.Control,{type:"password",value:M,onChange:I=>q(I.target.value)})]})]})}),A.jsxs(yn.Footer,{className:"flex justify-between w-full",children:[A.jsx(ii,{variant:"secondary",onClick:j,children:"Back"}),A.jsx(ii,{variant:"success",onClick:async()=>{await R()},children:"Add User"})]})]})]})}const HM=()=>{const[i,e]=N.useState(!1),[t,s]=N.useState(null),[o,u]=N.useState(""),[h,d]=N.useState(void 0),[p,g]=N.useState(!1);N.useEffect(()=>{const b=gs.onAuthStateChanged(async S=>{if(s(S),S)try{const O=await Af(Oi(Qn,"Users",S.uid));O.exists()?(u(O.data().firstName),d(O.data().role)):d(null)}catch(O){console.error("Error fetching user data: ",O),d(null)}else d(null)});return()=>b()},[]);const E=async()=>{try{await aN(gs)}catch(b){console.error("Error signing out: ",b)}};return A.jsx(A.Fragment,{children:h!==void 0&&A.jsxs("nav",{className:"border-b border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700 font-semibold",children:[A.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-4",children:[A.jsx(Kn,{to:h==="admin"?"/adminDashboard":"/",className:"flex items-center space-x-3",children:A.jsx("img",{src:hk,className:"h-12 w-auto",alt:"FCL"})}),A.jsx("div",{className:"hidden md:flex items-center gap-4 ml-auto",children:h==="admin"?A.jsx("div",{className:"mr-3 block py-2 px-3 text-black no-underline hover:bg-gray-100 rounded transition-all duration-200 transform hover:scale-105 active:scale-95",onClick:()=>g(!0),children:"Manage Users"}):A.jsxs(A.Fragment,{children:[A.jsx(Kn,{to:"/About",className:"block py-2 px-3 text-black no-underline hover:bg-gray-100 rounded transition-all duration-200 transform hover:scale-105 active:scale-95",children:"About Us"}),A.jsx(Kn,{to:"/Services",className:"block py-2 px-3 text-black no-underline hover:bg-gray-100 rounded transition-all duration-200 transform hover:scale-105 active:scale-95",children:"Services"}),A.jsx(Kn,{to:"/OurCommitment",className:"block py-2 px-3 mr-3 text-black no-underline hover:bg-gray-100 rounded transition-all duration-200 transform hover:scale-105 active:scale-95",children:"Our Commitment"})]})}),A.jsx("div",{className:"flex items-center space-x-2 md:space-x-3",children:A.jsx("button",{onClick:()=>e(!0),className:"p-2 text-gray-500 rounded-lg hover:bg-gray-100 focus:outline-none",children:A.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),A.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),A.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})})]}),i&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 backdrop-blur-md",onClick:()=>e(!1)}),A.jsxs("div",{className:`fixed inset-y-0 right-0 w-full sm:w-95 bg-white text-black shadow-lg transform ${i?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out z-50 flex flex-col h-full`,children:[A.jsxs("div",{className:"p-5 flex justify-between items-center border-b border-gray-300",children:[A.jsx("span",{className:"text-lg font-semibold",children:A.jsx("a",{children:t?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"text-2xl mb-3",children:["Welcome, ",h==="admin"?"Admin":o||"User","!"]}),A.jsx("button",{onClick:E,className:"py-1 px-1 text-black hover:bg-red-200 rounded",children:"Log Out"})]}):A.jsx(yS,{})})}),A.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-black",children:"✕"})]}),A.jsxs("ul",{className:"p-4 space-y-3 flex flex-col items-center text-center flex-grow w-full text-xl",children:[h==="admin"?A.jsxs(A.Fragment,{children:[A.jsx("li",{className:"w-full",children:A.jsx("div",{className:"md:hidden block py-2 px-3 text-black no-underline hover:bg-gray-100 rounded transition-all duration-200 transform hover:scale-105 active:scale-95",onClick:()=>g(!0),children:"Manage Users"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{onClick:()=>e(!1),className:"block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-gray-100 active:bg-gray-200",children:"Messages"})})]}):A.jsxs(A.Fragment,{children:[A.jsx("li",{className:"w-full m:hidden",children:A.jsx(Kn,{to:"/About",onClick:()=>e(!1),className:"md:hidden block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-gray-100 active:bg-gray-200",children:"About Us"})}),A.jsx("li",{className:"w-full m:hidden",children:A.jsx(Kn,{to:"/Services",onClick:()=>e(!1),className:"md:hidden block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-gray-100 active:bg-gray-200",children:"Services"})}),A.jsx("li",{className:"w-full m:hidden",children:A.jsx(Kn,{to:"/OurCommitment",onClick:()=>e(!1),className:"md:hidden block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-gray-100 active:bg-gray-200",children:"Our Commitment"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/TrackPackage",onClick:()=>e(!1),className:"block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-gray-100 active:bg-gray-200",children:"Track Package"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/Contact",onClick:()=>e(!1),className:"block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-gray-100 active:bg-gray-200",children:"Contact Us!"})}),A.jsx("li",{className:"w-full",children:A.jsx(Kn,{to:"/ChatHelp",onClick:()=>e(!1),className:"block w-full py-3 px-3 text-black no-underline rounded transition-all duration-200 hover:bg-gray-100 active:bg-gray-200",children:"Need Help?"})})]}),A.jsx("li",{className:"mt-auto pt-4 border-t w-full text-center text-gray-500 text-sm",children:"© 2025 Frances Logistics. All rights reserved."})]}),A.jsx(_S,{show:p,onHide:()=>g(!1)})]})]})})};function FM(){const[i,e]=N.useState([]),[t,s]=N.useState({driver:"",status:"",trackingNumber:""}),[o,u]=N.useState(1);N.useEffect(()=>{const g=I2(Ip(Qn,"DeliverTrack"),E=>{const b=E.docs.map(S=>({id:S.id,...S.data()}));if(e(b),b.length>0){const S=Math.max(...b.map(O=>O.autoIncrementId||0));u(S+1)}});return()=>g()},[]);const h=async()=>{t.driver&&t.status&&t.trackingNumber&&(await C2(Ip(Qn,"DeliverTrack"),{driver:t.driver,status:t.status,trackingNumber:t.trackingNumber,autoIncrementId:o,timestamp:N2()}),s({driver:"",status:"",trackingNumber:""}),u(o+1))},d=async g=>{const E=prompt("Enter new status:");if(E){const b=Oi(Qn,"DeliverTrack",g);await Dp(b,{status:E})}},p=async g=>{const E=Oi(Qn,"DeliverTrack",g);await R2(E)};return A.jsxs("div",{className:"p-4",children:[A.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Tracking System"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("input",{type:"text",placeholder:"Driver Name",value:t.driver,onChange:g=>s({...t,driver:g.target.value}),className:"border p-2 mr-2"}),A.jsx("input",{type:"text",placeholder:"Status",value:t.status,onChange:g=>s({...t,status:g.target.value}),className:"border p-2 mr-2"}),A.jsx("input",{type:"text",placeholder:"Tracking Number",value:t.trackingNumber,onChange:g=>s({...t,trackingNumber:g.target.value}),className:"border p-2 mr-2"}),A.jsx("button",{onClick:h,className:"bg-blue-500 text-white p-2",children:"Add Delivery"})]}),A.jsx("ul",{children:i.map(g=>{var E;return A.jsxs("li",{className:"border-b p-2 flex justify-between",children:[A.jsxs("div",{children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Driver:"})," ",g.driver]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Status:"})," ",g.status]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Tracking #:"})," ",g.trackingNumber]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Package ID:"})," ",g.autoIncrementId]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Timestamp:"})," ",(E=g.timestamp)==null?void 0:E.toDate().toString()]})]}),A.jsxs("div",{children:[A.jsx("button",{onClick:()=>d(g.id),className:"text-yellow-500 mr-2",children:"Update"}),A.jsx("button",{onClick:()=>p(g.id),className:"text-red-500",children:"Delete"})]})]},g.id)})})]})}const qM=()=>A.jsx("div",{children:A.jsx("h1",{children:"aaa"})});function GM(){const[i,e]=N.useState(null),t=sf();return N.useEffect(()=>{const s=tf(t,o=>{e(o)});return()=>s()},[]),A.jsx("div",{children:A.jsxs("h1",{children:["Welcome ",i?i.email:"Guest"]})})}function $M(){const[i,e]=N.useState(null),t=sf();return N.useEffect(()=>{const s=tf(t,o=>{e(o)});return()=>s()},[]),A.jsx("div",{children:A.jsxs("h1",{children:["Welcome ",i?i.email:"Guest"]})})}const KM=()=>{const[i,e]=N.useState(""),t=s=>{if(s.preventDefault(),!i)return;const o=`https://www.track-trace.com/aircargo?awb=${i}`;window.location.href=o};return A.jsxs("div",{className:"p-5 border rounded-lg shadow-md max-w-lg mx-auto",children:[A.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Track Your Air Cargo Shipment"}),A.jsxs("form",{onSubmit:t,className:"flex flex-col space-y-3",children:[A.jsx("label",{htmlFor:"awb",className:"text-sm font-medium",children:"Enter Air Waybill (AWB):"}),A.jsx("input",{type:"text",id:"awb",value:i,onChange:s=>e(s.target.value),placeholder:"Example: 123-45678901",required:!0,className:"border p-2 rounded w-full"}),A.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:"Track"})]})]})},QM=()=>A.jsx("div",{children:A.jsx("h1",{children:"This is Staff"})}),YM=()=>A.jsx("div",{children:A.jsx(A.Fragment,{children:"HIIIIIIIII"})}),XM=()=>A.jsxs(A.Fragment,{children:[A.jsx(HM,{}),A.jsxs(HR,{children:[A.jsx(nn,{path:"/",element:A.jsx(ak,{})}),A.jsx(nn,{path:"/About",element:A.jsx(ok,{})}),A.jsx(nn,{path:"/Services",element:A.jsx(lk,{})}),A.jsx(nn,{path:"/OurCommitment",element:A.jsx(uk,{})}),A.jsx(nn,{path:"/Contact",element:A.jsx(ck,{})}),A.jsx(nn,{path:"/Login",element:A.jsx(yS,{})}),A.jsx(nn,{path:"/FirebaseTest",element:A.jsx(FM,{})}),A.jsx(nn,{path:"/TrackPackage",element:A.jsx(qM,{})}),A.jsx(nn,{path:"/AirCargoTracking",element:A.jsx(KM,{})}),A.jsx(nn,{path:"/UserDashboard",element:A.jsx($M,{})}),A.jsx(nn,{path:"/ChatHelp",element:A.jsx(YM,{})}),A.jsx(nn,{path:"/AdminDashboard",element:A.jsx(Km,{requiredRole:"admin",children:A.jsx(GM,{})})}),A.jsx(nn,{path:"/ManageUsers",element:A.jsx(Km,{requiredRole:"admin",children:A.jsx(_S,{})})}),A.jsx(nn,{path:"/StaffDashboard",element:A.jsx(Km,{requiredRole:"staff",children:A.jsx(QM,{})})}),A.jsx(nn,{path:"/unauthorized",element:A.jsx(TC,{})})]})]}),WM=N.createContext(),ZM=({children:i})=>{const[e,t]=N.useState(null),[s,o]=N.useState(!0);return N.useEffect(()=>{const u=tf(gs,async h=>{if(h){const d=await Af(Oi(Qn,"Users",h.uid));d.exists()?t({...h,role:d.data().role}):t(h)}else t(null);o(!1)});return()=>u()},[]),A.jsx(WM.Provider,{value:{user:e,loading:s},children:i})};WA.createRoot(document.getElementById("root")).render(A.jsxs(ZM,{children:[" ",A.jsx(hC,{basename:"/cargofran",children:A.jsx(XM,{})})]}));
