(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Rp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jy={exports:{}},rf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function YN(){if(gT)return rf;gT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return rf.Fragment=e,rf.jsx=n,rf.jsxs=n,rf}var yT;function WN(){return yT||(yT=1,jy.exports=YN()),jy.exports}var _=WN(),Uy={exports:{}},af={},By={exports:{}},Fy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function QN(){return vT||(vT=1,function(t){function e(fe,Ee){var ye=fe.length;fe.push(Ee);e:for(;0<ye;){var tt=ye-1>>>1,V=fe[tt];if(0<a(V,Ee))fe[tt]=Ee,fe[ye]=V,ye=tt;else break e}}function n(fe){return fe.length===0?null:fe[0]}function i(fe){if(fe.length===0)return null;var Ee=fe[0],ye=fe.pop();if(ye!==Ee){fe[0]=ye;e:for(var tt=0,V=fe.length,de=V>>>1;tt<de;){var Ce=2*(tt+1)-1,Se=fe[Ce],Ae=Ce+1,Be=fe[Ae];if(0>a(Se,ye))Ae<V&&0>a(Be,Se)?(fe[tt]=Be,fe[Ae]=ye,tt=Ae):(fe[tt]=Se,fe[Ce]=ye,tt=Ce);else if(Ae<V&&0>a(Be,ye))fe[tt]=Be,fe[Ae]=ye,tt=Ae;else break e}}return Ee}function a(fe,Ee){var ye=fe.sortIndex-Ee.sortIndex;return ye!==0?ye:fe.id-Ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,E=null,w=3,R=!1,k=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(fe){for(var Ee=n(m);Ee!==null;){if(Ee.callback===null)i(m);else if(Ee.startTime<=fe)i(m),Ee.sortIndex=Ee.expirationTime,e(f,Ee);else break;Ee=n(m)}}function re(fe){if(H=!1,Y(fe),!k)if(n(f)!==null)k=!0,Oe();else{var Ee=n(m);Ee!==null&&Ne(re,Ee.startTime-fe)}}var te=!1,Q=-1,B=5,D=-1;function N(){return!(t.unstable_now()-D<B)}function U(){if(te){var fe=t.unstable_now();D=fe;var Ee=!0;try{e:{k=!1,H&&(H=!1,M(Q),Q=-1),R=!0;var ye=w;try{t:{for(Y(fe),E=n(f);E!==null&&!(E.expirationTime>fe&&N());){var tt=E.callback;if(typeof tt=="function"){E.callback=null,w=E.priorityLevel;var V=tt(E.expirationTime<=fe);if(fe=t.unstable_now(),typeof V=="function"){E.callback=V,Y(fe),Ee=!0;break t}E===n(f)&&i(f),Y(fe)}else i(f);E=n(f)}if(E!==null)Ee=!0;else{var de=n(m);de!==null&&Ne(re,de.startTime-fe),Ee=!1}}break e}finally{E=null,w=ye,R=!1}Ee=void 0}}finally{Ee?F():te=!1}}}var F;if(typeof q=="function")F=function(){q(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=U,F=function(){L.postMessage(null)}}else F=function(){j(U,0)};function Oe(){te||(te=!0,F())}function Ne(fe,Ee){Q=j(function(){fe(t.unstable_now())},Ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_continueExecution=function(){k||R||(k=!0,Oe())},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(fe){switch(w){case 1:case 2:case 3:var Ee=3;break;default:Ee=w}var ye=w;w=Ee;try{return fe()}finally{w=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(fe,Ee){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var ye=w;w=fe;try{return Ee()}finally{w=ye}},t.unstable_scheduleCallback=function(fe,Ee,ye){var tt=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?tt+ye:tt):ye=tt,fe){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ye+V,fe={id:v++,callback:Ee,priorityLevel:fe,startTime:ye,expirationTime:V,sortIndex:-1},ye>tt?(fe.sortIndex=ye,e(m,fe),n(f)===null&&fe===n(m)&&(H?(M(Q),Q=-1):H=!0,Ne(re,ye-tt))):(fe.sortIndex=V,e(f,fe),k||R||(k=!0,Oe())),fe},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(fe){var Ee=w;return function(){var ye=w;w=Ee;try{return fe.apply(this,arguments)}finally{w=ye}}}}(Fy)),Fy}var _T;function XN(){return _T||(_T=1,By.exports=QN()),By.exports}var zy={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function ZN(){if(bT)return it;bT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function j(V,de,Ce){this.props=V,this.context=de,this.refs=H,this.updater=Ce||R}j.prototype.isReactComponent={},j.prototype.setState=function(V,de){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,de,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function M(){}M.prototype=j.prototype;function q(V,de,Ce){this.props=V,this.context=de,this.refs=H,this.updater=Ce||R}var Y=q.prototype=new M;Y.constructor=q,k(Y,j.prototype),Y.isPureReactComponent=!0;var re=Array.isArray,te={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function B(V,de,Ce,Se,Ae,Be){return Ce=Be.ref,{$$typeof:t,type:V,key:de,ref:Ce!==void 0?Ce:null,props:Be}}function D(V,de){return B(V.type,de,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function U(V){var de={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Ce){return de[Ce]})}var F=/\/+/g;function $(V,de){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):de.toString(36)}function L(){}function Oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(de){V.status==="pending"&&(V.status="fulfilled",V.value=de)},function(de){V.status==="pending"&&(V.status="rejected",V.reason=de)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ne(V,de,Ce,Se,Ae){var Be=typeof V;(Be==="undefined"||Be==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Be){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case t:case e:Pe=!0;break;case v:return Pe=V._init,Ne(Pe(V._payload),de,Ce,Se,Ae)}}if(Pe)return Ae=Ae(V),Pe=Se===""?"."+$(V,0):Se,re(Ae)?(Ce="",Pe!=null&&(Ce=Pe.replace(F,"$&/")+"/"),Ne(Ae,de,Ce,"",function(at){return at})):Ae!=null&&(N(Ae)&&(Ae=D(Ae,Ce+(Ae.key==null||V&&V.key===Ae.key?"":(""+Ae.key).replace(F,"$&/")+"/")+Pe)),de.push(Ae)),1;Pe=0;var Rt=Se===""?".":Se+":";if(re(V))for(var be=0;be<V.length;be++)Se=V[be],Be=Rt+$(Se,be),Pe+=Ne(Se,de,Ce,Be,Ae);else if(be=w(V),typeof be=="function")for(V=be.call(V),be=0;!(Se=V.next()).done;)Se=Se.value,Be=Rt+$(Se,be++),Pe+=Ne(Se,de,Ce,Be,Ae);else if(Be==="object"){if(typeof V.then=="function")return Ne(Oe(V),de,Ce,Se,Ae);throw de=String(V),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function fe(V,de,Ce){if(V==null)return V;var Se=[],Ae=0;return Ne(V,Se,"","",function(Be){return de.call(Ce,Be,Ae++)}),Se}function Ee(V){if(V._status===-1){var de=V._result;de=de(),de.then(function(Ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=Ce)},function(Ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=Ce)}),V._status===-1&&(V._status=0,V._result=de)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function tt(){}return it.Children={map:fe,forEach:function(V,de,Ce){fe(V,function(){de.apply(this,arguments)},Ce)},count:function(V){var de=0;return fe(V,function(){de++}),de},toArray:function(V){return fe(V,function(de){return de})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},it.Component=j,it.Fragment=n,it.Profiler=a,it.PureComponent=q,it.StrictMode=i,it.Suspense=f,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,it.act=function(){throw Error("act(...) is not supported in production builds of React.")},it.cache=function(V){return function(){return V.apply(null,arguments)}},it.cloneElement=function(V,de,Ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Se=k({},V.props),Ae=V.key,Be=void 0;if(de!=null)for(Pe in de.ref!==void 0&&(Be=void 0),de.key!==void 0&&(Ae=""+de.key),de)!Q.call(de,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&de.ref===void 0||(Se[Pe]=de[Pe]);var Pe=arguments.length-2;if(Pe===1)Se.children=Ce;else if(1<Pe){for(var Rt=Array(Pe),be=0;be<Pe;be++)Rt[be]=arguments[be+2];Se.children=Rt}return B(V.type,Ae,void 0,void 0,Be,Se)},it.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},it.createElement=function(V,de,Ce){var Se,Ae={},Be=null;if(de!=null)for(Se in de.key!==void 0&&(Be=""+de.key),de)Q.call(de,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Ae[Se]=de[Se]);var Pe=arguments.length-2;if(Pe===1)Ae.children=Ce;else if(1<Pe){for(var Rt=Array(Pe),be=0;be<Pe;be++)Rt[be]=arguments[be+2];Ae.children=Rt}if(V&&V.defaultProps)for(Se in Pe=V.defaultProps,Pe)Ae[Se]===void 0&&(Ae[Se]=Pe[Se]);return B(V,Be,void 0,void 0,null,Ae)},it.createRef=function(){return{current:null}},it.forwardRef=function(V){return{$$typeof:h,render:V}},it.isValidElement=N,it.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:Ee}},it.memo=function(V,de){return{$$typeof:m,type:V,compare:de===void 0?null:de}},it.startTransition=function(V){var de=te.T,Ce={};te.T=Ce;try{var Se=V(),Ae=te.S;Ae!==null&&Ae(Ce,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(tt,ye)}catch(Be){ye(Be)}finally{te.T=de}},it.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},it.use=function(V){return te.H.use(V)},it.useActionState=function(V,de,Ce){return te.H.useActionState(V,de,Ce)},it.useCallback=function(V,de){return te.H.useCallback(V,de)},it.useContext=function(V){return te.H.useContext(V)},it.useDebugValue=function(){},it.useDeferredValue=function(V,de){return te.H.useDeferredValue(V,de)},it.useEffect=function(V,de){return te.H.useEffect(V,de)},it.useId=function(){return te.H.useId()},it.useImperativeHandle=function(V,de,Ce){return te.H.useImperativeHandle(V,de,Ce)},it.useInsertionEffect=function(V,de){return te.H.useInsertionEffect(V,de)},it.useLayoutEffect=function(V,de){return te.H.useLayoutEffect(V,de)},it.useMemo=function(V,de){return te.H.useMemo(V,de)},it.useOptimistic=function(V,de){return te.H.useOptimistic(V,de)},it.useReducer=function(V,de,Ce){return te.H.useReducer(V,de,Ce)},it.useRef=function(V){return te.H.useRef(V)},it.useState=function(V){return te.H.useState(V)},it.useSyncExternalStore=function(V,de,Ce){return te.H.useSyncExternalStore(V,de,Ce)},it.useTransition=function(){return te.H.useTransition()},it.version="19.0.0",it}var ET;function w_(){return ET||(ET=1,zy.exports=ZN()),zy.exports}var Hy={exports:{}},_i={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function JN(){if(TT)return _i;TT=1;var t=w_();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:f,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return _i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_i.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,v)},_i.flushSync=function(f){var m=u.T,v=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=m,i.p=v,i.d.f()}},_i.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},_i.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},_i.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,E=h(v,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:R}):v==="script"&&i.d.X(f,{crossOrigin:E,integrity:w,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},_i.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},_i.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=h(v,m.crossOrigin);i.d.L(f,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},_i.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},_i.requestFormReset=function(f){i.d.r(f)},_i.unstable_batchedUpdates=function(f,m){return f(m)},_i.useFormState=function(f,m,v){return u.H.useFormState(f,m,v)},_i.useFormStatus=function(){return u.H.useHostTransitionStatus()},_i.version="19.0.0",_i}var wT;function WS(){if(wT)return Hy.exports;wT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hy.exports=JN(),Hy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function e2(){if(AT)return af;AT=1;var t=XN(),e=w_(),n=WS();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var l=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),R=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function D(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case f:return"Fragment";case h:return"Portal";case v:return"Profiler";case m:return"StrictMode";case H:return"Suspense";case j:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Provider";case w:return(s._context.displayName||"Context")+".Consumer";case k:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return r=s.displayName||null,r!==null?r:D(s.type)||"Memo";case q:r=s._payload,s=s._init;try{return D(s(r))}catch{}}return null}var N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,F,$;function L(s){if(F===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);F=r&&r[1]||"",$=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+s+$}var Oe=!1;function Ne(s,r){if(!s||Oe)return"";Oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var ne=ae}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(ae){ne=ae}s.call(ge.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],I=y[1];if(S&&I){var z=S.split(`
`),W=I.split(`
`);for(p=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===z.length||p===W.length)for(c=z.length-1,p=W.length-1;1<=c&&0<=p&&z[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(z[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||z[c]!==W[p]){var oe=`
`+z[c].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=c&&0<=p);break}}}finally{Oe=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?L(o):""}function fe(s){switch(s.tag){case 26:case 27:case 5:return L(s.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return s=Ne(s.type,!1),s;case 11:return s=Ne(s.type.render,!1),s;case 1:return s=Ne(s.type,!0),s;default:return""}}function Ee(s){try{var r="";do r+=fe(s),s=s.return;while(s);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ye(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function tt(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function V(s){if(ye(s)!==s)throw Error(i(188))}function de(s){var r=s.alternate;if(!r){if(r=ye(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return V(p),s;if(y===c)return V(p),r;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=p,c=y;else{for(var S=!1,I=p.child;I;){if(I===o){S=!0,o=p,c=y;break}if(I===c){S=!0,c=p,o=y;break}I=I.sibling}if(!S){for(I=y.child;I;){if(I===o){S=!0,o=y,c=p;break}if(I===c){S=!0,c=y,o=p;break}I=I.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function Ce(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=Ce(s),r!==null)return r;s=s.sibling}return null}var Se=Array.isArray,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Pe=[],Rt=-1;function be(s){return{current:s}}function at(s){0>Rt||(s.current=Pe[Rt],Pe[Rt]=null,Rt--)}function pe(s,r){Rt++,Pe[Rt]=s.current,s.current=r}var Ve=be(null),nt=be(null),ot=be(null),Bt=be(null);function Qe(s,r){switch(pe(ot,r),pe(nt,s),pe(Ve,null),s=r.nodeType,s){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?$E(r):0;break;default:if(s=s===8?r.parentNode:r,r=s.tagName,s=s.namespaceURI)s=$E(s),r=GE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}at(Ve),pe(Ve,r)}function Jt(){at(Ve),at(nt),at(ot)}function ts(s){s.memoizedState!==null&&pe(Bt,s);var r=Ve.current,o=GE(r,s.type);r!==o&&(pe(nt,s),pe(Ve,o))}function Cr(s){nt.current===s&&(at(Ve),at(nt)),Bt.current===s&&(at(Bt),Jh._currentValue=Be)}var Rr=Object.prototype.hasOwnProperty,Gs=t.unstable_scheduleCallback,Ir=t.unstable_cancelCallback,wl=t.unstable_shouldYield,ca=t.unstable_requestPaint,an=t.unstable_now,Ci=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,It=t.unstable_UserBlockingPriority,kn=t.unstable_NormalPriority,Ks=t.unstable_LowPriority,Nr=t.unstable_IdlePriority,lh=t.log,Ys=t.unstable_setDisableYieldValue,Dr=null,zn=null;function Al(s){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Dr,s,void 0,(s.current.flags&128)===128)}catch{}}function bs(s){if(typeof lh=="function"&&Ys(s),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(Dr,s)}catch{}}var ti=Math.clz32?Math.clz32:ha,Sl=Math.log,xl=Math.LN2;function ha(s){return s>>>=0,s===0?32:31-(Sl(s)/xl|0)|0}var ns=128,Ws=4194304;function is(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fi(s,r){var o=s.pendingLanes;if(o===0)return 0;var c=0,p=s.suspendedLanes,y=s.pingedLanes,S=s.warmLanes;s=s.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~p,o!==0?c=is(o):(y&=I,y!==0?c=is(y):s||(S=I&~S,S!==0&&(c=is(S))))):(I=o&~p,I!==0?c=is(I):y!==0?c=is(y):s||(S=o&~S,S!==0&&(c=is(S)))),c===0?0:r!==0&&r!==c&&(r&p)===0&&(p=c&-c,S=r&-r,p>=S||p===32&&(S&4194176)!==0)?r:c}function Or(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function oo(s,r){switch(s){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(){var s=ns;return ns<<=1,(ns&4194176)===0&&(ns=128),s}function zi(){var s=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),s}function lo(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function en(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function xu(s,r,o,c,p,y){var S=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var I=s.entanglements,z=s.expirationTimes,W=s.hiddenUpdates;for(o=S&~o;0<o;){var oe=31-ti(o),ge=1<<oe;I[oe]=0,z[oe]=-1;var ne=W[oe];if(ne!==null)for(W[oe]=null,oe=0;oe<ne.length;oe++){var ae=ne[oe];ae!==null&&(ae.lane&=-536870913)}o&=~ge}c!==0&&kr(s,c,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(S&~r))}function kr(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-ti(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&4194218}function Pr(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-ti(o),p=1<<c;p&r|s[c]&r&&(s[c]|=r),o&=~p}}function uo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qs(){var s=Ae.p;return s!==0?s:(s=window.event,s===void 0?32:cT(s.type))}function ss(s,r){var o=Ae.p;try{return Ae.p=s,r()}finally{Ae.p=o}}var Ts=Math.random().toString(36).slice(2),on="__reactFiber$"+Ts,yn="__reactProps$"+Ts,Xs="__reactContainer$"+Ts,Hi="__reactEvents$"+Ts,ln="__reactListeners$"+Ts,Wt="__reactHandles$"+Ts,Pn="__reactResources$"+Ts,Qt="__reactMarker$"+Ts;function ws(s){delete s[on],delete s[yn],delete s[Hi],delete s[ln],delete s[Wt]}function Hn(s){var r=s[on];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Xs]||o[on]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=WE(s);s!==null;){if(o=s[on])return o;s=WE(s)}return r}s=o,o=s.parentNode}return null}function ni(s){if(s=s[on]||s[Xs]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Ri(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Zs(s){var r=s[Pn];return r||(r=s[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Vt(s){s[Qt]=!0}var As=new Set,fa={};function ii(s,r){qn(s,r),qn(s+"Capture",r)}function qn(s,r){for(fa[s]=r,s=0;s<r.length;s++)As.add(r[s])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Cl(s){return Rr.call(ho,s)?!0:Rr.call(co,s)?!1:Cu.test(s)?ho[s]=!0:(co[s]=!0,!1)}function Js(s,r,o){if(Cl(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function er(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ii(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function $n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rl(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qi(s){var r=Rl(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),c=""+s[r];if(!s.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(s,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function vn(s){s._valueTracker||(s._valueTracker=qi(s))}function rs(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Rl(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function Mn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var as=/[\n"\\]/g;function Ft(s){return s.replace(as,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vn(s,r,o,c,p,y,S,I){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),r!=null?S==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+$n(r)):s.value!==""+$n(r)&&(s.value=""+$n(r)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),r!=null?tr(s,S,$n(r)):o!=null?tr(s,S,$n(o)):c!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+$n(I):s.removeAttribute("name")}function Ni(s,r,o,c,p,y,S,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+$n(o):"",r=r!=null?""+$n(r):o,I||r===s.value||(s.value=r),s.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=I?s.checked:!!c,s.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function tr(s,r,o){r==="number"&&Mn(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function rt(s,r,o,c){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&c&&(s[o].defaultSelected=!0)}else{for(o=""+$n(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function nr(s,r,o){if(r!=null&&(r=""+$n(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+$n(o):""}function ir(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(Se(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=$n(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c)}function Ln(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Il=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fo(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Il.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function $i(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&fo(s,p,c)}else for(var y in r)r.hasOwnProperty(y)&&fo(s,y,r[y])}function Nl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ss=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(s){return mo.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Gn=null;function Mr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Di=null,xs=null;function Cs(s){var r=ni(s);if(r&&(s=r.stateNode)){var o=s[yn]||null;e:switch(s=r.stateNode,r.type){case"input":if(Vn(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ft(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var p=c[yn]||null;if(!p)throw Error(i(90));Vn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&rs(c)}break e;case"textarea":nr(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rt(s,!!o.multiple,r,!1)}}}var po=!1;function sr(s,r,o){if(po)return s(r,o);po=!0;try{var c=s(r);return c}finally{if(po=!1,(Di!==null||xs!==null)&&(Xd(),Di&&(r=Di,s=xs,xs=Di=null,Cs(r),s)))for(r=0;r<s.length;r++)Cs(s[r])}}function da(s,r){var o=s.stateNode;if(o===null)return null;var c=o[yn]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Oi=!1;if(pi)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Oi=!1}var ki=null,Rs=null,ar=null;function Vr(){if(ar)return ar;var s,r=Rs,o=r.length,c,p="value"in ki?ki.value:ki.textContent,y=p.length;for(s=0;s<o&&r[s]===p[s];s++);var S=o-s;for(c=1;c<=S&&r[o-c]===p[y-c];c++);return ar=p.slice(s,1<c?1-c:void 0)}function Is(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function ma(){return!1}function un(s){function r(o,c,p,y,S){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(o=s[I],this[I]=o?o(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ls:ma,this.isPropagationStopped=ma,this}return U(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=un(Et),us=U({},Et,{view:0,detail:0}),go=un(us),ga,ya,si,va=U({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==si&&(si&&s.type==="mousemove"?(ga=s.screenX-si.screenX,ya=s.screenY-si.screenY):ya=ga=0,si=s),ga)},movementY:function(s){return"movementY"in s?s.movementY:ya}}),Pi=un(va),Dl=U({},va,{dataTransfer:0}),Ru=un(Dl),Lr=U({},us,{relatedTarget:0}),_a=un(Lr),ba=U({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=un(ba),Iu=U({},Et,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yo=un(Iu),Nu=U({},Et,{data:0}),vo=un(Nu),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ta(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Ou[s])?!!r[s]:!1}function jr(){return Ta}var Ol=U({},us,{key:function(s){if(s.key){var r=Ns[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Is(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Du[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(s){return s.type==="keypress"?Is(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Is(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gi=un(Ol),_o=U({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=un(_o),Ds=U({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),ku=un(Ds),Pu=U({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=un(Pu),Vu=U({},va,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=un(Vu),Kn=U({},Et,{newState:0,oldState:0}),Lu=un(Kn),or=[9,13,27,32],Yn=pi&&"CompositionEvent"in window,d=null;pi&&"documentMode"in document&&(d=document.documentMode);var b=pi&&"TextEvent"in window&&!d,A=pi&&(!Yn||d&&8<d&&11>=d),P=" ",J=!1;function ie(s,r){switch(s){case"keyup":return or.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ft=!1;function _n(s,r){switch(s){case"compositionend":return xe(r);case"keypress":return r.which!==32?null:(J=!0,P);case"textInput":return s=r.data,s===P&&J?null:s;default:return null}}function dt(s,r){if(ft)return s==="compositionend"||!Yn&&ie(s,r)?(s=Vr(),ar=Rs=ki=null,ft=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return A&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Dt[s.type]:r==="textarea"}function Os(s,r,o,c){Di?xs?xs.push(c):xs=[c]:Di=c,r=nm(r,"onChange"),0<r.length&&(o=new pa("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var Sn=null,ks=null;function Pl(s){BE(s,0)}function Ml(s){var r=Ri(s);if(rs(r))return s}function Vl(s,r){if(s==="change")return r}var md=!1;if(pi){var uh;if(pi){var ju="oninput"in document;if(!ju){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),ju=typeof pd.oninput=="function"}uh=ju}else uh=!1;md=uh&&(!document.documentMode||9<document.documentMode)}function gd(){Sn&&(Sn.detachEvent("onpropertychange",ch),ks=Sn=null)}function ch(s){if(s.propertyName==="value"&&Ml(ks)){var r=[];Os(r,ks,s,Mr(s)),sr(Pl,r)}}function yd(s,r,o){s==="focusin"?(gd(),Sn=r,ks=o,Sn.attachEvent("onpropertychange",ch)):s==="focusout"&&gd()}function vd(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ml(ks)}function Uu(s,r){if(s==="click")return Ml(r)}function _d(s,r){if(s==="input"||s==="change")return Ml(r)}function hh(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var zt=typeof Object.is=="function"?Object.is:hh;function Ll(s,r){if(zt(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Rr.call(r,p)||!zt(s[p],r[p]))return!1}return!0}function bd(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fh(s,r){var o=bd(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bd(o)}}function dh(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?dh(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Ed(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Mn(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Mn(s.document)}return r}function mh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}function gg(s,r){var o=Ed(r);r=s.focusedElem;var c=s.selectionRange;if(o!==r&&r&&r.ownerDocument&&dh(r.ownerDocument.documentElement,r)){if(c!==null&&mh(r)){if(s=c.start,o=c.end,o===void 0&&(o=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(o,r.value.length);else if(o=(s=r.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var p=r.textContent.length,y=Math.min(c.start,p);c=c.end===void 0?y:Math.min(c.end,p),!o.extend&&y>c&&(p=c,c=y,y=p),p=fh(r,y);var S=fh(r,c);p&&S&&(o.rangeCount!==1||o.anchorNode!==p.node||o.anchorOffset!==p.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),o.removeAllRanges(),y>c?(o.addRange(s),o.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),o.addRange(s)))}}for(s=[],o=r;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)o=s[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var yg=pi&&"documentMode"in document&&11>=document.documentMode,bo=null,ph=null,Eo=null,Bu=!1;function Fu(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bu||bo==null||bo!==Mn(c)||(c=bo,"selectionStart"in c&&mh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Eo&&Ll(Eo,c)||(Eo=c,c=nm(ph,"onSelect"),0<c.length&&(r=new pa("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=bo)))}function Aa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var To={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},lr={},Ps={};pi&&(Ps=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Ur(s){if(lr[s])return lr[s];if(!To[s])return s;var r=To[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Ps)return lr[s]=r[o];return s}var Td=Ur("animationend"),gh=Ur("animationiteration"),yh=Ur("animationstart"),wd=Ur("transitionrun"),Ad=Ur("transitionstart"),vg=Ur("transitioncancel"),Sd=Ur("transitionend"),xd=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ki(s,r){xd.set(s,r),ii(r,[s])}var Yi=[],wo=0,_h=0;function zu(){for(var s=wo,r=_h=wo=0;r<s;){var o=Yi[r];Yi[r++]=null;var c=Yi[r];Yi[r++]=null;var p=Yi[r];Yi[r++]=null;var y=Yi[r];if(Yi[r++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}y!==0&&Cd(o,p,y)}}function Hu(s,r,o,c){Yi[wo++]=s,Yi[wo++]=r,Yi[wo++]=o,Yi[wo++]=c,_h|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function cs(s,r,o,c){return Hu(s,r,o,c),qu(s)}function ur(s,r){return Hu(s,null,null,r),qu(s)}function Cd(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=s.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;p&&r!==null&&s.tag===3&&(y=s.stateNode,p=31-ti(o),y=y.hiddenUpdates,s=y[p],s===null?y[p]=[r]:s.push(r),r.lane=o|536870912)}function qu(s){if(50<Gh)throw Gh=0,ly=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Ao={},Rd=new WeakMap;function Wi(s,r){if(typeof s=="object"&&s!==null){var o=Rd.get(s);return o!==void 0?o:(r={value:s,source:r,stack:Ee(r)},Rd.set(s,r),r)}return{value:s,source:r,stack:Ee(r)}}var So=[],xo=0,$u=null,Co=0,ri=[],Mi=0,Br=null,Vi=1,hs="";function Sa(s,r){So[xo++]=Co,So[xo++]=$u,$u=s,Co=r}function Id(s,r,o){ri[Mi++]=Vi,ri[Mi++]=hs,ri[Mi++]=Br,Br=s;var c=Vi;s=hs;var p=32-ti(c)-1;c&=~(1<<p),o+=1;var y=32-ti(r)+p;if(30<y){var S=p-p%5;y=(c&(1<<S)-1).toString(32),c>>=S,p-=S,Vi=1<<32-ti(r)+p|o<<p|c,hs=y+s}else Vi=1<<y|o<<p|c,hs=s}function bh(s){s.return!==null&&(Sa(s,1),Id(s,1,0))}function cr(s){for(;s===$u;)$u=So[--xo],So[xo]=null,Co=So[--xo],So[xo]=null;for(;s===Br;)Br=ri[--Mi],ri[Mi]=null,hs=ri[--Mi],ri[Mi]=null,Vi=ri[--Mi],ri[Mi]=null}var ai=null,jn=null,ct=!1,Li=null,Ms=!1,Gu=Error(i(519));function xa(s){var r=Error(i(418,""));throw Ul(Wi(r,s)),Gu}function Ca(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[on]=s,r[yn]=c,o){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(o=0;o<Yh.length;o++)_t(Yh[o],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":_t("invalid",r),Ni(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),vn(r);break;case"select":_t("invalid",r);break;case"textarea":_t("invalid",r),ir(r,c.value,c.defaultValue,c.children),vn(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||qE(r.textContent,o)?(c.popover!=null&&(_t("beforetoggle",r),_t("toggle",r)),c.onScroll!=null&&_t("scroll",r),c.onScrollEnd!=null&&_t("scrollend",r),c.onClick!=null&&(r.onclick=im),r=!0):r=!1,r||xa(s)}function Ku(s){for(ai=s.return;ai;)switch(ai.tag){case 3:case 27:Ms=!0;return;case 5:case 13:Ms=!1;return;default:ai=ai.return}}function Ro(s){if(s!==ai)return!1;if(!ct)return Ku(s),ct=!0,!1;var r=!1,o;if((o=s.tag!==3&&s.tag!==27)&&((o=s.tag===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Sy(s.type,s.memoizedProps)),o=!o),o&&(r=!0),r&&jn&&xa(s),Ku(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(r===0){jn=yr(s.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;s=s.nextSibling}jn=null}}else jn=ai?yr(s.stateNode.nextSibling):null;return!0}function jl(){jn=ai=null,ct=!1}function Ul(s){Li===null?Li=[s]:Li.push(s)}var Bl=Error(i(460)),Io=Error(i(474)),hr={then:function(){}};function Nd(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yu(){}function Dd(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Yu,Yu),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,s===Bl?Error(i(483)):s;default:if(typeof r.status=="string")r.then(Yu,Yu);else{if(s=qt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,s===Bl?Error(i(483)):s}throw Fl=r,Bl}}var Fl=null;function Od(){if(Fl===null)throw Error(i(459));var s=Fl;return Fl=null,s}var No=null,zl=0;function Wu(s){var r=zl;return zl+=1,No===null&&(No=[]),Dd(No,s,r)}function Do(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Qu(s,r){throw r.$$typeof===l?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Eh(s){var r=s._init;return r(s._payload)}function Xu(s){function r(Z,K){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[K],Z.flags|=16):ee.push(K)}}function o(Z,K){if(!s)return null;for(;K!==null;)r(Z,K),K=K.sibling;return null}function c(Z){for(var K=new Map;Z!==null;)Z.key!==null?K.set(Z.key,Z):K.set(Z.index,Z),Z=Z.sibling;return K}function p(Z,K){return Z=Ho(Z,K),Z.index=0,Z.sibling=null,Z}function y(Z,K,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<K?(Z.flags|=33554434,K):ee):(Z.flags|=33554434,K)):(Z.flags|=1048576,K)}function S(Z){return s&&Z.alternate===null&&(Z.flags|=33554434),Z}function I(Z,K,ee,le){return K===null||K.tag!==6?(K=ey(ee,Z.mode,le),K.return=Z,K):(K=p(K,ee),K.return=Z,K)}function z(Z,K,ee,le){var De=ee.type;return De===f?oe(Z,K,ee.props.children,le,ee.key):K!==null&&(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&Eh(De)===K.type)?(K=p(K,ee.props),Do(K,ee),K.return=Z,K):(K=Gd(ee.type,ee.key,ee.props,null,Z.mode,le),Do(K,ee),K.return=Z,K)}function W(Z,K,ee,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=ty(ee,Z.mode,le),K.return=Z,K):(K=p(K,ee.children||[]),K.return=Z,K)}function oe(Z,K,ee,le,De){return K===null||K.tag!==7?(K=Jl(ee,Z.mode,le,De),K.return=Z,K):(K=p(K,ee),K.return=Z,K)}function ge(Z,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=ey(""+K,Z.mode,ee),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case u:return ee=Gd(K.type,K.key,K.props,null,Z.mode,ee),Do(ee,K),ee.return=Z,ee;case h:return K=ty(K,Z.mode,ee),K.return=Z,K;case q:var le=K._init;return K=le(K._payload),ge(Z,K,ee)}if(Se(K)||Q(K))return K=Jl(K,Z.mode,ee,null),K.return=Z,K;if(typeof K.then=="function")return ge(Z,Wu(K),ee);if(K.$$typeof===R)return ge(Z,Hd(Z,K),ee);Qu(Z,K)}return null}function ne(Z,K,ee,le){var De=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return De!==null?null:I(Z,K,""+ee,le);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return ee.key===De?z(Z,K,ee,le):null;case h:return ee.key===De?W(Z,K,ee,le):null;case q:return De=ee._init,ee=De(ee._payload),ne(Z,K,ee,le)}if(Se(ee)||Q(ee))return De!==null?null:oe(Z,K,ee,le,null);if(typeof ee.then=="function")return ne(Z,K,Wu(ee),le);if(ee.$$typeof===R)return ne(Z,K,Hd(Z,ee),le);Qu(Z,ee)}return null}function ae(Z,K,ee,le,De){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Z=Z.get(ee)||null,I(K,Z,""+le,De);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case u:return Z=Z.get(le.key===null?ee:le.key)||null,z(K,Z,le,De);case h:return Z=Z.get(le.key===null?ee:le.key)||null,W(K,Z,le,De);case q:var ut=le._init;return le=ut(le._payload),ae(Z,K,ee,le,De)}if(Se(le)||Q(le))return Z=Z.get(ee)||null,oe(K,Z,le,De,null);if(typeof le.then=="function")return ae(Z,K,ee,Wu(le),De);if(le.$$typeof===R)return ae(Z,K,ee,Hd(K,le),De);Qu(K,le)}return null}function Me(Z,K,ee,le){for(var De=null,ut=null,je=K,$e=K=0,Jn=null;je!==null&&$e<ee.length;$e++){je.index>$e?(Jn=je,je=null):Jn=je.sibling;var xt=ne(Z,je,ee[$e],le);if(xt===null){je===null&&(je=Jn);break}s&&je&&xt.alternate===null&&r(Z,je),K=y(xt,K,$e),ut===null?De=xt:ut.sibling=xt,ut=xt,je=Jn}if($e===ee.length)return o(Z,je),ct&&Sa(Z,$e),De;if(je===null){for(;$e<ee.length;$e++)je=ge(Z,ee[$e],le),je!==null&&(K=y(je,K,$e),ut===null?De=je:ut.sibling=je,ut=je);return ct&&Sa(Z,$e),De}for(je=c(je);$e<ee.length;$e++)Jn=ae(je,Z,$e,ee[$e],le),Jn!==null&&(s&&Jn.alternate!==null&&je.delete(Jn.key===null?$e:Jn.key),K=y(Jn,K,$e),ut===null?De=Jn:ut.sibling=Jn,ut=Jn);return s&&je.forEach(function(Qo){return r(Z,Qo)}),ct&&Sa(Z,$e),De}function Je(Z,K,ee,le){if(ee==null)throw Error(i(151));for(var De=null,ut=null,je=K,$e=K=0,Jn=null,xt=ee.next();je!==null&&!xt.done;$e++,xt=ee.next()){je.index>$e?(Jn=je,je=null):Jn=je.sibling;var Qo=ne(Z,je,xt.value,le);if(Qo===null){je===null&&(je=Jn);break}s&&je&&Qo.alternate===null&&r(Z,je),K=y(Qo,K,$e),ut===null?De=Qo:ut.sibling=Qo,ut=Qo,je=Jn}if(xt.done)return o(Z,je),ct&&Sa(Z,$e),De;if(je===null){for(;!xt.done;$e++,xt=ee.next())xt=ge(Z,xt.value,le),xt!==null&&(K=y(xt,K,$e),ut===null?De=xt:ut.sibling=xt,ut=xt);return ct&&Sa(Z,$e),De}for(je=c(je);!xt.done;$e++,xt=ee.next())xt=ae(je,Z,$e,xt.value,le),xt!==null&&(s&&xt.alternate!==null&&je.delete(xt.key===null?$e:xt.key),K=y(xt,K,$e),ut===null?De=xt:ut.sibling=xt,ut=xt);return s&&je.forEach(function(KN){return r(Z,KN)}),ct&&Sa(Z,$e),De}function mn(Z,K,ee,le){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:e:{for(var De=ee.key;K!==null;){if(K.key===De){if(De=ee.type,De===f){if(K.tag===7){o(Z,K.sibling),le=p(K,ee.props.children),le.return=Z,Z=le;break e}}else if(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&Eh(De)===K.type){o(Z,K.sibling),le=p(K,ee.props),Do(le,ee),le.return=Z,Z=le;break e}o(Z,K);break}else r(Z,K);K=K.sibling}ee.type===f?(le=Jl(ee.props.children,Z.mode,le,ee.key),le.return=Z,Z=le):(le=Gd(ee.type,ee.key,ee.props,null,Z.mode,le),Do(le,ee),le.return=Z,Z=le)}return S(Z);case h:e:{for(De=ee.key;K!==null;){if(K.key===De)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){o(Z,K.sibling),le=p(K,ee.children||[]),le.return=Z,Z=le;break e}else{o(Z,K);break}else r(Z,K);K=K.sibling}le=ty(ee,Z.mode,le),le.return=Z,Z=le}return S(Z);case q:return De=ee._init,ee=De(ee._payload),mn(Z,K,ee,le)}if(Se(ee))return Me(Z,K,ee,le);if(Q(ee)){if(De=Q(ee),typeof De!="function")throw Error(i(150));return ee=De.call(ee),Je(Z,K,ee,le)}if(typeof ee.then=="function")return mn(Z,K,Wu(ee),le);if(ee.$$typeof===R)return mn(Z,K,Hd(Z,ee),le);Qu(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(o(Z,K.sibling),le=p(K,ee),le.return=Z,Z=le):(o(Z,K),le=ey(ee,Z.mode,le),le.return=Z,Z=le),S(Z)):o(Z,K)}return function(Z,K,ee,le){try{zl=0;var De=mn(Z,K,ee,le);return No=null,De}catch(je){if(je===Bl)throw je;var ut=Bs(29,je,null,Z.mode);return ut.lanes=le,ut.return=Z,ut}finally{}}}var Fr=Xu(!0),zr=Xu(!1),Ra=be(null),Oo=be(0);function Th(s,r){s=ja,pe(Oo,s),pe(Ra,r),ja=s|r.baseLanes}function Hl(){pe(Oo,ja),pe(Ra,Ra.current)}function Zu(){ja=Oo.current,at(Ra),at(Oo)}var gi=be(null),Vs=null;function yi(s){var r=s.alternate;pe(bn,bn.current&1),pe(gi,s),Vs===null&&(r===null||Ra.current!==null||r.memoizedState!==null)&&(Vs=s)}function fr(s){if(s.tag===22){if(pe(bn,bn.current),pe(gi,s),Vs===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Vs=s)}}else Hr()}function Hr(){pe(bn,bn.current),pe(gi,gi.current)}function dr(s){at(gi),Vs===s&&(Vs=null),at(bn)}var bn=be(0);function Ju(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var _g=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},bg=t.unstable_scheduleCallback,Eg=t.unstable_NormalPriority,En={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new _g,data:new Map,refCount:0}}function qr(s){s.refCount--,s.refCount===0&&bg(Eg,function(){s.controller.abort()})}var $r=null,wh=0,ko=0,Ls=null;function x(s,r){if($r===null){var o=$r=[];wh=0,ko=gy(),Ls={status:"pending",value:void 0,then:function(c){o.push(c)}}}return wh++,r.then(g,g),r}function g(){if(--wh===0&&$r!==null){Ls!==null&&(Ls.status="fulfilled");var s=$r;$r=null,ko=0,Ls=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function T(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var O=N.S;N.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&x(s,r),O!==null&&O(s,r)};var G=be(null);function X(){var s=G.current;return s!==null?s:qt.pooledCache}function se(s,r){r===null?pe(G,G.current):pe(G,r.pool)}function ce(){var s=X();return s===null?null:{parent:En._currentValue,pool:s}}var Te=0,me=null,ve=null,_e=null,We=!1,Le=!1,ze=!1,He=0,qe=0,yt=null,Pt=0;function ke(){throw Error(i(321))}function vt(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!zt(s[o],r[o]))return!1;return!0}function Ze(s,r,o,c,p,y){return Te=y,me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,N.H=s===null||s.memoizedState===null?Kl:Mo,ze=!1,y=o(c,p),ze=!1,Le&&(y=St(r,o,c,p)),lt(s),y}function lt(s){N.H=Kr;var r=ve!==null&&ve.next!==null;if(Te=0,_e=ve=me=null,We=!1,qe=0,yt=null,r)throw Error(i(300));s===null||Xn||(s=s.dependencies,s!==null&&zd(s)&&(Xn=!0))}function St(s,r,o,c){me=s;var p=0;do{if(Le&&(yt=null),qe=0,Le=!1,25<=p)throw Error(i(301));if(p+=1,_e=ve=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}N.H=Yl,y=r(o,c)}while(Le);return y}function Ot(){var s=N.H,r=s.useState()[0];return r=typeof r.then=="function"?Wn(r):r,s=s.useState()[0],(ve!==null?ve.memoizedState:null)!==s&&(me.flags|=1024),r}function At(){var s=He!==0;return He=0,s}function Kt(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function oi(s){if(We){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}We=!1}Te=0,_e=ve=me=null,Le=!1,qe=He=0,yt=null}function Ht(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?me.memoizedState=_e=s:_e=_e.next=s,_e}function mt(){if(ve===null){var s=me.alternate;s=s!==null?s.memoizedState:null}else s=ve.next;var r=_e===null?me.memoizedState:_e.next;if(r!==null)_e=r,ve=s;else{if(s===null)throw me.alternate===null?Error(i(467)):Error(i(310));ve=s,s={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},_e===null?me.memoizedState=_e=s:_e=_e.next=s}return _e}var li;li=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wn(s){var r=qe;return qe+=1,yt===null&&(yt=[]),s=Dd(yt,s,r),r=me,(_e===null?r.memoizedState:_e.next)===null&&(r=r.alternate,N.H=r===null||r.memoizedState===null?Kl:Mo),s}function Lt(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Wn(s);if(s.$$typeof===R)return vi(s)}throw Error(i(438,String(s)))}function Qi(s){var r=null,o=me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=li(),me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=re;return r.index++,o}function xn(s,r){return typeof r=="function"?r(s):r}function mr(s){var r=mt();return hn(r,ve,s)}function hn(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var p=s.baseQueue,y=c.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}r.baseQueue=p=y,c.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{r=p.next;var I=S=null,z=null,W=r,oe=!1;do{var ge=W.lane&-536870913;if(ge!==W.lane?(Tt&ge)===ge:(Te&ge)===ge){var ne=W.revertLane;if(ne===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ge===ko&&(oe=!0);else if((Te&ne)===ne){W=W.next,ne===ko&&(oe=!0);continue}else ge={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(I=z=ge,S=y):z=z.next=ge,me.lanes|=ne,qo|=ne;ge=W.action,ze&&o(y,ge),y=W.hasEagerState?W.eagerState:o(y,ge)}else ne={lane:ge,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(I=z=ne,S=y):z=z.next=ne,me.lanes|=ge,qo|=ge;W=W.next}while(W!==null&&W!==r);if(z===null?S=y:z.next=I,!zt(y,s.memoizedState)&&(Xn=!0,oe&&(o=Ls,o!==null)))throw o;s.memoizedState=y,s.baseState=S,s.baseQueue=z,c.lastRenderedState=y}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Nt(s){var r=mt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do y=s(y,S.action),S=S.next;while(S!==p);zt(y,r.memoizedState)||(Xn=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function Qn(s,r,o){var c=me,p=mt(),y=ct;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var S=!zt((ve||p).memoizedState,o);if(S&&(p.memoizedState=o,Xn=!0),p=p.queue,sc(ql.bind(null,c,p,s),[s]),p.getSnapshot!==r||S||_e!==null&&_e.memoizedState.tag&1){if(c.flags|=2048,Ia(9,pr.bind(null,c,p,o,r),{destroy:void 0},null),qt===null)throw Error(i(349));y||(Te&60)!==0||ji(c,r,o)}return o}function ji(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=me.updateQueue,r===null?(r=li(),me.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function pr(s,r,o,c){r.value=o,r.getSnapshot=c,Ah(r)&&Sh(s)}function ql(s,r,o){return o(function(){Ah(r)&&Sh(s)})}function Ah(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!zt(s,o)}catch{return!0}}function Sh(s){var r=ur(s,2);r!==null&&Ui(r,s,2)}function Po(s){var r=Ht();if(typeof s=="function"){var o=s;if(s=o(),ze){bs(!0);try{o()}finally{bs(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:s},r}function kd(s,r,o,c){return s.baseState=o,hn(s,ve,typeof c=="function"?c:xn)}function Tg(s,r,o,c,p){if(Ud(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};N.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,tc(r,y)):(y.next=o.next,r.pending=o.next=y)}}function tc(s,r){var o=r.action,c=r.payload,p=s.state;if(r.isTransition){var y=N.T,S={};N.T=S;try{var I=o(p,c),z=N.S;z!==null&&z(S,I),Pd(s,r,I)}catch(W){Ch(s,r,W)}finally{N.T=y}}else try{y=o(p,c),Pd(s,r,y)}catch(W){Ch(s,r,W)}}function Pd(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){xh(s,r,c)},function(c){return Ch(s,r,c)}):xh(s,r,o)}function xh(s,r,o){r.status="fulfilled",r.value=o,Rh(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,tc(s,o)))}function Ch(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Rh(r),r=r.next;while(r!==c)}s.action=null}function Rh(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Ih(s,r){return r}function Md(s,r){if(ct){var o=qt.formState;if(o!==null){e:{var c=me;if(ct){if(jn){t:{for(var p=jn,y=Ms;p.nodeType!==8;){if(!y){p=null;break t}if(p=yr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){jn=yr(p.nextSibling),c=p.data==="F!";break e}}xa(c)}c=!1}c&&(r=o[0])}}return o=Ht(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:r},o.queue=c,o=Cb.bind(null,me,c),c.dispatch=o,c=Po(!1),y=Cg.bind(null,me,!1,c.queue),c=Ht(),p={state:r,dispatch:null,action:s,pending:null},c.queue=p,o=Tg.bind(null,me,p,y,o),p.dispatch=o,c.memoizedState=s,[r,o,!1]}function Vd(s){var r=mt();return Gr(r,ve,s)}function Gr(s,r,o){r=hn(s,r,Ih)[0],s=mr(xn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Wn(r):r;var c=mt(),p=c.queue,y=p.dispatch;return o!==c.memoizedState&&(me.flags|=2048,Ia(9,nc.bind(null,p,o),{destroy:void 0},null)),[r,y,s]}function nc(s,r){s.action=r}function Nh(s){var r=mt(),o=ve;if(o!==null)return Gr(r,o,s);mt(),r=r.memoizedState,o=mt();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function Ia(s,r,o,c){return s={tag:s,create:r,inst:o,deps:c,next:null},r=me.updateQueue,r===null&&(r=li(),me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function ic(){return mt().memoizedState}function $l(s,r,o,c){var p=Ht();me.flags|=s,p.memoizedState=Ia(1|r,o,{destroy:void 0},c===void 0?null:c)}function Gl(s,r,o,c){var p=mt();c=c===void 0?null:c;var y=p.memoizedState.inst;ve!==null&&c!==null&&vt(c,ve.memoizedState.deps)?p.memoizedState=Ia(r,o,y,c):(me.flags|=s,p.memoizedState=Ia(1|r,o,y,c))}function Dh(s,r){$l(8390656,8,s,r)}function sc(s,r){Gl(2048,8,s,r)}function Ld(s,r){return Gl(4,2,s,r)}function jd(s,r){return Gl(4,4,s,r)}function rc(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Oh(s,r,o){o=o!=null?o.concat([s]):null,Gl(4,4,rc.bind(null,r,s),o)}function wg(){}function _b(s,r){var o=mt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&vt(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function bb(s,r){var o=mt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&vt(r,c[1]))return c[0];if(c=s(),ze){bs(!0);try{s()}finally{bs(!1)}}return o.memoizedState=[c,r],c}function Ag(s,r,o){return o===void 0||(Te&1073741824)!==0?s.memoizedState=r:(s.memoizedState=o,s=TE(),me.lanes|=s,qo|=s,o)}function Eb(s,r,o,c){return zt(o,r)?o:Ra.current!==null?(s=Ag(s,o,c),zt(s,r)||(Xn=!0),s):(Te&42)===0?(Xn=!0,s.memoizedState=o):(s=TE(),me.lanes|=s,qo|=s,r)}function Tb(s,r,o,c,p){var y=Ae.p;Ae.p=y!==0&&8>y?y:8;var S=N.T,I={};N.T=I,Cg(s,!1,r,o);try{var z=p(),W=N.S;if(W!==null&&W(I,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=T(z,c);kh(s,r,oe,ps(s))}else kh(s,r,c,ps(s))}catch(ge){kh(s,r,{then:function(){},status:"rejected",reason:ge},ps())}finally{Ae.p=y,N.T=S}}function HI(){}function Sg(s,r,o,c){if(s.tag!==5)throw Error(i(476));var p=wb(s).queue;Tb(s,p,r,Be,o===null?HI:function(){return Ab(s),o(c)})}function wb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:Be},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Ab(s){var r=wb(s).next.queue;kh(s,r,{},ps())}function xg(){return vi(Jh)}function Sb(){return mt().memoizedState}function xb(){return mt().memoizedState}function qI(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=ps();s=jo(o);var c=Uo(r,s,o);c!==null&&(Ui(c,r,o),Vh(c,r,o)),r={cache:ec()},s.payload=r;return}r=r.return}}function $I(s,r,o){var c=ps();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ud(s)?Rb(r,o):(o=cs(s,r,o,c),o!==null&&(Ui(o,s,c),Ib(o,r,c)))}function Cb(s,r,o){var c=ps();kh(s,r,o,c)}function kh(s,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ud(s))Rb(r,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,I=y(S,o);if(p.hasEagerState=!0,p.eagerState=I,zt(I,S))return Hu(s,r,p,0),qt===null&&zu(),!1}catch{}finally{}if(o=cs(s,r,p,c),o!==null)return Ui(o,s,c),Ib(o,r,c),!0}return!1}function Cg(s,r,o,c){if(c={lane:2,revertLane:gy(),action:c,hasEagerState:!1,eagerState:null,next:null},Ud(s)){if(r)throw Error(i(479))}else r=cs(s,o,c,2),r!==null&&Ui(r,s,2)}function Ud(s){var r=s.alternate;return s===me||r!==null&&r===me}function Rb(s,r){Le=We=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Ib(s,r,o){if((o&4194176)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Pr(s,o)}}var Kr={readContext:vi,use:Lt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke};Kr.useCacheRefresh=ke,Kr.useMemoCache=ke,Kr.useHostTransitionStatus=ke,Kr.useFormState=ke,Kr.useActionState=ke,Kr.useOptimistic=ke;var Kl={readContext:vi,use:Lt,useCallback:function(s,r){return Ht().memoizedState=[s,r===void 0?null:r],s},useContext:vi,useEffect:Dh,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,$l(4194308,4,rc.bind(null,r,s),o)},useLayoutEffect:function(s,r){return $l(4194308,4,s,r)},useInsertionEffect:function(s,r){$l(4,2,s,r)},useMemo:function(s,r){var o=Ht();r=r===void 0?null:r;var c=s();if(ze){bs(!0);try{s()}finally{bs(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=Ht();if(o!==void 0){var p=o(r);if(ze){bs(!0);try{o(r)}finally{bs(!1)}}}else p=r;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=$I.bind(null,me,s),[c.memoizedState,s]},useRef:function(s){var r=Ht();return s={current:s},r.memoizedState=s},useState:function(s){s=Po(s);var r=s.queue,o=Cb.bind(null,me,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:wg,useDeferredValue:function(s,r){var o=Ht();return Ag(o,s,r)},useTransition:function(){var s=Po(!1);return s=Tb.bind(null,me,s.queue,!0,!1),Ht().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=me,p=Ht();if(ct){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),qt===null)throw Error(i(349));(Tt&60)!==0||ji(c,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,Dh(ql.bind(null,c,y,s),[s]),c.flags|=2048,Ia(9,pr.bind(null,c,y,o,r),{destroy:void 0},null),o},useId:function(){var s=Ht(),r=qt.identifierPrefix;if(ct){var o=hs,c=Vi;o=(c&~(1<<32-ti(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=He++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Pt++,r=":"+r+"r"+o.toString(32)+":";return s.memoizedState=r},useCacheRefresh:function(){return Ht().memoizedState=qI.bind(null,me)}};Kl.useMemoCache=Qi,Kl.useHostTransitionStatus=xg,Kl.useFormState=Md,Kl.useActionState=Md,Kl.useOptimistic=function(s){var r=Ht();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Cg.bind(null,me,!0,o),o.dispatch=r,[s,r]};var Mo={readContext:vi,use:Lt,useCallback:_b,useContext:vi,useEffect:sc,useImperativeHandle:Oh,useInsertionEffect:Ld,useLayoutEffect:jd,useMemo:bb,useReducer:mr,useRef:ic,useState:function(){return mr(xn)},useDebugValue:wg,useDeferredValue:function(s,r){var o=mt();return Eb(o,ve.memoizedState,s,r)},useTransition:function(){var s=mr(xn)[0],r=mt().memoizedState;return[typeof s=="boolean"?s:Wn(s),r]},useSyncExternalStore:Qn,useId:Sb};Mo.useCacheRefresh=xb,Mo.useMemoCache=Qi,Mo.useHostTransitionStatus=xg,Mo.useFormState=Vd,Mo.useActionState=Vd,Mo.useOptimistic=function(s,r){var o=mt();return kd(o,ve,s,r)};var Yl={readContext:vi,use:Lt,useCallback:_b,useContext:vi,useEffect:sc,useImperativeHandle:Oh,useInsertionEffect:Ld,useLayoutEffect:jd,useMemo:bb,useReducer:Nt,useRef:ic,useState:function(){return Nt(xn)},useDebugValue:wg,useDeferredValue:function(s,r){var o=mt();return ve===null?Ag(o,s,r):Eb(o,ve.memoizedState,s,r)},useTransition:function(){var s=Nt(xn)[0],r=mt().memoizedState;return[typeof s=="boolean"?s:Wn(s),r]},useSyncExternalStore:Qn,useId:Sb};Yl.useCacheRefresh=xb,Yl.useMemoCache=Qi,Yl.useHostTransitionStatus=xg,Yl.useFormState=Nh,Yl.useActionState=Nh,Yl.useOptimistic=function(s,r){var o=mt();return ve!==null?kd(o,ve,s,r):(o.baseState=s,[s,o.queue.dispatch])};function Rg(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:U({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Ig={isMounted:function(s){return(s=s._reactInternals)?ye(s)===s:!1},enqueueSetState:function(s,r,o){s=s._reactInternals;var c=ps(),p=jo(c);p.payload=r,o!=null&&(p.callback=o),r=Uo(s,p,c),r!==null&&(Ui(r,s,c),Vh(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=ps(),p=jo(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Uo(s,p,c),r!==null&&(Ui(r,s,c),Vh(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=ps(),c=jo(o);c.tag=2,r!=null&&(c.callback=r),r=Uo(s,c,o),r!==null&&(Ui(r,s,o),Vh(r,s,o))}};function Nb(s,r,o,c,p,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,S):r.prototype&&r.prototype.isPureReactComponent?!Ll(o,c)||!Ll(p,y):!0}function Db(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&Ig.enqueueReplaceState(r,r.state,null)}function Wl(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=U({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}var Bd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Ob(s){Bd(s)}function kb(s){console.error(s)}function Pb(s){Bd(s)}function Fd(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Mb(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ng(s,r,o){return o=jo(o),o.tag=3,o.payload={element:null},o.callback=function(){Fd(s,r)},o}function Vb(s){return s=jo(s),s.tag=3,s}function Lb(s,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;s.payload=function(){return p(y)},s.callback=function(){Mb(r,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){Mb(r,o,c),typeof p!="function"&&($o===null?$o=new Set([this]):$o.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function GI(s,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Mh(r,o,p,!0),o=gi.current,o!==null){switch(o.tag){case 13:return Vs===null?hy():o.alternate===null&&dn===0&&(dn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===hr?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),dy(s,c,p)),!1;case 22:return o.flags|=65536,c===hr?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),dy(s,c,p)),!1}throw Error(i(435,o.tag))}return dy(s,c,p),hy(),!1}if(ct)return r=gi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Gu&&(s=Error(i(422),{cause:c}),Ul(Wi(s,o)))):(c!==Gu&&(r=Error(i(423),{cause:c}),Ul(Wi(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=Wi(c,o),p=Ng(s.stateNode,c,p),$g(s,p),dn!==4&&(dn=2)),!1;var y=Error(i(520),{cause:c});if(y=Wi(y,o),qh===null?qh=[y]:qh.push(y),dn!==4&&(dn=2),r===null)return!0;c=Wi(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=Ng(o.stateNode,c,s),$g(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($o===null||!$o.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Vb(p),Lb(p,s,o,c),$g(o,p),!1}o=o.return}while(o!==null);return!1}var jb=Error(i(461)),Xn=!1;function ui(s,r,o,c){r.child=s===null?zr(r,null,o,c):Fr(r,s.child,o,c)}function Ub(s,r,o,c,p){o=o.render;var y=r.ref;if("ref"in c){var S={};for(var I in c)I!=="ref"&&(S[I]=c[I])}else S=c;return Xl(r),c=Ze(s,r,o,S,y,p),I=At(),s!==null&&!Xn?(Kt(s,r,p),Na(s,r,p)):(ct&&I&&bh(r),r.flags|=1,ui(s,r,c,p),r.child)}function Bb(s,r,o,c,p){if(s===null){var y=o.type;return typeof y=="function"&&!Jg(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Fb(s,r,y,c,p)):(s=Gd(o.type,null,c,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!Ug(s,p)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(S,c)&&s.ref===r.ref)return Na(s,r,p)}return r.flags|=1,s=Ho(y,c),s.ref=r.ref,s.return=r,r.child=s}function Fb(s,r,o,c,p){if(s!==null){var y=s.memoizedProps;if(Ll(y,c)&&s.ref===r.ref)if(Xn=!1,r.pendingProps=c=y,Ug(s,p))(s.flags&131072)!==0&&(Xn=!0);else return r.lanes=s.lanes,Na(s,r,p)}return Dg(s,r,o,c,p)}function zb(s,r,o){var c=r.pendingProps,p=c.children,y=(r.stateNode._pendingVisibility&2)!==0,S=s!==null?s.memoizedState:null;if(Ph(s,r),c.mode==="hidden"||y){if((r.flags&128)!==0){if(c=S!==null?S.baseLanes|o:o,s!==null){for(p=r.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;r.childLanes=y&~c}else r.childLanes=0,r.child=null;return Hb(s,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&se(r,S!==null?S.cachePool:null),S!==null?Th(r,S):Hl(),fr(r);else return r.lanes=r.childLanes=536870912,Hb(s,r,S!==null?S.baseLanes|o:o,o)}else S!==null?(se(r,S.cachePool),Th(r,S),Hr(),r.memoizedState=null):(s!==null&&se(r,null),Hl(),Hr());return ui(s,r,p,o),r.child}function Hb(s,r,o,c){var p=X();return p=p===null?null:{parent:En._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},s!==null&&se(r,null),Hl(),fr(r),s!==null&&Mh(s,r,c,!0),null}function Ph(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=2097664)}}function Dg(s,r,o,c,p){return Xl(r),o=Ze(s,r,o,c,void 0,p),c=At(),s!==null&&!Xn?(Kt(s,r,p),Na(s,r,p)):(ct&&c&&bh(r),r.flags|=1,ui(s,r,o,p),r.child)}function qb(s,r,o,c,p,y){return Xl(r),r.updateQueue=null,o=St(r,c,o,p),lt(s),c=At(),s!==null&&!Xn?(Kt(s,r,y),Na(s,r,y)):(ct&&c&&bh(r),r.flags|=1,ui(s,r,o,y),r.child)}function $b(s,r,o,c,p){if(Xl(r),r.stateNode===null){var y=Ao,S=o.contextType;typeof S=="object"&&S!==null&&(y=vi(S)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ig,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Hg(r),S=o.contextType,y.context=typeof S=="object"&&S!==null?vi(S):Ao,y.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Rg(r,o,S,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Ig.enqueueReplaceState(y,y.state,null),jh(r,c,y,p),Lh(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){y=r.stateNode;var I=r.memoizedProps,z=Wl(o,I);y.props=z;var W=y.context,oe=o.contextType;S=Ao,typeof oe=="object"&&oe!==null&&(S=vi(oe));var ge=o.getDerivedStateFromProps;oe=typeof ge=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=r.pendingProps!==I,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||W!==S)&&Db(r,y,c,S),Lo=!1;var ne=r.memoizedState;y.state=ne,jh(r,c,y,p),Lh(),W=r.memoizedState,I||ne!==W||Lo?(typeof ge=="function"&&(Rg(r,o,ge,c),W=r.memoizedState),(z=Lo||Nb(r,o,z,c,ne,W,S))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=W),y.props=c,y.state=W,y.context=S,c=z):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,qg(s,r),S=r.memoizedProps,oe=Wl(o,S),y.props=oe,ge=r.pendingProps,ne=y.context,W=o.contextType,z=Ao,typeof W=="object"&&W!==null&&(z=vi(W)),I=o.getDerivedStateFromProps,(W=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ge||ne!==z)&&Db(r,y,c,z),Lo=!1,ne=r.memoizedState,y.state=ne,jh(r,c,y,p),Lh();var ae=r.memoizedState;S!==ge||ne!==ae||Lo||s!==null&&s.dependencies!==null&&zd(s.dependencies)?(typeof I=="function"&&(Rg(r,o,I,c),ae=r.memoizedState),(oe=Lo||Nb(r,o,oe,c,ne,ae,z)||s!==null&&s.dependencies!==null&&zd(s.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ae,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ae,z)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&ne===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&ne===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),y.props=c,y.state=ae,y.context=z,c=oe):(typeof y.componentDidUpdate!="function"||S===s.memoizedProps&&ne===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&ne===s.memoizedState||(r.flags|=1024),c=!1)}return y=c,Ph(s,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&c?(r.child=Fr(r,s.child,null,p),r.child=Fr(r,null,o,p)):ui(s,r,o,p),r.memoizedState=y.state,s=r.child):s=Na(s,r,p),s}function Gb(s,r,o,c){return jl(),r.flags|=256,ui(s,r,o,c),r.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function kg(s){return{baseLanes:s,cachePool:ce()}}function Pg(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Fs),s}function Kb(s,r,o){var c=r.pendingProps,p=!1,y=(r.flags&128)!==0,S;if((S=y)||(S=s!==null&&s.memoizedState===null?!1:(bn.current&2)!==0),S&&(p=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,s===null){if(ct){if(p?yi(r):Hr(),ct){var I=jn,z;if(z=I){e:{for(z=I,I=Ms;z.nodeType!==8;){if(!I){I=null;break e}if(z=yr(z.nextSibling),z===null){I=null;break e}}I=z}I!==null?(r.memoizedState={dehydrated:I,treeContext:Br!==null?{id:Vi,overflow:hs}:null,retryLane:536870912},z=Bs(18,null,null,0),z.stateNode=I,z.return=r,r.child=z,ai=r,jn=null,z=!0):z=!1}z||xa(r)}if(I=r.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?r.lanes=16:r.lanes=536870912,null;dr(r)}return I=c.children,c=c.fallback,p?(Hr(),p=r.mode,I=Vg({mode:"hidden",children:I},p),c=Jl(c,p,o,null),I.return=r,c.return=r,I.sibling=c,r.child=I,p=r.child,p.memoizedState=kg(o),p.childLanes=Pg(s,S,o),r.memoizedState=Og,c):(yi(r),Mg(r,I))}if(z=s.memoizedState,z!==null&&(I=z.dehydrated,I!==null)){if(y)r.flags&256?(yi(r),r.flags&=-257,r=Lg(s,r,o)):r.memoizedState!==null?(Hr(),r.child=s.child,r.flags|=128,r=null):(Hr(),p=c.fallback,I=r.mode,c=Vg({mode:"visible",children:c.children},I),p=Jl(p,I,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,Fr(r,s.child,null,o),c=r.child,c.memoizedState=kg(o),c.childLanes=Pg(s,S,o),r.memoizedState=Og,r=p);else if(yi(r),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var W=S.dgst;S=W,c=Error(i(419)),c.stack="",c.digest=S,Ul({value:c,source:null,stack:null}),r=Lg(s,r,o)}else if(Xn||Mh(s,r,o,!1),S=(o&s.childLanes)!==0,Xn||S){if(S=qt,S!==null){if(c=o&-o,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==z.retryLane)throw z.retryLane=c,ur(s,c),Ui(S,s,c),jb}I.data==="$?"||hy(),r=Lg(s,r,o)}else I.data==="$?"?(r.flags|=128,r.child=s.child,r=oN.bind(null,s),I._reactRetry=r,r=null):(s=z.treeContext,jn=yr(I.nextSibling),ai=r,ct=!0,Li=null,Ms=!1,s!==null&&(ri[Mi++]=Vi,ri[Mi++]=hs,ri[Mi++]=Br,Vi=s.id,hs=s.overflow,Br=r),r=Mg(r,c.children),r.flags|=4096);return r}return p?(Hr(),p=c.fallback,I=r.mode,z=s.child,W=z.sibling,c=Ho(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&31457280,W!==null?p=Ho(W,p):(p=Jl(p,I,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,I=s.child.memoizedState,I===null?I=kg(o):(z=I.cachePool,z!==null?(W=En._currentValue,z=z.parent!==W?{parent:W,pool:W}:z):z=ce(),I={baseLanes:I.baseLanes|o,cachePool:z}),p.memoizedState=I,p.childLanes=Pg(s,S,o),r.memoizedState=Og,c):(yi(r),o=s.child,s=o.sibling,o=Ho(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(S=r.deletions,S===null?(r.deletions=[s],r.flags|=16):S.push(s)),r.child=o,r.memoizedState=null,o)}function Mg(s,r){return r=Vg({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Vg(s,r){return _E(s,r,0,null)}function Lg(s,r,o){return Fr(r,s.child,null,o),s=Mg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Yb(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Fg(s.return,r,o)}function jg(s,r,o,c,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function Wb(s,r,o){var c=r.pendingProps,p=c.revealOrder,y=c.tail;if(ui(s,r,c.children,o),c=bn.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Yb(s,o,r);else if(s.tag===19)Yb(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(pe(bn,c),p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&Ju(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),jg(r,!1,p,o,y);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&Ju(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}jg(r,!0,o,null,y);break;case"together":jg(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Na(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),qo|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Mh(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ho(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ho(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Ug(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&zd(s)))}function KI(s,r,o){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),Vo(r,En,s.memoizedState.cache),jl();break;case 27:case 5:ts(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:Vo(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(yi(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Kb(s,r,o):(yi(r),s=Na(s,r,o),s!==null?s.sibling:null);yi(r);break;case 19:var p=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Mh(s,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return Wb(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pe(bn,bn.current),c)break;return null;case 22:case 23:return r.lanes=0,zb(s,r,o);case 24:Vo(r,En,s.memoizedState.cache)}return Na(s,r,o)}function Qb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Xn=!0;else{if(!Ug(s,o)&&(r.flags&128)===0)return Xn=!1,KI(s,r,o);Xn=(s.flags&131072)!==0}else Xn=!1,ct&&(r.flags&1048576)!==0&&Id(r,Co,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")Jg(c)?(s=Wl(c,s),r.tag=1,r=$b(null,r,c,s,o)):(r.tag=0,r=Dg(null,r,c,s,o));else{if(c!=null){if(p=c.$$typeof,p===k){r.tag=11,r=Ub(null,r,c,s,o);break e}else if(p===M){r.tag=14,r=Bb(null,r,c,s,o);break e}}throw r=D(c)||c,Error(i(306,r,""))}}return r;case 0:return Dg(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=Wl(c,r.pendingProps),$b(s,r,c,p,o);case 3:e:{if(Qe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));var y=r.pendingProps;p=r.memoizedState,c=p.element,qg(s,r),jh(r,y,null,o);var S=r.memoizedState;if(y=S.cache,Vo(r,En,y),y!==p.cache&&zg(r,[En],o,!0),Lh(),y=S.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Gb(s,r,y,o);break e}else if(y!==c){c=Wi(Error(i(424)),r),Ul(c),r=Gb(s,r,y,o);break e}else for(jn=yr(r.stateNode.containerInfo.firstChild),ai=r,ct=!0,Li=null,Ms=!0,o=zr(r,null,y,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(jl(),y===c){r=Na(s,r,o);break e}ui(s,r,y,o)}r=r.child}return r;case 26:return Ph(s,r),s===null?(o=JE(r.type,null,r.pendingProps,null))?r.memoizedState=o:ct||(o=r.type,s=r.pendingProps,c=sm(ot.current).createElement(o),c[on]=r,c[yn]=s,ci(c,o,s),Vt(c),r.stateNode=c):r.memoizedState=JE(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ts(r),s===null&&ct&&(c=r.stateNode=QE(r.type,r.pendingProps,ot.current),ai=r,Ms=!0,jn=yr(c.firstChild)),c=r.pendingProps.children,s!==null||ct?ui(s,r,c,o):r.child=Fr(r,null,c,o),Ph(s,r),r.child;case 5:return s===null&&ct&&((p=c=jn)&&(c=wN(c,r.type,r.pendingProps,Ms),c!==null?(r.stateNode=c,ai=r,jn=yr(c.firstChild),Ms=!1,p=!0):p=!1),p||xa(r)),ts(r),p=r.type,y=r.pendingProps,S=s!==null?s.memoizedProps:null,c=y.children,Sy(p,y)?c=null:S!==null&&Sy(p,S)&&(r.flags|=32),r.memoizedState!==null&&(p=Ze(s,r,Ot,null,null,o),Jh._currentValue=p),Ph(s,r),ui(s,r,c,o),r.child;case 6:return s===null&&ct&&((s=o=jn)&&(o=AN(o,r.pendingProps,Ms),o!==null?(r.stateNode=o,ai=r,jn=null,s=!0):s=!1),s||xa(r)),null;case 13:return Kb(s,r,o);case 4:return Qe(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Fr(r,null,c,o):ui(s,r,c,o),r.child;case 11:return Ub(s,r,r.type,r.pendingProps,o);case 7:return ui(s,r,r.pendingProps,o),r.child;case 8:return ui(s,r,r.pendingProps.children,o),r.child;case 12:return ui(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Vo(r,r.type,c.value),ui(s,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Xl(r),p=vi(p),c=c(p),r.flags|=1,ui(s,r,c,o),r.child;case 14:return Bb(s,r,r.type,r.pendingProps,o);case 15:return Fb(s,r,r.type,r.pendingProps,o);case 19:return Wb(s,r,o);case 22:return zb(s,r,o);case 24:return Xl(r),c=vi(En),s===null?(p=X(),p===null&&(p=qt,y=ec(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:c,cache:p},Hg(r),Vo(r,En,p)):((s.lanes&o)!==0&&(qg(s,r),jh(r,null,null,o),Lh()),p=s.memoizedState,y=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Vo(r,En,c)):(c=y.cache,Vo(r,En,c),c!==p.cache&&zg(r,[En],o,!0))),ui(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}var Bg=be(null),Ql=null,Da=null;function Vo(s,r,o){pe(Bg,r._currentValue),r._currentValue=o}function Oa(s){s._currentValue=Bg.current,at(Bg)}function Fg(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function zg(s,r,o,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=p;for(var z=0;z<r.length;z++)if(I.context===r[z]){y.lanes|=o,I=y.alternate,I!==null&&(I.lanes|=o),Fg(y.return,o,s),c||(S=null);break e}y=I.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(i(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),Fg(S,o,s),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===s){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Mh(s,r,o,c){s=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var I=p.type;zt(p.pendingProps.value,S.value)||(s!==null?s.push(I):s=[I])}}else if(p===Bt.current){if(S=p.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Jh):s=[Jh])}p=p.return}s!==null&&zg(r,s,o,c),r.flags|=262144}function zd(s){for(s=s.firstContext;s!==null;){if(!zt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xl(s){Ql=s,Da=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function vi(s){return Xb(Ql,s)}function Hd(s,r){return Ql===null&&Xl(s),Xb(s,r)}function Xb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Da===null){if(s===null)throw Error(i(308));Da=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Da=Da.next=r;return o}var Lo=!1;function Hg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qg(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function jo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Uo(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(nn&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=qu(s),Cd(s,null,o),r}return Hu(s,c,r,o),qu(s)}function Vh(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,Pr(s,o)}}function $g(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Gg=!1;function Lh(){if(Gg){var s=Ls;if(s!==null)throw s}}function jh(s,r,o,c){Gg=!1;var p=s.updateQueue;Lo=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var z=I,W=z.next;z.next=null,S===null?y=W:S.next=W,S=z;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==S&&(I===null?oe.firstBaseUpdate=W:I.next=W,oe.lastBaseUpdate=z))}if(y!==null){var ge=p.baseState;S=0,oe=W=z=null,I=y;do{var ne=I.lane&-536870913,ae=ne!==I.lane;if(ae?(Tt&ne)===ne:(c&ne)===ne){ne!==0&&ne===ko&&(Gg=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Me=s,Je=I;ne=r;var mn=o;switch(Je.tag){case 1:if(Me=Je.payload,typeof Me=="function"){ge=Me.call(mn,ge,ne);break e}ge=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Je.payload,ne=typeof Me=="function"?Me.call(mn,ge,ne):Me,ne==null)break e;ge=U({},ge,ne);break e;case 2:Lo=!0}}ne=I.callback,ne!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(W=oe=ae,z=ge):oe=oe.next=ae,S|=ne;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);oe===null&&(z=ge),p.baseState=z,p.firstBaseUpdate=W,p.lastBaseUpdate=oe,y===null&&(p.shared.lanes=0),qo|=S,s.lanes=S,s.memoizedState=ge}}function Zb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Jb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Zb(o[s],r)}function Uh(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&s)===s){c=void 0;var y=o.create,S=o.inst;c=y(),S.destroy=c}o=o.next}while(o!==p)}}catch(I){jt(r,r.return,I)}}function Bo(s,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&s)===s){var S=c.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,p=r;var z=o;try{I()}catch(W){jt(p,z,W)}}}c=c.next}while(c!==y)}}catch(W){jt(r,r.return,W)}}function eE(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Jb(r,o)}catch(c){jt(s,s.return,c)}}}function tE(s,r,o){o.props=Wl(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){jt(s,r,c)}}function Zl(s,r){try{var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof o=="function"?s.refCleanup=o(p):o.current=p}}catch(y){jt(s,r,y)}}function fs(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){jt(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){jt(s,r,p)}else o.current=null}function nE(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){jt(s,s.return,p)}}function iE(s,r,o){try{var c=s.stateNode;vN(c,s.type,o,r),c[yn]=r}catch(p){jt(s,s.return,p)}}function sE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function Kg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yg(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(s,r):o.insertBefore(s,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(s,o)):(r=o,r.appendChild(s)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=im));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Yg(s,r,o),s=s.sibling;s!==null;)Yg(s,r,o),s=s.sibling}function qd(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(qd(s,r,o),s=s.sibling;s!==null;)qd(s,r,o),s=s.sibling}var ka=!1,fn=!1,Wg=!1,rE=typeof WeakSet=="function"?WeakSet:Set,Zn=null,aE=!1;function YI(s,r){if(s=s.containerInfo,wy=cm,s=Ed(s),mh(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var S=0,I=-1,z=-1,W=0,oe=0,ge=s,ne=null;t:for(;;){for(var ae;ge!==o||p!==0&&ge.nodeType!==3||(I=S+p),ge!==y||c!==0&&ge.nodeType!==3||(z=S+c),ge.nodeType===3&&(S+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)ne=ge,ge=ae;for(;;){if(ge===s)break t;if(ne===o&&++W===p&&(I=S),ne===y&&++oe===c&&(z=S),(ae=ge.nextSibling)!==null)break;ge=ne,ne=ge.parentNode}ge=ae}o=I===-1||z===-1?null:{start:I,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ay={focusedElem:s,selectionRange:o},cm=!1,Zn=r;Zn!==null;)if(r=Zn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Zn=s;else for(;Zn!==null;){switch(r=Zn,y=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var Me=Wl(o.type,p,o.elementType===o.type);s=c.getSnapshotBeforeUpdate(Me,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Je){jt(o,o.return,Je)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Ry(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ry(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zn=s;break}Zn=r.return}return Me=aE,aE=!1,Me}function oE(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ma(s,o),c&4&&Uh(5,o);break;case 1:if(Ma(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(I){jt(o,o.return,I)}else{var p=Wl(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(I){jt(o,o.return,I)}}c&64&&eE(o),c&512&&Zl(o,o.return);break;case 3:if(Ma(s,o),c&64&&(c=o.updateQueue,c!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Jb(c,s)}catch(I){jt(o,o.return,I)}}break;case 26:Ma(s,o),c&512&&Zl(o,o.return);break;case 27:case 5:Ma(s,o),r===null&&c&4&&nE(o),c&512&&Zl(o,o.return);break;case 12:Ma(s,o);break;case 13:Ma(s,o),c&4&&cE(s,o);break;case 22:if(p=o.memoizedState!==null||ka,!p){r=r!==null&&r.memoizedState!==null||fn;var y=ka,S=fn;ka=p,(fn=r)&&!S?Fo(s,o,(o.subtreeFlags&8772)!==0):Ma(s,o),ka=y,fn=S}c&512&&(o.memoizedProps.mode==="manual"?Zl(o,o.return):fs(o,o.return));break;default:Ma(s,o)}}function lE(s){var r=s.alternate;r!==null&&(s.alternate=null,lE(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ws(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Cn=null,ds=!1;function Pa(s,r,o){for(o=o.child;o!==null;)uE(s,r,o),o=o.sibling}function uE(s,r,o){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Dr,o)}catch{}switch(o.tag){case 26:fn||fs(o,r),Pa(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:fn||fs(o,r);var c=Cn,p=ds;for(Cn=o.stateNode,Pa(s,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);ws(o),Cn=c,ds=p;break;case 5:fn||fs(o,r);case 6:p=Cn;var y=ds;if(Cn=null,Pa(s,r,o),Cn=p,ds=y,Cn!==null)if(ds)try{s=Cn,c=o.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(S){jt(o,r,S)}else try{Cn.removeChild(o.stateNode)}catch(S){jt(o,r,S)}break;case 18:Cn!==null&&(ds?(r=Cn,o=o.stateNode,r.nodeType===8?Cy(r.parentNode,o):r.nodeType===1&&Cy(r,o),sf(r)):Cy(Cn,o.stateNode));break;case 4:c=Cn,p=ds,Cn=o.stateNode.containerInfo,ds=!0,Pa(s,r,o),Cn=c,ds=p;break;case 0:case 11:case 14:case 15:fn||Bo(2,o,r),fn||Bo(4,o,r),Pa(s,r,o);break;case 1:fn||(fs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&tE(o,r,c)),Pa(s,r,o);break;case 21:Pa(s,r,o);break;case 22:fn||fs(o,r),fn=(c=fn)||o.memoizedState!==null,Pa(s,r,o),fn=c;break;default:Pa(s,r,o)}}function cE(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sf(s)}catch(o){jt(r,r.return,o)}}function WI(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new rE),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new rE),r;default:throw Error(i(435,s.tag))}}function Qg(s,r){var o=WI(s);r.forEach(function(c){var p=lN.bind(null,s,c);o.has(c)||(o.add(c),c.then(p,p))})}function js(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=s,S=r,I=S;e:for(;I!==null;){switch(I.tag){case 27:case 5:Cn=I.stateNode,ds=!1;break e;case 3:Cn=I.stateNode.containerInfo,ds=!0;break e;case 4:Cn=I.stateNode.containerInfo,ds=!0;break e}I=I.return}if(Cn===null)throw Error(i(160));uE(y,S,p),Cn=null,ds=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)hE(r,s),r=r.sibling}var gr=null;function hE(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:js(r,s),Us(s),c&4&&(Bo(3,s,s.return),Uh(3,s),Bo(5,s,s.return));break;case 1:js(r,s),Us(s),c&512&&(fn||o===null||fs(o,o.return)),c&64&&ka&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=gr;if(js(r,s),Us(s),c&512&&(fn||o===null||fs(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Qt]||y[on]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),ci(y,c,o),y[on]=s,Vt(y),c=y;break e;case"link":var S=nT("link","href",p).get(c+(o.href||""));if(S){for(var I=0;I<S.length;I++)if(y=S[I],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(I,1);break t}}y=p.createElement(c),ci(y,c,o),p.head.appendChild(y);break;case"meta":if(S=nT("meta","content",p).get(c+(o.content||""))){for(I=0;I<S.length;I++)if(y=S[I],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(I,1);break t}}y=p.createElement(c),ci(y,c,o),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[on]=s,Vt(y),c=y}s.stateNode=c}else iT(p,s.type,s.stateNode);else s.stateNode=tT(p,c,s.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?iT(p,s.type,s.stateNode):tT(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&iE(s,s.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){p=s.stateNode,y=s.memoizedProps;try{for(var z=p.firstChild;z;){var W=z.nextSibling,oe=z.nodeName;z[Qt]||oe==="HEAD"||oe==="BODY"||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&z.rel.toLowerCase()==="stylesheet"||p.removeChild(z),z=W}for(var ge=s.type,ne=p.attributes;ne.length;)p.removeAttributeNode(ne[0]);ci(p,ge,y),p[on]=s,p[yn]=y}catch(Me){jt(s,s.return,Me)}}case 5:if(js(r,s),Us(s),c&512&&(fn||o===null||fs(o,o.return)),s.flags&32){p=s.stateNode;try{Ln(p,"")}catch(Me){jt(s,s.return,Me)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,iE(s,p,o!==null?o.memoizedProps:p)),c&1024&&(Wg=!0);break;case 6:if(js(r,s),Us(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(Me){jt(s,s.return,Me)}}break;case 3:if(om=null,p=gr,gr=rm(r.containerInfo),js(r,s),gr=p,Us(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{sf(r.containerInfo)}catch(Me){jt(s,s.return,Me)}Wg&&(Wg=!1,fE(s));break;case 4:c=gr,gr=rm(s.stateNode.containerInfo),js(r,s),Us(s),gr=c;break;case 12:js(r,s),Us(s);break;case 13:js(r,s),Us(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ry=an()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qg(s,c)));break;case 22:if(c&512&&(fn||o===null||fs(o,o.return)),z=s.memoizedState!==null,W=o!==null&&o.memoizedState!==null,oe=ka,ge=fn,ka=oe||z,fn=ge||W,js(r,s),fn=ge,ka=oe,Us(s),r=s.stateNode,r._current=s,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,c&8192&&(r._visibility=z?r._visibility&-2:r._visibility|1,z&&(r=ka||fn,o===null||W||r||ac(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(o=null,r=s;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){W=o=r;try{if(p=W.stateNode,z)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=W.stateNode,I=W.memoizedProps.style;var ae=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Me){jt(W,W.return,Me)}}}else if(r.tag===6){if(o===null){W=r;try{W.stateNode.nodeValue=z?"":W.memoizedProps}catch(Me){jt(W,W.return,Me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qg(s,o))));break;case 19:js(r,s),Us(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Qg(s,c)));break;case 21:break;default:js(r,s),Us(s)}}function Us(s){var r=s.flags;if(r&2){try{if(s.tag!==27){e:{for(var o=s.return;o!==null;){if(sE(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var p=c.stateNode,y=Kg(s);qd(s,y,p);break;case 5:var S=c.stateNode;c.flags&32&&(Ln(S,""),c.flags&=-33);var I=Kg(s);qd(s,I,S);break;case 3:case 4:var z=c.stateNode.containerInfo,W=Kg(s);Yg(s,W,z);break;default:throw Error(i(161))}}}catch(oe){jt(s,s.return,oe)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function fE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;fE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ma(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)oE(s,r.alternate,r),r=r.sibling}function ac(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Bo(4,r,r.return),ac(r);break;case 1:fs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&tE(r,r.return,o),ac(r);break;case 26:case 27:case 5:fs(r,r.return),ac(r);break;case 22:fs(r,r.return),r.memoizedState===null&&ac(r);break;default:ac(r)}s=s.sibling}}function Fo(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=s,y=r,S=y.flags;switch(y.tag){case 0:case 11:case 15:Fo(p,y,o),Uh(4,y);break;case 1:if(Fo(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){jt(c,c.return,W)}if(c=y,p=c.updateQueue,p!==null){var I=c.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)Zb(z[p],I)}catch(W){jt(c,c.return,W)}}o&&S&64&&eE(y),Zl(y,y.return);break;case 26:case 27:case 5:Fo(p,y,o),o&&c===null&&S&4&&nE(y),Zl(y,y.return);break;case 12:Fo(p,y,o);break;case 13:Fo(p,y,o),o&&S&4&&cE(p,y);break;case 22:y.memoizedState===null&&Fo(p,y,o),Zl(y,y.return);break;default:Fo(p,y,o)}r=r.sibling}}function Xg(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&qr(o))}function Zg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&qr(s))}function zo(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dE(s,r,o,c),r=r.sibling}function dE(s,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:zo(s,r,o,c),p&2048&&Uh(9,r);break;case 3:zo(s,r,o,c),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&qr(s)));break;case 12:if(p&2048){zo(s,r,o,c),s=r.stateNode;try{var y=r.memoizedProps,S=y.id,I=y.onPostCommit;typeof I=="function"&&I(S,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){jt(r,r.return,z)}}else zo(s,r,o,c);break;case 23:break;case 22:y=r.stateNode,r.memoizedState!==null?y._visibility&4?zo(s,r,o,c):Bh(s,r):y._visibility&4?zo(s,r,o,c):(y._visibility|=4,oc(s,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&Xg(r.alternate,r);break;case 24:zo(s,r,o,c),p&2048&&Zg(r.alternate,r);break;default:zo(s,r,o,c)}}function oc(s,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=s,S=r,I=o,z=c,W=S.flags;switch(S.tag){case 0:case 11:case 15:oc(y,S,I,z,p),Uh(8,S);break;case 23:break;case 22:var oe=S.stateNode;S.memoizedState!==null?oe._visibility&4?oc(y,S,I,z,p):Bh(y,S):(oe._visibility|=4,oc(y,S,I,z,p)),p&&W&2048&&Xg(S.alternate,S);break;case 24:oc(y,S,I,z,p),p&&W&2048&&Zg(S.alternate,S);break;default:oc(y,S,I,z,p)}r=r.sibling}}function Bh(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,p=c.flags;switch(c.tag){case 22:Bh(o,c),p&2048&&Xg(c.alternate,c);break;case 24:Bh(o,c),p&2048&&Zg(c.alternate,c);break;default:Bh(o,c)}r=r.sibling}}var Fh=8192;function lc(s){if(s.subtreeFlags&Fh)for(s=s.child;s!==null;)mE(s),s=s.sibling}function mE(s){switch(s.tag){case 26:lc(s),s.flags&Fh&&s.memoizedState!==null&&LN(gr,s.memoizedState,s.memoizedProps);break;case 5:lc(s);break;case 3:case 4:var r=gr;gr=rm(s.stateNode.containerInfo),lc(s),gr=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Fh,Fh=16777216,lc(s),Fh=r):lc(s));break;default:lc(s)}}function pE(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function zh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zn=c,yE(c,s)}pE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gE(s),s=s.sibling}function gE(s){switch(s.tag){case 0:case 11:case 15:zh(s),s.flags&2048&&Bo(9,s,s.return);break;case 3:zh(s);break;case 12:zh(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&4&&(s.return===null||s.return.tag!==13)?(r._visibility&=-5,$d(s)):zh(s);break;default:zh(s)}}function $d(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zn=c,yE(c,s)}pE(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Bo(8,r,r.return),$d(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,$d(r));break;default:$d(r)}s=s.sibling}}function yE(s,r){for(;Zn!==null;){var o=Zn;switch(o.tag){case 0:case 11:case 15:Bo(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:qr(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Zn=c;else e:for(o=s;Zn!==null;){c=Zn;var p=c.sibling,y=c.return;if(lE(c),c===o){Zn=null;break e}if(p!==null){p.return=y,Zn=p;break e}Zn=y}}}function QI(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(s,r,o,c){return new QI(s,r,o,c)}function Jg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ho(s,r){var o=s.alternate;return o===null?(o=Bs(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&31457280,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function vE(s,r){s.flags&=31457282;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Gd(s,r,o,c,p,y){var S=0;if(c=s,typeof s=="function")Jg(s)&&(S=1);else if(typeof s=="string")S=MN(s,o,Ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case f:return Jl(o.children,p,y,r);case m:S=8,p|=24;break;case v:return s=Bs(12,o,r,p|2),s.elementType=v,s.lanes=y,s;case H:return s=Bs(13,o,r,p),s.elementType=H,s.lanes=y,s;case j:return s=Bs(19,o,r,p),s.elementType=j,s.lanes=y,s;case Y:return _E(o,p,y,r);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case R:S=10;break e;case w:S=9;break e;case k:S=11;break e;case M:S=14;break e;case q:S=16,c=null;break e}S=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Bs(S,o,r,p),r.elementType=s,r.type=c,r.lanes=y,r}function Jl(s,r,o,c){return s=Bs(7,s,c,r),s.lanes=o,s}function _E(s,r,o,c){s=Bs(22,s,c,r),s.elementType=Y,s.lanes=o;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)===0){var S=ur(y,2);S!==null&&(p._pendingVisibility|=2,Ui(S,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)!==0){var S=ur(y,2);S!==null&&(p._pendingVisibility&=-3,Ui(S,y,2))}}};return s.stateNode=p,s}function ey(s,r,o){return s=Bs(6,s,null,r),s.lanes=o,s}function ty(s,r,o){return r=Bs(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}function Va(s){s.flags|=4}function bE(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sT(r)){if(r=gi.current,r!==null&&((Tt&4194176)===Tt?Vs!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||r!==Vs))throw Fl=hr,Io;s.flags|=8192}}function Kd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?zi():536870912,s.lanes|=r,cc|=r)}function Hh(s,r){if(!ct)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function tn(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function XI(s,r,o){var c=r.pendingProps;switch(cr(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(r),null;case 1:return tn(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Oa(En),Jt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ro(r)?Va(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Li!==null&&(uy(Li),Li=null))),tn(r),null;case 26:return o=r.memoizedState,s===null?(Va(r),o!==null?(tn(r),bE(r,o)):(tn(r),r.flags&=-16777217)):o?o!==s.memoizedState?(Va(r),tn(r),bE(r,o)):(tn(r),r.flags&=-16777217):(s.memoizedProps!==c&&Va(r),tn(r),r.flags&=-16777217),null;case 27:Cr(r),o=ot.current;var p=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Va(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return tn(r),null}s=Ve.current,Ro(r)?Ca(r):(s=QE(p,c,o),r.stateNode=s,Va(r))}return tn(r),null;case 5:if(Cr(r),o=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Va(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return tn(r),null}if(s=Ve.current,Ro(r))Ca(r);else{switch(p=sm(ot.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}s[on]=r,s[yn]=c;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=s;e:switch(ci(s,o,c),o){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Va(r)}}return tn(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&Va(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=ot.current,Ro(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,p=ai,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[on]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||qE(s.nodeValue,o)),s||xa(r)}else s=sm(s).createTextNode(c),s[on]=r,r.stateNode=s}return tn(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Ro(r),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[on]=r}else jl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tn(r),p=!1}else Li!==null&&(uy(Li),Li=null),p=!0;if(!p)return r.flags&256?(dr(r),r):(dr(r),null)}if(dr(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,s=s!==null&&s.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==s&&o&&(r.child.flags|=8192),Kd(r,r.updateQueue),tn(r),null;case 4:return Jt(),s===null&&by(r.stateNode.containerInfo),tn(r),null;case 10:return Oa(r.type),tn(r),null;case 19:if(at(bn),p=r.memoizedState,p===null)return tn(r),null;if(c=(r.flags&128)!==0,y=p.rendering,y===null)if(c)Hh(p,!1);else{if(dn!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Ju(s),y!==null){for(r.flags|=128,Hh(p,!1),s=y.updateQueue,r.updateQueue=s,Kd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)vE(o,s),o=o.sibling;return pe(bn,bn.current&1|2),r.child}s=s.sibling}p.tail!==null&&an()>Yd&&(r.flags|=128,c=!0,Hh(p,!1),r.lanes=4194304)}else{if(!c)if(s=Ju(y),s!==null){if(r.flags|=128,c=!0,s=s.updateQueue,r.updateQueue=s,Kd(r,s),Hh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!ct)return tn(r),null}else 2*an()-p.renderingStartTime>Yd&&o!==536870912&&(r.flags|=128,c=!0,Hh(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(s=p.last,s!==null?s.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=an(),r.sibling=null,s=bn.current,pe(bn,c?s&1|2:s&1),r):(tn(r),null);case 22:case 23:return dr(r),Zu(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(tn(r),r.subtreeFlags&6&&(r.flags|=8192)):tn(r),o=r.updateQueue,o!==null&&Kd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&at(G),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Oa(En),tn(r),null;case 25:return null}throw Error(i(156,r.tag))}function ZI(s,r){switch(cr(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Oa(En),Jt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Cr(r),null;case 13:if(dr(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));jl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return at(bn),null;case 4:return Jt(),null;case 10:return Oa(r.type),null;case 22:case 23:return dr(r),Zu(),s!==null&&at(G),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Oa(En),null;case 25:return null;default:return null}}function EE(s,r){switch(cr(r),r.tag){case 3:Oa(En),Jt();break;case 26:case 27:case 5:Cr(r);break;case 4:Jt();break;case 13:dr(r);break;case 19:at(bn);break;case 10:Oa(r.type);break;case 22:case 23:dr(r),Zu(),s!==null&&at(G);break;case 24:Oa(En)}}var JI={getCacheForType:function(s){var r=vi(En),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o}},eN=typeof WeakMap=="function"?WeakMap:Map,nn=0,qt=null,ht=null,Tt=0,$t=0,ms=null,La=!1,uc=!1,ny=!1,ja=0,dn=0,qo=0,eu=0,iy=0,Fs=0,cc=0,qh=null,Yr=null,sy=!1,ry=0,Yd=1/0,Wd=null,$o=null,Qd=!1,tu=null,$h=0,ay=0,oy=null,Gh=0,ly=null;function ps(){if((nn&2)!==0&&Tt!==0)return Tt&-Tt;if(N.T!==null){var s=ko;return s!==0?s:gy()}return Qs()}function TE(){Fs===0&&(Fs=(Tt&536870912)===0||ct?Es():536870912);var s=gi.current;return s!==null&&(s.flags|=32),Fs}function Ui(s,r,o){(s===qt&&$t===2||s.cancelPendingCommit!==null)&&(hc(s,0),Ua(s,Tt,Fs,!1)),en(s,o),((nn&2)===0||s!==qt)&&(s===qt&&((nn&2)===0&&(eu|=o),dn===4&&Ua(s,Tt,Fs,!1)),Wr(s))}function wE(s,r,o){if((nn&6)!==0)throw Error(i(327));var c=!o&&(r&60)===0&&(r&s.expiredLanes)===0||Or(s,r),p=c?iN(s,r):fy(s,r,!0),y=c;do{if(p===0){uc&&!c&&Ua(s,r,0,!1);break}else if(p===6)Ua(s,r,0,!La);else{if(o=s.current.alternate,y&&!tN(o)){p=fy(s,r,!1),y=!1;continue}if(p===2){if(y=r,s.errorRecoveryDisabledLanes&y)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var I=s;p=qh;var z=I.current.memoizedState.isDehydrated;if(z&&(hc(I,S).flags|=256),S=fy(I,S,!1),S!==2){if(ny&&!z){I.errorRecoveryDisabledLanes|=y,eu|=y,p=4;break e}y=Yr,Yr=p,y!==null&&uy(y)}p=S}if(y=!1,p!==2)continue}}if(p===1){hc(s,0),Ua(s,r,0,!0);break}e:{switch(c=s,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194176)===r){Ua(c,r,Fs,!La);break e}break;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=r,(r&62914560)===r&&(y=ry+300-an(),10<y)){if(Ua(c,r,Fs,!La),Fi(c,0)!==0)break e;c.timeoutHandle=KE(AE.bind(null,c,o,Yr,Wd,sy,r,Fs,eu,cc,La,2,-0,0),y);break e}AE(c,o,Yr,Wd,sy,r,Fs,eu,cc,La,0,-0,0)}}break}while(!0);Wr(s)}function uy(s){Yr===null?Yr=s:Yr.push.apply(Yr,s)}function AE(s,r,o,c,p,y,S,I,z,W,oe,ge,ne){var ae=r.subtreeFlags;if((ae&8192||(ae&16785408)===16785408)&&(Zh={stylesheets:null,count:0,unsuspend:VN},mE(r),r=jN(),r!==null)){s.cancelPendingCommit=r(DE.bind(null,s,o,c,p,S,I,z,1,ge,ne)),Ua(s,y,S,!W);return}DE(s,o,c,p,S,I,z,oe,ge,ne)}function tN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!zt(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ua(s,r,o,c){r&=~iy,r&=~eu,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var p=r;0<p;){var y=31-ti(p),S=1<<y;c[y]=-1,p&=~S}o!==0&&kr(s,o,r)}function Xd(){return(nn&6)===0?(Kh(0),!1):!0}function cy(){if(ht!==null){if($t===0)var s=ht.return;else s=ht,Da=Ql=null,oi(s),No=null,zl=0,s=ht;for(;s!==null;)EE(s.alternate,s),s=s.return;ht=null}}function hc(s,r){s.finishedWork=null,s.finishedLanes=0;var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,bN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),cy(),qt=s,ht=o=Ho(s.current,null),Tt=r,$t=0,ms=null,La=!1,uc=Or(s,r),ny=!1,cc=Fs=iy=eu=qo=dn=0,Yr=qh=null,sy=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var p=31-ti(c),y=1<<p;r|=s[p],c&=~y}return ja=r,zu(),o}function SE(s,r){me=null,N.H=Kr,r===Bl?(r=Od(),$t=3):r===Io?(r=Od(),$t=4):$t=r===jb?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ms=r,ht===null&&(dn=1,Fd(s,Wi(r,s.current)))}function xE(){var s=N.H;return N.H=Kr,s===null?Kr:s}function CE(){var s=N.A;return N.A=JI,s}function hy(){dn=4,La||(Tt&4194176)!==Tt&&gi.current!==null||(uc=!0),(qo&134217727)===0&&(eu&134217727)===0||qt===null||Ua(qt,Tt,Fs,!1)}function fy(s,r,o){var c=nn;nn|=2;var p=xE(),y=CE();(qt!==s||Tt!==r)&&(Wd=null,hc(s,r)),r=!1;var S=dn;e:do try{if($t!==0&&ht!==null){var I=ht,z=ms;switch($t){case 8:cy(),S=6;break e;case 3:case 2:case 6:gi.current===null&&(r=!0);var W=$t;if($t=0,ms=null,fc(s,I,z,W),o&&uc){S=0;break e}break;default:W=$t,$t=0,ms=null,fc(s,I,z,W)}}nN(),S=dn;break}catch(oe){SE(s,oe)}while(!0);return r&&s.shellSuspendCounter++,Da=Ql=null,nn=c,N.H=p,N.A=y,ht===null&&(qt=null,Tt=0,zu()),S}function nN(){for(;ht!==null;)RE(ht)}function iN(s,r){var o=nn;nn|=2;var c=xE(),p=CE();qt!==s||Tt!==r?(Wd=null,Yd=an()+500,hc(s,r)):uc=Or(s,r);e:do try{if($t!==0&&ht!==null){r=ht;var y=ms;t:switch($t){case 1:$t=0,ms=null,fc(s,r,y,1);break;case 2:if(Nd(y)){$t=0,ms=null,IE(r);break}r=function(){$t===2&&qt===s&&($t=7),Wr(s)},y.then(r,r);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Nd(y)?($t=0,ms=null,IE(r)):($t=0,ms=null,fc(s,r,y,7));break;case 5:var S=null;switch(ht.tag){case 26:S=ht.memoizedState;case 5:case 27:var I=ht;if(!S||sT(S)){$t=0,ms=null;var z=I.sibling;if(z!==null)ht=z;else{var W=I.return;W!==null?(ht=W,Zd(W)):ht=null}break t}}$t=0,ms=null,fc(s,r,y,5);break;case 6:$t=0,ms=null,fc(s,r,y,6);break;case 8:cy(),dn=6;break e;default:throw Error(i(462))}}sN();break}catch(oe){SE(s,oe)}while(!0);return Da=Ql=null,N.H=c,N.A=p,nn=o,ht!==null?0:(qt=null,Tt=0,zu(),dn)}function sN(){for(;ht!==null&&!wl();)RE(ht)}function RE(s){var r=Qb(s.alternate,s,ja);s.memoizedProps=s.pendingProps,r===null?Zd(s):ht=r}function IE(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=qb(o,r,r.pendingProps,r.type,void 0,Tt);break;case 11:r=qb(o,r,r.pendingProps,r.type.render,r.ref,Tt);break;case 5:oi(r);default:EE(o,r),r=ht=vE(r,ja),r=Qb(o,r,ja)}s.memoizedProps=s.pendingProps,r===null?Zd(s):ht=r}function fc(s,r,o,c){Da=Ql=null,oi(r),No=null,zl=0;var p=r.return;try{if(GI(s,p,r,o,Tt)){dn=1,Fd(s,Wi(o,s.current)),ht=null;return}}catch(y){if(p!==null)throw ht=p,y;dn=1,Fd(s,Wi(o,s.current)),ht=null;return}r.flags&32768?(ct||c===1?s=!0:uc||(Tt&536870912)!==0?s=!1:(La=s=!0,(c===2||c===3||c===6)&&(c=gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),NE(r,s)):Zd(r)}function Zd(s){var r=s;do{if((r.flags&32768)!==0){NE(r,La);return}s=r.return;var o=XI(r.alternate,r,ja);if(o!==null){ht=o;return}if(r=r.sibling,r!==null){ht=r;return}ht=r=s}while(r!==null);dn===0&&(dn=5)}function NE(s,r){do{var o=ZI(s.alternate,s);if(o!==null){o.flags&=32767,ht=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){ht=s;return}ht=s=o}while(s!==null);dn=6,ht=null}function DE(s,r,o,c,p,y,S,I,z,W){var oe=N.T,ge=Ae.p;try{Ae.p=2,N.T=null,rN(s,r,o,c,ge,p,y,S,I,z,W)}finally{N.T=oe,Ae.p=ge}}function rN(s,r,o,c,p,y,S,I){do dc();while(tu!==null);if((nn&6)!==0)throw Error(i(327));var z=s.finishedWork;if(c=s.finishedLanes,z===null)return null;if(s.finishedWork=null,s.finishedLanes=0,z===s.current)throw Error(i(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var W=z.lanes|z.childLanes;if(W|=_h,xu(s,c,W,y,S,I),s===qt&&(ht=qt=null,Tt=0),(z.subtreeFlags&10256)===0&&(z.flags&10256)===0||Qd||(Qd=!0,ay=W,oy=o,uN(kn,function(){return dc(),null})),o=(z.flags&15990)!==0,(z.subtreeFlags&15990)!==0||o?(o=N.T,N.T=null,y=Ae.p,Ae.p=2,S=nn,nn|=4,YI(s,z),hE(z,s),gg(Ay,s.containerInfo),cm=!!wy,Ay=wy=null,s.current=z,oE(s,z.alternate,z),ca(),nn=S,Ae.p=y,N.T=o):s.current=z,Qd?(Qd=!1,tu=s,$h=c):OE(s,W),W=s.pendingLanes,W===0&&($o=null),Al(z.stateNode),Wr(s),r!==null)for(p=s.onRecoverableError,z=0;z<r.length;z++)W=r[z],p(W.value,{componentStack:W.stack});return($h&3)!==0&&dc(),W=s.pendingLanes,(c&4194218)!==0&&(W&42)!==0?s===ly?Gh++:(Gh=0,ly=s):Gh=0,Kh(0),null}function OE(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,qr(r)))}function dc(){if(tu!==null){var s=tu,r=ay;ay=0;var o=uo($h),c=N.T,p=Ae.p;try{if(Ae.p=32>o?32:o,N.T=null,tu===null)var y=!1;else{o=oy,oy=null;var S=tu,I=$h;if(tu=null,$h=0,(nn&6)!==0)throw Error(i(331));var z=nn;if(nn|=4,gE(S.current),dE(S,S.current,I,o),nn=z,Kh(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Dr,S)}catch{}y=!0}return y}finally{Ae.p=p,N.T=c,OE(s,r)}}return!1}function kE(s,r,o){r=Wi(o,r),r=Ng(s.stateNode,r,2),s=Uo(s,r,2),s!==null&&(en(s,2),Wr(s))}function jt(s,r,o){if(s.tag===3)kE(s,s,o);else for(;r!==null;){if(r.tag===3){kE(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($o===null||!$o.has(c))){s=Wi(o,s),o=Vb(2),c=Uo(r,o,2),c!==null&&(Lb(o,c,r,s),en(c,2),Wr(c));break}}r=r.return}}function dy(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new eN;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(ny=!0,p.add(o),s=aN.bind(null,s,r,o),r.then(s,s))}function aN(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,qt===s&&(Tt&o)===o&&(dn===4||dn===3&&(Tt&62914560)===Tt&&300>an()-ry?(nn&2)===0&&hc(s,0):iy|=o,cc===Tt&&(cc=0)),Wr(s)}function PE(s,r){r===0&&(r=zi()),s=ur(s,r),s!==null&&(en(s,r),Wr(s))}function oN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),PE(s,o)}function lN(s,r){var o=0;switch(s.tag){case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),PE(s,o)}function uN(s,r){return Gs(s,r)}var Jd=null,mc=null,my=!1,em=!1,py=!1,nu=0;function Wr(s){s!==mc&&s.next===null&&(mc===null?Jd=mc=s:mc=mc.next=s),em=!0,my||(my=!0,hN(cN))}function Kh(s,r){if(!py&&em){py=!0;do for(var o=!1,c=Jd;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var S=c.suspendedLanes,I=c.pingedLanes;y=(1<<31-ti(42|s)+1)-1,y&=p&~(S&~I),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,LE(c,y))}else y=Tt,y=Fi(c,c===qt?y:0),(y&3)===0||Or(c,y)||(o=!0,LE(c,y));c=c.next}while(o);py=!1}}function cN(){em=my=!1;var s=0;nu!==0&&(_N()&&(s=nu),nu=0);for(var r=an(),o=null,c=Jd;c!==null;){var p=c.next,y=ME(c,r);y===0?(c.next=null,o===null?Jd=p:o.next=p,p===null&&(mc=o)):(o=c,(s!==0||(y&3)!==0)&&(em=!0)),c=p}Kh(s)}function ME(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var S=31-ti(y),I=1<<S,z=p[S];z===-1?((I&o)===0||(I&c)!==0)&&(p[S]=oo(I,r)):z<=r&&(s.expiredLanes|=I),y&=~I}if(r=qt,o=Tt,o=Fi(s,s===r?o:0),c=s.callbackNode,o===0||s===r&&$t===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ir(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Or(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Ir(c),uo(o)){case 2:case 8:o=It;break;case 32:o=kn;break;case 268435456:o=Nr;break;default:o=kn}return c=VE.bind(null,s),o=Gs(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Ir(c),s.callbackPriority=2,s.callbackNode=null,2}function VE(s,r){var o=s.callbackNode;if(dc()&&s.callbackNode!==o)return null;var c=Tt;return c=Fi(s,s===qt?c:0),c===0?null:(wE(s,c,r),ME(s,an()),s.callbackNode!=null&&s.callbackNode===o?VE.bind(null,s):null)}function LE(s,r){if(dc())return null;wE(s,r,!0)}function hN(s){EN(function(){(nn&6)!==0?Gs(Fe,s):s()})}function gy(){return nu===0&&(nu=Es()),nu}function jE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:os(""+s)}function UE(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function fN(s,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var y=jE((p[yn]||null).action),S=c.submitter;S&&(r=(r=S[yn]||null)?jE(r.formAction):S.getAttribute("formAction"),r!==null&&(y=r,S=null));var I=new pa("action","action",null,c,p);s.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(nu!==0){var z=S?UE(p,S):new FormData(p);Sg(o,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(I.preventDefault(),z=S?UE(p,S):new FormData(p),Sg(o,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var yy=0;yy<vh.length;yy++){var vy=vh[yy],dN=vy.toLowerCase(),mN=vy[0].toUpperCase()+vy.slice(1);Ki(dN,"on"+mN)}Ki(Td,"onAnimationEnd"),Ki(gh,"onAnimationIteration"),Ki(yh,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(wd,"onTransitionRun"),Ki(Ad,"onTransitionStart"),Ki(vg,"onTransitionCancel"),Ki(Sd,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yh));function BE(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],p=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var S=c.length-1;0<=S;S--){var I=c[S],z=I.instance,W=I.currentTarget;if(I=I.listener,z!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=W;try{y(p)}catch(oe){Bd(oe)}p.currentTarget=null,y=z}else for(S=0;S<c.length;S++){if(I=c[S],z=I.instance,W=I.currentTarget,I=I.listener,z!==y&&p.isPropagationStopped())break e;y=I,p.currentTarget=W;try{y(p)}catch(oe){Bd(oe)}p.currentTarget=null,y=z}}}}function _t(s,r){var o=r[Hi];o===void 0&&(o=r[Hi]=new Set);var c=s+"__bubble";o.has(c)||(FE(r,s,2,!1),o.add(c))}function _y(s,r,o){var c=0;r&&(c|=4),FE(o,s,c,r)}var tm="_reactListening"+Math.random().toString(36).slice(2);function by(s){if(!s[tm]){s[tm]=!0,As.forEach(function(o){o!=="selectionchange"&&(pN.has(o)||_y(o,!1,s),_y(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[tm]||(r[tm]=!0,_y("selectionchange",!1,r))}}function FE(s,r,o,c){switch(cT(r)){case 2:var p=FN;break;case 8:p=zN;break;default:p=ky}o=p.bind(null,r,o,s),p=void 0,!Oi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function Ey(s,r,o,c,p){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var I=c.stateNode.containerInfo;if(I===p||I.nodeType===8&&I.parentNode===p)break;if(S===4)for(S=c.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===p||z.nodeType===8&&z.parentNode===p))return;S=S.return}for(;I!==null;){if(S=Hn(I),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){c=y=S;continue e}I=I.parentNode}}c=c.return}sr(function(){var W=y,oe=Mr(o),ge=[];e:{var ne=xd.get(s);if(ne!==void 0){var ae=pa,Me=s;switch(s){case"keypress":if(Is(o)===0)break e;case"keydown":case"keyup":ae=Gi;break;case"focusin":Me="focus",ae=_a;break;case"focusout":Me="blur",ae=_a;break;case"beforeblur":case"afterblur":ae=_a;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=ku;break;case Td:case gh:case yh:ae=Ea;break;case Sd:ae=Mu;break;case"scroll":case"scrollend":ae=go;break;case"wheel":ae=wa;break;case"copy":case"cut":case"paste":ae=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=kl;break;case"toggle":case"beforetoggle":ae=Lu}var Je=(r&4)!==0,mn=!Je&&(s==="scroll"||s==="scrollend"),Z=Je?ne!==null?ne+"Capture":null:ne;Je=[];for(var K=W,ee;K!==null;){var le=K;if(ee=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||ee===null||Z===null||(le=da(K,Z),le!=null&&Je.push(Wh(K,le,ee))),mn)break;K=K.return}0<Je.length&&(ne=new ae(ne,Me,null,o,oe),ge.push({event:ne,listeners:Je}))}}if((r&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",ne&&o!==Gn&&(Me=o.relatedTarget||o.fromElement)&&(Hn(Me)||Me[Xs]))break e;if((ae||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Me=o.relatedTarget||o.toElement,ae=W,Me=Me?Hn(Me):null,Me!==null&&(mn=ye(Me),Je=Me.tag,Me!==mn||Je!==5&&Je!==27&&Je!==6)&&(Me=null)):(ae=null,Me=W),ae!==Me)){if(Je=Pi,le="onMouseLeave",Z="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Je=kl,le="onPointerLeave",Z="onPointerEnter",K="pointer"),mn=ae==null?ne:Ri(ae),ee=Me==null?ne:Ri(Me),ne=new Je(le,K+"leave",ae,o,oe),ne.target=mn,ne.relatedTarget=ee,le=null,Hn(oe)===W&&(Je=new Je(Z,K+"enter",Me,o,oe),Je.target=ee,Je.relatedTarget=mn,le=Je),mn=le,ae&&Me)t:{for(Je=ae,Z=Me,K=0,ee=Je;ee;ee=pc(ee))K++;for(ee=0,le=Z;le;le=pc(le))ee++;for(;0<K-ee;)Je=pc(Je),K--;for(;0<ee-K;)Z=pc(Z),ee--;for(;K--;){if(Je===Z||Z!==null&&Je===Z.alternate)break t;Je=pc(Je),Z=pc(Z)}Je=null}else Je=null;ae!==null&&zE(ge,ne,ae,Je,!1),Me!==null&&mn!==null&&zE(ge,mn,Me,Je,!0)}}e:{if(ne=W?Ri(W):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var De=Vl;else if(cn(ne))if(md)De=_d;else{De=vd;var ut=yd}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?W&&Nl(W.elementType)&&(De=Vl):De=Uu;if(De&&(De=De(s,W))){Os(ge,De,o,oe);break e}ut&&ut(s,ne,W),s==="focusout"&&W&&ne.type==="number"&&W.memoizedProps.value!=null&&tr(ne,"number",ne.value)}switch(ut=W?Ri(W):window,s){case"focusin":(cn(ut)||ut.contentEditable==="true")&&(bo=ut,ph=W,Eo=null);break;case"focusout":Eo=ph=bo=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,Fu(ge,o,oe);break;case"selectionchange":if(yg)break;case"keydown":case"keyup":Fu(ge,o,oe)}var je;if(Yn)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ft?ie(s,o)&&($e="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(A&&o.locale!=="ko"&&(ft||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ft&&(je=Vr()):(ki=oe,Rs="value"in ki?ki.value:ki.textContent,ft=!0)),ut=nm(W,$e),0<ut.length&&($e=new vo($e,s,null,o,oe),ge.push({event:$e,listeners:ut}),je?$e.data=je:(je=xe(o),je!==null&&($e.data=je)))),(je=b?_n(s,o):dt(s,o))&&($e=nm(W,"onBeforeInput"),0<$e.length&&(ut=new vo("onBeforeInput","beforeinput",null,o,oe),ge.push({event:ut,listeners:$e}),ut.data=je)),fN(ge,s,W,o,oe)}BE(ge,r)})}function Wh(s,r,o){return{instance:s,listener:r,currentTarget:o}}function nm(s,r){for(var o=r+"Capture",c=[];s!==null;){var p=s,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=da(s,o),p!=null&&c.unshift(Wh(s,p,y)),p=da(s,r),p!=null&&c.push(Wh(s,p,y))),s=s.return}return c}function pc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function zE(s,r,o,c,p){for(var y=r._reactName,S=[];o!==null&&o!==c;){var I=o,z=I.alternate,W=I.stateNode;if(I=I.tag,z!==null&&z===c)break;I!==5&&I!==26&&I!==27||W===null||(z=W,p?(W=da(o,y),W!=null&&S.unshift(Wh(o,W,z))):p||(W=da(o,y),W!=null&&S.push(Wh(o,W,z)))),o=o.return}S.length!==0&&s.push({event:r,listeners:S})}var gN=/\r\n?/g,yN=/\u0000|\uFFFD/g;function HE(s){return(typeof s=="string"?s:""+s).replace(gN,`
`).replace(yN,"")}function qE(s,r){return r=HE(r),HE(s)===r}function im(){}function Mt(s,r,o,c,p,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Ln(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Ln(s,""+c);break;case"className":er(s,"class",c);break;case"tabIndex":er(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":er(s,o,c);break;case"style":$i(s,c,y);break;case"data":if(r!=="object"){er(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=os(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&Mt(s,r,"name",p.name,p,null),Mt(s,r,"formEncType",p.formEncType,p,null),Mt(s,r,"formMethod",p.formMethod,p,null),Mt(s,r,"formTarget",p.formTarget,p,null)):(Mt(s,r,"encType",p.encType,p,null),Mt(s,r,"method",p.method,p,null),Mt(s,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=os(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=im);break;case"onScroll":c!=null&&_t("scroll",s);break;case"onScrollEnd":c!=null&&_t("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=os(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":_t("beforetoggle",s),_t("toggle",s),Js(s,"popover",c);break;case"xlinkActuate":Ii(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ii(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ii(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ii(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ii(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ii(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ii(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Js(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ss.get(o)||o,Js(s,o,c))}}function Ty(s,r,o,c,p,y){switch(o){case"style":$i(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Ln(s,c):(typeof c=="number"||typeof c=="bigint")&&Ln(s,""+c);break;case"onScroll":c!=null&&_t("scroll",s);break;case"onScrollEnd":c!=null&&_t("scrollend",s);break;case"onClick":c!=null&&(s.onclick=im);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=s[yn]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,p);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Js(s,o,c)}}}function ci(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",s),_t("load",s);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Mt(s,r,y,S,o,null)}}p&&Mt(s,r,"srcSet",o.srcSet,o,null),c&&Mt(s,r,"src",o.src,o,null);return;case"input":_t("invalid",s);var I=y=S=p=null,z=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var oe=o[c];if(oe!=null)switch(c){case"name":p=oe;break;case"type":S=oe;break;case"checked":z=oe;break;case"defaultChecked":W=oe;break;case"value":y=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,r));break;default:Mt(s,r,c,oe,o,null)}}Ni(s,y,I,z,W,S,p,!1),vn(s);return;case"select":_t("invalid",s),c=S=y=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":y=I;break;case"defaultValue":S=I;break;case"multiple":c=I;default:Mt(s,r,p,I,o,null)}r=y,o=S,s.multiple=!!c,r!=null?rt(s,!!c,r,!1):o!=null&&rt(s,!!c,o,!0);return;case"textarea":_t("invalid",s),y=p=c=null;for(S in o)if(o.hasOwnProperty(S)&&(I=o[S],I!=null))switch(S){case"value":c=I;break;case"defaultValue":p=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:Mt(s,r,S,I,o,null)}ir(s,c,p,y),vn(s);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(s,r,z,c,o,null)}return;case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":_t("load",s);break;case"video":case"audio":for(c=0;c<Yh.length;c++)_t(Yh[c],s);break;case"image":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"embed":case"source":case"link":_t("error",s),_t("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Mt(s,r,W,c,o,null)}return;default:if(Nl(r)){for(oe in o)o.hasOwnProperty(oe)&&(c=o[oe],c!==void 0&&Ty(s,r,oe,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&Mt(s,r,I,c,o,null))}function vN(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,I=null,z=null,W=null,oe=null;for(ae in o){var ge=o[ae];if(o.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":z=ge;default:c.hasOwnProperty(ae)||Mt(s,r,ae,null,c,ge)}}for(var ne in c){var ae=c[ne];if(ge=o[ne],c.hasOwnProperty(ne)&&(ae!=null||ge!=null))switch(ne){case"type":y=ae;break;case"name":p=ae;break;case"checked":W=ae;break;case"defaultChecked":oe=ae;break;case"value":S=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,r));break;default:ae!==ge&&Mt(s,r,ne,ae,c,ge)}}Vn(s,S,I,z,W,oe,y,p);return;case"select":ae=S=I=ne=null;for(y in o)if(z=o[y],o.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ae=z;default:c.hasOwnProperty(y)||Mt(s,r,y,null,c,z)}for(p in c)if(y=c[p],z=o[p],c.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":ne=y;break;case"defaultValue":I=y;break;case"multiple":S=y;default:y!==z&&Mt(s,r,p,y,c,z)}r=I,o=S,c=ae,ne!=null?rt(s,!!o,ne,!1):!!c!=!!o&&(r!=null?rt(s,!!o,r,!0):rt(s,!!o,o?[]:"",!1));return;case"textarea":ae=ne=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Mt(s,r,I,null,c,p)}for(S in c)if(p=c[S],y=o[S],c.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":ne=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Mt(s,r,S,p,c,y)}nr(s,ne,ae);return;case"option":for(var Me in o)if(ne=o[Me],o.hasOwnProperty(Me)&&ne!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":s.selected=!1;break;default:Mt(s,r,Me,null,c,ne)}for(z in c)if(ne=c[z],ae=o[z],c.hasOwnProperty(z)&&ne!==ae&&(ne!=null||ae!=null))switch(z){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Mt(s,r,z,ne,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in o)ne=o[Je],o.hasOwnProperty(Je)&&ne!=null&&!c.hasOwnProperty(Je)&&Mt(s,r,Je,null,c,ne);for(W in c)if(ne=c[W],ae=o[W],c.hasOwnProperty(W)&&ne!==ae&&(ne!=null||ae!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,r));break;default:Mt(s,r,W,ne,c,ae)}return;default:if(Nl(r)){for(var mn in o)ne=o[mn],o.hasOwnProperty(mn)&&ne!==void 0&&!c.hasOwnProperty(mn)&&Ty(s,r,mn,void 0,c,ne);for(oe in c)ne=c[oe],ae=o[oe],!c.hasOwnProperty(oe)||ne===ae||ne===void 0&&ae===void 0||Ty(s,r,oe,ne,c,ae);return}}for(var Z in o)ne=o[Z],o.hasOwnProperty(Z)&&ne!=null&&!c.hasOwnProperty(Z)&&Mt(s,r,Z,null,c,ne);for(ge in c)ne=c[ge],ae=o[ge],!c.hasOwnProperty(ge)||ne===ae||ne==null&&ae==null||Mt(s,r,ge,ne,c,ae)}var wy=null,Ay=null;function sm(s){return s.nodeType===9?s:s.ownerDocument}function $E(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GE(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Sy(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xy=null;function _N(){var s=window.event;return s&&s.type==="popstate"?s===xy?!1:(xy=s,!0):(xy=null,!1)}var KE=typeof setTimeout=="function"?setTimeout:void 0,bN=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,EN=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(s){return YE.resolve(null).then(s).catch(TN)}:KE;function TN(s){setTimeout(function(){throw s})}function Cy(s,r){var o=r,c=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(c===0){s.removeChild(p),sf(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=p}while(o);sf(r)}function Ry(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ry(o),ws(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function wN(s,r,o,c){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Qt])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=yr(s.nextSibling),s===null)break}return null}function AN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=yr(s.nextSibling),s===null))return null;return s}function yr(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}function WE(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return s;r--}else o==="/$"&&r++}s=s.previousSibling}return null}function QE(s,r,o){switch(r=sm(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}var zs=new Map,XE=new Set;function rm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Ba=Ae.d;Ae.d={f:SN,r:xN,D:CN,C:RN,L:IN,m:NN,X:ON,S:DN,M:kN};function SN(){var s=Ba.f(),r=Xd();return s||r}function xN(s){var r=ni(s);r!==null&&r.tag===5&&r.type==="form"?Ab(r):Ba.r(s)}var gc=typeof document>"u"?null:document;function ZE(s,r,o){var c=gc;if(c&&typeof r=="string"&&r){var p=Ft(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),XE.has(p)||(XE.add(p),s={rel:s,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),ci(r,"link",s),Vt(r),c.head.appendChild(r)))}}function CN(s){Ba.D(s),ZE("dns-prefetch",s,null)}function RN(s,r){Ba.C(s,r),ZE("preconnect",s,r)}function IN(s,r,o){Ba.L(s,r,o);var c=gc;if(c&&s&&r){var p='link[rel="preload"][as="'+Ft(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ft(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ft(o.imageSizes)+'"]')):p+='[href="'+Ft(s)+'"]';var y=p;switch(r){case"style":y=yc(s);break;case"script":y=vc(s)}zs.has(y)||(s=U({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),zs.set(y,s),c.querySelector(p)!==null||r==="style"&&c.querySelector(Qh(y))||r==="script"&&c.querySelector(Xh(y))||(r=c.createElement("link"),ci(r,"link",s),Vt(r),c.head.appendChild(r)))}}function NN(s,r){Ba.m(s,r);var o=gc;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ft(c)+'"][href="'+Ft(s)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vc(s)}if(!zs.has(y)&&(s=U({rel:"modulepreload",href:s},r),zs.set(y,s),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xh(y)))return}c=o.createElement("link"),ci(c,"link",s),Vt(c),o.head.appendChild(c)}}}function DN(s,r,o){Ba.S(s,r,o);var c=gc;if(c&&s){var p=Zs(c).hoistableStyles,y=yc(s);r=r||"default";var S=p.get(y);if(!S){var I={loading:0,preload:null};if(S=c.querySelector(Qh(y)))I.loading=5;else{s=U({rel:"stylesheet",href:s,"data-precedence":r},o),(o=zs.get(y))&&Iy(s,o);var z=S=c.createElement("link");Vt(z),ci(z,"link",s),z._p=new Promise(function(W,oe){z.onload=W,z.onerror=oe}),z.addEventListener("load",function(){I.loading|=1}),z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,am(S,r,c)}S={type:"stylesheet",instance:S,count:1,state:I},p.set(y,S)}}}function ON(s,r){Ba.X(s,r);var o=gc;if(o&&s){var c=Zs(o).hoistableScripts,p=vc(s),y=c.get(p);y||(y=o.querySelector(Xh(p)),y||(s=U({src:s,async:!0},r),(r=zs.get(p))&&Ny(s,r),y=o.createElement("script"),Vt(y),ci(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function kN(s,r){Ba.M(s,r);var o=gc;if(o&&s){var c=Zs(o).hoistableScripts,p=vc(s),y=c.get(p);y||(y=o.querySelector(Xh(p)),y||(s=U({src:s,async:!0,type:"module"},r),(r=zs.get(p))&&Ny(s,r),y=o.createElement("script"),Vt(y),ci(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function JE(s,r,o,c){var p=(p=ot.current)?rm(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=yc(o.href),o=Zs(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=yc(o.href);var y=Zs(p).hoistableStyles,S=y.get(s);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,S),(y=p.querySelector(Qh(s)))&&!y._p&&(S.instance=y,S.state.loading=5),zs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zs.set(s,o),y||PN(p,s,o,S.state))),r&&c===null)throw Error(i(528,""));return S}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vc(o),o=Zs(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function yc(s){return'href="'+Ft(s)+'"'}function Qh(s){return'link[rel="stylesheet"]['+s+"]"}function eT(s){return U({},s,{"data-precedence":s.precedence,precedence:null})}function PN(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),ci(r,"link",o),Vt(r),s.head.appendChild(r))}function vc(s){return'[src="'+Ft(s)+'"]'}function Xh(s){return"script[async]"+s}function tT(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Ft(o.href)+'"]');if(c)return r.instance=c,Vt(c),c;var p=U({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Vt(c),ci(c,"style",p),am(c,o.precedence,s),r.instance=c;case"stylesheet":p=yc(o.href);var y=s.querySelector(Qh(p));if(y)return r.state.loading|=4,r.instance=y,Vt(y),y;c=eT(o),(p=zs.get(p))&&Iy(c,p),y=(s.ownerDocument||s).createElement("link"),Vt(y);var S=y;return S._p=new Promise(function(I,z){S.onload=I,S.onerror=z}),ci(y,"link",c),r.state.loading|=4,am(y,o.precedence,s),r.instance=y;case"script":return y=vc(o.src),(p=s.querySelector(Xh(y)))?(r.instance=p,Vt(p),p):(c=o,(p=zs.get(y))&&(c=U({},o),Ny(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),Vt(p),ci(p,"link",c),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,am(c,o.precedence,s));return r.instance}function am(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,S=0;S<c.length;S++){var I=c[S];if(I.dataset.precedence===r)y=I;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Iy(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Ny(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var om=null;function nT(s,r,o){if(om===null){var c=new Map,p=om=new Map;p.set(o,c)}else p=om,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var y=o[p];if(!(y[Qt]||y[on]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(r)||"";S=s+S;var I=c.get(S);I?I.push(y):c.set(S,[y])}}return c}function iT(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function MN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function sT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Zh=null;function VN(){}function LN(s,r,o){if(Zh===null)throw Error(i(475));var c=Zh;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=yc(o.href),y=s.querySelector(Qh(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=lm.bind(c),s.then(c,c)),r.state.loading|=4,r.instance=y,Vt(y);return}y=s.ownerDocument||s,o=eT(o),(p=zs.get(p))&&Iy(o,p),y=y.createElement("link"),Vt(y);var S=y;S._p=new Promise(function(I,z){S.onload=I,S.onerror=z}),ci(y,"link",o),r.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=lm.bind(c),s.addEventListener("load",r),s.addEventListener("error",r))}}function jN(){if(Zh===null)throw Error(i(475));var s=Zh;return s.stylesheets&&s.count===0&&Dy(s,s.stylesheets),0<s.count?function(r){var o=setTimeout(function(){if(s.stylesheets&&Dy(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(o)}}:null}function lm(){if(this.count--,this.count===0){if(this.stylesheets)Dy(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var um=null;function Dy(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,um=new Map,r.forEach(UN,s),um=null,lm.call(s))}function UN(s,r){if(!(r.state.loading&4)){var o=um.get(s);if(o)var c=o.get(null);else{o=new Map,um.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}p=r.instance,S=p.getAttribute("data-precedence"),y=o.get(S)||c,y===c&&o.set(null,p),o.set(S,p),this.count++,c=lm.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Jh={$$typeof:R,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function BN(s,r,o,c,p,y,S,I){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function rT(s,r,o,c,p,y,S,I,z,W,oe,ge){return s=new BN(s,r,o,S,I,z,W,ge),r=1,y===!0&&(r|=24),y=Bs(3,null,null,r),s.current=y,y.stateNode=s,r=ec(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},Hg(y),s}function aT(s){return s?(s=Ao,s):Ao}function oT(s,r,o,c,p,y){p=aT(p),c.context===null?c.context=p:c.pendingContext=p,c=jo(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Uo(s,c,r),o!==null&&(Ui(o,s,r),Vh(o,s,r))}function lT(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Oy(s,r){lT(s,r),(s=s.alternate)&&lT(s,r)}function uT(s){if(s.tag===13){var r=ur(s,67108864);r!==null&&Ui(r,s,67108864),Oy(s,67108864)}}var cm=!0;function FN(s,r,o,c){var p=N.T;N.T=null;var y=Ae.p;try{Ae.p=2,ky(s,r,o,c)}finally{Ae.p=y,N.T=p}}function zN(s,r,o,c){var p=N.T;N.T=null;var y=Ae.p;try{Ae.p=8,ky(s,r,o,c)}finally{Ae.p=y,N.T=p}}function ky(s,r,o,c){if(cm){var p=Py(c);if(p===null)Ey(s,r,c,hm,o),hT(s,c);else if(qN(p,s,r,o,c))c.stopPropagation();else if(hT(s,c),r&4&&-1<HN.indexOf(s)){for(;p!==null;){var y=ni(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=is(y.pendingLanes);if(S!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var z=1<<31-ti(S);I.entanglements[1]|=z,S&=~z}Wr(y),(nn&6)===0&&(Yd=an()+500,Kh(0))}}break;case 13:I=ur(y,2),I!==null&&Ui(I,y,2),Xd(),Oy(y,2)}if(y=Py(c),y===null&&Ey(s,r,c,hm,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else Ey(s,r,c,null,o)}}function Py(s){return s=Mr(s),My(s)}var hm=null;function My(s){if(hm=null,s=Hn(s),s!==null){var r=ye(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=tt(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return hm=s,null}function cT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ci()){case Fe:return 2;case It:return 8;case kn:case Ks:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var Vy=!1,Go=null,Ko=null,Yo=null,ef=new Map,tf=new Map,Wo=[],HN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hT(s,r){switch(s){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":ef.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(r.pointerId)}}function nf(s,r,o,c,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},r!==null&&(r=ni(r),r!==null&&uT(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function qN(s,r,o,c,p){switch(r){case"focusin":return Go=nf(Go,s,r,o,c,p),!0;case"dragenter":return Ko=nf(Ko,s,r,o,c,p),!0;case"mouseover":return Yo=nf(Yo,s,r,o,c,p),!0;case"pointerover":var y=p.pointerId;return ef.set(y,nf(ef.get(y)||null,s,r,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,tf.set(y,nf(tf.get(y)||null,s,r,o,c,p)),!0}return!1}function fT(s){var r=Hn(s.target);if(r!==null){var o=ye(r);if(o!==null){if(r=o.tag,r===13){if(r=tt(o),r!==null){s.blockedOn=r,ss(s.priority,function(){if(o.tag===13){var c=ps(),p=ur(o,c);p!==null&&Ui(p,o,c),Oy(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fm(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Py(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Gn=c,o.target.dispatchEvent(c),Gn=null}else return r=ni(o),r!==null&&uT(r),s.blockedOn=o,!1;r.shift()}return!0}function dT(s,r,o){fm(s)&&o.delete(r)}function $N(){Vy=!1,Go!==null&&fm(Go)&&(Go=null),Ko!==null&&fm(Ko)&&(Ko=null),Yo!==null&&fm(Yo)&&(Yo=null),ef.forEach(dT),tf.forEach(dT)}function dm(s,r){s.blockedOn===r&&(s.blockedOn=null,Vy||(Vy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$N)))}var mm=null;function mT(s){mm!==s&&(mm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mm===s&&(mm=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],p=s[r+2];if(typeof c!="function"){if(My(c||o)===null)continue;break}var y=ni(o);y!==null&&(s.splice(r,3),r-=3,Sg(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function sf(s){function r(z){return dm(z,s)}Go!==null&&dm(Go,s),Ko!==null&&dm(Ko,s),Yo!==null&&dm(Yo,s),ef.forEach(r),tf.forEach(r);for(var o=0;o<Wo.length;o++){var c=Wo[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Wo.length&&(o=Wo[0],o.blockedOn===null);)fT(o),o.blockedOn===null&&Wo.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],S=p[yn]||null;if(typeof y=="function")S||mT(o);else if(S){var I=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[yn]||null)I=S.formAction;else if(My(p)!==null)continue}else I=S.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),mT(o)}}}function Ly(s){this._internalRoot=s}pm.prototype.render=Ly.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=ps();oT(o,c,s,r,null,null)},pm.prototype.unmount=Ly.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;s.tag===0&&dc(),oT(s.current,2,null,s,null,null),Xd(),r[Xs]=null}};function pm(s){this._internalRoot=s}pm.prototype.unstable_scheduleHydration=function(s){if(s){var r=Qs();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Wo.length&&r!==0&&r<Wo[o].priority;o++);Wo.splice(o,0,s),o===0&&fT(s)}};var pT=e.version;if(pT!=="19.0.0")throw Error(i(527,pT,"19.0.0"));Ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=de(r),s=s!==null?Ce(s):null,s=s===null?null:s.stateNode,s};var GN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:N,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gm.isDisabled&&gm.supportsFiber)try{Dr=gm.inject(GN),zn=gm}catch{}}return af.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",p=Ob,y=kb,S=Pb,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks)),r=rT(s,1,!1,null,null,o,c,p,y,S,I,null),s[Xs]=r.current,by(s.nodeType===8?s.parentNode:s),new Ly(r)},af.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,p="",y=Ob,S=kb,I=Pb,z=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),r=rT(s,1,!0,r,o??null,c,p,y,S,I,z,W),r.context=aT(null),o=r.current,c=ps(),p=jo(c),p.callback=null,Uo(o,p,c),r.current.lanes=c,en(r,c),Wr(r),s[Xs]=r.current,by(s),new pm(r)},af.version="19.0.0",af}var ST;function t2(){if(ST)return Uy.exports;ST=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uy.exports=e2(),Uy.exports}var n2=t2(),C=w_();const Ji=Rp(C);var of={},xT;function i2(){if(xT)return of;xT=1,Object.defineProperty(of,"__esModule",{value:!0}),of.parse=u,of.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,R){const k=new l,H=w.length;if(H<2)return k;const j=(R==null?void 0:R.decode)||v;let M=0;do{const q=w.indexOf("=",M);if(q===-1)break;const Y=w.indexOf(";",M),re=Y===-1?H:Y;if(q>re){M=w.lastIndexOf(";",q-1)+1;continue}const te=h(w,M,q),Q=f(w,q,te),B=w.slice(te,Q);if(k[B]===void 0){let D=h(w,q+1,re),N=f(w,re,D);const U=j(w.slice(D,N));k[B]=U}M=re+1}while(M<H);return k}function h(w,R,k){do{const H=w.charCodeAt(R);if(H!==32&&H!==9)return R}while(++R<k);return k}function f(w,R,k){for(;R>k;){const H=w.charCodeAt(--R);if(H!==32&&H!==9)return R+1}return k}function m(w,R,k){const H=(k==null?void 0:k.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=H(R);if(!e.test(j))throw new TypeError(`argument val is invalid: ${R}`);let M=w+"="+j;if(!k)return M;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);M+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);M+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);M+="; Path="+k.path}if(k.expires){if(!E(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);M+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(M+="; HttpOnly"),k.secure&&(M+="; Secure"),k.partitioned&&(M+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return M}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function E(w){return a.call(w)==="[object Date]"}return of}i2();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CT="popstate";function s2(t={}){function e(i,a){let{pathname:l,search:u,hash:h}=i.location;return Sv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:If(a)}return a2(e,n,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r2(){return Math.random().toString(36).substring(2,10)}function RT(t,e){return{usr:t.state,key:t.key,idx:e}}function Sv(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wc(e):e,state:n,key:e&&e.key||i||r2()}}function If({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function a2(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function E(){h="POP";let j=v(),M=j==null?null:j-m;m=j,f&&f({action:h,location:H.location,delta:M})}function w(j,M){h="PUSH";let q=Sv(H.location,j,M);m=v()+1;let Y=RT(q,m),re=H.createHref(q);try{u.pushState(Y,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(re)}l&&f&&f({action:h,location:H.location,delta:1})}function R(j,M){h="REPLACE";let q=Sv(H.location,j,M);m=v();let Y=RT(q,m),re=H.createHref(q);u.replaceState(Y,"",re),l&&f&&f({action:h,location:H.location,delta:0})}function k(j){let M=a.location.origin!=="null"?a.location.origin:a.location.href,q=typeof j=="string"?j:If(j);return q=q.replace(/ $/,"%20"),Zt(M,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,M)}let H={get action(){return h},get location(){return t(a,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(CT,E),f=j,()=>{a.removeEventListener(CT,E),f=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let M=k(j);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:R,go(j){return u.go(j)}};return H}function QS(t,e,n="/"){return o2(t,e,n,!1)}function o2(t,e,n,i){let a=typeof e=="string"?Wc(e):e,l=Qa(a.pathname||"/",n);if(l==null)return null;let u=XS(t);l2(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=_2(l);h=y2(u[f],m,i)}return h}function XS(t,e=[],n=[],i=""){let a=(l,u,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Zt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=qa([i,f.relativePath]),v=n.concat(f);l.children&&l.children.length>0&&(Zt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),XS(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:p2(m,l.index),routesMeta:v})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let f of ZS(l.path))a(l,u,f)}),e}function ZS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=ZS(i.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function l2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var u2=/^:[\w-]+$/,c2=3,h2=2,f2=1,d2=10,m2=-2,IT=t=>t==="*";function p2(t,e){let n=t.split("/"),i=n.length;return n.some(IT)&&(i+=m2),e&&(i+=h2),n.filter(a=>!IT(a)).reduce((a,l)=>a+(u2.test(l)?c2:l===""?f2:d2),i)}function g2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function y2(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Wm({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),w=f.route;if(!E&&m&&n&&!i[i.length-1].route.index&&(E=Wm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:qa([l,E.pathname]),pathnameBase:w2(qa([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=qa([l,E.pathnameBase]))}return u}function Wm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=v2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:E},w)=>{if(v==="*"){let k=h[w]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=h[w];return E&&!R?m[v]=void 0:m[v]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function v2(t,e=!1,n=!0){Tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function _2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function b2(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Wc(t):t;return{pathname:n?n.startsWith("/")?n:E2(n,e):e,search:A2(i),hash:S2(a)}}function E2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function qy(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A_(t){let e=T2(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function S_(t,e,n,i=!1){let a;typeof t=="string"?a=Wc(t):(a={...t},Zt(!a.pathname||!a.pathname.includes("?"),qy("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),qy("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),qy("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let E=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),E-=1;a.pathname=w.join("/")}h=E>=0?e[E]:"/"}let f=b2(a,h),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var qa=t=>t.join("/").replace(/\/\/+/g,"/"),w2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JS=["POST","PUT","PATCH","DELETE"];new Set(JS);var C2=["GET",...JS];new Set(C2);var Qc=C.createContext(null);Qc.displayName="DataRouter";var Ip=C.createContext(null);Ip.displayName="DataRouterState";var ex=C.createContext({isTransitioning:!1});ex.displayName="ViewTransition";var R2=C.createContext(new Map);R2.displayName="Fetchers";var I2=C.createContext(null);I2.displayName="Await";var Sr=C.createContext(null);Sr.displayName="Navigation";var Qf=C.createContext(null);Qf.displayName="Location";var aa=C.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var x_=C.createContext(null);x_.displayName="RouteError";function N2(t,{relative:e}={}){Zt(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(Sr),{hash:a,pathname:l,search:u}=Xf(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:qa([n,l])),i.createHref({pathname:h,search:u,hash:a})}function Xc(){return C.useContext(Qf)!=null}function oa(){return Zt(Xc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Qf).location}var tx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nx(t){C.useContext(Sr).static||C.useLayoutEffect(t)}function Np(){let{isDataRoute:t}=C.useContext(aa);return t?H2():D2()}function D2(){Zt(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Qc),{basename:e,navigator:n}=C.useContext(Sr),{matches:i}=C.useContext(aa),{pathname:a}=oa(),l=JSON.stringify(A_(i)),u=C.useRef(!1);return nx(()=>{u.current=!0}),C.useCallback((f,m={})=>{if(Tr(u.current,tx),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=S_(f,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:qa([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,a,t])}C.createContext(null);function Xf(t,{relative:e}={}){let{matches:n}=C.useContext(aa),{pathname:i}=oa(),a=JSON.stringify(A_(n));return C.useMemo(()=>S_(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function O2(t,e){return ix(t,e)}function ix(t,e,n,i){var q;Zt(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=C.useContext(Sr),{matches:u}=C.useContext(aa),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let Y=E&&E.path||"";sx(m,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let w=oa(),R;if(e){let Y=typeof e=="string"?Wc(e):e;Zt(v==="/"||((q=Y.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),R=Y}else R=w;let k=R.pathname||"/",H=k;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");H="/"+k.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=!l&&n&&n.matches&&n.matches.length>0?n.matches:QS(t,{pathname:H});Tr(E||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Tr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=L2(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},f,Y.params),pathname:qa([v,a.encodeLocation?a.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:qa([v,a.encodeLocation?a.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,i);return e&&M?C.createElement(Qf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},M):M}function k2(){let t=z2(),e=x2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:a},n):null,u)}var P2=C.createElement(k2,null),M2=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(aa.Provider,{value:this.props.routeContext},C.createElement(x_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V2({routeContext:t,match:e,children:n}){let i=C.useContext(Qc);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(aa.Provider,{value:t},n)}function L2(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Zt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:v,errors:E}=n,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,v)=>{let E,w=!1,R=null,k=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,R=m.route.errorElement||P2,u&&(h<0&&v===0?(sx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):h===v&&(w=!0,k=m.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,v+1)),j=()=>{let M;return E?M=R:w?M=k:m.route.Component?M=C.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=f,C.createElement(V2,{match:m,routeContext:{outlet:f,matches:H,isDataRoute:n!=null},children:M})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?C.createElement(M2,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:j(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):j()},null)}function C_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j2(t){let e=C.useContext(Qc);return Zt(e,C_(t)),e}function U2(t){let e=C.useContext(Ip);return Zt(e,C_(t)),e}function B2(t){let e=C.useContext(aa);return Zt(e,C_(t)),e}function R_(t){let e=B2(t),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function F2(){return R_("useRouteId")}function z2(){var i;let t=C.useContext(x_),e=U2("useRouteError"),n=R_("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function H2(){let{router:t}=j2("useNavigate"),e=R_("useNavigate"),n=C.useRef(!1);return nx(()=>{n.current=!0}),C.useCallback(async(a,l={})=>{Tr(n.current,tx),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var NT={};function sx(t,e,n){!e&&!NT[t]&&(NT[t]=!0,Tr(!1,n))}C.memo(q2);function q2({routes:t,future:e,state:n}){return ix(t,void 0,n,e)}function cf({to:t,replace:e,state:n,relative:i}){Zt(Xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(Sr);Tr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(aa),{pathname:u}=oa(),h=Np(),f=S_(t,A_(l),u,i==="path"),m=JSON.stringify(f);return C.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function Un(t){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Zt(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Wc(n));let{pathname:f="/",search:m="",hash:v="",state:E=null,key:w="default"}=n,R=C.useMemo(()=>{let k=Qa(f,u);return k==null?null:{location:{pathname:k,search:m,hash:v,state:E,key:w},navigationType:i}},[u,f,m,v,E,w,i]);return Tr(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:C.createElement(Sr.Provider,{value:h},C.createElement(Qf.Provider,{children:e,value:R}))}function G2({children:t,location:e}){return O2(xv(t),e)}function xv(t,e=[]){let n=[];return C.Children.forEach(t,(i,a)=>{if(!C.isValidElement(i))return;let l=[...e,a];if(i.type===C.Fragment){n.push.apply(n,xv(i.props.children,l));return}Zt(i.type===Un,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=xv(i.props.children,l)),n.push(u)}),n}var Om="get",km="application/x-www-form-urlencoded";function Dp(t){return t!=null&&typeof t.tagName=="string"}function K2(t){return Dp(t)&&t.tagName.toLowerCase()==="button"}function Y2(t){return Dp(t)&&t.tagName.toLowerCase()==="form"}function W2(t){return Dp(t)&&t.tagName.toLowerCase()==="input"}function Q2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X2(t,e){return t.button===0&&(!e||e==="_self")&&!Q2(t)}var ym=null;function Z2(){if(ym===null)try{new FormData(document.createElement("form"),0),ym=!1}catch{ym=!0}return ym}var J2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $y(t){return t!=null&&!J2.has(t)?(Tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${km}"`),null):t}function eD(t,e){let n,i,a,l,u;if(Y2(t)){let h=t.getAttribute("action");i=h?Qa(h,e):null,n=t.getAttribute("method")||Om,a=$y(t.getAttribute("enctype"))||km,l=new FormData(t)}else if(K2(t)||W2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Qa(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Om,a=$y(t.getAttribute("formenctype"))||$y(h.getAttribute("enctype"))||km,l=new FormData(h,t),!Z2()){let{name:m,type:v,value:E}=t;if(v==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,E)}}else{if(Dp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Om,i=null,a=km,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}function I_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function tD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iD(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await tD(l,n);return u.links?u.links():[]}return[]}));return oD(i.flat(1).filter(nD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DT(t,e,n,i,a,l){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,h=(f,m)=>{var v;return n[m].pathname!==f.pathname||((v=n[m].route.path)==null?void 0:v.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):l==="data"?e.filter((f,m)=>{var E;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function sD(t,e,{includeHydrateFallback:n}={}){return rD(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function rD(t){return[...new Set(t)]}function aD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function oD(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(aD(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function lD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Qa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function rx(){let t=C.useContext(Qc);return I_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uD(){let t=C.useContext(Ip);return I_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var N_=C.createContext(void 0);N_.displayName="FrameworkContext";function ax(){let t=C.useContext(N_);return I_(t,"You must render this element inside a <HydratedRouter> element"),t}function cD(t,e){let n=C.useContext(N_),[i,a]=C.useState(!1),[l,u]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,w=C.useRef(null);C.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let H=M=>{M.forEach(q=>{u(q.isIntersecting)})},j=new IntersectionObserver(H,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[t]),C.useEffect(()=>{if(i){let H=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(H)}}},[i]);let R=()=>{a(!0)},k=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:lf(h,R),onBlur:lf(f,k),onMouseEnter:lf(m,R),onMouseLeave:lf(v,k),onTouchStart:lf(E,R)}]:[!1,w,{}]}function lf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hD({page:t,...e}){let{router:n}=rx(),i=C.useMemo(()=>QS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(dD,{page:t,matches:i,...e}):null}function fD(t){let{manifest:e,routeModules:n}=ax(),[i,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return iD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function dD({page:t,matches:e,...n}){let i=oa(),{manifest:a,routeModules:l}=ax(),{basename:u}=rx(),{loaderData:h,matches:f}=uD(),m=C.useMemo(()=>DT(t,e,f,a,i,"data"),[t,e,f,a,i]),v=C.useMemo(()=>DT(t,e,f,a,i,"assets"),[t,e,f,a,i]),E=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,H=!1;if(e.forEach(M=>{var Y;let q=a.routes[M.route.id];!q||!q.hasLoader||(!m.some(re=>re.route.id===M.route.id)&&M.route.id in h&&((Y=l[M.route.id])!=null&&Y.shouldRevalidate)||q.hasClientLoader?H=!0:k.add(M.route.id))}),k.size===0)return[];let j=lD(t,u);return H&&k.size>0&&j.searchParams.set("_routes",e.filter(M=>k.has(M.route.id)).map(M=>M.route.id).join(",")),[j.pathname+j.search]},[u,h,i,a,m,e,t,l]),w=C.useMemo(()=>sD(v,a),[v,a]),R=fD(v);return C.createElement(C.Fragment,null,E.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),w.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),R.map(({key:k,link:H})=>C.createElement("link",{key:k,...H})))}function mD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ox&&(window.__reactRouterVersion="7.3.0")}catch{}function pD({basename:t,children:e,window:n}){let i=C.useRef();i.current==null&&(i.current=s2({window:n,v5Compat:!0}));let a=i.current,[l,u]=C.useState({action:a.action,location:a.location}),h=C.useCallback(f=>{C.startTransition(()=>u(f))},[u]);return C.useLayoutEffect(()=>a.listen(h),[a,h]),C.createElement($2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ou=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:E,...w},R){let{basename:k}=C.useContext(Sr),H=typeof m=="string"&&lx.test(m),j,M=!1;if(typeof m=="string"&&H&&(j=m,ox))try{let N=new URL(window.location.href),U=m.startsWith("//")?new URL(N.protocol+m):new URL(m),F=Qa(U.pathname,k);U.origin===N.origin&&F!=null?m=F+U.search+U.hash:M=!0}catch{Tr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=N2(m,{relative:a}),[Y,re,te]=cD(i,w),Q=vD(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:a,viewTransition:E});function B(N){e&&e(N),N.defaultPrevented||Q(N)}let D=C.createElement("a",{...w,...te,href:j||q,onClick:M||l?e:B,ref:mD(R,re),target:f,"data-discover":!H&&n==="render"?"true":void 0});return Y&&!H?C.createElement(C.Fragment,null,D,C.createElement(hD,{page:q})):D});ou.displayName="Link";var Ct=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...m},v){let E=Xf(u,{relative:m.relative}),w=oa(),R=C.useContext(Ip),{navigator:k,basename:H}=C.useContext(Sr),j=R!=null&&wD(E)&&h===!0,M=k.encodeLocation?k.encodeLocation(E).pathname:E.pathname,q=w.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(q=q.toLowerCase(),Y=Y?Y.toLowerCase():null,M=M.toLowerCase()),Y&&H&&(Y=Qa(Y,H)||Y);const re=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let te=q===M||!a&&q.startsWith(M)&&q.charAt(re)==="/",Q=Y!=null&&(Y===M||!a&&Y.startsWith(M)&&Y.charAt(M.length)==="/"),B={isActive:te,isPending:Q,isTransitioning:j},D=te?e:void 0,N;typeof i=="function"?N=i(B):N=[i,te?"active":null,Q?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(B):l;return C.createElement(ou,{...m,"aria-current":D,className:N,ref:v,style:U,to:u,viewTransition:h},typeof f=="function"?f(B):f)});Ct.displayName="NavLink";var gD=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=Om,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:E,...w},R)=>{let k=ED(),H=TD(h,{relative:m}),j=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&lx.test(h),q=Y=>{if(f&&f(Y),Y.defaultPrevented)return;Y.preventDefault();let re=Y.nativeEvent.submitter,te=(re==null?void 0:re.getAttribute("formmethod"))||u;k(re||Y.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:E})};return C.createElement("form",{ref:R,method:j,action:H,onSubmit:i?f:q,...w,"data-discover":!M&&t==="render"?"true":void 0})});gD.displayName="Form";function yD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ux(t){let e=C.useContext(Qc);return Zt(e,yD(t)),e}function vD(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Np(),f=oa(),m=Xf(t,{relative:l});return C.useCallback(v=>{if(X2(v,e)){v.preventDefault();let E=n!==void 0?n:If(f)===If(m);h(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[f,h,m,n,i,e,t,a,l,u])}var _D=0,bD=()=>`__${String(++_D)}__`;function ED(){let{router:t}=ux("useSubmit"),{basename:e}=C.useContext(Sr),n=F2();return C.useCallback(async(i,a={})=>{let{action:l,method:u,encType:h,formData:f,body:m}=eD(i,e);if(a.navigate===!1){let v=a.fetcherKey||bD();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function TD(t,{relative:e}={}){let{basename:n}=C.useContext(Sr),i=C.useContext(aa);Zt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Xf(t||".",{relative:e})},u=oa();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qa([n,l.pathname])),If(l)}function wD(t,e={}){let n=C.useContext(ex);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ux("useViewTransitionState"),a=Xf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Qa(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Qa(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Wm(a.pathname,u)!=null||Wm(a.pathname,l)!=null}new TextEncoder;var AD=WS();const xc=Rp(AD),SD=()=>{};var OT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},xD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,f=a+2<t.length,m=f?t[a+2]:0,v=l>>2,E=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,R=m&63;f||(R=64,u||(w=64)),i.push(n[v],n[E],n[w],n[R])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||E==null)throw new CD;const w=l<<2|h>>4;if(i.push(w),m!==64){const R=h<<4&240|m>>2;if(i.push(R),E!==64){const k=m<<6&192|E;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(t){const e=cx(t);return hx.encodeByteArray(e,!0)},Qm=function(t){return RD(t).replace(/\./g,"")},fx=function(t){try{return hx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=()=>ID().__FIREBASE_DEFAULTS__,DD=()=>{if(typeof process>"u"||typeof OT>"u")return;const t=OT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fx(t[1]);return e&&JSON.parse(e)},Op=()=>{try{return SD()||ND()||DD()||OD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dx=t=>{var e,n;return(n=(e=Op())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mx=t=>{const e=dx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},px=()=>{var t;return(t=Op())===null||t===void 0?void 0:t.config},gx=t=>{var e;return(e=Op())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qm(JSON.stringify(n)),Qm(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xi())}function MD(){var t;const e=(t=Op())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UD(){const t=xi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BD(){return!MD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FD(){try{return typeof indexedDB=="object"}catch{return!1}}function zD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="FirebaseError";class la extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=HD,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zf.prototype.create)}}class Zf{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?qD(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new la(a,h,i)}}function qD(t,e){return t.replace($D,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const $D=/\{\$([^}]+)}/g;function GD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(kT(l)&&kT(u)){if(!gu(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function kT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ff(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KD(t,e){const n=new YD(t,e);return n.subscribe.bind(n)}class YD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");WD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Gy),a.error===void 0&&(a.error=Gy),a.complete===void 0&&(a.complete=Gy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class ul{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=su){return this.instances.has(e)}getOptions(e=su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=su){return this.component?this.component.multipleInstances?e:su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XD(t){return t===su?void 0:t}function ZD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const eO={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},tO=pt.INFO,nO={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},iO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=nO[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D_{constructor(e){this.name=e,this._logLevel=tO,this._logHandler=iO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const sO=(t,e)=>e.some(n=>t instanceof n);let PT,MT;function rO(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aO(){return MT||(MT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vx=new WeakMap,Cv=new WeakMap,_x=new WeakMap,Ky=new WeakMap,O_=new WeakMap;function oO(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(rl(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&vx.set(n,t)}).catch(()=>{}),O_.set(e,t),e}function lO(t){if(Cv.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Cv.set(t,e)}let Rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_x.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uO(t){Rv=t(Rv)}function cO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yy(this),e,...n);return _x.set(i,e.sort?e.sort():[e]),rl(i)}:aO().includes(t)?function(...e){return t.apply(Yy(this),e),rl(vx.get(this))}:function(...e){return rl(t.apply(Yy(this),e))}}function hO(t){return typeof t=="function"?cO(t):(t instanceof IDBTransaction&&lO(t),sO(t,rO())?new Proxy(t,Rv):t)}function rl(t){if(t instanceof IDBRequest)return oO(t);if(Ky.has(t))return Ky.get(t);const e=hO(t);return e!==t&&(Ky.set(t,e),O_.set(e,t)),e}const Yy=t=>O_.get(t);function fO(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=rl(u);return i&&u.addEventListener("upgradeneeded",f=>{i(rl(u.result),f.oldVersion,f.newVersion,rl(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const dO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],Wy=new Map;function VT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wy.get(e))return Wy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=mO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||dO.includes(n)))return;const l=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&f.done]))[0]};return Wy.set(e,l),l}uO(t=>({...t,get:(e,n,i)=>VT(e,n)||t.get(e,n,i),has:(e,n)=>!!VT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function gO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iv="@firebase/app",LT="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new D_("@firebase/app"),yO="@firebase/app-compat",vO="@firebase/analytics-compat",_O="@firebase/analytics",bO="@firebase/app-check-compat",EO="@firebase/app-check",TO="@firebase/auth",wO="@firebase/auth-compat",AO="@firebase/database",SO="@firebase/data-connect",xO="@firebase/database-compat",CO="@firebase/functions",RO="@firebase/functions-compat",IO="@firebase/installations",NO="@firebase/installations-compat",DO="@firebase/messaging",OO="@firebase/messaging-compat",kO="@firebase/performance",PO="@firebase/performance-compat",MO="@firebase/remote-config",VO="@firebase/remote-config-compat",LO="@firebase/storage",jO="@firebase/storage-compat",UO="@firebase/firestore",BO="@firebase/vertexai",FO="@firebase/firestore-compat",zO="firebase",HO="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="[DEFAULT]",qO={[Iv]:"fire-core",[yO]:"fire-core-compat",[_O]:"fire-analytics",[vO]:"fire-analytics-compat",[EO]:"fire-app-check",[bO]:"fire-app-check-compat",[TO]:"fire-auth",[wO]:"fire-auth-compat",[AO]:"fire-rtdb",[SO]:"fire-data-connect",[xO]:"fire-rtdb-compat",[CO]:"fire-fn",[RO]:"fire-fn-compat",[IO]:"fire-iid",[NO]:"fire-iid-compat",[DO]:"fire-fcm",[OO]:"fire-fcm-compat",[kO]:"fire-perf",[PO]:"fire-perf-compat",[MO]:"fire-rc",[VO]:"fire-rc-compat",[LO]:"fire-gcs",[jO]:"fire-gcs-compat",[UO]:"fire-fst",[FO]:"fire-fst-compat",[BO]:"fire-vertex","fire-js":"fire-js",[zO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map,$O=new Map,Dv=new Map;function jT(t,e){try{t.container.addComponent(e)}catch(n){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yu(t){const e=t.name;if(Dv.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;Dv.set(e,t);for(const n of Xm.values())jT(n,t);for(const n of $O.values())jT(n,t);return!0}function kp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},al=new Zf("app","Firebase",GO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=HO;function bx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Nv,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw al.create("bad-app-name",{appName:String(a)});if(n||(n=px()),!n)throw al.create("no-options");const l=Xm.get(a);if(l){if(gu(n,l.options)&&gu(i,l.config))return l;throw al.create("duplicate-app",{appName:a})}const u=new JD(a);for(const f of Dv.values())u.addComponent(f);const h=new KO(n,i,u);return Xm.set(a,h),h}function k_(t=Nv){const e=Xm.get(t);if(!e&&t===Nv&&px())return bx();if(!e)throw al.create("no-app",{appName:t});return e}function Xr(t,e,n){var i;let a=(i=qO[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(h.join(" "));return}yu(new ul(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firebase-heartbeat-database",WO=1,Nf="firebase-heartbeat-store";let Qy=null;function Ex(){return Qy||(Qy=fO(YO,WO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nf)}catch(n){console.warn(n)}}}}).catch(t=>{throw al.create("idb-open",{originalErrorMessage:t.message})})),Qy}async function QO(t){try{const n=(await Ex()).transaction(Nf),i=await n.objectStore(Nf).get(Tx(t));return await n.done,i}catch(e){if(e instanceof la)Xa.warn(e.message);else{const n=al.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xa.warn(n.message)}}}async function UT(t,e){try{const i=(await Ex()).transaction(Nf,"readwrite");await i.objectStore(Nf).put(e,Tx(t)),await i.done}catch(n){if(n instanceof la)Xa.warn(n.message);else{const i=al.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xa.warn(i.message)}}}function Tx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=1024,ZO=30;class JO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tk(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=BT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ZO){const u=nk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BT(),{heartbeatsToSend:i,unsentEntries:a}=ek(this._heartbeatsCache.heartbeats),l=Qm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Xa.warn(n),""}}}function BT(){return new Date().toISOString().substring(0,10)}function ek(t,e=XO){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),FT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),FT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FD()?zD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return UT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return UT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function FT(t){return Qm(JSON.stringify({version:2,heartbeats:t})).length}function nk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){yu(new ul("platform-logger",e=>new pO(e),"PRIVATE")),yu(new ul("heartbeat",e=>new JO(e),"PRIVATE")),Xr(Iv,LT,t),Xr(Iv,LT,"esm2017"),Xr("fire-js","")}ik("");var sk="firebase",rk="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(sk,rk,"app");function P_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function wx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ak=wx,Ax=new Zf("auth","Firebase",wx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new D_("@firebase/auth");function ok(t,...e){Zm.logLevel<=pt.WARN&&Zm.warn(`Auth (${Tu}): ${t}`,...e)}function Pm(t,...e){Zm.logLevel<=pt.ERROR&&Zm.error(`Auth (${Tu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw M_(t,...e)}function Zr(t,...e){return M_(t,...e)}function Sx(t,e,n){const i=Object.assign(Object.assign({},ak()),{[e]:n});return new Zf("auth","Firebase",i).create(e,{appName:t.name})}function $a(t){return Sx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ax.create(t,...e)}function Ke(t,e,...n){if(!t)throw M_(e,...n)}function Fa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pm(e),new Error(e)}function Za(t,e){t||Fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lk(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lk()||LD()||"connection"in navigator)?navigator.onLine:!0}function ck(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,Za(n>e,"Short delay should be less than long delay!"),this.isMobile=PD()||jD()}get(){return uk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t,e){Za(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new ed(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ro(t,e,n,i,a={}){return Cx(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=Jf(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},l);return VD()||(m.referrerPolicy="no-referrer"),xx.fetch()(Rx(t,t.config.apiHost,n,h),m)})}async function Cx(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},hk),e);try{const a=new mk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw vm(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vm(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw vm(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw vm(t,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Sx(t,v,m);wr(t,v)}}catch(a){if(a instanceof la)throw a;wr(t,"network-request-failed",{message:String(a)})}}async function td(t,e,n,i,a={}){const l=await ro(t,e,n,i,a);return"mfaPendingCredential"in l&&wr(t,"multi-factor-auth-required",{_serverResponse:l}),l}function Rx(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?V_(t.config,a):`${t.config.apiScheme}://${a}`}function dk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Zr(this.auth,"network-request-failed")),fk.get())})}}function vm(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Zr(t,e,i);return a.customData._tokenResponse=n,a}function HT(t){return t!==void 0&&t.enterprise!==void 0}class pk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gk(t,e){return ro(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(t,e){return ro(t,"POST","/v1/accounts:delete",e)}async function Ix(t,e){return ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vk(t,e=!1){const n=An(t),i=await n.getIdToken(e),a=L_(i);Ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:bf(Xy(a.auth_time)),issuedAtTime:bf(Xy(a.iat)),expirationTime:bf(Xy(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Xy(t){return Number(t)*1e3}function L_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{const a=fx(n);return a?JSON.parse(a):(Pm("Failed to decode base64 JWT payload"),null)}catch(a){return Pm("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function qT(t){const e=L_(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof la&&_k(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function _k({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bf(this.lastLoginAt),this.creationTime=bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jm(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Df(t,Ix(n,{idToken:i}));Ke(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Nx(l.providerUserInfo):[],h=Tk(t.providerData,u),f=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new kv(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,E)}async function Ek(t){const e=An(t);await Jm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tk(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Nx(t){return t.map(e=>{var{providerId:n}=e,i=P_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e){const n=await Cx(t,{},async()=>{const i=Jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=Rx(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",xx.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ak(t,e){return ro(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=qT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await wk(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new kc;return i&&(Ke(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ke(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ke(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kc,this.toJSON())}_performRefresh(){return Fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class za{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=P_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new kv(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Df(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vk(this,e)}reload(){return Ek(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await Df(this,yk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,u,h,f,m,v;const E=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,k=(u=n.photoURL)!==null&&u!==void 0?u:void 0,H=(h=n.tenantId)!==null&&h!==void 0?h:void 0,j=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,M=(m=n.createdAt)!==null&&m!==void 0?m:void 0,q=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Y,emailVerified:re,isAnonymous:te,providerData:Q,stsTokenManager:B}=n;Ke(Y&&B,e,"internal-error");const D=kc.fromJSON(this.name,B);Ke(typeof Y=="string",e,"internal-error"),Xo(E,e.name),Xo(w,e.name),Ke(typeof re=="boolean",e,"internal-error"),Ke(typeof te=="boolean",e,"internal-error"),Xo(R,e.name),Xo(k,e.name),Xo(H,e.name),Xo(j,e.name),Xo(M,e.name),Xo(q,e.name);const N=new za({uid:Y,auth:e,email:w,emailVerified:re,displayName:E,isAnonymous:te,photoURL:k,phoneNumber:R,tenantId:H,stsTokenManager:D,createdAt:M,lastLoginAt:q});return Q&&Array.isArray(Q)&&(N.providerData=Q.map(U=>Object.assign({},U))),j&&(N._redirectEventId=j),N}static async _fromIdTokenResponse(e,n,i=!1){const a=new kc;a.updateFromServerResponse(n);const l=new za({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Jm(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ke(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Nx(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new kc;h.updateFromIdToken(i);const f=new za({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new kv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;function Ha(t){Za(t instanceof Function,"Expected a class definition");let e=$T.get(t);return e?(Za(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$T.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dx.type="NONE";const GT=Dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e,n){return`firebase:${t}:${e}:${n}`}class Pc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Mm(this.userKey,a.apiKey,l),this.fullPersistenceKey=Mm("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?za._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Pc(Ha(GT),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ha(GT);const u=Mm(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const v=await m._get(u);if(v){const E=za._fromJSON(e,v);m!==l&&(h=E),l=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Pc(l,e,i):(l=f[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Pc(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lx(e))return"Blackberry";if(jx(e))return"Webos";if(kx(e))return"Safari";if((e.includes("chrome/")||Px(e))&&!e.includes("edge/"))return"Chrome";if(Vx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ox(t=xi()){return/firefox\//i.test(t)}function kx(t=xi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Px(t=xi()){return/crios\//i.test(t)}function Mx(t=xi()){return/iemobile/i.test(t)}function Vx(t=xi()){return/android/i.test(t)}function Lx(t=xi()){return/blackberry/i.test(t)}function jx(t=xi()){return/webos/i.test(t)}function j_(t=xi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sk(t=xi()){var e;return j_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xk(){return UD()&&document.documentMode===10}function Ux(t=xi()){return j_(t)||Vx(t)||jx(t)||Lx(t)||/windows phone/i.test(t)||Mx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e=[]){let n;switch(t){case"Browser":n=KT(xi());break;case"Worker":n=`${KT(xi())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const f=e(l);u(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,e={}){return ro(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=6;class Nk{constructor(e){var n,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:Ik,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YT(this),this.idTokenSubscription=new YT(this),this.beforeStateQueue=new Ck(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ax,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ha(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Pc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ix(this,{idToken:e}),i=await za._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject($a(this));const n=e?An(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rk(this),n=new Nk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zf("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ak(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ha(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Pc.create(this,[Ha(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ok(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vl(t){return An(t)}class YT{constructor(e){this.auth=e,this.observer=null,this.addObserver=KD(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ok(t){Pp=t}function Fx(t){return Pp.loadJS(t)}function kk(){return Pp.recaptchaEnterpriseScript}function Pk(){return Pp.gapiScript}function Mk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Vk{constructor(){this.enterprise=new Lk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Lk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jk="recaptcha-enterprise",zx="NO_RECAPTCHA";class Uk{constructor(e){this.type=jk,this.auth=vl(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{gk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new pk(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function a(l,u,h){const f=window.grecaptcha;HT(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(zx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&HT(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kk();f.length!==0&&(f+=h),Fx(f).then(()=>{a(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function WT(t,e,n,i=!1,a=!1){const l=new Uk(t);let u;if(a)u=zx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ep(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await WT(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await WT(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e){const n=kp(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(gu(l,e??{}))return a;wr(a,"already-initialized")}return n.initialize({options:e})}function Fk(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ha);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function zk(t,e,n){const i=vl(t);Ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Hx(e),{host:u,port:h}=Hk(e),f=h===null?"":`:${h}`,m={url:`${l}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ke(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ke(gu(m,i.config.emulator)&&gu(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,qk()}function Hx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hk(t){const e=Hx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:QT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:QT(u)}}}function QT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fa("not implemented")}_getIdTokenResponse(e){return Fa("not implemented")}_linkToIdToken(e,n){return Fa("not implemented")}_getReauthenticationResolver(e){return Fa("not implemented")}}async function $k(t,e){return ro(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return td(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}async function Kk(t,e){return ro(t,"POST","/v1/accounts:sendOobCode",so(t,e))}async function Yk(t,e){return Kk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function Qk(t,e){return td(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends U_{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Of(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Of(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,n,"signInWithPassword",Gk);case"emailLink":return Wk(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,i,"signUpPassword",$k);case"emailLink":return Qk(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e){return td(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="http://localhost";class vu extends U_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=P_(n,["providerId","signInMethod"]);if(!i||!a)return null;const u=new vu(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Mc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Mc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mc(e,n)}buildRequest(){const e={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jk(t){const e=hf(ff(t)).link,n=e?hf(ff(e)).deep_link_id:null,i=hf(ff(t)).deep_link_id;return(i?hf(ff(i)).link:null)||i||n||e||t}class B_{constructor(e){var n,i,a,l,u,h;const f=hf(ff(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,E=Zk((a=f.mode)!==null&&a!==void 0?a:null);Ke(m&&v&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=v,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=Jk(e);try{return new B_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.providerId=Zc.PROVIDER_ID}static credential(e,n){return Of._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=B_.parseLink(n);return Ke(i,"argument-error"),Of._fromEmailAndCode(e,i.code,i.tenantId)}}Zc.PROVIDER_ID="password";Zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends nd{constructor(){super("facebook.com")}static credential(e){return vu._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return el.credentialFromTaggedObject(e)}static credentialFromError(e){return el.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return el.credential(e.oauthAccessToken)}catch{return null}}}el.FACEBOOK_SIGN_IN_METHOD="facebook.com";el.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vu._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tl.credentialFromTaggedObject(e)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return tl.credential(n,i)}catch{return null}}}tl.GOOGLE_SIGN_IN_METHOD="google.com";tl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends nd{constructor(){super("github.com")}static credential(e){return vu._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nl.credential(e.oauthAccessToken)}catch{return null}}}nl.GITHUB_SIGN_IN_METHOD="github.com";nl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends nd{constructor(){super("twitter.com")}static credential(e,n){return vu._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return il.credential(n,i)}catch{return null}}}il.TWITTER_SIGN_IN_METHOD="twitter.com";il.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e){return td(t,"POST","/v1/accounts:signUp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await za._fromIdTokenResponse(e,i,a),u=XT(i);return new _u({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=XT(i);return new _u({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function XT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends la{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new tp(e,n,i,a)}}function $x(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(t,l,e,i):l})}async function tP(t,e,n=!1){const i=await Df(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _u._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e,n=!1){const{auth:i}=t;if(gs(i.app))return Promise.reject($a(i));const a="reauthenticate";try{const l=await Df(t,$x(i,a,e,t),n);Ke(l.idToken,i,"internal-error");const u=L_(l.idToken);Ke(u,i,"internal-error");const{sub:h}=u;return Ke(t.uid===h,i,"user-mismatch"),_u._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t,e,n=!1){if(gs(t.app))return Promise.reject($a(t));const i="signIn",a=await $x(t,i,e),l=await _u._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function iP(t,e){return Gx(vl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t){const e=vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yx(t,e,n){const i=vl(t);await ep(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Yk)}async function sP(t,e,n){if(gs(t.app))return Promise.reject($a(t));const i=vl(t),u=await ep(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Kx(t),f}),h=await _u._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function rP(t,e,n){return gs(t.app)?Promise.reject($a(t)):iP(An(t),Zc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Kx(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){return An(t).setPersistence(e)}function aP(t,e,n,i){return An(t).onIdTokenChanged(e,n,i)}function oP(t,e,n){return An(t).beforeAuthStateChanged(e,n)}function Mp(t,e,n,i){return An(t).onAuthStateChanged(e,n,i)}function lP(t){return An(t).signOut()}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=1e3,cP=10;class Xx extends Qx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ux(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);xk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cP):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xx.type="LOCAL";const F_=Xx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends Qx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zx.type="SESSION";const Jx=Zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Vp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,l)),f=await hP(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,f)=>{const m=z_("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(E){const w=E;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function dP(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function mP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gP(){return eC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebaseLocalStorageDb",yP=1,ip="firebaseLocalStorage",nC="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lp(t,e){return t.transaction([ip],e?"readwrite":"readonly").objectStore(ip)}function vP(){const t=indexedDB.deleteDatabase(tC);return new id(t).toPromise()}function Pv(){const t=indexedDB.open(tC,yP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ip,{keyPath:nC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ip)?e(i):(i.close(),await vP(),e(await Pv()))})})}async function ZT(t,e,n){const i=Lp(t,!0).put({[nC]:e,value:n});return new id(i).toPromise()}async function _P(t,e){const n=Lp(t,!1).get(e),i=await new id(n).toPromise();return i===void 0?null:i.value}function JT(t,e){const n=Lp(t,!0).delete(e);return new id(n).toPromise()}const bP=800,EP=3;class iC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>EP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vp._getInstance(gP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mP(),!this.activeServiceWorker)return;this.sender=new fP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pv();return await ZT(e,np,"1"),await JT(e,np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_P(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Lp(a,!1).getAll();return new id(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iC.type="LOCAL";const TP=iC;new ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e){return e?Ha(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends U_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AP(t){return Gx(t.auth,new H_(t),t.bypassAuthState)}function SP(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),nP(n,new H_(t),t.bypassAuthState)}async function xP(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),tP(n,new H_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return xP;case"reauthViaPopup":case"reauthViaRedirect":return SP;default:wr(this.auth,"internal-error")}}resolve(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new ed(2e3,1e4);class Cc extends sC{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Cc.currentPopupAction&&Cc.currentPopupAction.cancel(),Cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Za(this.filter.length===1,"Popup operations only handle one event");const e=z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CP.get())};e()}}Cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="pendingRedirect",Vm=new Map;class IP extends sC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const i=await NP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NP(t,e){const n=kP(e),i=OP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function DP(t,e){Vm.set(t._key(),e)}function OP(t){return Ha(t._redirectPersistence)}function kP(t){return Mm(RP,t.config.apiKey,t.name)}async function PP(t,e,n=!1){if(gs(t.app))return Promise.reject($a(t));const i=vl(t),a=wP(i,e),u=await new IP(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=10*60*1e3;class VP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!rC(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MP&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e={}){return ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BP=/^https?/;async function FP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jP(t);for(const n of e)try{if(zP(n))return}catch{}wr(t,"unauthorized-domain")}function zP(t){const e=Ov(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!BP.test(n))return!1;if(UP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new ed(3e4,6e4);function tw(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qP(t){return new Promise((e,n)=>{var i,a,l;function u(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(Zr(t,"network-request-failed"))},timeout:HP.get()})}if(!((a=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Jr().gapi)===null||l===void 0)&&l.load)u();else{const h=Mk("iframefcb");return Jr()[h]=()=>{gapi.load?u():n(Zr(t,"network-request-failed"))},Fx(`${Pk()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Lm=null,e})}let Lm=null;function $P(t){return Lm=Lm||qP(t),Lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=new ed(5e3,15e3),KP="__/auth/iframe",YP="emulator/auth/iframe",WP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XP(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V_(e,YP):`https://${t.config.authDomain}/${KP}`,i={apiKey:e.apiKey,appName:t.name,v:Tu},a=QP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Jf(i).slice(1)}`}async function ZP(t){const e=await $P(t),n=Jr().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:XP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Zr(t,"network-request-failed"),h=Jr().setTimeout(()=>{l(u)},GP.get());function f(){Jr().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eM=500,tM=600,nM="_blank",iM="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sM(t,e,n,i=eM,a=tM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},JP),{width:i.toString(),height:a.toString(),top:l,left:u}),m=xi().toLowerCase();n&&(h=Px(m)?nM:n),Ox(m)&&(e=e||iM,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[R,k])=>`${w}${R}=${k},`,"");if(Sk(m)&&h!=="_self")return rM(e||"",h),new nw(null);const E=window.open(e||"",h,v);Ke(E,t,"popup-blocked");try{E.focus()}catch{}return new nw(E)}function rM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="__/auth/handler",oM="emulator/auth/handler",lM=encodeURIComponent("fac");async function iw(t,e,n,i,a,l){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Tu,eventId:a};if(e instanceof qx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",GD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof nd){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),m=f?`#${lM}=${encodeURIComponent(f)}`:"";return`${uM(t)}?${Jf(h).slice(1)}${m}`}function uM({config:t}){return t.emulator?V_(t,oM):`https://${t.authDomain}/${aM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="webStorageSupport";class cM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jx,this._completeRedirectFn=PP,this._overrideRedirectResult=DP}async _openPopup(e,n,i,a){var l;Za((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await iw(e,n,i,Ov(),a);return sM(e,u,z_())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await iw(e,n,i,Ov(),a);return dP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Za(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ZP(e),i=new VP(e);return n.register("authEvent",a=>(Ke(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zy,{type:Zy},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Zy];u!==void 0&&n(!!u),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ux()||kx()||j_()}}const hM=cM;var sw="@firebase/auth",rw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mM(t){yu(new ul("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ke(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bx(t)},m=new Dk(i,a,l,f);return Fk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),yu(new ul("auth-internal",e=>{const n=vl(e.getProvider("auth").getImmediate());return(i=>new fM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(sw,rw,dM(t)),Xr(sw,rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=5*60,gM=gx("authIdTokenMaxAge")||pM;let aw=null;const yM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>gM)return;const a=n==null?void 0:n.token;aw!==a&&(aw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function jp(t=k_()){const e=kp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bk(t,{popupRedirectResolver:hM,persistence:[TP,F_,Jx]}),i=gx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=yM(l.toString());oP(n,u,()=>u(n.currentUser)),aP(n,h=>u(h))}}const a=dx("auth");return a&&zk(n,`http://${a}`),n}function vM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ok({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Zr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",vM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mM("Browser");var ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ol,aC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,D){function N(){}N.prototype=D.prototype,B.D=D.prototype,B.prototype=new N,B.prototype.constructor=B,B.C=function(U,F,$){for(var L=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)L[Oe-2]=arguments[Oe];return D.prototype[F].apply(U,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(B,D,N){N||(N=0);var U=Array(16);if(typeof D=="string")for(var F=0;16>F;++F)U[F]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(F=0;16>F;++F)U[F]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=B.g[0],N=B.g[1],F=B.g[2];var $=B.g[3],L=D+($^N&(F^$))+U[0]+3614090360&4294967295;D=N+(L<<7&4294967295|L>>>25),L=$+(F^D&(N^F))+U[1]+3905402710&4294967295,$=D+(L<<12&4294967295|L>>>20),L=F+(N^$&(D^N))+U[2]+606105819&4294967295,F=$+(L<<17&4294967295|L>>>15),L=N+(D^F&($^D))+U[3]+3250441966&4294967295,N=F+(L<<22&4294967295|L>>>10),L=D+($^N&(F^$))+U[4]+4118548399&4294967295,D=N+(L<<7&4294967295|L>>>25),L=$+(F^D&(N^F))+U[5]+1200080426&4294967295,$=D+(L<<12&4294967295|L>>>20),L=F+(N^$&(D^N))+U[6]+2821735955&4294967295,F=$+(L<<17&4294967295|L>>>15),L=N+(D^F&($^D))+U[7]+4249261313&4294967295,N=F+(L<<22&4294967295|L>>>10),L=D+($^N&(F^$))+U[8]+1770035416&4294967295,D=N+(L<<7&4294967295|L>>>25),L=$+(F^D&(N^F))+U[9]+2336552879&4294967295,$=D+(L<<12&4294967295|L>>>20),L=F+(N^$&(D^N))+U[10]+4294925233&4294967295,F=$+(L<<17&4294967295|L>>>15),L=N+(D^F&($^D))+U[11]+2304563134&4294967295,N=F+(L<<22&4294967295|L>>>10),L=D+($^N&(F^$))+U[12]+1804603682&4294967295,D=N+(L<<7&4294967295|L>>>25),L=$+(F^D&(N^F))+U[13]+4254626195&4294967295,$=D+(L<<12&4294967295|L>>>20),L=F+(N^$&(D^N))+U[14]+2792965006&4294967295,F=$+(L<<17&4294967295|L>>>15),L=N+(D^F&($^D))+U[15]+1236535329&4294967295,N=F+(L<<22&4294967295|L>>>10),L=D+(F^$&(N^F))+U[1]+4129170786&4294967295,D=N+(L<<5&4294967295|L>>>27),L=$+(N^F&(D^N))+U[6]+3225465664&4294967295,$=D+(L<<9&4294967295|L>>>23),L=F+(D^N&($^D))+U[11]+643717713&4294967295,F=$+(L<<14&4294967295|L>>>18),L=N+($^D&(F^$))+U[0]+3921069994&4294967295,N=F+(L<<20&4294967295|L>>>12),L=D+(F^$&(N^F))+U[5]+3593408605&4294967295,D=N+(L<<5&4294967295|L>>>27),L=$+(N^F&(D^N))+U[10]+38016083&4294967295,$=D+(L<<9&4294967295|L>>>23),L=F+(D^N&($^D))+U[15]+3634488961&4294967295,F=$+(L<<14&4294967295|L>>>18),L=N+($^D&(F^$))+U[4]+3889429448&4294967295,N=F+(L<<20&4294967295|L>>>12),L=D+(F^$&(N^F))+U[9]+568446438&4294967295,D=N+(L<<5&4294967295|L>>>27),L=$+(N^F&(D^N))+U[14]+3275163606&4294967295,$=D+(L<<9&4294967295|L>>>23),L=F+(D^N&($^D))+U[3]+4107603335&4294967295,F=$+(L<<14&4294967295|L>>>18),L=N+($^D&(F^$))+U[8]+1163531501&4294967295,N=F+(L<<20&4294967295|L>>>12),L=D+(F^$&(N^F))+U[13]+2850285829&4294967295,D=N+(L<<5&4294967295|L>>>27),L=$+(N^F&(D^N))+U[2]+4243563512&4294967295,$=D+(L<<9&4294967295|L>>>23),L=F+(D^N&($^D))+U[7]+1735328473&4294967295,F=$+(L<<14&4294967295|L>>>18),L=N+($^D&(F^$))+U[12]+2368359562&4294967295,N=F+(L<<20&4294967295|L>>>12),L=D+(N^F^$)+U[5]+4294588738&4294967295,D=N+(L<<4&4294967295|L>>>28),L=$+(D^N^F)+U[8]+2272392833&4294967295,$=D+(L<<11&4294967295|L>>>21),L=F+($^D^N)+U[11]+1839030562&4294967295,F=$+(L<<16&4294967295|L>>>16),L=N+(F^$^D)+U[14]+4259657740&4294967295,N=F+(L<<23&4294967295|L>>>9),L=D+(N^F^$)+U[1]+2763975236&4294967295,D=N+(L<<4&4294967295|L>>>28),L=$+(D^N^F)+U[4]+1272893353&4294967295,$=D+(L<<11&4294967295|L>>>21),L=F+($^D^N)+U[7]+4139469664&4294967295,F=$+(L<<16&4294967295|L>>>16),L=N+(F^$^D)+U[10]+3200236656&4294967295,N=F+(L<<23&4294967295|L>>>9),L=D+(N^F^$)+U[13]+681279174&4294967295,D=N+(L<<4&4294967295|L>>>28),L=$+(D^N^F)+U[0]+3936430074&4294967295,$=D+(L<<11&4294967295|L>>>21),L=F+($^D^N)+U[3]+3572445317&4294967295,F=$+(L<<16&4294967295|L>>>16),L=N+(F^$^D)+U[6]+76029189&4294967295,N=F+(L<<23&4294967295|L>>>9),L=D+(N^F^$)+U[9]+3654602809&4294967295,D=N+(L<<4&4294967295|L>>>28),L=$+(D^N^F)+U[12]+3873151461&4294967295,$=D+(L<<11&4294967295|L>>>21),L=F+($^D^N)+U[15]+530742520&4294967295,F=$+(L<<16&4294967295|L>>>16),L=N+(F^$^D)+U[2]+3299628645&4294967295,N=F+(L<<23&4294967295|L>>>9),L=D+(F^(N|~$))+U[0]+4096336452&4294967295,D=N+(L<<6&4294967295|L>>>26),L=$+(N^(D|~F))+U[7]+1126891415&4294967295,$=D+(L<<10&4294967295|L>>>22),L=F+(D^($|~N))+U[14]+2878612391&4294967295,F=$+(L<<15&4294967295|L>>>17),L=N+($^(F|~D))+U[5]+4237533241&4294967295,N=F+(L<<21&4294967295|L>>>11),L=D+(F^(N|~$))+U[12]+1700485571&4294967295,D=N+(L<<6&4294967295|L>>>26),L=$+(N^(D|~F))+U[3]+2399980690&4294967295,$=D+(L<<10&4294967295|L>>>22),L=F+(D^($|~N))+U[10]+4293915773&4294967295,F=$+(L<<15&4294967295|L>>>17),L=N+($^(F|~D))+U[1]+2240044497&4294967295,N=F+(L<<21&4294967295|L>>>11),L=D+(F^(N|~$))+U[8]+1873313359&4294967295,D=N+(L<<6&4294967295|L>>>26),L=$+(N^(D|~F))+U[15]+4264355552&4294967295,$=D+(L<<10&4294967295|L>>>22),L=F+(D^($|~N))+U[6]+2734768916&4294967295,F=$+(L<<15&4294967295|L>>>17),L=N+($^(F|~D))+U[13]+1309151649&4294967295,N=F+(L<<21&4294967295|L>>>11),L=D+(F^(N|~$))+U[4]+4149444226&4294967295,D=N+(L<<6&4294967295|L>>>26),L=$+(N^(D|~F))+U[11]+3174756917&4294967295,$=D+(L<<10&4294967295|L>>>22),L=F+(D^($|~N))+U[2]+718787259&4294967295,F=$+(L<<15&4294967295|L>>>17),L=N+($^(F|~D))+U[9]+3951481745&4294967295,B.g[0]=B.g[0]+D&4294967295,B.g[1]=B.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,B.g[2]=B.g[2]+F&4294967295,B.g[3]=B.g[3]+$&4294967295}i.prototype.u=function(B,D){D===void 0&&(D=B.length);for(var N=D-this.blockSize,U=this.B,F=this.h,$=0;$<D;){if(F==0)for(;$<=N;)a(this,B,$),$+=this.blockSize;if(typeof B=="string"){for(;$<D;)if(U[F++]=B.charCodeAt($++),F==this.blockSize){a(this,U),F=0;break}}else for(;$<D;)if(U[F++]=B[$++],F==this.blockSize){a(this,U),F=0;break}}this.h=F,this.o+=D},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var D=1;D<B.length-8;++D)B[D]=0;var N=8*this.o;for(D=B.length-8;D<B.length;++D)B[D]=N&255,N/=256;for(this.u(B),B=Array(16),D=N=0;4>D;++D)for(var U=0;32>U;U+=8)B[N++]=this.g[D]>>>U&255;return B};function l(B,D){var N=h;return Object.prototype.hasOwnProperty.call(N,B)?N[B]:N[B]=D(B)}function u(B,D){this.h=D;for(var N=[],U=!0,F=B.length-1;0<=F;F--){var $=B[F]|0;U&&$==D||(N[F]=$,U=!1)}this.g=N}var h={};function f(B){return-128<=B&&128>B?l(B,function(D){return new u([D|0],0>D?-1:0)}):new u([B|0],0>B?-1:0)}function m(B){if(isNaN(B)||!isFinite(B))return E;if(0>B)return j(m(-B));for(var D=[],N=1,U=0;B>=N;U++)D[U]=B/N|0,N*=4294967296;return new u(D,0)}function v(B,D){if(B.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(B.charAt(0)=="-")return j(v(B.substring(1),D));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(D,8)),U=E,F=0;F<B.length;F+=8){var $=Math.min(8,B.length-F),L=parseInt(B.substring(F,F+$),D);8>$?($=m(Math.pow(D,$)),U=U.j($).add(m(L))):(U=U.j(N),U=U.add(m(L)))}return U}var E=f(0),w=f(1),R=f(16777216);t=u.prototype,t.m=function(){if(H(this))return-j(this).m();for(var B=0,D=1,N=0;N<this.g.length;N++){var U=this.i(N);B+=(0<=U?U:4294967296+U)*D,D*=4294967296}return B},t.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(k(this))return"0";if(H(this))return"-"+j(this).toString(B);for(var D=m(Math.pow(B,6)),N=this,U="";;){var F=re(N,D).g;N=M(N,F.j(D));var $=((0<N.g.length?N.g[0]:N.h)>>>0).toString(B);if(N=F,k(N))return $+U;for(;6>$.length;)$="0"+$;U=$+U}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function k(B){if(B.h!=0)return!1;for(var D=0;D<B.g.length;D++)if(B.g[D]!=0)return!1;return!0}function H(B){return B.h==-1}t.l=function(B){return B=M(this,B),H(B)?-1:k(B)?0:1};function j(B){for(var D=B.g.length,N=[],U=0;U<D;U++)N[U]=~B.g[U];return new u(N,~B.h).add(w)}t.abs=function(){return H(this)?j(this):this},t.add=function(B){for(var D=Math.max(this.g.length,B.g.length),N=[],U=0,F=0;F<=D;F++){var $=U+(this.i(F)&65535)+(B.i(F)&65535),L=($>>>16)+(this.i(F)>>>16)+(B.i(F)>>>16);U=L>>>16,$&=65535,L&=65535,N[F]=L<<16|$}return new u(N,N[N.length-1]&-2147483648?-1:0)};function M(B,D){return B.add(j(D))}t.j=function(B){if(k(this)||k(B))return E;if(H(this))return H(B)?j(this).j(j(B)):j(j(this).j(B));if(H(B))return j(this.j(j(B)));if(0>this.l(R)&&0>B.l(R))return m(this.m()*B.m());for(var D=this.g.length+B.g.length,N=[],U=0;U<2*D;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(var F=0;F<B.g.length;F++){var $=this.i(U)>>>16,L=this.i(U)&65535,Oe=B.i(F)>>>16,Ne=B.i(F)&65535;N[2*U+2*F]+=L*Ne,q(N,2*U+2*F),N[2*U+2*F+1]+=$*Ne,q(N,2*U+2*F+1),N[2*U+2*F+1]+=L*Oe,q(N,2*U+2*F+1),N[2*U+2*F+2]+=$*Oe,q(N,2*U+2*F+2)}for(U=0;U<D;U++)N[U]=N[2*U+1]<<16|N[2*U];for(U=D;U<2*D;U++)N[U]=0;return new u(N,0)};function q(B,D){for(;(B[D]&65535)!=B[D];)B[D+1]+=B[D]>>>16,B[D]&=65535,D++}function Y(B,D){this.g=B,this.h=D}function re(B,D){if(k(D))throw Error("division by zero");if(k(B))return new Y(E,E);if(H(B))return D=re(j(B),D),new Y(j(D.g),j(D.h));if(H(D))return D=re(B,j(D)),new Y(j(D.g),D.h);if(30<B.g.length){if(H(B)||H(D))throw Error("slowDivide_ only works with positive integers.");for(var N=w,U=D;0>=U.l(B);)N=te(N),U=te(U);var F=Q(N,1),$=Q(U,1);for(U=Q(U,2),N=Q(N,2);!k(U);){var L=$.add(U);0>=L.l(B)&&(F=F.add(N),$=L),U=Q(U,1),N=Q(N,1)}return D=M(B,F.j(D)),new Y(F,D)}for(F=E;0<=B.l(D);){for(N=Math.max(1,Math.floor(B.m()/D.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),$=m(N),L=$.j(D);H(L)||0<L.l(B);)N-=U,$=m(N),L=$.j(D);k($)&&($=w),F=F.add($),B=M(B,L)}return new Y(F,B)}t.A=function(B){return re(this,B).h},t.and=function(B){for(var D=Math.max(this.g.length,B.g.length),N=[],U=0;U<D;U++)N[U]=this.i(U)&B.i(U);return new u(N,this.h&B.h)},t.or=function(B){for(var D=Math.max(this.g.length,B.g.length),N=[],U=0;U<D;U++)N[U]=this.i(U)|B.i(U);return new u(N,this.h|B.h)},t.xor=function(B){for(var D=Math.max(this.g.length,B.g.length),N=[],U=0;U<D;U++)N[U]=this.i(U)^B.i(U);return new u(N,this.h^B.h)};function te(B){for(var D=B.g.length+1,N=[],U=0;U<D;U++)N[U]=B.i(U)<<1|B.i(U-1)>>>31;return new u(N,B.h)}function Q(B,D){var N=D>>5;D%=32;for(var U=B.g.length-N,F=[],$=0;$<U;$++)F[$]=0<D?B.i($+N)>>>D|B.i($+N+1)<<32-D:B.i($+N);return new u(F,B.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,aC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,ol=u}).apply(typeof ow<"u"?ow:typeof self<"u"?self:typeof window<"u"?window:{});var _m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oC,df,lC,jm,Mv,uC,cC,hC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,A){return d==Array.prototype||d==Object.prototype||(d[b]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof _m=="object"&&_m];for(var b=0;b<d.length;++b){var A=d[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=n(this);function a(d,b){if(b)e:{var A=i;d=d.split(".");for(var P=0;P<d.length-1;P++){var J=d[P];if(!(J in A))break e;A=A[J]}d=d[d.length-1],P=A[d],b=b(P),b!=P&&b!=null&&e(A,d,{configurable:!0,writable:!0,value:b})}}function l(d,b){d instanceof String&&(d+="");var A=0,P=!1,J={next:function(){if(!P&&A<d.length){var ie=A++;return{value:b(ie,d[ie]),done:!1}}return P=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(d){return d||function(){return l(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function m(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function v(d,b,A){return d.call.apply(d.bind,arguments)}function E(d,b,A){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,P),d.apply(b,J)}}return function(){return d.apply(b,arguments)}}function w(d,b,A){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,w.apply(null,arguments)}function R(d,b){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function k(d,b){function A(){}A.prototype=b.prototype,d.aa=b.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(P,J,ie){for(var xe=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)xe[ft-2]=arguments[ft];return b.prototype[J].apply(P,xe)}}function H(d){const b=d.length;if(0<b){const A=Array(b);for(let P=0;P<b;P++)A[P]=d[P];return A}return[]}function j(d,b){for(let A=1;A<arguments.length;A++){const P=arguments[A];if(f(P)){const J=d.length||0,ie=P.length||0;d.length=J+ie;for(let xe=0;xe<ie;xe++)d[J+xe]=P[xe]}else d.push(P)}}class M{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function q(d){return/^[\s\xa0]*$/.test(d)}function Y(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function re(d){return re[" "](d),d}re[" "]=function(){};var te=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Q(d,b,A){for(const P in d)b.call(A,d[P],P,d)}function B(d,b){for(const A in d)b.call(void 0,d[A],A,d)}function D(d){const b={};for(const A in d)b[A]=d[A];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,b){let A,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(A in P)d[A]=P[A];for(let ie=0;ie<N.length;ie++)A=N[ie],Object.prototype.hasOwnProperty.call(P,A)&&(d[A]=P[A])}}function F(d){var b=1;d=d.split(":");const A=[];for(;0<b&&d.length;)A.push(d.shift()),b--;return d.length&&A.push(d.join(":")),A}function $(d){h.setTimeout(()=>{throw d},0)}function L(){var d=tt;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class Oe{constructor(){this.h=this.g=null}add(b,A){const P=Ne.get();P.set(b,A),this.h?this.h.next=P:this.g=P,this.h=P}}var Ne=new M(()=>new fe,d=>d.reset());class fe{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ye=!1,tt=new Oe,V=()=>{const d=h.Promise.resolve(void 0);Ee=()=>{d.then(de)}};var de=()=>{for(var d;d=L();){try{d.h.call(d.g)}catch(A){$(A)}var b=Ne;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}ye=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};h.addEventListener("test",A,b),h.removeEventListener("test",A,b)}catch{}return d}();function Be(d,b){if(Se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(te){e:{try{re(b.nodeName);var J=!0;break e}catch{}J=!1}J||(b=null)}}else A=="mouseover"?b=d.fromElement:A=="mouseout"&&(b=d.toElement);this.relatedTarget=b,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Pe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Be.aa.h.call(this)}}k(Be,Se);var Pe={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),be=0;function at(d,b,A,P,J){this.listener=d,this.proxy=null,this.src=b,this.type=A,this.capture=!!P,this.ha=J,this.key=++be,this.da=this.fa=!1}function pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ve(d){this.src=d,this.g={},this.h=0}Ve.prototype.add=function(d,b,A,P,J){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var xe=ot(d,b,P,J);return-1<xe?(b=d[xe],A||(b.fa=!1)):(b=new at(b,this.src,ie,!!P,J),b.fa=A,d.push(b)),b};function nt(d,b){var A=b.type;if(A in d.g){var P=d.g[A],J=Array.prototype.indexOf.call(P,b,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(P,J,1),ie&&(pe(b),d.g[A].length==0&&(delete d.g[A],d.h--))}}function ot(d,b,A,P){for(var J=0;J<d.length;++J){var ie=d[J];if(!ie.da&&ie.listener==b&&ie.capture==!!A&&ie.ha==P)return J}return-1}var Bt="closure_lm_"+(1e6*Math.random()|0),Qe={};function Jt(d,b,A,P,J){if(Array.isArray(b)){for(var ie=0;ie<b.length;ie++)Jt(d,b[ie],A,P,J);return null}return A=Ci(A),d&&d[Rt]?d.K(b,A,m(P)?!!P.capture:!1,J):ts(d,b,A,!1,P,J)}function ts(d,b,A,P,J,ie){if(!b)throw Error("Invalid event type");var xe=m(J)?!!J.capture:!!J,ft=ca(d);if(ft||(d[Bt]=ft=new Ve(d)),A=ft.add(b,A,P,xe,ie),A.proxy)return A;if(P=Cr(),A.proxy=P,P.src=d,P.listener=A,d.addEventListener)Ae||(J=xe),J===void 0&&(J=!1),d.addEventListener(b.toString(),P,J);else if(d.attachEvent)d.attachEvent(Ir(b.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Cr(){function d(A){return b.call(d.src,d.listener,A)}const b=wl;return d}function Rr(d,b,A,P,J){if(Array.isArray(b))for(var ie=0;ie<b.length;ie++)Rr(d,b[ie],A,P,J);else P=m(P)?!!P.capture:!!P,A=Ci(A),d&&d[Rt]?(d=d.i,b=String(b).toString(),b in d.g&&(ie=d.g[b],A=ot(ie,A,P,J),-1<A&&(pe(ie[A]),Array.prototype.splice.call(ie,A,1),ie.length==0&&(delete d.g[b],d.h--)))):d&&(d=ca(d))&&(b=d.g[b.toString()],d=-1,b&&(d=ot(b,A,P,J)),(A=-1<d?b[d]:null)&&Gs(A))}function Gs(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Rt])nt(b.i,d);else{var A=d.type,P=d.proxy;b.removeEventListener?b.removeEventListener(A,P,d.capture):b.detachEvent?b.detachEvent(Ir(A),P):b.addListener&&b.removeListener&&b.removeListener(P),(A=ca(b))?(nt(A,d),A.h==0&&(A.src=null,b[Bt]=null)):pe(d)}}}function Ir(d){return d in Qe?Qe[d]:Qe[d]="on"+d}function wl(d,b){if(d.da)d=!0;else{b=new Be(b,this);var A=d.listener,P=d.ha||d.src;d.fa&&Gs(d),d=A.call(P,b)}return d}function ca(d){return d=d[Bt],d instanceof Ve?d:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(d){return typeof d=="function"?d:(d[an]||(d[an]=function(b){return d.handleEvent(b)}),d[an])}function Fe(){Ce.call(this),this.i=new Ve(this),this.M=this,this.F=null}k(Fe,Ce),Fe.prototype[Rt]=!0,Fe.prototype.removeEventListener=function(d,b,A,P){Rr(this,d,b,A,P)};function It(d,b){var A,P=d.F;if(P)for(A=[];P;P=P.F)A.push(P);if(d=d.M,P=b.type||b,typeof b=="string")b=new Se(b,d);else if(b instanceof Se)b.target=b.target||d;else{var J=b;b=new Se(P,d),U(b,J)}if(J=!0,A)for(var ie=A.length-1;0<=ie;ie--){var xe=b.g=A[ie];J=kn(xe,P,!0,b)&&J}if(xe=b.g=d,J=kn(xe,P,!0,b)&&J,J=kn(xe,P,!1,b)&&J,A)for(ie=0;ie<A.length;ie++)xe=b.g=A[ie],J=kn(xe,P,!1,b)&&J}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var A=d.g[b],P=0;P<A.length;P++)pe(A[P]);delete d.g[b],d.h--}}this.F=null},Fe.prototype.K=function(d,b,A,P){return this.i.add(String(d),b,!1,A,P)},Fe.prototype.L=function(d,b,A,P){return this.i.add(String(d),b,!0,A,P)};function kn(d,b,A,P){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var J=!0,ie=0;ie<b.length;++ie){var xe=b[ie];if(xe&&!xe.da&&xe.capture==A){var ft=xe.listener,_n=xe.ha||xe.src;xe.fa&&nt(d.i,xe),J=ft.call(_n,P)!==!1&&J}}return J&&!P.defaultPrevented}function Ks(d,b,A){if(typeof d=="function")A&&(d=w(d,A));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(d,b||0)}function Nr(d){d.g=Ks(()=>{d.g=null,d.i&&(d.i=!1,Nr(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class lh extends Ce{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(d){Ce.call(this),this.h=d,this.g={}}k(Ys,Ce);var Dr=[];function zn(d){Q(d.g,function(b,A){this.g.hasOwnProperty(A)&&Gs(b)},d),d.g={}}Ys.prototype.N=function(){Ys.aa.N.call(this),zn(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Al=h.JSON.stringify,bs=h.JSON.parse,ti=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Sl(){}Sl.prototype.h=null;function xl(d){return d.h||(d.h=d.i())}function ha(){}var ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ws(){Se.call(this,"d")}k(Ws,Se);function is(){Se.call(this,"c")}k(is,Se);var Fi={},Or=null;function oo(){return Or=Or||new Fe}Fi.La="serverreachability";function Es(d){Se.call(this,Fi.La,d)}k(Es,Se);function zi(d){const b=oo();It(b,new Es(b))}Fi.STAT_EVENT="statevent";function lo(d,b){Se.call(this,Fi.STAT_EVENT,d),this.stat=b}k(lo,Se);function en(d){const b=oo();It(b,new lo(b,d))}Fi.Ma="timingevent";function xu(d,b){Se.call(this,Fi.Ma,d),this.size=b}k(xu,Se);function kr(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},b)}function Pr(){this.g=!0}Pr.prototype.xa=function(){this.g=!1};function uo(d,b,A,P,J,ie){d.info(function(){if(d.g)if(ie)for(var xe="",ft=ie.split("&"),_n=0;_n<ft.length;_n++){var dt=ft[_n].split("=");if(1<dt.length){var Dt=dt[0];dt=dt[1];var cn=Dt.split("_");xe=2<=cn.length&&cn[1]=="type"?xe+(Dt+"="+dt+"&"):xe+(Dt+"=redacted&")}}else xe=null;else xe=ie;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+b+`
`+A+`
`+xe})}function Qs(d,b,A,P,J,ie,xe){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+b+`
`+A+`
`+ie+" "+xe})}function ss(d,b,A,P){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+on(d,A)+(P?" "+P:"")})}function Ts(d,b){d.info(function(){return"TIMEOUT: "+b})}Pr.prototype.info=function(){};function on(d,b){if(!d.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var P=A[d];if(!(2>P.length)){var J=P[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var xe=1;xe<J.length;xe++)J[xe]=""}}}}return Al(A)}catch{return b}}var yn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hi;function ln(){}k(ln,Sl),ln.prototype.g=function(){return new XMLHttpRequest},ln.prototype.i=function(){return{}},Hi=new ln;function Wt(d,b,A,P){this.j=d,this.i=b,this.l=A,this.R=P||1,this.U=new Ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Qt={},ws={};function Hn(d,b,A){d.L=1,d.v=nr(Ft(b)),d.m=A,d.P=!0,ni(d,null)}function ni(d,b){d.F=Date.now(),Vt(d),d.A=Ft(d.v);var A=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),xs(A.i,"t",P),d.C=0,A=d.j.J,d.h=new Pn,d.g=Mu(d.j,A?b:null,!d.m),0<d.O&&(d.M=new lh(w(d.Y,d,d.g),d.O)),b=d.U,A=d.g,P=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Dr[0]=J.toString()),J=Dr);for(var ie=0;ie<J.length;ie++){var xe=Jt(A,J[ie],P||b.handleEvent,!1,b.h||b);if(!xe)break;b.g[xe.key]=xe}b=d.H?D(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),zi(),uo(d.i,d.u,d.A,d.l,d.R,d.m)}Wt.prototype.ca=function(d){d=d.target;const b=this.M;b&&Pi(d)==3?b.j():this.Y(d)},Wt.prototype.Y=function(d){try{if(d==this.g)e:{const cn=Pi(this.g);var b=this.g.Ba();const Os=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Dl(this.g)))){this.J||cn!=4||b==7||(b==8||0>=Os?zi(3):zi(2)),fa(this);var A=this.g.Z();this.X=A;t:if(Ri(this)){var P=Dl(this.g);d="";var J=P.length,ie=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),ii(this);var xe="";break t}this.h.i=new h.TextDecoder}for(b=0;b<J;b++)this.h.h=!0,d+=this.h.i.decode(P[b],{stream:!(ie&&b==J-1)});P.length=0,this.h.g+=d,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=A==200,Qs(this.i,this.u,this.A,this.l,this.R,cn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,_n=this.g;if((ft=_n.g?_n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ft)){var dt=ft;break t}}dt=null}if(A=dt)ss(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,A);else{this.o=!1,this.s=3,en(12),qn(this),ii(this);break e}}if(this.P){A=!0;let Sn;for(;!this.J&&this.C<xe.length;)if(Sn=Zs(this,xe),Sn==ws){cn==4&&(this.s=4,en(14),A=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Qt){this.s=4,en(15),ss(this.i,this.l,xe,"[Invalid Chunk]"),A=!1;break}else ss(this.i,this.l,Sn,null),pi(this,Sn);if(Ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||xe.length!=0||this.h.h||(this.s=1,en(16),A=!1),this.o=this.o&&A,!A)ss(this.i,this.l,xe,"[Invalid Chunked Response]"),qn(this),ii(this);else if(0<xe.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),jr(Dt),Dt.M=!0,en(11))}}else ss(this.i,this.l,xe,null),pi(this,xe);cn==4&&qn(this),this.o&&!this.J&&(cn==4?_o(this.j,this):(this.o=!1,Vt(this)))}else Ru(this.g),A==400&&0<xe.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),qn(this),ii(this)}}}catch{}finally{}};function Ri(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Zs(d,b){var A=d.C,P=b.indexOf(`
`,A);return P==-1?ws:(A=Number(b.substring(A,P)),isNaN(A)?Qt:(P+=1,P+A>b.length?ws:(b=b.slice(P,P+A),d.C=P+A,b)))}Wt.prototype.cancel=function(){this.J=!0,qn(this)};function Vt(d){d.S=Date.now()+d.I,As(d,d.I)}function As(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=kr(w(d.ba,d),b)}function fa(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Wt.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ts(this.i,this.A),this.L!=2&&(zi(),en(17)),qn(this),this.s=2,ii(this)):As(this,this.S-d)};function ii(d){d.j.G==0||d.J||_o(d.j,d)}function qn(d){fa(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,zn(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function pi(d,b){try{var A=d.j;if(A.G!=0&&(A.g==d||Js(A.h,d))){if(!d.K&&Js(A.h,d)&&A.G==3){try{var P=A.Da.g.parse(b)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)Gi(A),Ea(A);else break e;Ta(A),en(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=kr(w(A.Za,A),6e3));if(1>=Cl(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ds(A,11)}else if((d.K||A.g==d)&&Gi(A),!q(b))for(J=A.Da.g.parse(b),b=0;b<J.length;b++){let dt=J[b];if(A.T=dt[0],dt=dt[1],A.G==2)if(dt[0]=="c"){A.K=dt[1],A.ia=dt[2];const Dt=dt[3];Dt!=null&&(A.la=Dt,A.j.info("VER="+A.la));const cn=dt[4];cn!=null&&(A.Aa=cn,A.j.info("SVER="+A.Aa));const Os=dt[5];Os!=null&&typeof Os=="number"&&0<Os&&(P=1.5*Os,A.L=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const Sn=d.g;if(Sn){const ks=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var ie=P.h;ie.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(er(ie,ie.h),ie.h=null))}if(P.D){const Pl=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pl&&(P.ya=Pl,rt(P.I,P.D,Pl))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),P=A;var xe=d;if(P.qa=Pu(P,P.J?P.ia:null,P.W),xe.K){Ii(P.h,xe);var ft=xe,_n=P.L;_n&&(ft.I=_n),ft.B&&(fa(ft),Vt(ft)),P.g=xe}else Ou(P);0<A.i.length&&yo(A)}else dt[0]!="stop"&&dt[0]!="close"||Ds(A,7);else A.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?Ds(A,7):ba(A):dt[0]!="noop"&&A.l&&A.l.ta(dt),A.v=0)}}zi(4)}catch{}}var Cu=class{constructor(d,b){this.g=d,this.map=b}};function co(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Cl(d){return d.h?1:d.g?d.g.size:0}function Js(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function er(d,b){d.g?d.g.add(b):d.h=b}function Ii(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}co.prototype.cancel=function(){if(this.i=$n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function $n(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const A of d.g.values())b=b.concat(A.D);return b}return H(d.i)}function Rl(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var b=[],A=d.length,P=0;P<A;P++)b.push(d[P]);return b}b=[],A=0;for(P in d)b[A++]=d[P];return b}function qi(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var b=[];d=d.length;for(var A=0;A<d;A++)b.push(A);return b}b=[],A=0;for(const P in d)b[A++]=P;return b}}}function vn(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var A=qi(d),P=Rl(d),J=P.length,ie=0;ie<J;ie++)b.call(void 0,P[ie],A&&A[ie],d)}var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mn(d,b){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var P=d[A].indexOf("="),J=null;if(0<=P){var ie=d[A].substring(0,P);J=d[A].substring(P+1)}else ie=d[A];b(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function as(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof as){this.h=d.h,Vn(this,d.j),this.o=d.o,this.g=d.g,Ni(this,d.s),this.l=d.l;var b=d.i,A=new os;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),tr(this,A),this.m=d.m}else d&&(b=String(d).match(rs))?(this.h=!1,Vn(this,b[1]||"",!0),this.o=ir(b[2]||""),this.g=ir(b[3]||"",!0),Ni(this,b[4]),this.l=ir(b[5]||"",!0),tr(this,b[6]||"",!0),this.m=ir(b[7]||"")):(this.h=!1,this.i=new os(null,this.h))}as.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Ln(b,fo,!0),":");var A=this.g;return(A||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Ln(b,fo,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(Ln(A,A.charAt(0)=="/"?Nl:$i,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",Ln(A,mo)),d.join("")};function Ft(d){return new as(d)}function Vn(d,b,A){d.j=A?ir(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Ni(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function tr(d,b,A){b instanceof os?(d.i=b,po(d.i,d.h)):(A||(b=Ln(b,Ss)),d.i=new os(b,d.h))}function rt(d,b,A){d.i.set(b,A)}function nr(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ir(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ln(d,b,A){return typeof d=="string"?(d=encodeURI(d).replace(b,Il),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Il(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fo=/[#\/\?@]/g,$i=/[#\?:]/g,Nl=/[#\?]/g,Ss=/[#\?@]/g,mo=/#/g;function os(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Gn(d){d.g||(d.g=new Map,d.h=0,d.i&&Mn(d.i,function(b,A){d.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=os.prototype,t.add=function(d,b){Gn(this),this.i=null,d=Cs(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(b),this.h+=1,this};function Mr(d,b){Gn(d),b=Cs(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Di(d,b){return Gn(d),b=Cs(d,b),d.g.has(b)}t.forEach=function(d,b){Gn(this),this.g.forEach(function(A,P){A.forEach(function(J){d.call(b,J,P,this)},this)},this)},t.na=function(){Gn(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let P=0;P<b.length;P++){const J=d[P];for(let ie=0;ie<J.length;ie++)A.push(b[P])}return A},t.V=function(d){Gn(this);let b=[];if(typeof d=="string")Di(this,d)&&(b=b.concat(this.g.get(Cs(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)b=b.concat(d[A])}return b},t.set=function(d,b){return Gn(this),this.i=null,d=Cs(this,d),Di(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function xs(d,b,A){Mr(d,b),0<A.length&&(d.i=null,d.g.set(Cs(d,b),H(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var P=b[A];const ie=encodeURIComponent(String(P)),xe=this.V(P);for(P=0;P<xe.length;P++){var J=ie;xe[P]!==""&&(J+="="+encodeURIComponent(String(xe[P]))),d.push(J)}}return this.i=d.join("&")};function Cs(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function po(d,b){b&&!d.j&&(Gn(d),d.i=null,d.g.forEach(function(A,P){var J=P.toLowerCase();P!=J&&(Mr(this,P),xs(this,J,A))},d)),d.j=b}function sr(d,b){const A=new Pr;if(h.Image){const P=new Image;P.onload=R(Oi,A,"TestLoadImage: loaded",!0,b,P),P.onerror=R(Oi,A,"TestLoadImage: error",!1,b,P),P.onabort=R(Oi,A,"TestLoadImage: abort",!1,b,P),P.ontimeout=R(Oi,A,"TestLoadImage: timeout",!1,b,P),h.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else b(!1)}function da(d,b){const A=new Pr,P=new AbortController,J=setTimeout(()=>{P.abort(),Oi(A,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:P.signal}).then(ie=>{clearTimeout(J),ie.ok?Oi(A,"TestPingServer: ok",!0,b):Oi(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(J),Oi(A,"TestPingServer: error",!1,b)})}function Oi(d,b,A,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(A)}catch{}}function rr(){this.g=new ti}function ki(d,b,A){const P=A||"";try{vn(d,function(J,ie){let xe=J;m(J)&&(xe=Al(J)),b.push(P+ie+"="+encodeURIComponent(xe))})}catch(J){throw b.push(P+"type="+encodeURIComponent("_badmap")),J}}function Rs(d){this.l=d.Ub||null,this.j=d.eb||!1}k(Rs,Sl),Rs.prototype.g=function(){return new ar(this.l,this.j)},Rs.prototype.i=function(d){return function(){return d}}({});function ar(d,b){Fe.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ar,Fe),t=ar.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,ls(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vr(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vr(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Is(this):ls(this),this.readyState==3&&Vr(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Is(this))},t.Qa=function(d){this.g&&(this.response=d,Is(this))},t.ga=function(){this.g&&Is(this)};function Is(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ls(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=b.next();return d.join(`\r
`)};function ls(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ma(d){let b="";return Q(d,function(A,P){b+=P,b+=":",b+=A,b+=`\r
`}),b}function un(d,b,A){e:{for(P in A){var P=!1;break e}P=!0}P||(A=ma(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):rt(d,b,A))}function Et(d){Fe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Et,Fe);var pa=/^https?$/i,us=["POST","PUT"];t=Et.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hi.g(),this.v=this.o?xl(this.o):xl(Hi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(ie){go(this,ie);return}if(d=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)A.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ie of P.keys())A.set(ie,P.get(ie));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(us,b,void 0))||P||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,xe]of A)this.g.setRequestHeader(ie,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){go(this,ie)}};function go(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,ga(d),si(d)}function ga(d){d.A||(d.A=!0,It(d,"complete"),It(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,It(this,"complete"),It(this,"abort"),si(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},t.bb=function(){ya(this)};function ya(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Pi(d)!=4||d.Z()!=2)){if(d.u&&Pi(d)==4)Ks(d.Ea,0,d);else if(It(d,"readystatechange"),Pi(d)==4){d.h=!1;try{const xe=d.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var P;if(P=xe===0){var J=String(d.D).match(rs)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),P=!pa.test(J?J.toLowerCase():"")}A=P}if(A)It(d,"complete"),It(d,"success");else{d.m=6;try{var ie=2<Pi(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",ga(d)}}finally{si(d)}}}}function si(d,b){if(d.g){va(d);const A=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||It(d,"ready");try{A.onreadystatechange=P}catch{}}}function va(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Pi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),bs(b)}};function Dl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ru(d){const b={};d=(d.g&&2<=Pi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(q(d[P]))continue;var A=F(d[P]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ie=b[J]||[];b[J]=ie,ie.push(A)}B(b,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(d,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||b}function _a(d){this.Aa=0,this.i=[],this.j=new Pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,d),this.cb=Lr("retryDelaySeedMs",1e4,d),this.Wa=Lr("forwardChannelMaxRetries",2,d),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new co(d&&d.concurrentRequestLimit),this.Da=new rr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_a.prototype,t.la=8,t.G=1,t.connect=function(d,b,A,P){en(0),this.W=d,this.H=b||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.I=Pu(this,null,this.W),yo(this)};function ba(d){if(Iu(d),d.G==3){var b=d.U++,A=Ft(d.I);if(rt(A,"SID",d.K),rt(A,"RID",b),rt(A,"TYPE","terminate"),Ns(d,A),b=new Wt(d,d.j,b),b.L=2,b.v=nr(Ft(A)),A=!1,h.navigator&&h.navigator.sendBeacon)try{A=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&h.Image&&(new Image().src=b.v,A=!0),A||(b.g=Mu(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Vt(b)}ku(d)}function Ea(d){d.g&&(jr(d),d.g.cancel(),d.g=null)}function Iu(d){Ea(d),d.u&&(h.clearTimeout(d.u),d.u=null),Gi(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function yo(d){if(!ho(d.h)&&!d.s){d.s=!0;var b=d.Ga;Ee||V(),ye||(Ee(),ye=!0),tt.add(b,d),d.B=0}}function Nu(d,b){return Cl(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=kr(w(d.Ga,d,b),kl(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Wt(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=D(ie),U(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(b+=P,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=Du(this,J,b),A=Ft(this.I),rt(A,"RID",d),rt(A,"CVER",22),this.D&&rt(A,"X-HTTP-Session-Id",this.D),Ns(this,A),ie&&(this.O?b="headers="+encodeURIComponent(String(ma(ie)))+"&"+b:this.m&&un(A,this.m,ie)),er(this.h,J),this.Ua&&rt(A,"TYPE","init"),this.P?(rt(A,"$req",b),rt(A,"SID","null"),J.T=!0,Hn(J,A,null)):Hn(J,A,b),this.G=2}}else this.G==3&&(d?vo(this,d):this.i.length==0||ho(this.h)||vo(this))};function vo(d,b){var A;b?A=b.l:A=d.U++;const P=Ft(d.I);rt(P,"SID",d.K),rt(P,"RID",A),rt(P,"AID",d.T),Ns(d,P),d.m&&d.o&&un(P,d.m,d.o),A=new Wt(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),b&&(d.i=b.D.concat(d.i)),b=Du(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),er(d.h,A),Hn(A,P,b)}function Ns(d,b){d.H&&Q(d.H,function(A,P){rt(b,P,A)}),d.l&&vn({},function(A,P){rt(b,P,A)})}function Du(d,b,A){A=Math.min(d.i.length,A);var P=d.l?w(d.l.Na,d.l,d):null;e:{var J=d.i;let ie=-1;for(;;){const xe=["count="+A];ie==-1?0<A?(ie=J[0].g,xe.push("ofs="+ie)):ie=0:xe.push("ofs="+ie);let ft=!0;for(let _n=0;_n<A;_n++){let dt=J[_n].g;const Dt=J[_n].map;if(dt-=ie,0>dt)ie=Math.max(0,J[_n].g-100),ft=!1;else try{ki(Dt,xe,"req"+dt+"_")}catch{P&&P(Dt)}}if(ft){P=xe.join("&");break e}}}return d=d.i.splice(0,A),b.D=d,P}function Ou(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;Ee||V(),ye||(Ee(),ye=!0),tt.add(b,d),d.v=0}}function Ta(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=kr(w(d.Fa,d),kl(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=kr(w(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Ea(this),Ol(this))};function jr(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Ol(d){d.g=new Wt(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=Ft(d.qa);rt(b,"RID","rpc"),rt(b,"SID",d.K),rt(b,"AID",d.T),rt(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(b,"TO",d.ja),rt(b,"TYPE","xmlhttp"),Ns(d,b),d.m&&d.o&&un(b,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=nr(Ft(b)),A.m=null,A.P=!0,ni(A,d)}t.Za=function(){this.C!=null&&(this.C=null,Ea(this),Ta(this),en(19))};function Gi(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function _o(d,b){var A=null;if(d.g==b){Gi(d),jr(d),d.g=null;var P=2}else if(Js(d.h,b))A=b.D,Ii(d.h,b),P=1;else return;if(d.G!=0){if(b.o)if(P==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var J=d.B;P=oo(),It(P,new xu(P,A)),yo(d)}else Ou(d);else if(J=b.s,J==3||J==0&&0<b.X||!(P==1&&Nu(d,b)||P==2&&Ta(d)))switch(A&&0<A.length&&(b=d.h,b.i=b.i.concat(A)),J){case 1:Ds(d,5);break;case 4:Ds(d,10);break;case 3:Ds(d,6);break;default:Ds(d,2)}}}function kl(d,b){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*b}function Ds(d,b){if(d.j.info("Error code "+b),b==2){var A=w(d.fb,d),P=d.Xa;const J=!P;P=new as(P||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Vn(P,"https"),nr(P),J?sr(P.toString(),A):da(P.toString(),A)}else en(2);d.G=0,d.l&&d.l.sa(b),ku(d),Iu(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function ku(d){if(d.G=0,d.ka=[],d.l){const b=$n(d.h);(b.length!=0||d.i.length!=0)&&(j(d.ka,b),j(d.ka,d.i),d.h.i.length=0,H(d.i),d.i.length=0),d.l.ra()}}function Pu(d,b,A){var P=A instanceof as?Ft(A):new as(A);if(P.g!="")b&&(P.g=b+"."+P.g),Ni(P,P.s);else{var J=h.location;P=J.protocol,b=b?b+"."+J.hostname:J.hostname,J=+J.port;var ie=new as(null);P&&Vn(ie,P),b&&(ie.g=b),J&&Ni(ie,J),A&&(ie.l=A),P=ie}return A=d.D,b=d.ya,A&&b&&rt(P,A,b),rt(P,"VER",d.la),Ns(d,P),P}function Mu(d,b,A){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new Et(new Rs({eb:A})):new Et(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}t=Vu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wa(){}wa.prototype.g=function(d,b){return new Kn(d,b)};function Kn(d,b){Fe.call(this),this.g=new _a(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!q(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!q(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Yn(this)}k(Kn,Fe),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){ba(this.g)},Kn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=Al(d),d=A);b.i.push(new Cu(b.Ya++,d)),b.G==3&&yo(b)},Kn.prototype.N=function(){this.g.l=null,delete this.j,ba(this.g),delete this.g,Kn.aa.N.call(this)};function Lu(d){Ws.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const A in b){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}k(Lu,Ws);function or(){is.call(this),this.status=1}k(or,is);function Yn(d){this.g=d}k(Yn,Vu),Yn.prototype.ua=function(){It(this.g,"a")},Yn.prototype.ta=function(d){It(this.g,new Lu(d))},Yn.prototype.sa=function(d){It(this.g,new or)},Yn.prototype.ra=function(){It(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,hC=function(){return new wa},cC=function(){return oo()},uC=Fi,Mv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yn.NO_ERROR=0,yn.TIMEOUT=8,yn.HTTP_ERROR=6,jm=yn,Xs.COMPLETE="complete",lC=Xs,ha.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,df=ha,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,oC=Et}).apply(typeof _m<"u"?_m:typeof self<"u"?self:typeof window<"u"?window:{});const lw="@firebase/firestore",uw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new D_("@firebase/firestore");function Tc(){return bu.logLevel}function Re(t,...e){if(bu.logLevel<=pt.DEBUG){const n=e.map(q_);bu.debug(`Firestore (${Jc}): ${t}`,...n)}}function Ja(t,...e){if(bu.logLevel<=pt.ERROR){const n=e.map(q_);bu.error(`Firestore (${Jc}): ${t}`,...n)}}function jc(t,...e){if(bu.logLevel<=pt.WARN){const n=e.map(q_);bu.warn(`Firestore (${Jc}): ${t}`,...n)}}function q_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t="Unexpected state"){const e=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: `+t;throw Ja(e),new Error(e)}function kt(t,e){t||Ye()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ti.UNAUTHENTICATED))}shutdown(){}}class bM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EM{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ga,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ga)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt(typeof i.accessToken=="string"),new fC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Ti(e)}}class TM{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wM{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new TM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AM{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0);const i=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.R=n.token,new cw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=SM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function bt(t,e){return t<e?-1:t>e?1:0}function Uc(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=-62135596800,fw=1e6;class Bn{static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*fw);return new Bn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hw)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fw}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Bn(0,0))}static max(){return new Xe(new Bn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="__name__";class Qr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ye(),i===void 0?i=e.length-n:i>e.length-n&&Ye(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=Qr.isNumericId(e),a=Qr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ol.fromString(e.substring(4,e.length-2))}}class Yt extends Qr{construct(e,n,i){return new Yt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ie(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Yt(n)}static emptyPath(){return new Yt([])}}const xM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends Qr{construct(e,n,i){return new di(e,n,i)}static isValidIdentifier(e){return xM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dw}static keyField(){return new di([dw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ie(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ie(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new Ie(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new di(n)}static emptyPath(){return new di([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Yt.fromString(e))}static fromName(e){return new Ue(Yt.fromString(e).popFirst(5))}static empty(){return new Ue(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=-1;function CM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(i===1e9?new Bn(n+1,0):new Bn(n,i));return new cl(a,Ue.empty(),e)}function RM(t){return new cl(t.readTime,t.key,kf)}class cl{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new cl(Xe.min(),Ue.empty(),kf)}static max(){return new cl(Xe.max(),Ue.empty(),kf)}}function IM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==NM)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,i)=>{n(e)})}static reject(e){return new he((n,i)=>{i(e)})}static waitFor(e){return new he((n,i)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},f=>i(f))}),u=!0,l===a&&n()})}static or(e){let n=he.resolve(!1);for(const i of e)n=n.next(a=>a?he.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new he((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const m=f;n(e[m]).next(v=>{u[m]=v,++h,h===l&&i(u)},v=>a(v))}})}static doWhile(e,n){return new he((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function OM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function th(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Up.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-1;function Bp(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function kM(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="";function PM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mw(e)),e=MM(t.get(n),e);return mw(e)}function MM(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case mC:n+="";break;default:n+=l}}return n}function mw(t){return t+mC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _l(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){this.comparator=e,this.root=n||fi.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bm(this.root,e,this.comparator,!1)}getReverseIterator(){return new bm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bm(this.root,e,this.comparator,!0)}}class bm{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fi{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??fi.RED,this.left=a??fi.EMPTY,this.right=l??fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new fi(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return fi.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1;fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,n,i,a,l){return this}insert(e,n,i){return new fi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gw(this.data.getIterator())}getIteratorFrom(e){return new gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.fields=e,e.sort(di.comparator)}static empty(){return new ys([])}unionWith(e){let n=new Fn(di.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ys(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gC("Invalid base64 string: "+l):l}}(e);return new mi(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new mi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const VM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(t){if(kt(!!t),typeof t=="string"){let e=0;const n=VM.exec(t);if(kt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fl(t){return typeof t=="string"?mi.fromBase64String(t):mi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="server_timestamp",vC="__type__",_C="__previous_value__",bC="__local_write_time__";function G_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[vC])===null||n===void 0?void 0:n.stringValue)===yC}function Fp(t){const e=t.mapValue.fields[_C];return G_(e)?Fp(e):e}function Pf(t){const e=hl(t.mapValue.fields[bC].timestampValue);return new Bn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,i,a,l,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const rp="(default)";class Mf{constructor(e,n){this.projectId=e,this.database=n||rp}static empty(){return new Mf("","")}get isDefaultDatabase(){return this.database===rp}isEqual(e){return e instanceof Mf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="__type__",jM="__max__",Em={mapValue:{}},TC="__vector__",ap="value";function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G_(t)?4:BM(t)?9007199254740991:UM(t)?10:11:Ye()}function sa(t,e){if(t===e)return!0;const n=dl(t);if(n!==dl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pf(t).isEqual(Pf(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=hl(a.timestampValue),h=hl(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return fl(a.bytesValue).isEqual(fl(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return wn(a.geoPointValue.latitude)===wn(l.geoPointValue.latitude)&&wn(a.geoPointValue.longitude)===wn(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wn(a.integerValue)===wn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=wn(a.doubleValue),h=wn(l.doubleValue);return u===h?sp(u)===sp(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Uc(t.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(pw(u)!==pw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!sa(u[f],h[f])))return!1;return!0}(t,e);default:return Ye()}}function Vf(t,e){return(t.values||[]).find(n=>sa(n,e))!==void 0}function Bc(t,e){if(t===e)return 0;const n=dl(t),i=dl(e);if(n!==i)return bt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=wn(l.integerValue||l.doubleValue),f=wn(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return yw(t.timestampValue,e.timestampValue);case 4:return yw(Pf(t),Pf(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(l,u){const h=fl(l),f=fl(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=bt(h[m],f[m]);if(v!==0)return v}return bt(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=bt(wn(l.latitude),wn(u.latitude));return h!==0?h:bt(wn(l.longitude),wn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vw(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,f,m,v;const E=l.fields||{},w=u.fields||{},R=(h=E[ap])===null||h===void 0?void 0:h.arrayValue,k=(f=w[ap])===null||f===void 0?void 0:f.arrayValue,H=bt(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return H!==0?H:vw(R,k)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Em.mapValue&&u===Em.mapValue)return 0;if(l===Em.mapValue)return 1;if(u===Em.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const w=bt(f[E],v[E]);if(w!==0)return w;const R=Bc(h[f[E]],m[v[E]]);if(R!==0)return R}return bt(f.length,v.length)}(t.mapValue,e.mapValue);default:throw Ye()}}function yw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=hl(t),i=hl(e),a=bt(n.seconds,i.seconds);return a!==0?a:bt(n.nanos,i.nanos)}function vw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Bc(n[a],i[a]);if(l)return l}return bt(n.length,i.length)}function Fc(t){return Vv(t)}function Vv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=hl(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Vv(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Vv(n.fields[u])}`;return a+"}"}(t.mapValue):Ye()}function Um(t){switch(dl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fp(t);return e?16+Um(e):16;case 5:return 2*t.stringValue.length;case 6:return fl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Um(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return _l(i.fields,(l,u)=>{a+=l.length+Um(u)}),a}(t.mapValue);default:throw Ye()}}function _w(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lv(t){return!!t&&"integerValue"in t}function K_(t){return!!t&&"arrayValue"in t}function bw(t){return!!t&&"nullValue"in t}function Ew(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bm(t){return!!t&&"mapValue"in t}function UM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[EC])===null||n===void 0?void 0:n.stringValue)===TC}function Ef(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _l(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ef(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ef(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Bm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ef(n)}setAll(e){let n=di.emptyPath(),i={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=Ef(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Bm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Bm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){_l(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Zi(Ef(this.value))}}function wC(t){const e=[];return _l(t.fields,(n,i)=>{const a=new di([n]);if(Bm(i)){const l=wC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new ys(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,i,a,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new wi(e,0,Xe.min(),Xe.min(),Xe.min(),Zi.empty(),0)}static newFoundDocument(e,n,i,a){return new wi(e,1,n,Xe.min(),i,a,0)}static newNoDocument(e,n){return new wi(e,2,n,Xe.min(),Xe.min(),Zi.empty(),0)}static newUnknownDocument(e,n){return new wi(e,3,n,Xe.min(),Xe.min(),Zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.position=e,this.inclusive=n}}function Tw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Ue.comparator(Ue.fromName(u.referenceValue),n.key):i=Bc(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ww(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function FM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{}class Dn extends AC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new HM(e,n,i):n==="array-contains"?new GM(e,i):n==="in"?new KM(e,i):n==="not-in"?new YM(e,i):n==="array-contains-any"?new WM(e,i):new Dn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new qM(e,i):new $M(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bc(n,this.value)):n!==null&&dl(this.value)===dl(n)&&this.matchesComparison(Bc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends AC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ar(e,n)}matches(e){return SC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function SC(t){return t.op==="and"}function xC(t){return zM(t)&&SC(t)}function zM(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function jv(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+Fc(t.value);if(xC(t))return t.filters.map(e=>jv(e)).join(",");{const e=t.filters.map(n=>jv(n)).join(",");return`${t.op}(${e})`}}function CC(t,e){return t instanceof Dn?function(i,a){return a instanceof Dn&&i.op===a.op&&i.field.isEqual(a.field)&&sa(i.value,a.value)}(t,e):t instanceof Ar?function(i,a){return a instanceof Ar&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,h)=>l&&CC(u,a.filters[h]),!0):!1}(t,e):void Ye()}function RC(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${Fc(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(RC).join(" ,")+"}"}(t):"Filter"}class HM extends Dn{constructor(e,n,i){super(e,n,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class qM extends Dn{constructor(e,n){super(e,"in",n),this.keys=IC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $M extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=IC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ue.fromName(i.referenceValue))}class GM extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K_(n)&&Vf(n.arrayValue,this.value)}}class KM extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vf(this.value.arrayValue,n)}}class YM extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vf(this.value.arrayValue,n)}}class WM extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Vf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.le=null}}function Aw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new QM(t,e,n,i,a,l,u)}function Y_(t){const e=et(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>jv(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Bp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Fc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Fc(i)).join(",")),e.le=n}return e.le}function W_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ww(t.startAt,e.startAt)&&ww(t.endAt,e.endAt)}function Uv(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n=null,i=[],a=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function XM(t,e,n,i,a,l,u,h){return new nh(t,e,n,i,a,l,u,h)}function zp(t){return new nh(t)}function Sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NC(t){return t.collectionGroup!==null}function Tf(t){const e=et(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Fn(di.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Lf(l,i))}),n.has(di.keyField().canonicalString())||e.he.push(new Lf(di.keyField(),i))}return e.he}function ea(t){const e=et(t);return e.Pe||(e.Pe=ZM(e,Tf(t))),e.Pe}function ZM(t,e){if(t.limitType==="F")return Aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Lf(a.field,l)});const n=t.endAt?new op(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new op(t.startAt.position,t.startAt.inclusive):null;return Aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Bv(t,e){const n=t.filters.concat([e]);return new nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fv(t,e,n){return new nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hp(t,e){return W_(ea(t),ea(e))&&t.limitType===e.limitType}function DC(t){return`${Y_(ea(t))}|lt:${t.limitType}`}function wc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>RC(a)).join(", ")}]`),Bp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Fc(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Fc(a)).join(",")),`Target(${i})`}(ea(t))}; limitType=${t.limitType})`}function qp(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of Tf(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(u,h,f){const m=Tw(u,h,f);return u.inclusive?m<=0:m<0}(i.startAt,Tf(i),a)||i.endAt&&!function(u,h,f){const m=Tw(u,h,f);return u.inclusive?m>=0:m>0}(i.endAt,Tf(i),a))}(t,e)}function JM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OC(t){return(e,n)=>{let i=!1;for(const a of Tf(t)){const l=eV(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function eV(t,e,n){const i=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(l,u,h){const f=u.data.field(l),m=h.data.field(l);return f!==null&&m!==null?Bc(f,m):Ye()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){_l(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return pC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new rn(Ue.comparator);function eo(){return tV}const kC=new rn(Ue.comparator);function mf(...t){let e=kC;for(const n of t)e=e.insert(n.key,n);return e}function PC(t){let e=kC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function hu(){return wf()}function MC(){return wf()}function wf(){return new wu(t=>t.toString(),(t,e)=>t.isEqual(e))}const nV=new rn(Ue.comparator),iV=new Fn(Ue.comparator);function gt(...t){let e=iV;for(const n of t)e=e.add(n);return e}const sV=new Fn(bt);function rV(){return sV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function VC(t){return{integerValue:""+t}}function aV(t,e){return kM(e)?VC(e):Q_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this._=void 0}}function oV(t,e,n){return t instanceof jf?function(a,l){const u={fields:{[vC]:{stringValue:yC},[bC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&G_(l)&&(l=Fp(l)),l&&(u.fields[_C]=l),{mapValue:u}}(n,e):t instanceof Uf?jC(t,e):t instanceof Bf?UC(t,e):function(a,l){const u=LC(a,l),h=xw(u)+xw(a.Ie);return Lv(u)&&Lv(a.Ie)?VC(h):Q_(a.serializer,h)}(t,e)}function lV(t,e,n){return t instanceof Uf?jC(t,e):t instanceof Bf?UC(t,e):n}function LC(t,e){return t instanceof lp?function(i){return Lv(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class jf extends $p{}class Uf extends $p{constructor(e){super(),this.elements=e}}function jC(t,e){const n=BC(e);for(const i of t.elements)n.some(a=>sa(a,i))||n.push(i);return{arrayValue:{values:n}}}class Bf extends $p{constructor(e){super(),this.elements=e}}function UC(t,e){let n=BC(e);for(const i of t.elements)n=n.filter(a=>!sa(a,i));return{arrayValue:{values:n}}}class lp extends $p{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xw(t){return wn(t.integerValue||t.doubleValue)}function BC(t){return K_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.field=e,this.transform=n}}function cV(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Uf&&a instanceof Uf||i instanceof Bf&&a instanceof Bf?Uc(i.elements,a.elements,sa):i instanceof lp&&a instanceof lp?sa(i.Ie,a.Ie):i instanceof jf&&a instanceof jf}(t.transform,e.transform)}class hV{constructor(e,n){this.version=e,this.transformResults=n}}class $s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $s}static exists(e){return new $s(void 0,e)}static updateTime(e){return new $s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gp{}function FC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new X_(t.key,$s.none()):new sd(t.key,t.data,$s.none());{const n=t.data,i=Zi.empty();let a=new Fn(di.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new bl(t.key,i,new ys(a.toArray()),$s.none())}}function fV(t,e,n){t instanceof sd?function(a,l,u){const h=a.value.clone(),f=Rw(a.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof bl?function(a,l,u){if(!Fm(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Rw(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(zC(a)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Af(t,e,n,i){return t instanceof sd?function(l,u,h,f){if(!Fm(l.precondition,u))return h;const m=l.value.clone(),v=Iw(l.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof bl?function(l,u,h,f){if(!Fm(l.precondition,u))return h;const m=Iw(l.fieldTransforms,f,u),v=u.data;return v.setAll(zC(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(t,e,n,i):function(l,u,h){return Fm(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function dV(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=LC(i.transform,a||null);l!=null&&(n===null&&(n=Zi.empty()),n.set(i.field,l))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Uc(i,a,(l,u)=>cV(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends Gp{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bl extends Gp{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Rw(t,e,n){const i=new Map;kt(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,lV(u,h,n[a]))}return i}function Iw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,oV(l,u,e))}return i}class X_ extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mV extends Gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&fV(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Af(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Af(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=MC();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const f=FC(u,h);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Xe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(n,i)=>Cw(n,i))&&Uc(this.baseMutations,e.baseMutations,(n,i)=>Cw(n,i))}}class Z_{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){kt(e.mutations.length===i.length);let a=function(){return nV}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Z_(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,wt;function vV(t){switch(t){case ue.OK:return Ye();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ye()}}function HC(t){if(t===void 0)return Ja("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Rn.OK:return ue.OK;case Rn.CANCELLED:return ue.CANCELLED;case Rn.UNKNOWN:return ue.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return ue.INTERNAL;case Rn.UNAVAILABLE:return ue.UNAVAILABLE;case Rn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Rn.NOT_FOUND:return ue.NOT_FOUND;case Rn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Rn.ABORTED:return ue.ABORTED;case Rn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Rn.DATA_LOSS:return ue.DATA_LOSS;default:return Ye()}}(wt=Rn||(Rn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new ol([4294967295,4294967295],0);function Nw(t){const e=_V().encode(t),n=new aC;return n.update(e),new Uint8Array(n.digest())}function Dw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ol([n,i],0),new ol([a,l],0)]}class J_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pf(`Invalid padding: ${n}`);if(i<0)throw new pf(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pf(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new pf(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ol.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(ol.fromNumber(i)));return a.compare(bV)===1&&(a=new ol([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Nw(e),[i,a]=Dw(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);if(!this.Re(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new J_(l,a,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=Nw(e),[i,a]=Dw(n);for(let l=0;l<this.hashCount;l++){const u=this.Ae(i,a,l);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Kp(Xe.min(),a,new rn(bt),eo(),gt())}}class rd{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new rd(i,n,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class qC{constructor(e,n){this.targetId=e,this.ge=n}}class $C{constructor(e,n,i=mi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Ow{constructor(){this.pe=0,this.ye=kw(),this.we=mi.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=gt(),n=gt(),i=gt();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ye()}}),new rd(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=kw()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class EV{constructor(e){this.ke=e,this.qe=new Map,this.Qe=eo(),this.$e=Tm(),this.Ke=Tm(),this.Ue=new rn(bt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Uv(l))if(i===0){const u=new Ue(l.path);this.ze(n,u,wi.newNoDocument(u,Xe.min()))}else kt(i===1);else{const u=this.et(n);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=fl(i).toUint8Array()}catch(f){if(f instanceof gC)return jc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new J_(u,a,l)}catch(f){return jc(f instanceof pf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,u)=>{const h=this.Xe(u);if(h){if(l.current&&Uv(h.target)){const f=new Ue(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,wi.newNoDocument(f,e))}l.ve&&(n.set(u,l.Fe()),l.Me())}});let i=gt();this.Ke.forEach((l,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,u)=>u.setReadTime(e));const a=new Kp(e,n,this.Ue,this.Qe,i);return this.Qe=eo(),this.$e=Tm(),this.Ke=Tm(),this.Ue=new rn(bt),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Ow,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Fn(bt),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Fn(bt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ow),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Tm(){return new rn(Ue.comparator)}function kw(){return new rn(Ue.comparator)}const TV={asc:"ASCENDING",desc:"DESCENDING"},wV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AV={and:"AND",or:"OR"};class SV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zv(t,e){return t.useProto3Json||Bp(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xV(t,e){return up(t,e.toTimestamp())}function ta(t){return kt(!!t),Xe.fromTimestamp(function(n){const i=hl(n);return new Bn(i.seconds,i.nanos)}(t))}function e0(t,e){return Hv(t,e).canonicalString()}function Hv(t,e){const n=function(a){return new Yt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KC(t){const e=Yt.fromString(t);return kt(ZC(e)),e}function qv(t,e){return e0(t.databaseId,e.path)}function Jy(t,e){const n=KC(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(WC(n))}function YC(t,e){return e0(t.databaseId,e)}function CV(t){const e=KC(t);return e.length===4?Yt.emptyPath():WC(e)}function $v(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WC(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Pw(t,e,n){return{name:qv(t,e),fields:n.value.mapValue.fields}}function RV(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(kt(v===void 0||typeof v=="string"),mi.fromBase64String(v||"")):(kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),mi.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=m.code===void 0?ue.UNKNOWN:HC(m.code);return new Ie(v,m.message||"")}(u);n=new $C(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Jy(t,i.document.name),l=ta(i.document.updateTime),u=i.document.createTime?ta(i.document.createTime):Xe.min(),h=new Zi({mapValue:{fields:i.document.fields}}),f=wi.newFoundDocument(a,l,u,h),m=i.targetIds||[],v=i.removedTargetIds||[];n=new zm(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Jy(t,i.document),l=i.readTime?ta(i.readTime):Xe.min(),u=wi.newNoDocument(a,l),h=i.removedTargetIds||[];n=new zm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Jy(t,i.document),l=i.removedTargetIds||[];n=new zm([],l,a,null)}else{if(!("filter"in e))return Ye();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new yV(a,l),h=i.targetId;n=new qC(h,u)}}return n}function IV(t,e){let n;if(e instanceof sd)n={update:Pw(t,e.key,e.value)};else if(e instanceof X_)n={delete:qv(t,e.key)};else if(e instanceof bl)n={update:Pw(t,e.key,e.data),updateMask:jV(e.fieldMask)};else{if(!(e instanceof mV))return Ye();n={verify:qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const h=u.transform;if(h instanceof jf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Uf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Bf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lp)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ye()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:xV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ye()}(t,e.precondition)),n}function NV(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(n=>function(a,l){let u=a.updateTime?ta(a.updateTime):ta(l);return u.isEqual(Xe.min())&&(u=ta(l)),new hV(u,a.transformResults||[])}(n,e))):[]}function DV(t,e){return{documents:[YC(t,e.path)]}}function OV(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=YC(t,a);const l=function(m){if(m.length!==0)return XC(Ar.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(v=>function(w){return{field:Ac(w.field),direction:MV(w.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=zv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function kV(t){let e=CV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){kt(i===1);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(E){const w=QC(E);return w instanceof Ar&&xC(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(E){return E.map(w=>function(k){return new Lf(Sc(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(E){let w;return w=typeof E=="object"?E.value:E,Bp(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(E){const w=!!E.before,R=E.values||[];return new op(R,w)}(n.startAt));let m=null;return n.endAt&&(m=function(E){const w=!E.before,R=E.values||[];return new op(R,w)}(n.endAt)),XM(e,a,u,l,h,"F",f,m)}function PV(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Sc(n.unaryFilter.field);return Dn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Sc(n.unaryFilter.field);return Dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sc(n.unaryFilter.field);return Dn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Sc(n.unaryFilter.field);return Dn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(Sc(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(i=>QC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ye()}}(n.compositeFilter.op))}(t):Ye()}function MV(t){return TV[t]}function VV(t){return wV[t]}function LV(t){return AV[t]}function Ac(t){return{fieldPath:t.canonicalString()}}function Sc(t){return di.fromServerFormat(t.fieldPath)}function XC(t){return t instanceof Dn?function(n){if(n.op==="=="){if(Ew(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NAN"}};if(bw(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ew(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NOT_NAN"}};if(bw(n.value))return{unaryFilter:{field:Ac(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(n.field),op:VV(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const i=n.getFilters().map(a=>XC(a));return i.length===1?i[0]:{compositeFilter:{op:LV(n.op),filters:i}}}(t):Ye()}function jV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,i,a,l=Xe.min(),u=Xe.min(),h=mi.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.Tt=e}}function BV(t){const e=kV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.Tn=new zV}addToCollectionParentIndex(e,n){return this.Tn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(cl.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(cl.min())}updateCollectionGroup(e,n,i){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class zV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Fn(Yt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Fn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JC=41943040;class Xi{static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(JC,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new zc(0)}static Un(){return new zc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="LruGarbageCollector",HV=1048576;function Lw([t,e],[n,i]){const a=bt(t,n);return a===0?bt(e,i):a}class qV{constructor(e){this.Hn=e,this.buffer=new Fn(Lw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Lw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $V{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(Vw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){th(n)?Re(Vw,"Ignoring IndexedDB error during garbage collection: ",n):await eh(n)}await this.er(3e5)})}}class GV{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Up.ae);const i=new qV(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Mw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(i=E,h=Date.now(),this.removeTargets(e,i,n))).next(E=>(l=E,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),Tc()<=pt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function KV(t,e){return new GV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.changes=new wu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?he.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Af(i.mutation,a,ys.empty(),Bn.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,gt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=gt()){const a=hu();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let u=mf();return l.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=hu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,gt()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,a){let l=eo();const u=wf(),h=function(){return wf()}();return n.forEach((f,m)=>{const v=i.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof bl)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Af(v.mutation,m,v.mutation.getFieldMask(),Bn.now())):u.set(m.key,ys.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((m,v)=>u.set(m,v)),n.forEach((m,v)=>{var E;return h.set(m,new WV(v,(E=u.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,n){const i=wf();let a=new rn((u,h)=>u-h),l=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let v=i.get(f)||ys.empty();v=h.applyToLocalView(m,v),i.set(f,v);const E=(a.get(h.batchId)||gt()).add(f);a=a.insert(h.batchId,E)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,E=MC();v.forEach(w=>{if(!l.has(w)){const R=FC(n.get(w),i.get(w));R!==null&&E.set(w,R),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return he.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):he.resolve(hu());let h=kf,f=l;return u.next(m=>he.forEach(m,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{f=f.insert(v,w)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,f,m,gt())).next(v=>({batchId:h,changes:PC(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(i=>{let a=mf();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=mf();return this.indexManager.getCollectionParents(e,l).next(h=>he.forEach(h,f=>{const m=function(E,w){return new nh(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(v=>{v.forEach((E,w)=>{u=u.insert(E,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(u=>{l.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,wi.newInvalidDocument(v)))});let h=mf();return u.forEach((f,m)=>{const v=l.get(f);v!==void 0&&Af(v.mutation,m,ys.empty(),Bn.now()),qp(n,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return he.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ta(a.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:BV(a.bundledQuery),readTime:ta(a.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.overlays=new rn(Ue.comparator),this.Rr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const i=hu();return he.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),he.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),he.resolve()}getOverlaysForCollection(e,n,i){const a=hu(),l=n.length+1,u=new Ue(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new rn((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=hu(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=hu(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=a)););return he.resolve(h)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new gV(n,i));let l=this.Rr.get(n);l===void 0&&(l=gt(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.Vr=new Fn(ei.mr),this.gr=new Fn(ei.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new ei(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new ei(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new Ue(new Yt([])),i=new ei(n,e),a=new ei(n,e+1),l=[];return this.gr.forEachInRange([i,a],u=>{this.wr(u),l.push(u.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ue(new Yt([])),i=new ei(n,e),a=new ei(n,e+1);let l=gt();return this.gr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new ei(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ei{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ue.comparator(e.key,n.key)||bt(e.Cr,n.Cr)}static pr(e,n){return bt(e.Cr,n.Cr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Fn(ei.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new pV(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new ei(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,n){return he.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?$_:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ei(n,0),a=new ei(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],u=>{const h=this.Or(u.Cr);l.push(h)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Fn(bt);return n.forEach(a=>{const l=new ei(a,0),u=new ei(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,u],h=>{i=i.add(h.Cr)})}),he.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ue.isDocumentKey(l)||(l=l.child(""));const u=new ei(new Ue(l),0);let h=new Fn(bt);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Cr)),!0)},u),he.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){kt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return he.forEach(n.mutations,a=>{const l=new ei(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new ei(n,0),a=this.Mr.firstAfterOrEqual(i);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.kr=e,this.docs=function(){return new rn(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return he.resolve(i?i.document.mutableCopy():wi.newInvalidDocument(n))}getEntries(e,n){let i=eo();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():wi.newInvalidDocument(a))}),he.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=eo();const u=n.path,h=new Ue(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||IM(RM(v),i)<=0||(a.has(v.key)||qp(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ye()}qr(e,n){return he.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new nL(this)}getSize(e){return he.resolve(this.size)}}class nL extends YV{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),he.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.persistence=e,this.Qr=new wu(n=>Y_(n),W_),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new t0,this.targetCount=0,this.Ur=zc.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),he.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new zc(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.zn(n),he.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),he.waitFor(l).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return he.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),he.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return he.resolve(i)}containsKey(e,n){return he.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Up(0),this.zr=!1,this.zr=!0,this.jr=new JV,this.referenceDelegate=e(this),this.Hr=new iL(this),this.indexManager=new FV,this.remoteDocumentCache=function(a){return new tL(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new UV(n),this.Yr=new XV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new eL(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){Re("MemoryPersistence","Starting transaction:",e);const a=new sL(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return he.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class sL extends DM{constructor(e){super(),this.currentSequenceNumber=e}}class n0{constructor(e){this.persistence=e,this.ti=new t0,this.ni=null}static ri(e){return new n0(e)}get ii(){if(this.ni)return this.ni;throw Ye()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),he.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),he.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,i=>{const a=Ue.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,Xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return he.or([()=>he.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class cp{constructor(e,n){this.persistence=e,this.oi=new wu(i=>PM(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=KV(this,n)}static ri(e,n){return new cp(e,n)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return he.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?he.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,n).next(h=>{h||(i++,l.removeEntry(u,Xe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Um(e.data.value)),n}ar(e,n,i){return he.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=gt(),a=gt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new i0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return BD()?8:OM(xi())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new rL;return this._s(e,n,u).next(h=>{if(l.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(Tc()<=pt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(Tc()<=pt.DEBUG&&Re("QueryEngine","Query:",wc(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Tc()<=pt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ea(n))):he.resolve())}rs(e,n){if(Sw(n))return he.resolve(null);let i=ea(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Fv(n,null,"F"),i=ea(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=gt(...l);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(n,h);return this.ls(n,m,u,f.readTime)?this.rs(e,Fv(n,null,"F")):this.hs(e,m,n,f)}))})))}ss(e,n,i,a){return Sw(n)||a.isEqual(Xe.min())?he.resolve(null):this.ns.getDocuments(e,i).next(l=>{const u=this.cs(n,l);return this.ls(n,u,i,a)?he.resolve(null):(Tc()<=pt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wc(n)),this.hs(e,u,n,CM(a,kf)).next(h=>h))})}cs(e,n){let i=new Fn(OC(e));return n.forEach((a,l)=>{qp(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return Tc()<=pt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",wc(n)),this.ns.getDocumentsMatchingQuery(e,n,cl.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="LocalStore",oL=3e8;class lL{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new rn(bt),this.Is=new wu(l=>Y_(l),W_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function uL(t,e,n,i){return new lL(t,e,n,i)}async function tR(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],h=[];let f=gt();for(const m of a){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of l){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function cL(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,v){const E=m.batch,w=E.keys();let R=he.resolve();return w.forEach(k=>{R=R.next(()=>v.getEntry(f,k)).next(H=>{const j=m.docVersions.get(k);kt(j!==null),H.version.compareTo(j)<0&&(E.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),v.addEntry(H)))})}),R.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=gt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function nR(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function hL(t,e){const n=et(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const h=[];e.targetChanges.forEach((v,E)=>{const w=a.get(E);if(!w)return;h.push(n.Hr.removeMatchingKeys(l,v.removedDocuments,E).next(()=>n.Hr.addMatchingKeys(l,v.addedDocuments,E)));let R=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(mi.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(E,R),function(H,j,M){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=oL?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,R,v)&&h.push(n.Hr.updateTargetData(l,R))});let f=eo(),m=gt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),h.push(fL(l,u,e.documentUpdates).next(v=>{f=v.Vs,m=v.fs})),!i.isEqual(Xe.min())){const v=n.Hr.getLastRemoteSnapshotVersion(l).next(E=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(v)}return he.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,f,m)).next(()=>f)}).then(l=>(n.Ts=a,l))}function fL(t,e,n){let i=gt(),a=gt();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=eo();return n.forEach((h,f)=>{const m=l.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Re(s0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:a}})}function dL(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=$_),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function mL(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,he.resolve(a)):n.Hr.allocateTargetId(i).next(u=>(a=new sl(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Gv(t,e,n){const i=et(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!th(u))throw u;Re(s0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function jw(t,e,n){const i=et(t);let a=Xe.min(),l=gt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const E=et(f),w=E.Is.get(v);return w!==void 0?he.resolve(E.Ts.get(w)):E.Hr.getTargetData(m,v)}(i,u,ea(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,n?a:Xe.min(),n?l:gt())).next(h=>(pL(i,JM(e),h),{documents:h,gs:l})))}function pL(t,e,n){let i=t.Es.get(e)||Xe.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class Uw{constructor(){this.activeTargetIds=rV()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gL{constructor(){this.ho=new Uw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Uw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="ConnectivityMonitor";class Fw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(Bw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(Bw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm=null;function Kv(){return wm===null?wm=function(){return 268435456+Math.round(2147483648*Math.random())}():wm++,"0x"+wm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="RestConnection",vL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _L{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===rp?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,n,i,a,l){const u=Kv(),h=this.So(e,n.toUriEncodedString());Re(ev,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,l),this.vo(e,h,f,i).then(m=>(Re(ev,`Received RPC '${e}' ${u}: `,m),m),m=>{throw jc(ev,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,n,i,a,l,u){return this.bo(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,n){const i=vL[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="WebChannelConnection";class EL extends _L{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Kv();return new Promise((u,h)=>{const f=new oC;f.setWithCredentials(!0),f.listenOnce(lC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jm.NO_ERROR:const v=f.getResponseJson();Re(bi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case jm.TIMEOUT:Re(bi,`RPC '${e}' ${l} timed out`),h(new Ie(ue.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const E=f.getStatus();if(Re(bi,`RPC '${e}' ${l} failed with status:`,E,"response text:",f.getResponseText()),E>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w==null?void 0:w.error;if(R&&R.status&&R.message){const k=function(j){const M=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(M)>=0?M:ue.UNKNOWN}(R.status);h(new Ie(k,R.message))}else h(new Ie(ue.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ie(ue.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Re(bi,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Re(bi,`RPC '${e}' ${l} sending request:`,a),f.send(n,"POST",m,i,15)})}Wo(e,n,i){const a=Kv(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=hC(),h=cC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const v=l.join("");Re(bi,`Creating RPC '${e}' stream ${a}: ${v}`,f);const E=u.createWebChannel(v,f);let w=!1,R=!1;const k=new bL({Fo:j=>{R?Re(bi,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(w||(Re(bi,`Opening RPC '${e}' stream ${a} transport.`),E.open(),w=!0),Re(bi,`RPC '${e}' stream ${a} sending:`,j),E.send(j))},Mo:()=>E.close()}),H=(j,M,q)=>{j.listen(M,Y=>{try{q(Y)}catch(re){setTimeout(()=>{throw re},0)}})};return H(E,df.EventType.OPEN,()=>{R||(Re(bi,`RPC '${e}' stream ${a} transport opened.`),k.Qo())}),H(E,df.EventType.CLOSE,()=>{R||(R=!0,Re(bi,`RPC '${e}' stream ${a} transport closed`),k.Ko())}),H(E,df.EventType.ERROR,j=>{R||(R=!0,jc(bi,`RPC '${e}' stream ${a} transport errored:`,j),k.Ko(new Ie(ue.UNAVAILABLE,"The operation could not be completed")))}),H(E,df.EventType.MESSAGE,j=>{var M;if(!R){const q=j.data[0];kt(!!q);const Y=q,re=(Y==null?void 0:Y.error)||((M=Y[0])===null||M===void 0?void 0:M.error);if(re){Re(bi,`RPC '${e}' stream ${a} received error:`,re);const te=re.status;let Q=function(N){const U=Rn[N];if(U!==void 0)return HC(U)}(te),B=re.message;Q===void 0&&(Q=ue.INTERNAL,B="Unknown error status: "+te+" with message "+re.message),R=!0,k.Ko(new Ie(Q,B)),E.close()}else Re(bi,`RPC '${e}' stream ${a} received:`,q),k.Uo(q)}}),H(h,uC.STAT_EVENT,j=>{j.stat===Mv.PROXY?Re(bi,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Mv.NOPROXY&&Re(bi,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function tv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){return new SV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="PersistentStream";class sR{constructor(e,n,i,a,l,u,h,f){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ja(n.toString()),Ja("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new Ie(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(zw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Re(zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TL extends sR{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=RV(this.serializer,e),i=function(l){if(!("targetChange"in l))return Xe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?ta(u.readTime):Xe.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=$v(this.serializer),n.addTarget=function(l,u){let h;const f=u.target;if(h=Uv(f)?{documents:DV(l,f)}:{query:OV(l,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=GC(l,u.resumeToken);const m=zv(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Xe.min())>0){h.readTime=up(l,u.snapshotVersion.toTimestamp());const m=zv(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=PV(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=$v(this.serializer),n.removeTarget=e,this.I_(n)}}class wL extends sR{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=NV(e.writeResults,e.commitTime),i=ta(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=$v(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>IV(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{}class SL extends AL{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ie(ue.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.bo(e,Hv(n,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(ue.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,Hv(n,i),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(ue.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class xL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ja(n),this.N_=!1):Re("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="RemoteStore";class CL{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(u=>{i.enqueueAndForget(async()=>{Au(this)&&(Re(Eu,"Restarting streams for network reachability change."),await async function(f){const m=et(f);m.W_.add(4),await ad(m),m.j_.set("Unknown"),m.W_.delete(4),await Wp(m)}(this))})}),this.j_=new xL(i,a)}}async function Wp(t){if(Au(t))for(const e of t.G_)await e(!0)}async function ad(t){for(const e of t.G_)await e(!1)}function rR(t,e){const n=et(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),l0(n)?o0(n):ih(n).c_()&&a0(n,e))}function r0(t,e){const n=et(t),i=ih(n);n.U_.delete(e),i.c_()&&aR(n,e),n.U_.size===0&&(i.c_()?i.P_():Au(n)&&n.j_.set("Unknown"))}function a0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ih(t).y_(e)}function aR(t,e){t.H_.Ne(e),ih(t).w_(e)}function o0(t){t.H_=new EV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ih(t).start(),t.j_.B_()}function l0(t){return Au(t)&&!ih(t).u_()&&t.U_.size>0}function Au(t){return et(t).W_.size===0}function oR(t){t.H_=void 0}async function RL(t){t.j_.set("Online")}async function IL(t){t.U_.forEach((e,n)=>{a0(t,e)})}async function NL(t,e){oR(t),l0(t)?(t.j_.q_(e),o0(t)):t.j_.set("Unknown")}async function DL(t,e,n){if(t.j_.set("Online"),e instanceof $C&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.U_.delete(h),a.H_.removeTarget(h))}(t,e)}catch(i){Re(Eu,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hp(t,i)}else if(e instanceof zm?t.H_.We(e):e instanceof qC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Xe.min()))try{const i=await nR(t.localStore);n.compareTo(i)>=0&&await function(l,u){const h=l.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.U_.get(m);v&&l.U_.set(m,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const v=l.U_.get(f);if(!v)return;l.U_.set(f,v.withResumeToken(mi.EMPTY_BYTE_STRING,v.snapshotVersion)),aR(l,f);const E=new sl(v.target,f,m,v.sequenceNumber);a0(l,E)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){Re(Eu,"Failed to raise snapshot:",i),await hp(t,i)}}async function hp(t,e,n){if(!th(e))throw e;t.W_.add(1),await ad(t),t.j_.set("Offline"),n||(n=()=>nR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(Eu,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Wp(t)})}function lR(t,e){return e().catch(n=>hp(t,n,e))}async function Qp(t){const e=et(t),n=ml(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:$_;for(;OL(e);)try{const a=await dL(e.localStore,i);if(a===null){e.K_.length===0&&n.P_();break}i=a.batchId,kL(e,a)}catch(a){await hp(e,a)}uR(e)&&cR(e)}function OL(t){return Au(t)&&t.K_.length<10}function kL(t,e){t.K_.push(e);const n=ml(t);n.c_()&&n.b_&&n.S_(e.mutations)}function uR(t){return Au(t)&&!ml(t).u_()&&t.K_.length>0}function cR(t){ml(t).start()}async function PL(t){ml(t).C_()}async function ML(t){const e=ml(t);for(const n of t.K_)e.S_(n.mutations)}async function VL(t,e,n){const i=t.K_.shift(),a=Z_.from(i,e,n);await lR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Qp(t)}async function LL(t,e){e&&ml(t).b_&&await async function(i,a){if(function(u){return vV(u)&&u!==ue.ABORTED}(a.code)){const l=i.K_.shift();ml(i).h_(),await lR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Qp(i)}}(t,e),uR(t)&&cR(t)}async function Hw(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Re(Eu,"RemoteStore received new credentials");const i=Au(n);n.W_.add(3),await ad(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Wp(n)}async function jL(t,e){const n=et(t);e?(n.W_.delete(2),await Wp(n)):e||(n.W_.add(2),await ad(n),n.j_.set("Unknown"))}function ih(t){return t.J_||(t.J_=function(n,i,a){const l=et(n);return l.M_(),new TL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:RL.bind(null,t),No:IL.bind(null,t),Lo:NL.bind(null,t),p_:DL.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),l0(t)?o0(t):t.j_.set("Unknown")):(await t.J_.stop(),oR(t))})),t.J_}function ml(t){return t.Y_||(t.Y_=function(n,i,a){const l=et(n);return l.M_(),new wL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:PL.bind(null,t),Lo:LL.bind(null,t),D_:ML.bind(null,t),v_:VL.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Qp(t)):(await t.Y_.stop(),t.K_.length>0&&(Re(Eu,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,h=new u0(e,n,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c0(t,e){if(Ja("AsyncQueue",`${e}: ${t}`),th(t))return new Ie(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{static emptySet(e){return new Vc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ue.comparator(n.key,i.key):(n,i)=>Ue.comparator(n.key,i.key),this.keyedMap=mf(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Vc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.Z_=new rn(Ue.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ye():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Hc{constructor(e,n,i,a,l,u,h,f,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Hc(e,n,Vc.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class BL{constructor(){this.queries=$w(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=et(n),l=a.queries;a.queries=$w(),l.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new Ie(ue.ABORTED,"Firestore shutting down"))}}function $w(){return new wu(t=>DC(t),Hp)}async function h0(t,e){const n=et(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new UL,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=c0(u,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&d0(n)}async function f0(t,e){const n=et(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ta.indexOf(e);u>=0&&(l.ta.splice(u,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function FL(t,e){const n=et(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.ta)h.oa(a)&&(i=!0);u.ea=a}}i&&d0(n)}function zL(t,e,n){const i=et(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function d0(t){t.ia.forEach(e=>{e.next()})}var Yv,Gw;(Gw=Yv||(Yv={}))._a="default",Gw.Cache="cache";class m0{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Hc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.key=e}}class fR{constructor(e){this.key=e}}class HL{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=gt(),this.mutatedKeys=gt(),this.ya=OC(e),this.wa=new Vc(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new qw,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,E)=>{const w=a.get(v),R=qp(this.query,E)?E:null,k=!!w&&this.mutatedKeys.has(w.key),H=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;w&&R?w.data.isEqual(R.data)?k!==H&&(i.track({type:3,doc:R}),j=!0):this.va(w,R)||(i.track({type:2,doc:R}),j=!0,(f&&this.ya(R,f)>0||m&&this.ya(R,m)<0)&&(h=!0)):!w&&R?(i.track({type:0,doc:R}),j=!0):w&&!R&&(i.track({type:1,doc:w}),j=!0,(f||m)&&(h=!0)),j&&(R?(u=u.add(R),l=H?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:h,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,E)=>function(R,k){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return H(R)-H(k)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(i),a=a!=null&&a;const h=n&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new Hc(this.query,e.wa,l,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=gt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new fR(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new hR(i))}),n}Oa(e){this.fa=e.gs,this.pa=gt();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Hc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const p0="SyncEngine";class qL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class $L{constructor(e){this.key=e,this.Ba=!1}}class GL{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new wu(h=>DC(h),Hp),this.qa=new Map,this.Qa=new Set,this.$a=new rn(Ue.comparator),this.Ka=new Map,this.Ua=new t0,this.Wa={},this.Ga=new Map,this.za=zc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function KL(t,e,n=!0){const i=vR(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await dR(i,e,n,!0),a}async function YL(t,e){const n=vR(t);await dR(n,e,!0,!1)}async function dR(t,e,n,i){const a=await mL(t.localStore,ea(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await WL(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&rR(t.remoteStore,a),h}async function WL(t,e,n,i,a){t.Ha=(E,w,R)=>async function(H,j,M,q){let Y=j.view.Sa(M);Y.ls&&(Y=await jw(H.localStore,j.query,!1).then(({documents:B})=>j.view.Sa(B,Y)));const re=q&&q.targetChanges.get(j.targetId),te=q&&q.targetMismatches.get(j.targetId)!=null,Q=j.view.applyChanges(Y,H.isPrimaryClient,re,te);return Yw(H,j.targetId,Q.Ma),Q.snapshot}(t,E,w,R);const l=await jw(t.localStore,e,!0),u=new HL(e,l.gs),h=u.Sa(l.documents),f=rd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,f);Yw(t,n,m.Ma);const v=new qL(e,n,u);return t.ka.set(e,v),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function QL(t,e,n){const i=et(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(u=>!Hp(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Gv(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&r0(i.remoteStore,a.targetId),Wv(i,a.targetId)}).catch(eh)):(Wv(i,a.targetId),await Gv(i.localStore,a.targetId,!0))}async function XL(t,e){const n=et(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),r0(n.remoteStore,i.targetId))}async function ZL(t,e,n){const i=rj(t);try{const a=await function(u,h){const f=et(u),m=Bn.now(),v=h.reduce((R,k)=>R.add(k.key),gt());let E,w;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=eo(),H=gt();return f.ds.getEntries(R,v).next(j=>{k=j,k.forEach((M,q)=>{q.isValidDocument()||(H=H.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,k)).next(j=>{E=j;const M=[];for(const q of h){const Y=dV(q,E.get(q.key).overlayedDocument);Y!=null&&M.push(new bl(q.key,Y,wC(Y.value.mapValue),$s.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,M,h)}).next(j=>{w=j;const M=j.applyToLocalDocumentSet(E,H);return f.documentOverlayCache.saveOverlays(R,j.batchId,M)})}).then(()=>({batchId:w.batchId,changes:PC(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new rn(bt)),m=m.insert(h,f),u.Wa[u.currentUser.toKey()]=m}(i,a.batchId,n),await od(i,a.changes),await Qp(i.remoteStore)}catch(a){const l=c0(a,"Failed to persist write");n.reject(l)}}async function mR(t,e){const n=et(t);try{const i=await hL(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Ka.get(l);u&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?kt(u.Ba):a.removedDocuments.size>0&&(kt(u.Ba),u.Ba=!1))}),await od(n,i,e)}catch(i){await eh(i)}}function Kw(t,e,n){const i=et(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=et(u);f.onlineState=h;let m=!1;f.queries.forEach((v,E)=>{for(const w of E.ta)w.sa(h)&&(m=!0)}),m&&d0(f)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function JL(t,e,n){const i=et(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ka.get(e),l=a&&a.key;if(l){let u=new rn(Ue.comparator);u=u.insert(l,wi.newNoDocument(l,Xe.min()));const h=gt().add(l),f=new Kp(Xe.min(),new Map,new rn(bt),u,h);await mR(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),g0(i)}else await Gv(i.localStore,e,!1).then(()=>Wv(i,e,n)).catch(eh)}async function ej(t,e){const n=et(t),i=e.batch.batchId;try{const a=await cL(n.localStore,e);gR(n,i,null),pR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await od(n,a)}catch(a){await eh(a)}}async function tj(t,e,n){const i=et(t);try{const a=await function(u,h){const f=et(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next(E=>(kt(E!==null),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(i.localStore,e);gR(i,e,n),pR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await od(i,a)}catch(a){await eh(a)}}function pR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function gR(t,e,n){const i=et(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||yR(t,i)})}function yR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(r0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),g0(t))}function Yw(t,e,n){for(const i of n)i instanceof hR?(t.Ua.addReference(i.key,e),nj(t,i)):i instanceof fR?(Re(p0,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||yR(t,i.key)):Ye()}function nj(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(Re(p0,"New document in limbo: "+n),t.Qa.add(i),g0(t))}function g0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ue(Yt.fromString(e)),i=t.za.next();t.Ka.set(i,new $L(n)),t.$a=t.$a.insert(n,i),rR(t.remoteStore,new sl(ea(zp(n.path)),i,"TargetPurposeLimboResolution",Up.ae))}}async function od(t,e,n){const i=et(t),a=[],l=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,n).then(m=>{var v;if((m||n)&&i.isPrimaryClient){const E=m?!m.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){a.push(m);const E=i0.Yi(f.targetId,m);l.push(E)}}))}),await Promise.all(u),i.La.p_(a),await async function(f,m){const v=et(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>he.forEach(m,w=>he.forEach(w.Hi,R=>v.persistence.referenceDelegate.addReference(E,w.targetId,R)).next(()=>he.forEach(w.Ji,R=>v.persistence.referenceDelegate.removeReference(E,w.targetId,R)))))}catch(E){if(!th(E))throw E;Re(s0,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const R=v.Ts.get(w),k=R.snapshotVersion,H=R.withLastLimboFreeSnapshotVersion(k);v.Ts=v.Ts.insert(w,H)}}}(i.localStore,l))}async function ij(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Re(p0,"User change. New user:",e.toKey());const i=await tR(n.localStore,e);n.currentUser=e,function(l,u){l.Ga.forEach(h=>{h.forEach(f=>{f.reject(new Ie(ue.CANCELLED,u))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await od(n,i.Rs)}}function sj(t,e){const n=et(t),i=n.Ka.get(e);if(i&&i.Ba)return gt().add(i.key);{let a=gt();const l=n.qa.get(e);if(!l)return a;for(const u of l){const h=n.ka.get(u);a=a.unionWith(h.view.ba)}return a}}function vR(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JL.bind(null,e),e.La.p_=FL.bind(null,e.eventManager),e.La.Ja=zL.bind(null,e.eventManager),e}function rj(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tj.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return uL(this.persistence,new aL,e.initialUser,this.serializer)}Xa(e){return new eR(n0.ri,this.serializer)}Za(e){return new gL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class aj extends fp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){kt(this.persistence.referenceDelegate instanceof cp);const i=this.persistence.referenceDelegate.garbageCollector;return new $V(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new eR(i=>cp.ri(i,n),this.serializer)}}class Qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Kw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ij.bind(null,this.syncEngine),await jL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BL}()}createDatastore(e){const n=Yp(e.databaseInfo.databaseId),i=function(l){return new EL(l)}(e.databaseInfo);return function(l,u,h,f){return new SL(l,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,u,h){return new CL(i,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>Kw(this.syncEngine,n,0),function(){return Fw.D()?new Fw:new yL}())}createSyncEngine(e,n){return function(a,l,u,h,f,m,v){const E=new GL(a,l,u,h,f,m);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=et(a);Re(Eu,"RemoteStore shutting down."),l.W_.add(5),await ad(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qv.provider={build:()=>new Qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ja("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="FirestoreClient";class oj{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Ti.UNAUTHENTICATED,this.clientId=dC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{Re(pl,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Re(pl,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=c0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function nv(t,e){t.asyncQueue.verifyOperationInProgress(),Re(pl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await tR(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ww(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lj(t);Re(pl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Hw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>Hw(e.remoteStore,a)),t._onlineComponents=e}async function lj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(pl,"Using user provided OfflineComponentProvider");try{await nv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;jc("Error using user provided cache. Falling back to memory cache: "+n),await nv(t,new fp)}}else Re(pl,"Using default OfflineComponentProvider"),await nv(t,new aj(void 0));return t._offlineComponents}async function _R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(pl,"Using user provided OnlineComponentProvider"),await Ww(t,t._uninitializedComponentsProvider._online)):(Re(pl,"Using default OnlineComponentProvider"),await Ww(t,new Qv))),t._onlineComponents}function uj(t){return _R(t).then(e=>e.syncEngine)}async function dp(t){const e=await _R(t),n=e.eventManager;return n.onListen=KL.bind(null,e.syncEngine),n.onUnlisten=QL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XL.bind(null,e.syncEngine),n}function cj(t,e,n={}){const i=new Ga;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,f,m){const v=new y0({next:w=>{v.su(),u.enqueueAndForget(()=>f0(l,E));const R=w.docs.has(h);!R&&w.fromCache?m.reject(new Ie(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&f&&f.source==="server"?m.reject(new Ie(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new m0(zp(h.path),v,{includeMetadataChanges:!0,Ta:!0});return h0(l,E)}(await dp(t),t.asyncQueue,e,n,i)),i.promise}function hj(t,e,n={}){const i=new Ga;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,f,m){const v=new y0({next:w=>{v.su(),u.enqueueAndForget(()=>f0(l,E)),w.fromCache&&f.source==="server"?m.reject(new Ie(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new m0(h,v,{includeMetadataChanges:!0,Ta:!0});return h0(l,E)}(await dp(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e,n){if(!n)throw new Ie(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fj(t,e,n,i){if(e===!0&&i===!0)throw new Ie(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xw(t){if(!Ue.isDocumentKey(t))throw new Ie(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zw(t){if(Ue.isDocumentKey(t))throw new Ie(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye()}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new Ie(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firestore.googleapis.com",Jw=!0;class eA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TR,this.ssl=Jw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Jw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HV)throw new Ie(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ie(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ie(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ie(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zp{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _M;switch(i.type){case"firstParty":return new wM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ie(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Qw.get(n);i&&(Re("ComponentProvider","Removing Datastore"),Qw.delete(n),i.terminate())}(this),Promise.resolve()}}function dj(t,e,n,i={}){var a;const l=(t=es(t,Zp))._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;l.host!==TR&&l.host!==h&&jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!gu(f,u)&&(t._setSettings(f),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=Ti.MOCK_USER;else{m=yx(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Ie(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ti(E)}t._authCredentials=new bM(new fC(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class Si{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class ll extends El{constructor(e,n,i){super(e,n,zp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new Ue(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function In(t,e,...n){if(t=An(t),ER("collection","path",e),t instanceof Zp){const i=Yt.fromString(e,...n);return Zw(i),new ll(t,null,i)}{if(!(t instanceof Si||t instanceof ll))throw new Ie(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Yt.fromString(e,...n));return Zw(i),new ll(t.firestore,null,i)}}function gn(t,e,...n){if(t=An(t),arguments.length===1&&(e=dC.newId()),ER("doc","path",e),t instanceof Zp){const i=Yt.fromString(e,...n);return Xw(i),new Si(t,null,new Ue(i))}{if(!(t instanceof Si||t instanceof ll))throw new Ie(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Yt.fromString(e,...n));return Xw(i),new Si(t.firestore,t instanceof ll?t.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="AsyncQueue";class nA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iR(this,"async_queue_retry"),this.bu=()=>{const i=tv();i&&Re(tA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ga;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!th(e))throw e;Re(tA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw Ja("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=u0.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ye()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function iA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class to extends Zp{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new nA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nA(e),this._firestoreClient=void 0,await e}}}function mj(t,e){const n=typeof t=="object"?t:k_(),i=typeof t=="string"?t:rp,a=kp(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=mx("firestore");l&&dj(a,...l)}return a}function Jp(t){if(t._terminated)throw new Ie(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pj(t),t._firestoreClient}function pj(t){var e,n,i;const a=t._freezeSettings(),l=function(h,f,m,v){return new LM(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,bR(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new oj(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(mi.fromBase64String(e))}catch(n){throw new Ie(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qc(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=/^__.*__$/;class yj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class wR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new bl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class b0{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new b0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AR(this.Lu)&&gj.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class vj{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Yp(e)}ju(e,n,i,a=!1){return new b0({Lu:e,methodName:n,zu:i,path:di.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(t){const e=t._freezeSettings(),n=Yp(t._databaseId);return new vj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SR(t,e,n,i,a,l={}){const u=t.ju(l.merge||l.mergeFields?2:0,e,n,a);T0("Data must be an object, but it was:",u,i);const h=xR(i,u);let f,m;if(l.merge)f=new ys(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const w=Xv(e,E,n);if(!u.contains(w))throw new Ie(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);RR(v,w)||v.push(w)}f=new ys(v),m=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=u.fieldTransforms;return new yj(new Zi(h),f,m)}class ig extends tg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ig}}class E0 extends tg{_toFieldTransform(e){return new uV(e.path,new jf)}isEqual(e){return e instanceof E0}}function _j(t,e,n,i){const a=t.ju(1,e,n);T0("Data must be an object, but it was:",a,i);const l=[],u=Zi.empty();_l(i,(f,m)=>{const v=w0(e,f,n);m=An(m);const E=a.Ku(v);if(m instanceof ig)l.push(v);else{const w=ld(m,E);w!=null&&(l.push(v),u.set(v,w))}});const h=new ys(l);return new wR(u,h,a.fieldTransforms)}function bj(t,e,n,i,a,l){const u=t.ju(1,e,n),h=[Xv(e,i,n)],f=[a];if(l.length%2!=0)throw new Ie(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(Xv(e,l[w])),f.push(l[w+1]);const m=[],v=Zi.empty();for(let w=h.length-1;w>=0;--w)if(!RR(m,h[w])){const R=h[w];let k=f[w];k=An(k);const H=u.Ku(R);if(k instanceof ig)m.push(R);else{const j=ld(k,H);j!=null&&(m.push(R),v.set(R,j))}}const E=new ys(m);return new wR(v,E,u.fieldTransforms)}function Ej(t,e,n,i=!1){return ld(n,t.ju(i?4:3,e))}function ld(t,e){if(CR(t=An(t)))return T0("Unsupported field value:",e,t),xR(t,e);if(t instanceof tg)return function(i,a){if(!AR(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const h of i){let f=ld(h,a.Uu(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aV(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Bn.fromDate(i);return{timestampValue:up(a.serializer,l)}}if(i instanceof Bn){const l=new Bn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:up(a.serializer,l)}}if(i instanceof v0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qc)return{bytesValue:GC(a.serializer,i._byteString)};if(i instanceof Si){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:e0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof _0)return function(u,h){return{mapValue:{fields:{[EC]:{stringValue:TC},[ap]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return Q_(h.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Xp(i)}`)}(t,e)}function xR(t,e){const n={};return pC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(t,(i,a)=>{const l=ld(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bn||t instanceof v0||t instanceof qc||t instanceof Si||t instanceof tg||t instanceof _0)}function T0(t,e,n){if(!CR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Xp(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Xv(t,e,n){if((e=An(e))instanceof eg)return e._internalPath;if(typeof e=="string")return w0(t,e);throw mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tj=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(Tj)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eg(...e.split("."))._internalPath}catch{throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mp(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${i}`),u&&(f+=` in document ${a}`),f+=")"),new Ie(ue.INVALID_ARGUMENT,h+t+f)}function RR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wj extends IR{data(){return super.data()}}function sg(t,e){return typeof e=="string"?w0(t,e):e instanceof eg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}class DR extends A0{}function $c(t,e,...n){let i=[];e instanceof A0&&i.push(e),i=i.concat(n),function(l){const u=l.filter(f=>f instanceof S0).length,h=l.filter(f=>f instanceof rg).length;if(u>1||u>0&&h>0)throw new Ie(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class rg extends DR{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new rg(e,n,i)}_apply(e){const n=this._parse(e);return kR(e._query,n),new El(e.firestore,e.converter,Bv(e._query,n))}_parse(e){const n=ng(e.firestore);return function(l,u,h,f,m,v,E){let w;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ie(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){rA(E,v);const k=[];for(const H of E)k.push(sA(f,l,H));w={arrayValue:{values:k}}}else w=sA(f,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||rA(E,v),w=Ej(h,u,E,v==="in"||v==="not-in");return Dn.create(m,v,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ff(t,e,n){const i=e,a=sg("where",t);return rg._create(a,i,n)}class S0 extends A0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const h=l.getFlattenedFilters();for(const f of h)kR(u,f),u=Bv(u,f)}(e._query,n),new El(e.firestore,e.converter,Bv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class x0 extends DR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new x0(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new Ie(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ie(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lf(l,u)}(e._query,this._field,this._direction);return new El(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new nh(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function OR(t,e="asc"){const n=e,i=sg("orderBy",t);return x0._create(i,n)}function sA(t,e,n){if(typeof(n=An(n))=="string"){if(n==="")throw new Ie(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NC(e)&&n.indexOf("/")!==-1)throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Yt.fromString(n));if(!Ue.isDocumentKey(i))throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _w(t,new Ue(i))}if(n instanceof Si)return _w(t,n._key);throw new Ie(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(n)}.`)}function rA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kR(t,e){const n=function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ie(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Aj{convertValue(e,n="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return _l(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[ap].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>wn(u.doubleValue));return new _0(l)}convertGeoPoint(e){return new v0(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Fp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pf(e));default:return null}}convertTimestamp(e){const n=hl(e);return new Bn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Yt.fromString(e);kt(ZC(i));const a=new Mf(i.get(1),i.get(3)),l=new Ue(i.popFirst(5));return a.isEqual(n)||Ja(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MR extends IR{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(sg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Hm extends MR{data(e={}){return super.data(e)}}class VR{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new gf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Hm(this._firestore,this._userDataWriter,i.key,i,new gf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new Hm(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new Hm(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:Sj(h.type),doc:f,oldIndex:m,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Sj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){t=es(t,Si);const e=es(t.firestore,to);return cj(Jp(e),t._key).then(n=>LR(e,t,n))}class C0 extends Aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,n)}}function zf(t){t=es(t,El);const e=es(t.firestore,to),n=Jp(e),i=new C0(e);return NR(t._query),hj(n,t._query).then(a=>new VR(e,i,t,a))}function xj(t,e,n){t=es(t,Si);const i=es(t.firestore,to),a=PR(t.converter,e);return ag(i,[SR(ng(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,$s.none())])}function br(t,e,n,...i){t=es(t,Si);const a=es(t.firestore,to),l=ng(a);let u;return u=typeof(e=An(e))=="string"||e instanceof eg?bj(l,"updateDoc",t._key,e,n,i):_j(l,"updateDoc",t._key,e),ag(a,[u.toMutation(t._key,$s.exists(!0))])}function Cj(t){return ag(es(t.firestore,to),[new X_(t._key,$s.none())])}function _r(t,e){const n=es(t.firestore,to),i=gn(t),a=PR(t.converter,e);return ag(n,[SR(ng(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,$s.exists(!1))]).then(()=>i)}function Lc(t,...e){var n,i,a;t=An(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||iA(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(iA(e[u])){const E=e[u];e[u]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[u+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[u+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let f,m,v;if(t instanceof Si)m=es(t.firestore,to),v=zp(t._key.path),f={next:E=>{e[u]&&e[u](LR(m,t,E))},error:e[u+1],complete:e[u+2]};else{const E=es(t,El);m=es(E.firestore,to),v=E._query;const w=new C0(m);f={next:R=>{e[u]&&e[u](new VR(m,w,E,R))},error:e[u+1],complete:e[u+2]},NR(t._query)}return function(w,R,k,H){const j=new y0(H),M=new m0(R,j,k);return w.asyncQueue.enqueueAndForget(async()=>h0(await dp(w),M)),()=>{j.su(),w.asyncQueue.enqueueAndForget(async()=>f0(await dp(w),M))}}(Jp(m),v,h,f)}function ag(t,e){return function(i,a){const l=new Ga;return i.asyncQueue.enqueueAndForget(async()=>ZL(await uj(i),a,l)),l.promise}(Jp(t),e)}function LR(t,e,n){const i=n.docs.get(e._key),a=new C0(t);return new MR(t,a,e._key,i,new gf(n.hasPendingWrites,n.fromCache),e.converter)}function lu(){return new E0("serverTimestamp")}(function(e,n=!0){(function(a){Jc=a})(Tu),yu(new ul("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new to(new EM(i.getProvider("auth-internal")),new AM(u,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ie(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(m.options.projectId,v)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Xr(lw,uw,e),Xr(lw,uw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebasestorage.googleapis.com",Rj="storageBucket",Ij=2*60*1e3,Nj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends la{constructor(e,n,i=0){super(iv(e),`Firebase Storage: ${n} (${iv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ua.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ra;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ra||(ra={}));function iv(t){return"storage/"+t}function Dj(){const t="An unknown error occurred, please check the error payload for server response.";return new ua(ra.UNKNOWN,t)}function Oj(){return new ua(ra.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kj(){return new ua(ra.CANCELED,"User canceled the upload/download.")}function Pj(t){return new ua(ra.INVALID_URL,"Invalid URL '"+t+"'.")}function Mj(t){return new ua(ra.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aA(t){return new ua(ra.INVALID_ARGUMENT,t)}function UR(){return new ua(ra.APP_DELETED,"The Firebase app was deleted.")}function Vj(t){return new ua(ra.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Er.makeFromUrl(e,n)}catch{return new Er(e,"")}if(i.path==="")return i;throw Mj(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${v}/b/${a}/o${w}`,"i"),k={bucket:1,path:3},H=n===jR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",M=new RegExp(`^https?://${H}/${a}/${j}`,"i"),Y=[{regex:h,indices:f,postModify:l},{regex:R,indices:k,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<Y.length;re++){const te=Y[re],Q=te.regex.exec(e);if(Q){const B=Q[te.indices.bucket];let D=Q[te.indices.path];D||(D=""),i=new Er(B,D),te.postModify(i);break}}if(i==null)throw Pj(e);return i}}class Lj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e,n){let i=1,a=null,l=null,u=!1,h=0;function f(){return h===2}let m=!1;function v(...j){m||(m=!0,e.apply(null,j))}function E(j){a=setTimeout(()=>{a=null,t(R,f())},j)}function w(){l&&clearTimeout(l)}function R(j,...M){if(m){w();return}if(j){w(),v.call(null,j,...M);return}if(f()||u){w(),v.call(null,j,...M);return}i<64&&(i*=2);let Y;h===1?(h=2,Y=0):Y=(i+Math.random())*1e3,E(Y)}let k=!1;function H(j){k||(k=!0,w(),!m&&(a!==null?(j||(h=2),clearTimeout(a),E(0)):j||(h=1)))}return E(0),l=setTimeout(()=>{u=!0,H(!0)},n),H}function Uj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){return t!==void 0}function oA(t,e,n,i){if(i<e)throw aA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw aA(`Invalid value for '${t}'. Expected ${n} or less.`)}function Fj(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var pp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pp||(pp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,i,a,l,u,h,f,m,v,E,w=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=E,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,k)=>{this.resolve_=R,this.reject_=k,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Am(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===pp.NO_ERROR,f=l.getStatus();if(!h||zj(f,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===pp.ABORT;i(!1,new Am(!1,null,v));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Am(m,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());Bj(f)?l(f):l()}catch(f){u(f)}else if(h!==null){const f=Dj();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(a.canceled){const f=this.appDelete_?UR():kj();u(f)}else{const f=Oj();u(f)}};this.canceled_?n(!1,new Am(!1,null,!0)):this.backoffId_=jj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Uj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Am{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function qj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $j(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Gj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Kj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Yj(t,e,n,i,a,l,u=!0){const h=Fj(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return Gj(m,e),qj(m,n),$j(m,l),Kj(m,i),new Hj(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Qj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this._service=e,n instanceof Er?this._location=n:this._location=Er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gp(e,n)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qj(this._location.path)}get storage(){return this._service}get parent(){const e=Wj(this._location.path);if(e===null)return null;const n=new Er(this._location.bucket,e);return new gp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vj(e)}}function lA(t,e){const n=e==null?void 0:e[Rj];return n==null?null:Er.makeFromBucketSpec(n,t)}function Xj(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:yx(a,t.app.options.projectId))}class Zj{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=jR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ij,this._maxUploadRetryTime=Nj,this._requests=new Set,a!=null?this._bucket=Er.makeFromBucketSpec(a,this._host):this._bucket=lA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Er.makeFromBucketSpec(this._url,e):this._bucket=lA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gp(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new Lj(UR());{const u=Yj(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const uA="@firebase/storage",cA="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="storage";function Jj(t=k_(),e){t=An(t);const i=kp(t,BR).getImmediate({identifier:e}),a=mx("storage");return a&&e4(i,...a),i}function e4(t,e,n,i={}){Xj(t,e,n,i)}function t4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Zj(n,i,a,e,Tu)}function n4(){yu(new ul(BR,t4,"PUBLIC").setMultipleInstances(!0)),Xr(uA,cA,""),Xr(uA,cA,"esm2017")}n4();const i4={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},R0=bx(i4),vs=jp(R0),st=mj(R0);Jj(R0);(async()=>{try{await Wx(vs,F_)}catch(t){console.error("❌ Error setting auth persistence:",t)}})();const Sm=({children:t,requiredRoles:e})=>{const[n,i]=C.useState(null),[a,l]=C.useState(!0),[u,h]=C.useState(null);return C.useEffect(()=>{const f=vs.onAuthStateChanged(async m=>{if(m){h(m);try{const v=await sh(gn(st,"Users",m.uid));v.exists()?i(v.data().role):i(null)}catch(v){console.error("Error fetching user role:",v),i(null)}}else h(null),i(null);l(!1)});return()=>f()},[]),a?_.jsx("div",{className:"h-screen flex items-center justify-center",children:"Loading...."}):!u||!e.includes(n)?_.jsx(cf,{to:"/",replace:!0}):t},qm="/cargofran/assets/logo-6SCz_op0.png";var sv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hA;function s4(){return hA||(hA=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var l="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(l=a(l,i(h)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var u="";for(var h in l)e.call(l,h)&&l[h]&&(u=a(u,h));return u}function a(l,u){return u?l?l+" "+u:l+u:l}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(sv)),sv.exports}var r4=s4();const Ut=Rp(r4);function a4(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zv(t,e)}function o4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Zv(t,e)}const l4=["xxl","xl","lg","md","sm","xs"],u4="xs",ud=C.createContext({prefixes:{},breakpoints:l4,minBreakpoint:u4}),{Consumer:iF,Provider:sF}=ud;function On(t,e){const{prefixes:n}=C.useContext(ud);return t||n[e]||e}function c4(){const{breakpoints:t}=C.useContext(ud);return t}function h4(){const{minBreakpoint:t}=C.useContext(ud);return t}function f4(){const{dir:t}=C.useContext(ud);return t==="rtl"}function og(t){return t&&t.ownerDocument||document}function d4(t){var e=og(t);return e&&e.defaultView||window}function m4(t,e){return d4(t).getComputedStyle(t,e)}var p4=/([A-Z])/g;function g4(t){return t.replace(p4,"-$1").toLowerCase()}var y4=/^ms-/;function xm(t){return g4(t).replace(y4,"-ms-")}var v4=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _4(t){return!!(t&&v4.test(t))}function mu(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(xm(e))||m4(t).getPropertyValue(xm(e));Object.keys(e).forEach(function(a){var l=e[a];!l&&l!==0?t.style.removeProperty(xm(a)):_4(a)?i+=a+"("+l+") ":n+=xm(a)+": "+l+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var rv={exports:{}},av,fA;function b4(){if(fA)return av;fA=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return av=t,av}var ov,dA;function E4(){if(dA)return ov;dA=1;var t=b4();function e(){}function n(){}return n.resetWarningCache=e,ov=function(){function i(u,h,f,m,v,E){if(E!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},ov}var mA;function T4(){return mA||(mA=1,rv.exports=E4()()),rv.exports}var w4=T4();const Ka=Rp(w4),pA={disabled:!1},FR=Ji.createContext(null);var A4=function(e){return e.scrollTop},yf="unmounted",ru="exited",Jo="entering",uu="entered",Jv="exiting",ao=function(t){o4(e,t);function e(i,a){var l;l=t.call(this,i,a)||this;var u=a,h=u&&!u.isMounting?i.enter:i.appear,f;return l.appearStatus=null,i.in?h?(f=ru,l.appearStatus=Jo):f=uu:i.unmountOnExit||i.mountOnEnter?f=yf:f=ru,l.state={status:f},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var u=a.in;return u&&l.status===yf?{status:ru}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var l=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==Jo&&u!==uu&&(l=Jo):(u===Jo||u===uu)&&(l=Jv)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,l,u,h;return l=u=h=a,a!=null&&typeof a!="number"&&(l=a.exit,u=a.enter,h=a.appear!==void 0?a.appear:u),{exit:l,enter:u,appear:h}},n.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===Jo){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:xc.findDOMNode(this);u&&A4(u)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ru&&this.setState({status:yf})},n.performEnter=function(a){var l=this,u=this.props.enter,h=this.context?this.context.isMounting:a,f=this.props.nodeRef?[h]:[xc.findDOMNode(this),h],m=f[0],v=f[1],E=this.getTimeouts(),w=h?E.appear:E.enter;if(!a&&!u||pA.disabled){this.safeSetState({status:uu},function(){l.props.onEntered(m)});return}this.props.onEnter(m,v),this.safeSetState({status:Jo},function(){l.props.onEntering(m,v),l.onTransitionEnd(w,function(){l.safeSetState({status:uu},function(){l.props.onEntered(m,v)})})})},n.performExit=function(){var a=this,l=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:xc.findDOMNode(this);if(!l||pA.disabled){this.safeSetState({status:ru},function(){a.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Jv},function(){a.props.onExiting(h),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:ru},function(){a.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},n.setNextCallback=function(a){var l=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,l.nextCallback=null,a(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(a,l){this.setNextCallback(l);var u=this.props.nodeRef?this.props.nodeRef.current:xc.findDOMNode(this),h=a==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],m=f[0],v=f[1];this.props.addEndListener(m,v)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===yf)return null;var l=this.props,u=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var h=a4(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ji.createElement(FR.Provider,{value:null},typeof u=="function"?u(a,h):Ji.cloneElement(Ji.Children.only(u),h))},e}(Ji.Component);ao.contextType=FR;ao.propTypes={};function _c(){}ao.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_c,onEntering:_c,onEntered:_c,onExit:_c,onExiting:_c,onExited:_c};ao.UNMOUNTED=yf;ao.EXITED=ru;ao.ENTERING=Jo;ao.ENTERED=uu;ao.EXITING=Jv;function S4(t){return t.code==="Escape"||t.keyCode===27}function x4(){const t=C.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function lg(t){if(!t||typeof t=="function")return null;const{major:e}=x4();return e>=19?t.props.ref:t.ref}const rh=!!(typeof window<"u"&&window.document&&window.document.createElement);var e_=!1,t_=!1;try{var lv={get passive(){return e_=!0},get once(){return t_=e_=!0}};rh&&(window.addEventListener("test",lv,lv),window.removeEventListener("test",lv,!0))}catch{}function zR(t,e,n,i){if(i&&typeof i!="boolean"&&!t_){var a=i.once,l=i.capture,u=n;!t_&&a&&(u=n.__once||function h(f){this.removeEventListener(e,h,l),n.call(this,f)},n.__once=u),t.addEventListener(e,u,e_?i:l)}t.addEventListener(e,n,i)}function n_(t,e,n,i){var a=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,a),n.__once&&t.removeEventListener(e,n.__once,a)}function yp(t,e,n,i){return zR(t,e,n,i),function(){n_(t,e,n,i)}}function C4(t,e,n,i){if(i===void 0&&(i=!0),t){var a=document.createEvent("HTMLEvents");a.initEvent(e,n,i),t.dispatchEvent(a)}}function R4(t){var e=mu(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function I4(t,e,n){n===void 0&&(n=5);var i=!1,a=setTimeout(function(){i||C4(t,"transitionend",!0)},e+n),l=yp(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function HR(t,e,n,i){n==null&&(n=R4(t)||0);var a=I4(t,n,i),l=yp(t,"transitionend",e);return function(){a(),l()}}function gA(t,e){const n=mu(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function N4(t,e){const n=gA(t,"transitionDuration"),i=gA(t,"transitionDelay"),a=HR(t,l=>{l.target===t&&(a(),e(l))},n+i)}function D4(t){t.offsetHeight}const yA=t=>!t||typeof t=="function"?t:e=>{t.current=e};function O4(t,e){const n=yA(t),i=yA(e);return a=>{n&&n(a),i&&i(a)}}function qR(t,e){return C.useMemo(()=>O4(t,e),[t,e])}function k4(t){return t&&"setState"in t?xc.findDOMNode(t):t??null}const P4=Ji.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:a,onExited:l,addEndListener:u,children:h,childRef:f,...m},v)=>{const E=C.useRef(null),w=qR(E,f),R=Q=>{w(k4(Q))},k=Q=>B=>{Q&&E.current&&Q(E.current,B)},H=C.useCallback(k(t),[t]),j=C.useCallback(k(e),[e]),M=C.useCallback(k(n),[n]),q=C.useCallback(k(i),[i]),Y=C.useCallback(k(a),[a]),re=C.useCallback(k(l),[l]),te=C.useCallback(k(u),[u]);return _.jsx(ao,{ref:v,...m,onEnter:H,onEntered:M,onEntering:j,onExit:q,onExited:re,onExiting:Y,addEndListener:te,nodeRef:E,children:typeof h=="function"?(Q,B)=>h(Q,{...B,ref:R}):Ji.cloneElement(h,{ref:R})})});function M4(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function i_(t){const e=M4(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const V4=t=>C.forwardRef((e,n)=>_.jsx("div",{...e,ref:n,className:Ut(e.className,t)}));function L4(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t},[t]),e}function cu(t){const e=L4(t);return C.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function j4(){const t=C.useRef(!0),e=C.useRef(()=>t.current);return C.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function U4(t){const e=C.useRef(null);return C.useEffect(()=>{e.current=t}),e.current}const B4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",F4=typeof document<"u",vA=F4||B4?C.useLayoutEffect:C.useEffect,z4=["as","disabled"];function H4(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function q4(t){return!t||t.trim()==="#"}function $R({tagName:t,disabled:e,href:n,target:i,rel:a,role:l,onClick:u,tabIndex:h=0,type:f}){t||(n!=null||i!=null||a!=null?t="a":t="button");const m={tagName:t};if(t==="button")return[{type:f||"button",disabled:e},m];const v=w=>{if((e||t==="a"&&q4(n))&&w.preventDefault(),e){w.stopPropagation();return}u==null||u(w)},E=w=>{w.key===" "&&(w.preventDefault(),v(w))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:h,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?a:void 0,onClick:v,onKeyDown:E},m]}const $4=C.forwardRef((t,e)=>{let{as:n,disabled:i}=t,a=H4(t,z4);const[l,{tagName:u}]=$R(Object.assign({tagName:n,disabled:i},a));return _.jsx(u,Object.assign({},a,l,{ref:e}))});$4.displayName="Button";const G4={[Jo]:"show",[uu]:"show"},I0=C.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...a},l)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},h=C.useCallback((f,m)=>{D4(f),i==null||i(f,m)},[i]);return _.jsx(P4,{ref:l,addEndListener:N4,...u,onEnter:h,childRef:lg(e),children:(f,m)=>C.cloneElement(e,{...m,className:Ut("fade",t,e.props.className,G4[f],n[f])})})});I0.displayName="Fade";const K4={"aria-label":Ka.string,onClick:Ka.func,variant:Ka.oneOf(["white"])},N0=C.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},a)=>_.jsx("button",{ref:a,type:"button",className:Ut("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));N0.displayName="CloseButton";N0.propTypes=K4;const Nn=C.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:a=!1,disabled:l=!1,className:u,...h},f)=>{const m=On(e,"btn"),[v,{tagName:E}]=$R({tagName:t,disabled:l,...h}),w=E;return _.jsx(w,{...v,...h,ref:f,disabled:l,className:Ut(u,m,a&&"active",n&&`${m}-${n}`,i&&`${m}-${i}`,h.href&&l&&"disabled")})});Nn.displayName="Button";function Y4(t){const e=C.useRef(t);return e.current=t,e}function W4(t){const e=Y4(t);C.useEffect(()=>()=>e.current(),[])}function Q4(t,e){return C.Children.toArray(t).some(n=>C.isValidElement(n)&&n.type===e)}function X4({as:t,bsPrefix:e,className:n,...i}){e=On(e,"col");const a=c4(),l=h4(),u=[],h=[];return a.forEach(f=>{const m=i[f];delete i[f];let v,E,w;typeof m=="object"&&m!=null?{span:v,offset:E,order:w}=m:v=m;const R=f!==l?`-${f}`:"";v&&u.push(v===!0?`${e}${R}`:`${e}${R}-${v}`),w!=null&&h.push(`order${R}-${w}`),E!=null&&h.push(`offset${R}-${E}`)}),[{...i,className:Ut(n,...u,...h)},{as:t,bsPrefix:e,spans:u}]}const GR=C.forwardRef((t,e)=>{const[{className:n,...i},{as:a="div",bsPrefix:l,spans:u}]=X4(t);return _.jsx(a,{...i,ref:e,className:Ut(n,!u.length&&l)})});GR.displayName="Col";var Z4=Function.prototype.bind.call(Function.prototype.call,[].slice);function bc(t,e){return Z4(t.querySelectorAll(e))}function _A(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const J4="data-rr-ui-";function e3(t){return`${J4}${t}`}const KR=C.createContext(rh?window:void 0);KR.Provider;function D0(){return C.useContext(KR)}const t3={type:Ka.string,tooltip:Ka.bool,as:Ka.elementType},ug=C.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:i=!1,...a},l)=>_.jsx(t,{...a,ref:l,className:Ut(e,`${n}-${i?"tooltip":"feedback"}`)}));ug.displayName="Feedback";ug.propTypes=t3;const no=C.createContext({}),O0=C.forwardRef(({id:t,bsPrefix:e,className:n,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:u="input",...h},f)=>{const{controlId:m}=C.useContext(no);return e=On(e,"form-check-input"),_.jsx(u,{...h,ref:f,type:i,id:t||m,className:Ut(n,e,a&&"is-valid",l&&"is-invalid")})});O0.displayName="FormCheckInput";const vp=C.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...i},a)=>{const{controlId:l}=C.useContext(no);return t=On(t,"form-check-label"),_.jsx("label",{...i,ref:a,htmlFor:n||l,className:Ut(e,t)})});vp.displayName="FormCheckLabel";const YR=C.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:u=!1,isInvalid:h=!1,feedbackTooltip:f=!1,feedback:m,feedbackType:v,className:E,style:w,title:R="",type:k="checkbox",label:H,children:j,as:M="input",...q},Y)=>{e=On(e,"form-check"),n=On(n,"form-switch");const{controlId:re}=C.useContext(no),te=C.useMemo(()=>({controlId:t||re}),[re,t]),Q=!j&&H!=null&&H!==!1||Q4(j,vp),B=_.jsx(O0,{...q,type:k==="switch"?"checkbox":k,ref:Y,isValid:u,isInvalid:h,disabled:l,as:M});return _.jsx(no.Provider,{value:te,children:_.jsx("div",{style:w,className:Ut(E,Q&&e,i&&`${e}-inline`,a&&`${e}-reverse`,k==="switch"&&n),children:j||_.jsxs(_.Fragment,{children:[B,Q&&_.jsx(vp,{title:R,children:H}),m&&_.jsx(ug,{type:v,tooltip:f,children:m})]})})})});YR.displayName="FormCheck";const _p=Object.assign(YR,{Input:O0,Label:vp}),WR=C.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:i,id:a,className:l,isValid:u=!1,isInvalid:h=!1,plaintext:f,readOnly:m,as:v="input",...E},w)=>{const{controlId:R}=C.useContext(no);return t=On(t,"form-control"),_.jsx(v,{...E,type:e,size:i,ref:w,readOnly:m,id:a||R,className:Ut(l,f?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",h&&"is-invalid")})});WR.displayName="FormControl";const n3=Object.assign(WR,{Feedback:ug}),QR=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},a)=>(e=On(e,"form-floating"),_.jsx(n,{ref:a,className:Ut(t,e),...i})));QR.displayName="FormFloating";const k0=C.forwardRef(({controlId:t,as:e="div",...n},i)=>{const a=C.useMemo(()=>({controlId:t}),[t]);return _.jsx(no.Provider,{value:a,children:_.jsx(e,{...n,ref:i})})});k0.displayName="FormGroup";const XR=C.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...u},h)=>{const{controlId:f}=C.useContext(no);e=On(e,"form-label");let m="col-form-label";typeof n=="string"&&(m=`${m} ${m}-${n}`);const v=Ut(a,e,i&&"visually-hidden",n&&m);return l=l||f,n?_.jsx(GR,{ref:h,as:"label",className:v,htmlFor:l,...u}):_.jsx(t,{ref:h,className:v,htmlFor:l,...u})});XR.displayName="FormLabel";const ZR=C.forwardRef(({bsPrefix:t,className:e,id:n,...i},a)=>{const{controlId:l}=C.useContext(no);return t=On(t,"form-range"),_.jsx("input",{...i,type:"range",ref:a,className:Ut(e,t),id:n||l})});ZR.displayName="FormRange";const JR=C.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:i,isValid:a=!1,isInvalid:l=!1,id:u,...h},f)=>{const{controlId:m}=C.useContext(no);return t=On(t,"form-select"),_.jsx("select",{...h,size:n,ref:f,className:Ut(i,t,e&&`${t}-${e}`,a&&"is-valid",l&&"is-invalid"),id:u||m})});JR.displayName="FormSelect";const e1=C.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:i,...a},l)=>(t=On(t,"form-text"),_.jsx(n,{...a,ref:l,className:Ut(e,t,i&&"text-muted")})));e1.displayName="FormText";const t1=C.forwardRef((t,e)=>_.jsx(_p,{...t,ref:e,type:"switch"}));t1.displayName="Switch";const i3=Object.assign(t1,{Input:_p.Input,Label:_p.Label}),n1=C.forwardRef(({bsPrefix:t,className:e,children:n,controlId:i,label:a,...l},u)=>(t=On(t,"form-floating"),_.jsxs(k0,{ref:u,className:Ut(e,t),controlId:i,...l,children:[n,_.jsx("label",{htmlFor:i,children:a})]})));n1.displayName="FloatingLabel";const s3={_ref:Ka.any,validated:Ka.bool,as:Ka.elementType},P0=C.forwardRef(({className:t,validated:e,as:n="form",...i},a)=>_.jsx(n,{...i,ref:a,className:Ut(t,e&&"was-validated")}));P0.displayName="Form";P0.propTypes=s3;const we=Object.assign(P0,{Group:k0,Control:n3,Floating:QR,Check:_p,Switch:i3,Label:XR,Text:e1,Range:ZR,Select:JR,FloatingLabel:n1}),bA=t=>!t||typeof t=="function"?t:e=>{t.current=e};function r3(t,e){const n=bA(t),i=bA(e);return a=>{n&&n(a),i&&i(a)}}function M0(t,e){return C.useMemo(()=>r3(t,e),[t,e])}var Cm;function EA(t){if((!Cm&&Cm!==0||t)&&rh){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Cm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Cm}function a3(){return C.useState(null)}function uv(t){t===void 0&&(t=og());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function o3(t){const e=C.useRef(t);return e.current=t,e}function l3(t){const e=o3(t);C.useEffect(()=>()=>e.current(),[])}function u3(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const TA=e3("modal-open");class V0{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return u3(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(mu(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(TA,""),mu(a,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(TA),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const cv=(t,e)=>rh?t==null?(e||og()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function c3(t,e){const n=D0(),[i,a]=C.useState(()=>cv(t,n==null?void 0:n.document));if(!i){const l=cv(t);l&&a(l)}return C.useEffect(()=>{},[e,i]),C.useEffect(()=>{const l=cv(t);l!==i&&a(l)},[t,i]),i}function h3({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:a}){const l=C.useRef(null),u=C.useRef(e),h=cu(n);C.useEffect(()=>{e?u.current=!0:h(l.current)},[e,h]);const f=M0(l,lg(t)),m=C.cloneElement(t,{ref:f});return e?m:a||!u.current&&i?null:m}const f3=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function d3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function m3(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:a,onExiting:l,onExited:u,addEndListener:h,children:f}=t,m=d3(t,f3);const v=C.useRef(null),E=M0(v,lg(f)),w=re=>te=>{re&&v.current&&re(v.current,te)},R=C.useCallback(w(e),[e]),k=C.useCallback(w(n),[n]),H=C.useCallback(w(i),[i]),j=C.useCallback(w(a),[a]),M=C.useCallback(w(l),[l]),q=C.useCallback(w(u),[u]),Y=C.useCallback(w(h),[h]);return Object.assign({},m,{nodeRef:v},e&&{onEnter:R},n&&{onEntering:k},i&&{onEntered:H},a&&{onExit:j},l&&{onExiting:M},u&&{onExited:q},h&&{addEndListener:Y},{children:typeof f=="function"?(re,te)=>f(re,Object.assign({},te,{ref:E})):C.cloneElement(f,{ref:E})})}const p3=["component"];function g3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const y3=C.forwardRef((t,e)=>{let{component:n}=t,i=g3(t,p3);const a=m3(i);return _.jsx(n,Object.assign({ref:e},a))});function v3({in:t,onTransition:e}){const n=C.useRef(null),i=C.useRef(!0),a=cu(e);return vA(()=>{if(!n.current)return;let l=!1;return a({in:t,element:n.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[t,a]),vA(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function _3({children:t,in:e,onExited:n,onEntered:i,transition:a}){const[l,u]=C.useState(!e);e&&l&&u(!1);const h=v3({in:!!e,onTransition:m=>{const v=()=>{m.isStale()||(m.in?i==null||i(m.element,m.initial):(u(!0),n==null||n(m.element)))};Promise.resolve(a(m)).then(v,E=>{throw m.in||u(!0),E})}}),f=M0(h,lg(t));return l&&!e?null:C.cloneElement(t,{ref:f})}function wA(t,e,n){return t?_.jsx(y3,Object.assign({},n,{component:t})):e?_.jsx(_3,Object.assign({},n,{transition:e})):_.jsx(h3,Object.assign({},n))}const b3=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function E3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let hv;function T3(t){return hv||(hv=new V0({ownerDocument:t==null?void 0:t.document})),hv}function w3(t){const e=D0(),n=t||T3(e),i=C.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:C.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:C.useCallback(a=>{i.current.backdrop=a},[])})}const i1=C.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:a,style:l,children:u,backdrop:h=!0,keyboard:f=!0,onBackdropClick:m,onEscapeKeyDown:v,transition:E,runTransition:w,backdropTransition:R,runBackdropTransition:k,autoFocus:H=!0,enforceFocus:j=!0,restoreFocus:M=!0,restoreFocusOptions:q,renderDialog:Y,renderBackdrop:re=Qe=>_.jsx("div",Object.assign({},Qe)),manager:te,container:Q,onShow:B,onHide:D=()=>{},onExit:N,onExited:U,onExiting:F,onEnter:$,onEntering:L,onEntered:Oe}=t,Ne=E3(t,b3);const fe=D0(),Ee=c3(Q),ye=w3(te),tt=j4(),V=U4(n),[de,Ce]=C.useState(!n),Se=C.useRef(null);C.useImperativeHandle(e,()=>ye,[ye]),rh&&!V&&n&&(Se.current=uv(fe==null?void 0:fe.document)),n&&de&&Ce(!1);const Ae=cu(()=>{if(ye.add(),pe.current=yp(document,"keydown",be),at.current=yp(document,"focus",()=>setTimeout(Pe),!0),B&&B(),H){var Qe,Jt;const ts=uv((Qe=(Jt=ye.dialog)==null?void 0:Jt.ownerDocument)!=null?Qe:fe==null?void 0:fe.document);ye.dialog&&ts&&!_A(ye.dialog,ts)&&(Se.current=ts,ye.dialog.focus())}}),Be=cu(()=>{if(ye.remove(),pe.current==null||pe.current(),at.current==null||at.current(),M){var Qe;(Qe=Se.current)==null||Qe.focus==null||Qe.focus(q),Se.current=null}});C.useEffect(()=>{!n||!Ee||Ae()},[n,Ee,Ae]),C.useEffect(()=>{de&&Be()},[de,Be]),l3(()=>{Be()});const Pe=cu(()=>{if(!j||!tt()||!ye.isTopModal())return;const Qe=uv(fe==null?void 0:fe.document);ye.dialog&&Qe&&!_A(ye.dialog,Qe)&&ye.dialog.focus()}),Rt=cu(Qe=>{Qe.target===Qe.currentTarget&&(m==null||m(Qe),h===!0&&D())}),be=cu(Qe=>{f&&S4(Qe)&&ye.isTopModal()&&(v==null||v(Qe),Qe.defaultPrevented||D())}),at=C.useRef(),pe=C.useRef(),Ve=(...Qe)=>{Ce(!0),U==null||U(...Qe)};if(!Ee)return null;const nt=Object.assign({role:i,ref:ye.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Ne,{style:l,className:a,tabIndex:-1});let ot=Y?Y(nt):_.jsx("div",Object.assign({},nt,{children:C.cloneElement(u,{role:"document"})}));ot=wA(E,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:F,onExited:Ve,onEnter:$,onEntering:L,onEntered:Oe,children:ot});let Bt=null;return h&&(Bt=re({ref:ye.setBackdropRef,onClick:Rt}),Bt=wA(R,k,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Bt})),_.jsx(_.Fragment,{children:xc.createPortal(_.jsxs(_.Fragment,{children:[Bt,ot]}),Ee)})});i1.displayName="Modal";const A3=Object.assign(i1,{Manager:V0});function S3(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function x3(t,e){t.classList?t.classList.add(e):S3(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function AA(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function C3(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=AA(t.className,e):t.setAttribute("class",AA(t.className&&t.className.baseVal||"",e))}const Ec={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class R3 extends V0{adjustAndStore(e,n,i){const a=n.style[e];n.dataset[e]=a,mu(n,{[e]:`${parseFloat(mu(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],mu(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(x3(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";bc(n,Ec.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),bc(n,Ec.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-e.scrollBarWidth)),bc(n,Ec.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();C3(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";bc(n,Ec.FIXED_CONTENT).forEach(l=>this.restore(i,l)),bc(n,Ec.STICKY_CONTENT).forEach(l=>this.restore(a,l)),bc(n,Ec.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let fv;function I3(t){return fv||(fv=new R3(t)),fv}const s1=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},a)=>(e=On(e,"modal-body"),_.jsx(n,{ref:a,className:Ut(t,e),...i})));s1.displayName="ModalBody";const r1=C.createContext({onHide(){}}),L0=C.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:i,size:a,fullscreen:l,children:u,scrollable:h,...f},m)=>{t=On(t,"modal");const v=`${t}-dialog`,E=typeof l=="string"?`${t}-fullscreen-${l}`:`${t}-fullscreen`;return _.jsx("div",{...f,ref:m,className:Ut(v,e,a&&`${t}-${a}`,i&&`${v}-centered`,h&&`${v}-scrollable`,l&&E),children:_.jsx("div",{className:Ut(`${t}-content`,n),children:u})})});L0.displayName="ModalDialog";const a1=C.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},a)=>(e=On(e,"modal-footer"),_.jsx(n,{ref:a,className:Ut(t,e),...i})));a1.displayName="ModalFooter";const N3=C.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:a,...l},u)=>{const h=C.useContext(r1),f=i_(()=>{h==null||h.onHide(),i==null||i()});return _.jsxs("div",{ref:u,...l,children:[a,n&&_.jsx(N0,{"aria-label":t,variant:e,onClick:f})]})}),o1=C.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...a},l)=>(t=On(t,"modal-header"),_.jsx(N3,{ref:l,...a,className:Ut(e,t),closeLabel:n,closeButton:i})));o1.displayName="ModalHeader";const D3=V4("h4"),l1=C.forwardRef(({className:t,bsPrefix:e,as:n=D3,...i},a)=>(e=On(e,"modal-title"),_.jsx(n,{ref:a,className:Ut(t,e),...i})));l1.displayName="ModalTitle";function O3(t){return _.jsx(I0,{...t,timeout:null})}function k3(t){return _.jsx(I0,{...t,timeout:null})}const u1=C.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:i,contentClassName:a,children:l,dialogAs:u=L0,"data-bs-theme":h,"aria-labelledby":f,"aria-describedby":m,"aria-label":v,show:E=!1,animation:w=!0,backdrop:R=!0,keyboard:k=!0,onEscapeKeyDown:H,onShow:j,onHide:M,container:q,autoFocus:Y=!0,enforceFocus:re=!0,restoreFocus:te=!0,restoreFocusOptions:Q,onEntered:B,onExit:D,onExiting:N,onEnter:U,onEntering:F,onExited:$,backdropClassName:L,manager:Oe,...Ne},fe)=>{const[Ee,ye]=C.useState({}),[tt,V]=C.useState(!1),de=C.useRef(!1),Ce=C.useRef(!1),Se=C.useRef(null),[Ae,Be]=a3(),Pe=qR(fe,Be),Rt=i_(M),be=f4();t=On(t,"modal");const at=C.useMemo(()=>({onHide:Rt}),[Rt]);function pe(){return Oe||I3({isRTL:be})}function Ve(Fe){if(!rh)return;const It=pe().getScrollbarWidth()>0,kn=Fe.scrollHeight>og(Fe).documentElement.clientHeight;ye({paddingRight:It&&!kn?EA():void 0,paddingLeft:!It&&kn?EA():void 0})}const nt=i_(()=>{Ae&&Ve(Ae.dialog)});W4(()=>{n_(window,"resize",nt),Se.current==null||Se.current()});const ot=()=>{de.current=!0},Bt=Fe=>{de.current&&Ae&&Fe.target===Ae.dialog&&(Ce.current=!0),de.current=!1},Qe=()=>{V(!0),Se.current=HR(Ae.dialog,()=>{V(!1)})},Jt=Fe=>{Fe.target===Fe.currentTarget&&Qe()},ts=Fe=>{if(R==="static"){Jt(Fe);return}if(Ce.current||Fe.target!==Fe.currentTarget){Ce.current=!1;return}M==null||M()},Cr=Fe=>{k?H==null||H(Fe):(Fe.preventDefault(),R==="static"&&Qe())},Rr=(Fe,It)=>{Fe&&Ve(Fe),U==null||U(Fe,It)},Gs=Fe=>{Se.current==null||Se.current(),D==null||D(Fe)},Ir=(Fe,It)=>{F==null||F(Fe,It),zR(window,"resize",nt)},wl=Fe=>{Fe&&(Fe.style.display=""),$==null||$(Fe),n_(window,"resize",nt)},ca=C.useCallback(Fe=>_.jsx("div",{...Fe,className:Ut(`${t}-backdrop`,L,!w&&"show")}),[w,L,t]),an={...n,...Ee};an.display="block";const Ci=Fe=>_.jsx("div",{role:"dialog",...Fe,style:an,className:Ut(e,t,tt&&`${t}-static`,!w&&"show"),onClick:R?ts:void 0,onMouseUp:Bt,"data-bs-theme":h,"aria-label":v,"aria-labelledby":f,"aria-describedby":m,children:_.jsx(u,{...Ne,onMouseDown:ot,className:i,contentClassName:a,children:l})});return _.jsx(r1.Provider,{value:at,children:_.jsx(A3,{show:E,ref:Pe,backdrop:R,container:q,keyboard:!0,autoFocus:Y,enforceFocus:re,restoreFocus:te,restoreFocusOptions:Q,onEscapeKeyDown:Cr,onShow:j,onHide:M,onEnter:Rr,onEntering:Ir,onEntered:B,onExit:Gs,onExiting:N,onExited:wl,manager:pe(),transition:w?O3:void 0,backdropTransition:w?k3:void 0,renderBackdrop:ca,renderDialog:Ci})})});u1.displayName="Modal";const Xt=Object.assign(u1,{Body:s1,Header:o1,Title:l1,Footer:a1,Dialog:L0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),c1=C.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:i,borderless:a,hover:l,size:u,variant:h,responsive:f,...m},v)=>{const E=On(t,"table"),w=Ut(e,E,h&&`${E}-${h}`,u&&`${E}-${u}`,n&&`${E}-${typeof n=="string"?`striped-${n}`:"striped"}`,i&&`${E}-bordered`,a&&`${E}-borderless`,l&&`${E}-hover`),R=_.jsx("table",{...m,className:w,ref:v});if(f){let k=`${E}-responsive`;return typeof f=="string"&&(k=`${k}-${f}`),_.jsx("div",{className:k,children:R})}return R});function P3({setIsOpen:t}){const[e,n]=C.useState(!1),[i,a]=C.useState("login"),[l,u]=C.useState(""),[h,f]=C.useState(""),[m,v]=C.useState(""),[E,w]=C.useState(""),[R,k]=C.useState(""),[H,j]=C.useState(""),[M,q]=C.useState(""),Y=Np(),re=()=>{n(!1),a("login"),j(""),q("")},te=F=>{a(F),j(""),q("")},Q=()=>n(!0),B=async F=>{t(!1),F.preventDefault(),j("");try{await Wx(vs,F_);const L=(await rP(vs,m,E)).user,Oe=await sh(gn(st,"Users",L.uid));if(Oe.exists()){const Ne=Oe.data();Ne.role==="admin"||Ne.role==="staff"?Y("/AdminDashboard"):Y("/UserDashboard"),Ne.verified||q("Your account is not verified yet. Some features may be restricted.")}else{j("User role not found in database.");return}re()}catch($){$.code==="auth/invalid-credential"?j("Invalid email or password. Please try again."):$.code==="auth/too-many-requests"?j("Too many failed attempts. Please try again later or reset your password."):$.code==="auth/network-request-failed"?j("Network error. Check your connection and try again."):j("Login failed. Please check your credentials and try again.")}},D=async F=>{if(F.preventDefault(),j(""),q(""),E!==R){j("Passwords do not match");return}try{const Oe=(await sP(vs,m,E)).user.uid,Ne=gn(st,"Users",Oe);await xj(Ne,{uid:Oe,firstName:l,lastName:h,email:m,role:"user",verified:!1,createdAt:new Date}),q("Account created! You can now log in."),a("login")}catch($){j($.message)}},N=async F=>{if(F.preventDefault(),j(""),q(""),!m){j("Please enter your email address.");return}try{const $=m.trim().toLowerCase(),L=In(st,"Users"),Oe=$c(L,Ff("email","==",$));if((await zf(Oe)).empty){j("No account found with this email. Please check or sign up.");return}await Yx(vs,$),q("Password reset link sent to your email."),v("")}catch($){j("Failed to send reset link. Please try again later."),console.error("Reset Password Error:",$)}},U=F=>F.toLowerCase().replace(/\b\w/g,$=>$.toUpperCase());return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:`lexend text-xl drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-110 active:scale-95 
                  after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/90 after:transition-all after:duration-300 
                  hover:after:w-full text-white/100 hover:text-green-400 cursor-pointer`,onClick:Q,children:"Log In / Sign Up"}),_.jsxs(Xt,{show:e,onHide:re,centered:!0,children:[_.jsx(Xt.Header,{closeButton:!0,children:_.jsxs(Xt.Title,{className:"lexend",children:[i==="login"&&"Log In",i==="signup"&&"Sign Up",i==="forgotPassword"&&"Reset Password"]})}),_.jsxs(Xt.Body,{children:[H&&_.jsx("p",{className:"text-danger text-center",children:H}),M&&_.jsx("p",{className:"text-success text-center",children:M}),i==="forgotPassword"&&_.jsxs(we,{onSubmit:N,children:[_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"forgot-email",children:"Email Address"}),_.jsx(we.Control,{type:"email",id:"forgot-email",name:"email",placeholder:"Enter your email",value:m,onChange:F=>v(F.target.value),required:!0,autoComplete:"email"})]}),_.jsx(Nn,{variant:"primary",type:"submit",className:"w-100",children:"Send Reset Link"}),_.jsx("div",{className:"mt-3 text-center",children:_.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),te("login")},children:"Back to Login"})})]}),i==="login"&&_.jsxs(we,{onSubmit:B,children:[_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"login-email",children:"Email"}),_.jsx(we.Control,{type:"email",id:"login-email",name:"email",placeholder:"Enter your email",value:m,onChange:F=>v(F.target.value),required:!0,autoComplete:"email"})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"login-password",children:"Password"}),_.jsx(we.Control,{type:"password",id:"login-password",name:"password",placeholder:"Enter password",value:E,onChange:F=>w(F.target.value),required:!0,autoComplete:"current-password"}),_.jsx("div",{className:"lexend text-end mt-2",children:_.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),te("forgotPassword")},children:"Forgot Password?"})})]}),_.jsx(Nn,{variant:"primary",type:"submit",className:"lexend w-100",children:"Log In"}),_.jsx("div",{className:"lexend mt-3 text-center",children:_.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),te("signup")},children:"First time? Sign up"})})]}),i==="signup"&&_.jsxs(we,{onSubmit:D,children:[_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"signup-first-name",children:"First Name"}),_.jsx(we.Control,{type:"text",id:"signup-first-name",name:"firstName",placeholder:"Enter first name",value:l,onChange:F=>u(U(F.target.value)),required:!0})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"signup-last-name",children:"Last Name"}),_.jsx(we.Control,{type:"text",id:"signup-last-name",name:"lastName",placeholder:"Enter last name",value:h,onChange:F=>f(U(F.target.value)),required:!0})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"signup-email",children:"Email"}),_.jsx(we.Control,{type:"email",id:"signup-email",name:"email",placeholder:"Enter email",value:m,onChange:F=>v(F.target.value),required:!0,autoComplete:"email"})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"signup-password",children:"Password"}),_.jsx(we.Control,{type:"password",id:"signup-password",name:"password",placeholder:"Enter password",value:E,onChange:F=>w(F.target.value),required:!0,autoComplete:"new-password"})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),_.jsx(we.Control,{type:"password",id:"signup-confirm-password",name:"confirmPassword",placeholder:"Confirm password",value:R,onChange:F=>k(F.target.value),required:!0,autoComplete:"new-password"})]}),_.jsx(Nn,{variant:"primary",type:"submit",className:"w-100",children:"Sign Up"}),_.jsx("div",{className:"mt-3 lexend text-center",children:_.jsx("a",{href:"#",onClick:F=>{F.preventDefault(),te("login")},children:"Back to Login"})})]})]})]})]})}function M3({show:t,onHide:e}){const[n,i]=C.useState([]),[a,l]=C.useState(""),[u,h]=C.useState(!1),[f,m]=C.useState(""),[v,E]=C.useState(""),[w,R]=C.useState(""),[k,H]=C.useState(""),[j,M]=C.useState("user"),[q,Y]=C.useState({}),re=In(st,"Users"),te=jp();C.useEffect(()=>{(async()=>{const Ne=(await zf(re)).docs.map(fe=>({id:fe.id,...fe.data()}));Ne.sort((fe,Ee)=>new Date(fe.createdAt)-new Date(Ee.createdAt)),i(Ne)})()},[]),C.useEffect(()=>{const L=setInterval(()=>{Y(Oe=>{const Ne={...Oe};return Object.keys(Ne).forEach(fe=>{Ne[fe]>0?Ne[fe]-=1:delete Ne[fe]}),Ne})},1e3);return()=>clearInterval(L)},[]);const Q=async(L,Oe)=>{const Ne=Oe==="staff"?"user":"staff";await br(gn(st,"Users",L),{role:Ne}),i(fe=>fe.map(Ee=>Ee.id===L?{...Ee,role:Ne}:Ee))},B=async L=>{if(q[L]){alert("Please wait before sending another reset email.");return}try{await Yx(te,L),alert(`Password reset email sent to ${L}`),Y(Oe=>({...Oe,[L]:60}))}catch(Oe){console.error("Error sending reset email:",Oe.message),alert("Failed to send reset email. Please try again.")}},D=()=>{h(!0)},N=async()=>{if(!f||!v||!w||!k){alert("Please fill in all fields.");return}if(k.length<6){alert("Password must be at least 6 characters long.");return}const L=new Date().toISOString();try{const Oe=await fetch("http://localhost:5000/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:f,lastName:v,email:w,password:k,role:j,createdAt:new Date().toISOString()})}),Ne=await Oe.json();Oe.ok?(i(fe=>[...fe,{id:Ne.uid,firstName:f,lastName:v,email:w,role:j,createdAt:L,verified:!1}].sort((Ee,ye)=>new Date(ye.createdAt)-new Date(Ee.createdAt))),alert("User created successfully!"),h(!1),m(""),E(""),R(""),H(""),M("user")):alert("Failed to create user: "+Ne.error)}catch(Oe){console.error("Error:",Oe),alert("Something went wrong.")}},U=async L=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const Ne=await fetch(`http://localhost:5000/deleteUser/${L}`,{method:"DELETE"}),fe=await Ne.json();Ne.ok?(i(Ee=>Ee.filter(ye=>ye.id!==L)),alert("User deleted successfully!")):alert("Failed to delete user: "+fe.error)}catch(Ne){console.error("Error:",Ne),alert("Something went wrong while deleting the user.")}},F=async(L,Oe)=>{const Ne=!Oe;try{await br(gn(st,"Users",L),{verified:Ne}),i(fe=>fe.map(Ee=>Ee.id===L?{...Ee,verified:Ne}:Ee))}catch(fe){console.error("Error updating verification status:",fe),alert("Failed to update verification status.")}},$=()=>{h(!1)};return _.jsxs(_.Fragment,{children:[_.jsxs(Xt,{show:t,onHide:e,centered:!0,size:"xl",className:"sm:max-w-full sm:h-screen sm:modal-dialog",children:[_.jsx(Xt.Header,{closeButton:!0,children:_.jsx(Xt.Title,{children:"Manage Users"})}),_.jsxs(Xt.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:[_.jsx(we.Control,{type:"text",placeholder:"Search by email...",value:a,onChange:L=>l(L.target.value),className:"mb-3"}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-gray-200",children:[_.jsx("th",{className:"p-2 border",children:"Email"}),_.jsx("th",{className:"p-2 border",children:"Role"}),_.jsx("th",{className:"p-2 border"}),_.jsx("th",{className:"p-2 border",children:"Verified"}),_.jsx("th",{className:"p-2 border"}),_.jsx("th",{className:"p-2 border",children:"Reset Password"})]})}),_.jsx("tbody",{className:"max-h-[300px] overflow-y-auto",children:n.filter(L=>L.email.toLowerCase().includes(a.toLowerCase())).map(L=>_.jsxs("tr",{className:"text-center",children:[_.jsx("td",{className:"p-2 border",children:L.email}),_.jsx("td",{className:"p-2 border",children:L.role}),_.jsx("td",{className:"p-2 border",children:_.jsx(Nn,{variant:L.role==="staff"?"danger":"success",onClick:()=>L.role!=="admin"&&Q(L.id,L.role),disabled:L.role==="admin",className:L.role==="admin"?"bg-gray-400 text-gray-700 cursor-not-allowed":"",children:L.role==="admin"?"Admin":`Change to ${L.role==="staff"?"User":"Staff"}`})}),_.jsx("td",{className:"p-2 border",children:L.verified?"Yes":"No"}),_.jsx("td",{className:"p-2 border",children:_.jsx(Nn,{variant:L.verified?"danger":"success",onClick:()=>F(L.id,L.verified),children:L.verified?"Unverify":"Verify"})}),_.jsx("td",{className:"p-2 border",children:_.jsx(Nn,{variant:"warning",onClick:()=>B(L.email),disabled:!!q[L.email],children:q[L.email]?`Wait (${q[L.email]}s)`:"Send Reset Email"})}),_.jsx("td",{className:"p-2 border",children:_.jsx(Nn,{variant:"danger",onClick:()=>U(L.id),children:"Delete"})})]},L.id))})]})})]}),_.jsx(Xt.Footer,{className:"flex justify-end",children:_.jsx(Nn,{variant:"primary",onClick:D,children:"Add New User"})})]}),_.jsxs(Xt,{show:u,onHide:()=>h(!1),centered:!0,size:"md",children:[_.jsx(Xt.Header,{closeButton:!0,children:_.jsx(Xt.Title,{className:"text-center w-full",children:"Add New User"})}),_.jsx(Xt.Body,{children:_.jsxs(we,{children:[_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"First Name"}),_.jsx(we.Control,{type:"text",value:f,onChange:L=>{const Oe=L.target.value.toLowerCase().replace(/\b\w/g,Ne=>Ne.toUpperCase());m(Oe)}})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Last Name"}),_.jsx(we.Control,{type:"text",value:v,onChange:L=>{const Oe=L.target.value.toLowerCase().replace(/\b\w/g,Ne=>Ne.toUpperCase());E(Oe)}})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Email"}),_.jsx(we.Control,{type:"email",value:w,onChange:L=>R(L.target.value)})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Password"}),_.jsx(we.Control,{type:"password",value:k,onChange:L=>H(L.target.value)})]})]})}),_.jsxs(Xt.Footer,{className:"flex justify-between w-full",children:[_.jsx(Nn,{variant:"secondary",onClick:$,children:"Back"}),_.jsx(Nn,{variant:"success",onClick:async()=>{await N()},children:"Add User"})]})]})]})}var h1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SA=Ji.createContext&&Ji.createContext(h1),V3=["attr","size","title"];function L3(t,e){if(t==null)return{};var n=j3(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function j3(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bp.apply(this,arguments)}function xA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(n),!0).forEach(function(i){U3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function U3(t,e,n){return e=B3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B3(t){var e=F3(t,"string");return typeof e=="symbol"?e:e+""}function F3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f1(t){return t&&t.map((e,n)=>Ji.createElement(e.tag,Ep({key:n},e.attr),f1(e.child)))}function xr(t){return e=>Ji.createElement(z3,bp({attr:Ep({},t.attr)},e),f1(t.child))}function z3(t){var e=n=>{var{attr:i,size:a,title:l}=t,u=L3(t,V3),h=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Ji.createElement("svg",bp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:f,style:Ep(Ep({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Ji.createElement("title",null,l),t.children)};return SA!==void 0?Ji.createElement(SA.Consumer,null,n=>e(n)):e(h1)}function H3(t){return xr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function CA(t){return xr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(t)}function q3(t){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function $3(t){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function G3(t){return xr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function K3(t){return xr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(t)}function Y3(t){return xr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const W3=()=>{const[t,e]=C.useState(!1),[n,i]=C.useState(!1),[a,l]=C.useState(null),[u,h]=C.useState(""),[f,m]=C.useState(void 0),[v,E]=C.useState(!1),[w,R]=C.useState(!1),k=Np(),H=C.useRef(null);C.useEffect(()=>{const M=vs.onAuthStateChanged(async q=>{if(l(q),q)try{const Y=await sh(gn(st,"Users",q.uid));Y.exists()?(h(Y.data().firstName),m(Y.data().role)):m(null)}catch(Y){console.error("Error fetching user data: ",Y),m(null)}else m(null)});return()=>M()},[]),C.useEffect(()=>{const M=q=>{H.current&&!H.current.contains(q.target)&&i(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]),C.useEffect(()=>{const M=()=>{e(!0)};return window.addEventListener("openOffCanvas",M),()=>{window.removeEventListener("openOffCanvas",M)}},[]);const j=async()=>{try{i(!1),e(!1),await lP(vs),k("/")}catch(M){console.error("Error signing out: ",M)}};return f===void 0?_.jsx("nav",{className:"border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700 font-semibold z-40"}):_.jsx(_.Fragment,{children:f!==void 0&&_.jsxs("nav",{className:`font-semibold z-40 
        ${f==="admin"||f==="staff"?"bg-blue-300 border-b-2":"bg-white"} 
        `,children:[_.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-3",children:[f==="user"||f===void 0?_.jsx(Ct,{to:"/",className:`flex items-center space-x-3 transition-transform duration-300 
              hover:scale-110
            }`,children:_.jsx("img",{src:qm,className:"h-12 w-auto",alt:"FCL"})}):_.jsx(_.Fragment,{children:_.jsx(Ct,{to:f==="admin"||f==="staff"?"/AdminDashboard":"/",className:`flex items-center space-x-3 transition-transform duration-300 
                hover:scale-110 
                ${f==="admin"||f==="staff"?"md:hidden":""}
              `,children:_.jsx("img",{src:qm,className:"h-12 w-auto",alt:"FCL"})})}),_.jsxs("div",{className:"hidden md:flex items-center gap-1 ml-auto",children:[f==="admin"?_.jsx(_.Fragment,{children:_.jsx("div",{className:`lexend mr-3 cursor-pointer relative block py-2 px-3 text-black no-underline rounded transition-all duration-200 transform hover:scale-105 active:scale-95 
                          after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:w-0 after:bg-blue-500 after:transition-all after:duration-300 
                          hover:after:w-full`,onClick:()=>E(!0),children:"Manage Users"})}):f==="staff"?_.jsxs(_.Fragment,{children:[_.jsx(Ct,{to:"/About",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Manage Something"}),_.jsx(Ct,{to:"/Services",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Messages"}),_.jsx(Ct,{to:"/OurCommitment",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Idunno"})]}):f==="user"?_.jsxs(_.Fragment,{children:[_.jsx(Ct,{to:"/About",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"About Us"}),_.jsx(Ct,{to:"/Services",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Services"}),_.jsx(Ct,{to:"/OurCommitment",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Our Commitment"})]}):_.jsxs(_.Fragment,{children:[_.jsx(Ct,{to:"/About",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"About Us"}),_.jsx(Ct,{to:"/Services",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Services"}),_.jsx(Ct,{to:"/OurCommitment",className:({isActive:M})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${M?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Our Commitment"})]}),(f==="admin"||f==="staff")&&_.jsxs("div",{className:"relative z-40",ref:H,children:[_.jsx("button",{onClick:()=>i(!n),className:`text-black text-3xl p-2 transition-transform duration-300 ease-in-out scale-150
                          hover:scale-120 active:scale-150`,children:_.jsx(Y3,{className:`transition-all duration-300 ${n?"text-black scale-110":"text-gray-700"}`})}),_.jsx("div",{className:`absolute right-0 mt-2 w-40 bg-white shadow-lg rounded-md 
                            transition-all duration-300 ease-in-out ${n?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:_.jsxs("ul",{className:"border rounded !pl-0 !mb-0 w-full text-gray-800",children:[_.jsx("li",{className:"px-4 py-3 hover:bg-gray-300 transition duration-200 cursor-pointer",children:"Authentication"}),_.jsx("li",{onClick:j,className:"px-4 py-3 hover:bg-gray-300 transition duration-200 cursor-pointer",children:"Log Out"})]})})]})]}),f==="admin"||f==="staff"?_.jsx("div",{className:"md:hidden flex items-center space-x-2 md:space-x-3",children:_.jsx("button",{onClick:()=>e(!0),className:"p-2 text-black rounded-lg hover:bg-gray-100 focus:outline-none",children:_.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}):_.jsx(_.Fragment,{children:_.jsx("div",{className:"flex items-center space-x-2 md:space-x-3",children:_.jsx("button",{onClick:()=>e(!0),className:"p-2 text-black rounded-lg hover:bg-gray-100 focus:outline-none",children:_.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})})})]}),t&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 backdrop-blur-md z-40",onClick:()=>e(!1)}),_.jsxs("div",{className:`fixed inset-y-0 right-0 w-full sm:w-80 bg-white text-black shadow-lg transform ${t?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out z-50 flex flex-col h-full`,children:[_.jsxs("div",{className:"p-5 flex justify-between items-center border-b border-gray-500 bg-[rgba(0,127,130,255)]",children:[_.jsx("span",{className:"text-md font-semibold",children:_.jsx("a",{children:a?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"lexend drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] text-white text-xl mb-3",children:["Welcome, ",f==="admin"?"Admin":u||"User","!"]}),_.jsx("button",{onClick:j,className:`lexend drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                      after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/100 after:transition-all after:duration-300 
                      hover:after:w-full text-white/100 hover:text-blue-300 cursor-pointer text-sm`,children:"Log Out"})]}):_.jsx(P3,{setIsOpen:e})})}),_.jsx("button",{onClick:()=>e(!1),className:"text-black hover:text-black",children:"✕"})]}),_.jsxs("ul",{className:"p-0 space-y-0 flex flex-col items-center text-center flex-grow w-full text-xl",children:[f==="admin"?_.jsxs(_.Fragment,{children:[_.jsx("li",{className:"w-full",children:_.jsx("div",{className:`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 hover:bg-blue-200 active:bg-blue-300 
                              hover:scale-105 cursor-pointer`,onClick:()=>E(!0),children:"Manage Users"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/AdminDashboard",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b-1 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Dashboard"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/Shipments",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b-1 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Shipments"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/MessageRequest",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b-1 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Message Requests"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/AdminMessages",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b-1 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Messages"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/",onClick:j,className:({isActive:M})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Log Out"})})]}):f==="staff"?_.jsxs(_.Fragment,{children:[_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/AdminDashboard",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Dashboard"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Messages"})})]}):f==="user"?_.jsxs(_.Fragment,{children:[_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Home"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/About",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"About Us"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/Services",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Services"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/OurCommitment",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Our Commitment"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/TrackPackage",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Track Package"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/Messages",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Chat with Admin"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/Contact",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Contact Us!"})})]}):_.jsxs(_.Fragment,{children:[_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Home"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/About",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"About Us"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/Services",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Services"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/OurCommitment",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Our Commitment"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/TrackPackage",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Track Package"})}),_.jsx("li",{className:"w-full",children:_.jsx(Ct,{to:"/Contact",onClick:()=>e(!1),className:({isActive:M})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${t&&M?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Contact Us!"})})]}),_.jsxs("li",{className:"bg-white mt-auto pt-4 border-t w-full text-center text-gray-500 text-sm",children:["© 2022 Frances Logistics. All rights reserved.",_.jsx("img",{src:qm,className:"mx-auto h-15 w-auto mt-2",alt:"FCL"})]})]}),_.jsx(M3,{show:v,onHide:()=>E(!1)})]})]})})};function Q3(t){return xr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(t)}function X3(t){return xr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM224 448a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM304 64L80 64l0 320 224 0 0-320z"},child:[]}]})(t)}function Z3(t){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(t)}function J3(t){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(t)}const eU=()=>_.jsxs("footer",{className:"bg-white text-black py-10 border-t",children:[_.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col items-center md:flex-row md:justify-between text-center md:text-left",children:[_.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[_.jsx("div",{className:"flex justify-center md:justify-start w-full",children:_.jsx("img",{src:qm,className:"h-18 w-auto mb-2",alt:"FCL"})}),_.jsx("p",{className:"lexend mt-2 font-semibold text-center md:text-left",children:"Connecting countries one movement at a time."})]}),_.jsxs("div",{className:"lexend border-t md:border-t-0 flex flex-col items-center md:items-start mt-6 pt-5 md:!pt-0 md:mt-0",children:[_.jsx("h2",{className:"text-xl font-bold",children:"Contact Us"}),_.jsxs("p",{className:"flex items-center space-x-2 ",children:[_.jsx(Z3,{className:"text-lg h-4"}),_.jsx("span",{className:"ml-1",children:"+46 230 2842"})]}),_.jsxs("p",{className:"flex items-center space-x-2",children:[_.jsx(X3,{className:"text-lg"}),_.jsx("span",{className:"ml-1",children:"+63 912 345 6789"})]}),_.jsxs("p",{className:"flex items-center space-x-2",children:[_.jsx(J3,{className:"text-lg"}),_.jsx("span",{className:"ml-2",children:"cessamoroso@francesslogistics.com"})]}),_.jsxs("p",{className:"flex items-left md:!items-start space-x-2",children:[_.jsx(Q3,{className:"text-lg"}),_.jsx("span",{className:"ml-2 text-center md:!text-left",children:"FAJC Building 2/F Unit-4 Buhay na Tubig, Imus, Cavite, Philippines"})]})]})]}),_.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-sm",children:["© ",new Date().getFullYear()," Francess Logistic Services OPC. All rights reserved."]})]}),tU="/cargofran/assets/background-jpV12ZVP.mp4",nU=()=>_.jsxs("div",{className:"relative w-full min-h-screen overflow-hidden",children:[_.jsxs("video",{className:"absolute inset-0 w-full h-full object-cover -z-10",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[_.jsx("source",{src:tU,type:"video/mp4"}),"Your browser does not support the video tag."]}),_.jsxs("div",{className:"relative flex flex-col pt-35 text-white px-6 text-center min-h-screen",children:[_.jsx("div",{className:"absolute inset-0 bg-cyan-300 opacity-30"}),_.jsx("h1",{className:"oswald drop-shadow-[2px_2px_2px_rgba(0,0,0,1)] relative !text-5xl md:!text-6xl font-bold",children:"CONNECTING COUNTRIES ONE MOVEMENT AT A TIME"}),_.jsx("p",{className:"kanit-thin drop-shadow-[2px_2px_2px_rgba(0,0,0,1)] relative mt-4 !text-lg md:!text-2xl",children:"Experience Seamless Freight and Logistics Services with FLS-OPC"})]})]}),j0=C.createContext({});function U0(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const B0=typeof window<"u",d1=B0?C.useLayoutEffect:C.useEffect,cg=C.createContext(null),F0=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class iU extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=i instanceof HTMLElement&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sU({children:t,isPresent:e,anchorX:n}){const i=C.useId(),a=C.useRef(null),l=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=C.useContext(F0);return C.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:v,right:E}=l.current;if(e||!a.current||!h||!f)return;const w=n==="left"?`left: ${v}`:`right: ${E}`;a.current.dataset.motionPopId=i;const R=document.createElement("style");return u&&(R.nonce=u),document.head.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(R)}},[e]),_.jsx(iU,{isPresent:e,childRef:a,sizeRef:l,children:C.cloneElement(t,{ref:a})})}const rU=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h})=>{const f=U0(aU),m=C.useId(),v=C.useCallback(w=>{f.set(w,!0);for(const R of f.values())if(!R)return;i&&i()},[f,i]),E=C.useMemo(()=>({id:m,initial:e,isPresent:n,custom:a,onExitComplete:v,register:w=>(f.set(w,!1),()=>f.delete(w))}),l?[Math.random(),v]:[n,v]);return C.useMemo(()=>{f.forEach((w,R)=>f.set(R,!1))},[n]),C.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),u==="popLayout"&&(t=_.jsx(sU,{isPresent:n,anchorX:h,children:t})),_.jsx(cg.Provider,{value:E,children:t})};function aU(){return new Map}function m1(t=!0){const e=C.useContext(cg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=C.useId();C.useEffect(()=>{if(t)return a(l)},[t]);const u=C.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const Rm=t=>t.key||"";function RA(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const oU=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left"})=>{const[f,m]=m1(u),v=C.useMemo(()=>RA(t),[t]),E=u&&!f?[]:v.map(Rm),w=C.useRef(!0),R=C.useRef(v),k=U0(()=>new Map),[H,j]=C.useState(v),[M,q]=C.useState(v);d1(()=>{w.current=!1,R.current=v;for(let te=0;te<M.length;te++){const Q=Rm(M[te]);E.includes(Q)?k.delete(Q):k.get(Q)!==!0&&k.set(Q,!1)}},[M,E.length,E.join("-")]);const Y=[];if(v!==H){let te=[...v];for(let Q=0;Q<M.length;Q++){const B=M[Q],D=Rm(B);E.includes(D)||(te.splice(Q,0,B),Y.push(B))}return l==="wait"&&Y.length&&(te=Y),q(RA(te)),j(v),null}const{forceRender:re}=C.useContext(j0);return _.jsx(_.Fragment,{children:M.map(te=>{const Q=Rm(te),B=u&&!f?!1:v===M||E.includes(Q),D=()=>{if(k.has(Q))k.set(Q,!0);else return;let N=!0;k.forEach(U=>{U||(N=!1)}),N&&(re==null||re(),q(R.current),u&&(m==null||m()),i&&i())};return _.jsx(rU,{isPresent:B,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:B?void 0:D,anchorX:h,children:te},Q)})})};function z0(t,e){t.indexOf(e)===-1&&t.push(e)}function H0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s=t=>t;let p1=_s;const lU={useManualTiming:!1};function q0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class $0{constructor(){this.subscriptions=[]}add(e){return z0(this.subscriptions,e),()=>H0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ya=t=>t*1e3,Wa=t=>t/1e3;function g1(t,e){return e?t*(1e3/e):0}const uU=q0(()=>window.ScrollTimeline!==void 0);class cU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(a=>{if(uU()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{i.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hU extends cU{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function G0(t,e){return t?t[e]||t.default||t:void 0}const s_=2e4;function y1(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<s_;)e+=n,i=t.next(e);return e>=s_?1/0:e}function K0(t){return typeof t=="function"}function IA(t,e){t.timeline=e,t.onfinish=null}const Y0=t=>Array.isArray(t)&&typeof t[0]=="number",fU={linearEasing:void 0};function dU(t,e){const n=q0(t);return()=>{var i;return(i=fU[e])!==null&&i!==void 0?i:n()}}const Tp=dU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),v1=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=t(Gc(0,a-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function _1(t){return!!(typeof t=="function"&&Tp()||!t||typeof t=="string"&&(t in r_||Tp())||Y0(t)||Array.isArray(t)&&t.every(_1))}const vf=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,r_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vf([0,.65,.55,1]),circOut:vf([.55,0,1,.45]),backIn:vf([.31,.01,.66,-.59]),backOut:vf([.33,1.53,.69,.99])};function b1(t,e){if(t)return typeof t=="function"&&Tp()?v1(t,e):Y0(t)?vf(t):Array.isArray(t)?t.map(n=>b1(n,e)||r_.easeOut):r_[t]}const Im=["read","resolveKeyframes","update","preRender","render","postRender"],NA={value:null};function mU(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function m(E){u.has(E)&&(v.schedule(E),t()),f++,E(h)}const v={schedule:(E,w=!1,R=!1)=>{const H=R&&a?n:i;return w&&u.add(E),H.has(E)||H.add(E),E},cancel:E=>{i.delete(E),u.delete(E)},process:E=>{if(h=E,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),e&&NA.value&&NA.value.frameloop[e].push(f),f=0,n.clear(),a=!1,l&&(l=!1,v.process(E))}};return v}const pU=40;function E1(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Im.reduce((M,q)=>(M[q]=mU(l,e?q:void 0),M),{}),{read:h,resolveKeyframes:f,update:m,preRender:v,render:E,postRender:w}=u,R=()=>{const M=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(M-a.timestamp,pU),1),a.timestamp=M,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),v.process(a),E.process(a),w.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(R))},k=()=>{n=!0,i=!0,a.isProcessing||t(R)};return{schedule:Im.reduce((M,q)=>{const Y=u[q];return M[q]=(re,te=!1,Q=!1)=>(n||k(),Y.schedule(re,te,Q)),M},{}),cancel:M=>{for(let q=0;q<Im.length;q++)u[Im[q]].cancel(M)},state:a,steps:u}}const{schedule:Gt,cancel:gl,state:hi,steps:dv}=E1(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0),{schedule:W0}=E1(queueMicrotask,!1);let $m;function gU(){$m=void 0}const na={now:()=>($m===void 0&&na.set(hi.isProcessing||lU.useManualTiming?hi.timestamp:performance.now()),$m),set:t=>{$m=t,queueMicrotask(gU)}},vr={x:!1,y:!1};function T1(){return vr.x||vr.y}function yU(t){return t==="x"||t==="y"?vr[t]?null:(vr[t]=!0,()=>{vr[t]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}function vU(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const l=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function w1(t,e){const n=vU(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function DA(t){return!(t.pointerType==="touch"||T1())}function _U(t,e,n={}){const[i,a,l]=w1(t,n),u=h=>{if(!DA(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const v=E=>{DA(E)&&(m(E),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}function OA(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const A1=(t,e)=>e?t===e?!0:A1(t,e.parentElement):!1,Q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EU(t){return bU.has(t.tagName)||t.tabIndex!==-1}const _f=new WeakSet;function kA(t){return e=>{e.key==="Enter"&&t(e)}}function mv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TU=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=kA(()=>{if(_f.has(n))return;mv(n,"down");const a=kA(()=>{mv(n,"up")}),l=()=>mv(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function PA(t){return Q0(t)&&!T1()}function wU(t,e,n={}){const[i,a,l]=w1(t,n),u=h=>{const f=h.currentTarget;if(!f||!PA(h)||_f.has(f))return;_f.add(f),OA(h,"set");const m=e(f,h),v=(R,k)=>{f.removeEventListener("pointerup",E),f.removeEventListener("pointercancel",w),OA(R,"release"),!(!PA(R)||!_f.has(f))&&(_f.delete(f),typeof m=="function"&&m(R,{success:k}))},E=R=>{(R.isTrusted?AU(R,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(R,!1):v(R,!(f instanceof Element)||A1(f,R.target))},w=R=>{v(R,!1)};f.addEventListener("pointerup",E,a),f.addEventListener("pointercancel",w,a),f.addEventListener("lostpointercapture",w,a)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let f=!1;h instanceof HTMLElement&&(f=!0,!EU(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,a),f&&h.addEventListener("focus",m=>TU(m,a),a)}),l}function AU(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const MA=30,SU=t=>!isNaN(parseFloat(t));class xU{constructor(e,n={}){this.version="12.6.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const l=na.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=na.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $0);const i=this.events[e].add(n);return e==="change"?()=>{i(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=na.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MA);return g1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hf(t,e){return new xU(t,e)}const S1=C.createContext({strict:!1}),VA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kc={};for(const t in VA)Kc[t]={isEnabled:e=>VA[t].some(n=>!!e[n])};function CU(t){for(const e in t)Kc[e]={...Kc[e],...t[e]}}const RU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||RU.has(t)}let x1=t=>!wp(t);function IU(t){t&&(x1=e=>e.startsWith("on")?!wp(e):t(e))}try{IU(require("@emotion/is-prop-valid").default)}catch{}function NU(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(x1(a)||n===!0&&wp(a)||!e&&!wp(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function DU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const hg=C.createContext({});function fg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qf(t){return typeof t=="string"||Array.isArray(t)}const X0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Z0=["initial",...X0];function dg(t){return fg(t.animate)||Z0.some(e=>qf(t[e]))}function C1(t){return!!(dg(t)||t.variants)}function OU(t,e){if(dg(t)){const{initial:n,animate:i}=t;return{initial:n===!1||qf(n)?n:void 0,animate:qf(i)?i:void 0}}return t.inherit!==!1?e:{}}function kU(t){const{initial:e,animate:n}=OU(t,C.useContext(hg));return C.useMemo(()=>({initial:e,animate:n}),[LA(e),LA(n)])}function LA(t){return Array.isArray(t)?t.join(" "):t}const PU=Symbol.for("motionComponentSymbol");function Rc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MU(t,e,n){return C.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Rc(n)&&(n.current=i))},[e])}const J0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VU="framerAppearId",R1="data-"+J0(VU),I1=C.createContext({});function LU(t,e,n,i,a){var l,u;const{visualElement:h}=C.useContext(hg),f=C.useContext(S1),m=C.useContext(cg),v=C.useContext(F0).reducedMotion,E=C.useRef(null);i=i||f.renderer,!E.current&&i&&(E.current=i(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const w=E.current,R=C.useContext(I1);w&&!w.projection&&a&&(w.type==="html"||w.type==="svg")&&jU(E.current,n,a,R);const k=C.useRef(!1);C.useInsertionEffect(()=>{w&&k.current&&w.update(n,m)});const H=n[R1],j=C.useRef(!!H&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,H))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,H)));return d1(()=>{w&&(k.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),W0.render(w.render),j.current&&w.animationState&&w.animationState.animateChanges())}),C.useEffect(()=>{w&&(!j.current&&w.animationState&&w.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,H)}),j.current=!1))}),w}function jU(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:N1(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Rc(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:m})}function N1(t){if(t)return t.options.allowProjection!==!1?t.projection:N1(t.parent)}function UU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:a}){var l,u;t&&CU(t);function h(m,v){let E;const w={...C.useContext(F0),...m,layoutId:BU(m)},{isStatic:R}=w,k=kU(m),H=i(m,R);if(!R&&B0){FU();const j=zU(w);E=j.MeasureLayout,k.visualElement=LU(a,H,w,e,j.ProjectionNode)}return _.jsxs(hg.Provider,{value:k,children:[E&&k.visualElement?_.jsx(E,{visualElement:k.visualElement,...w}):null,n(a,m,MU(H,k.visualElement,v),H,R,k.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${(u=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&u!==void 0?u:""})`}`;const f=C.forwardRef(h);return f[PU]=a,f}function BU({layoutId:t}){const e=C.useContext(j0).id;return e&&t!==void 0?e+"-"+t:t}function FU(t,e){C.useContext(S1).strict}function zU(t){const{drag:e,layout:n}=Kc;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const D1=t=>e=>typeof e=="string"&&e.startsWith(t),eb=D1("--"),HU=D1("var(--"),tb=t=>HU(t)?qU.test(t.split("/*")[0].trim()):!1,qU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$f={};function $U(t){for(const e in t)$f[e]=t[e],eb(e)&&($f[e].isCSSVariable=!0)}const ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Su=new Set(ah);function O1(t,{layout:e,layoutId:n}){return Su.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$f[t]||t==="opacity")}const Ai=t=>!!(t&&t.getVelocity),k1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,io=(t,e,n)=>n>e?e:n<t?t:n,oh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gf={...oh,transform:t=>io(0,1,t)},Nm={...oh,default:1},cd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zo=cd("deg"),ia=cd("%"),Ge=cd("px"),GU=cd("vh"),KU=cd("vw"),jA={...ia,parse:t=>ia.parse(t)/100,transform:t=>ia.transform(t*100)},YU={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge},WU={rotate:Zo,rotateX:Zo,rotateY:Zo,rotateZ:Zo,scale:Nm,scaleX:Nm,scaleY:Nm,scaleZ:Nm,skew:Zo,skewX:Zo,skewY:Zo,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:Gf,originX:jA,originY:jA,originZ:Ge},UA={...oh,transform:Math.round},nb={...YU,...WU,zIndex:UA,size:Ge,fillOpacity:Gf,strokeOpacity:Gf,numOctaves:UA},QU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XU=ah.length;function ZU(t,e,n){let i="",a=!0;for(let l=0;l<XU;l++){const u=ah[l],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const m=k1(h,nb[u]);if(!f){a=!1;const v=QU[u]||u;i+=`${v}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function ib(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const f in e){const m=e[f];if(Su.has(f)){u=!0;continue}else if(eb(f)){a[f]=m;continue}else{const v=k1(m,nb[f]);f.startsWith("origin")?(h=!0,l[f]=v):i[f]=v}}if(e.transform||(u||n?i.transform=ZU(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${f} ${m} ${v}`}}const sb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P1(t,e,n){for(const i in e)!Ai(e[i])&&!O1(i,n)&&(t[i]=e[i])}function JU({transformTemplate:t},e){return C.useMemo(()=>{const n=sb();return ib(n,e,t),Object.assign({},n.vars,n.style)},[e])}function e5(t,e){const n=t.style||{},i={};return P1(i,n,t),Object.assign(i,JU(t,e)),i}function t5(t,e){const n={},i=e5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const n5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rb(t){return typeof t!="string"||t.includes("-")?!1:!!(n5.indexOf(t)>-1||/[A-Z]/u.test(t))}const i5={offset:"stroke-dashoffset",array:"stroke-dasharray"},s5={offset:"strokeDashoffset",array:"strokeDasharray"};function r5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?i5:s5;t[l.offset]=Ge.transform(-i);const u=Ge.transform(e),h=Ge.transform(n);t[l.array]=`${u} ${h}`}function BA(t,e,n){return typeof t=="string"?t:Ge.transform(e+n*t)}function a5(t,e,n){const i=BA(e,t.x,t.width),a=BA(n,t.y,t.height);return`${i} ${a}`}function ab(t,{attrX:e,attrY:n,attrScale:i,originX:a,originY:l,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...m},v,E){if(ib(t,m,E),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:R,dimensions:k}=t;w.transform&&(k&&(R.transform=w.transform),delete w.transform),k&&(a!==void 0||l!==void 0||R.transform)&&(R.transformOrigin=a5(k,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),u!==void 0&&r5(w,u,h,f,!1)}const M1=()=>({...sb(),attrs:{}}),ob=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o5(t,e,n,i){const a=C.useMemo(()=>{const l=M1();return ab(l,e,ob(i),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};P1(l,t.style,t),a.style={...l,...a.style}}return a}function l5(t=!1){return(n,i,a,{latestValues:l},u)=>{const f=(rb(n)?o5:t5)(i,l,u,n),m=NU(i,typeof n=="string",t),v=n!==C.Fragment?{...m,...f,ref:a}:{},{children:E}=i,w=C.useMemo(()=>Ai(E)?E.get():E,[E]);return C.createElement(n,{...v,children:w})}}function FA(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function lb(t,e,n,i){if(typeof e=="function"){const[a,l]=FA(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=FA(i);e=e(n!==void 0?n:t.custom,a,l)}return e}const a_=t=>Array.isArray(t),u5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),c5=t=>a_(t)?t[t.length-1]||0:t;function Gm(t){const e=Ai(t)?t.get():t;return u5(e)?e.toValue():e}function h5({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,a,l){const u={latestValues:f5(i,a,l,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const V1=t=>(e,n)=>{const i=C.useContext(hg),a=C.useContext(cg),l=()=>h5(t,e,i,a);return n?l():U0(l)};function f5(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=Gm(l[w]);let{initial:u,animate:h}=t;const f=dg(t),m=C1(t);e&&m&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const E=v?h:u;if(E&&typeof E!="boolean"&&!fg(E)){const w=Array.isArray(E)?E:[E];for(let R=0;R<w.length;R++){const k=lb(t,w[R]);if(k){const{transitionEnd:H,transition:j,...M}=k;for(const q in M){let Y=M[q];if(Array.isArray(Y)){const re=v?Y.length-1:0;Y=Y[re]}Y!==null&&(a[q]=Y)}for(const q in H)a[q]=H[q]}}}return a}function ub(t,e,n){var i;const{style:a}=t,l={};for(const u in a)(Ai(a[u])||e.style&&Ai(e.style[u])||O1(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=a[u]);return l}const d5={useVisualState:V1({scrapeMotionValuesFromProps:ub,createRenderState:sb})};function L1(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function j1(t,{style:e,vars:n},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}const U1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B1(t,e,n,i){j1(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(U1.has(a)?a:J0(a),e.attrs[a])}function F1(t,e,n){const i=ub(t,e,n);for(const a in t)if(Ai(t[a])||Ai(e[a])){const l=ah.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const zA=["x","y","width","height","cx","cy","r"],m5={useVisualState:V1({scrapeMotionValuesFromProps:F1,createRenderState:M1,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:a})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in a)if(Su.has(h)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let h=0;h<zA.length;h++){const f=zA[h];t[f]!==e[f]&&(u=!0)}u&&Gt.read(()=>{L1(n,i),Gt.render(()=>{ab(i,a,ob(n.tagName),t.transformTemplate),B1(n,i)})})}})};function p5(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...rb(i)?m5:d5,preloadedFeatures:t,useRender:l5(a),createVisualElement:e,Component:i};return UU(u)}}function Kf(t,e,n){const i=t.getProps();return lb(i,e,n!==void 0?n:i.custom,t)}const z1=new Set(["width","height","top","left","right","bottom",...ah]);function g5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hf(n))}function y5(t,e){const n=Kf(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const h=c5(l[u]);g5(t,u,h)}}function v5(t){return!!(Ai(t)&&t.add)}function o_(t,e){const n=t.getValue("willChange");if(v5(n))return n.add(e)}function H1(t){return t.props[R1]}const q1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_5=1e-7,b5=12;function E5(t,e,n,i,a){let l,u,h=0;do u=e+(n-e)/2,l=q1(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>_5&&++h<b5);return u}function hd(t,e,n,i){if(t===e&&n===i)return _s;const a=l=>E5(l,0,1,t,n);return l=>l===0||l===1?l:q1(a(l),e,i)}const $1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,G1=t=>e=>1-t(1-e),K1=hd(.33,1.53,.69,.99),cb=G1(K1),Y1=$1(cb),W1=t=>(t*=2)<1?.5*cb(t):.5*(2-Math.pow(2,-10*(t-1))),hb=t=>1-Math.sin(Math.acos(t)),Q1=G1(hb),X1=$1(hb),Z1=t=>/^0[^.\s]+$/u.test(t);function T5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Z1(t):!0}const Sf=t=>Math.round(t*1e5)/1e5,fb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w5(t){return t==null}const A5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,db=(t,e)=>n=>!!(typeof n=="string"&&A5.test(n)&&n.startsWith(t)||e&&!w5(n)&&Object.prototype.hasOwnProperty.call(n,e)),J1=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(fb);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},S5=t=>io(0,255,t),pv={...oh,transform:t=>Math.round(S5(t))},fu={test:db("rgb","red"),parse:J1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+pv.transform(t)+", "+pv.transform(e)+", "+pv.transform(n)+", "+Sf(Gf.transform(i))+")"};function x5(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const l_={test:db("#"),parse:x5,transform:fu.transform},Ic={test:db("hsl","hue"),parse:J1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ia.transform(Sf(e))+", "+ia.transform(Sf(n))+", "+Sf(Gf.transform(i))+")"},Ei={test:t=>fu.test(t)||l_.test(t)||Ic.test(t),parse:t=>fu.test(t)?fu.parse(t):Ic.test(t)?Ic.parse(t):l_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fu.transform(t):Ic.transform(t)},C5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(C5))===null||n===void 0?void 0:n.length)||0)>0}const eI="number",tI="color",I5="var",N5="var(",HA="${}",D5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yf(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(D5,f=>(Ei.test(f)?(i.color.push(l),a.push(tI),n.push(Ei.parse(f))):f.startsWith(N5)?(i.var.push(l),a.push(I5),n.push(f)):(i.number.push(l),a.push(eI),n.push(parseFloat(f))),++l,HA)).split(HA);return{values:n,split:h,indexes:i,types:a}}function nI(t){return Yf(t).values}function iI(t){const{split:e,types:n}=Yf(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===eI?l+=Sf(a[u]):h===tI?l+=Ei.transform(a[u]):l+=a[u]}return l}}const O5=t=>typeof t=="number"?0:t;function k5(t){const e=nI(t);return iI(t)(e.map(O5))}const yl={test:R5,parse:nI,createTransformer:iI,getAnimatableNone:k5},P5=new Set(["brightness","contrast","saturate","opacity"]);function M5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(fb)||[];if(!i)return t;const a=n.replace(i,"");let l=P5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const V5=/\b([a-z-]*)\(.*?\)/gu,u_={...yl,getAnimatableNone:t=>{const e=t.match(V5);return e?e.map(M5).join(" "):t}},L5={...nb,color:Ei,backgroundColor:Ei,outlineColor:Ei,fill:Ei,stroke:Ei,borderColor:Ei,borderTopColor:Ei,borderRightColor:Ei,borderBottomColor:Ei,borderLeftColor:Ei,filter:u_,WebkitFilter:u_},sI=t=>L5[t];function rI(t,e){let n=sI(t);return n!==u_&&(n=yl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const j5=new Set(["auto","none","0"]);function U5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!j5.has(l)&&Yf(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=rI(n,a)}const du=t=>t*180/Math.PI,c_=t=>{const e=du(Math.atan2(t[1],t[0]));return h_(e)},B5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:c_,rotateZ:c_,skewX:t=>du(Math.atan(t[1])),skewY:t=>du(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},h_=t=>(t=t%360,t<0&&(t+=360),t),qA=c_,$A=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),F5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$A,scaleY:GA,scale:t=>($A(t)+GA(t))/2,rotateX:t=>h_(du(Math.atan2(t[6],t[5]))),rotateY:t=>h_(du(Math.atan2(-t[2],t[0]))),rotateZ:qA,rotate:qA,skewX:t=>du(Math.atan(t[4])),skewY:t=>du(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function KA(t){return t.includes("scale")?1:0}function f_(t,e){if(!t||t==="none")return KA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=F5,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=B5,a=h}if(!a)return KA(e);const l=i[e],u=a[1].split(",").map(H5);return typeof l=="function"?l(u):u[l]}const z5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return f_(n,e)};function H5(t){return parseFloat(t.trim())}const YA=t=>t===oh||t===Ge,q5=new Set(["x","y","z"]),$5=ah.filter(t=>!q5.has(t));function G5(t){const e=[];return $5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Yc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>f_(e,"x"),y:(t,{transform:e})=>f_(e,"y")};Yc.translateX=Yc.x;Yc.translateY=Yc.y;const pu=new Set;let d_=!1,m_=!1;function aI(){if(m_){const t=Array.from(pu).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=G5(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{var h;(h=i.getValue(l))===null||h===void 0||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}m_=!1,d_=!1,pu.forEach(t=>t.complete()),pu.clear()}function oI(){pu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(m_=!0)})}function K5(){oI(),aI()}class mb{constructor(e,n,i,a,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(pu.add(this),d_||(d_=!0,Gt.read(oI),Gt.resolveKeyframes(aI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const f=i.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),pu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,pu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Y5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W5(t){const e=Y5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function uI(t,e,n=1){const[i,a]=W5(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return lI(u)?parseFloat(u):u}return tb(a)?uI(a,e,n+1):a}const cI=t=>e=>e.test(t),Q5={test:t=>t==="auto",parse:t=>t},hI=[oh,Ge,ia,Zo,KU,GU,Q5],WA=t=>hI.find(cI(t));class fI extends mb{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),tb(m))){const v=uI(m,n.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!z1.has(i)||e.length!==2)return;const[a,l]=e,u=WA(a),h=WA(l);if(u!==h)if(YA(u)&&YA(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)T5(e[a])&&i.push(a);i.length&&U5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yc[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=a.length-1,h=a[u];a[u]=Yc[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const QA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yl.test(t)||t==="0")&&!t.startsWith("url("));function X5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Z5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=QA(a,e),h=QA(l,e);return!u||!h?!1:X5(t)||(n==="spring"||K0(n))&&i}const J5=t=>t!==null;function mg(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(J5),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const e6=40;class dI{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=na.now(),this.options={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>e6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&K5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=na.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:l,delay:u,onComplete:h,onUpdate:f,isGenerator:m}=this.options;if(!m&&!Z5(e,i,a,l))if(u)this.options.duration=0;else{f&&f(mg(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,n);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...v},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const sn=(t,e,n)=>t+(e-t)*n;function gv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function t6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=gv(f,h,t+1/3),l=gv(f,h,t),u=gv(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Ap(t,e){return n=>n>0?e:t}const yv=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},n6=[l_,fu,Ic],i6=t=>n6.find(e=>e.test(t));function XA(t){const e=i6(t);if(!e)return!1;let n=e.parse(t);return e===Ic&&(n=t6(n)),n}const ZA=(t,e)=>{const n=XA(t),i=XA(e);if(!n||!i)return Ap(t,e);const a={...n};return l=>(a.red=yv(n.red,i.red,l),a.green=yv(n.green,i.green,l),a.blue=yv(n.blue,i.blue,l),a.alpha=sn(n.alpha,i.alpha,l),fu.transform(a))},s6=(t,e)=>n=>e(t(n)),fd=(...t)=>t.reduce(s6),p_=new Set(["none","hidden"]);function r6(t,e){return p_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function a6(t,e){return n=>sn(t,e,n)}function pb(t){return typeof t=="number"?a6:typeof t=="string"?tb(t)?Ap:Ei.test(t)?ZA:u6:Array.isArray(t)?mI:typeof t=="object"?Ei.test(t)?ZA:o6:Ap}function mI(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>pb(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function o6(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=pb(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function l6(t,e){var n;const i=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],h=t.indexes[u][a[u]],f=(n=t.values[h])!==null&&n!==void 0?n:0;i[l]=f,a[u]++}return i}const u6=(t,e)=>{const n=yl.createTransformer(e),i=Yf(t),a=Yf(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?p_.has(t)&&!a.values.length||p_.has(e)&&!i.values.length?r6(t,e):fd(mI(l6(i,a),a.values),n):Ap(t,e)};function pI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?sn(t,e,n):pb(t)(t,e)}const c6=5;function gI(t,e,n){const i=Math.max(e-c6,0);return g1(n-t(i),e-i)}const pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},JA=.001;function h6({duration:t=pn.duration,bounce:e=pn.bounce,velocity:n=pn.velocity,mass:i=pn.mass}){let a,l,u=1-e;u=io(pn.minDamping,pn.maxDamping,u),t=io(pn.minDuration,pn.maxDuration,Wa(t)),u<1?(a=m=>{const v=m*u,E=v*t,w=v-n,R=g_(m,u),k=Math.exp(-E);return JA-w/R*k},l=m=>{const E=m*u*t,w=E*n+n,R=Math.pow(u,2)*Math.pow(m,2)*t,k=Math.exp(-E),H=g_(Math.pow(m,2),u);return(-a(m)+JA>0?-1:1)*((w-R)*k)/H}):(a=m=>{const v=Math.exp(-m*t),E=(m-n)*t+1;return-.001+v*E},l=m=>{const v=Math.exp(-m*t),E=(n-m)*(t*t);return v*E});const h=5/t,f=d6(a,l,h);if(t=Ya(t),isNaN(f))return{stiffness:pn.stiffness,damping:pn.damping,duration:t};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const f6=12;function d6(t,e,n){let i=n;for(let a=1;a<f6;a++)i=i-t(i)/e(i);return i}function g_(t,e){return t*Math.sqrt(1-e*e)}const m6=["duration","bounce"],p6=["stiffness","damping","mass"];function eS(t,e){return e.some(n=>t[n]!==void 0)}function g6(t){let e={velocity:pn.velocity,stiffness:pn.stiffness,damping:pn.damping,mass:pn.mass,isResolvedFromDuration:!1,...t};if(!eS(t,p6)&&eS(t,m6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*io(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:pn.mass,stiffness:a,damping:l}}else{const n=h6(t);e={...e,...n,mass:pn.mass},e.isResolvedFromDuration=!0}return e}function yI(t=pn.visualDuration,e=pn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:m,mass:v,duration:E,velocity:w,isResolvedFromDuration:R}=g6({...n,velocity:-Wa(n.velocity||0)}),k=w||0,H=m/(2*Math.sqrt(f*v)),j=u-l,M=Wa(Math.sqrt(f/v)),q=Math.abs(j)<5;i||(i=q?pn.restSpeed.granular:pn.restSpeed.default),a||(a=q?pn.restDelta.granular:pn.restDelta.default);let Y;if(H<1){const te=g_(M,H);Y=Q=>{const B=Math.exp(-H*M*Q);return u-B*((k+H*M*j)/te*Math.sin(te*Q)+j*Math.cos(te*Q))}}else if(H===1)Y=te=>u-Math.exp(-M*te)*(j+(k+M*j)*te);else{const te=M*Math.sqrt(H*H-1);Y=Q=>{const B=Math.exp(-H*M*Q),D=Math.min(te*Q,300);return u-B*((k+H*M*j)*Math.sinh(D)+te*j*Math.cosh(D))/te}}const re={calculatedDuration:R&&E||null,next:te=>{const Q=Y(te);if(R)h.done=te>=E;else{let B=0;H<1&&(B=te===0?Ya(k):gI(Y,te,Q));const D=Math.abs(B)<=i,N=Math.abs(u-Q)<=a;h.done=D&&N}return h.value=h.done?u:Q,h},toString:()=>{const te=Math.min(y1(re),s_),Q=v1(B=>re.next(te*B).value,te,30);return te+"ms "+Q}};return re}function tS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:f,restDelta:m=.5,restSpeed:v}){const E=t[0],w={done:!1,value:E},R=D=>h!==void 0&&D<h||f!==void 0&&D>f,k=D=>h===void 0?f:f===void 0||Math.abs(h-D)<Math.abs(f-D)?h:f;let H=n*e;const j=E+H,M=u===void 0?j:u(j);M!==j&&(H=M-E);const q=D=>-H*Math.exp(-D/i),Y=D=>M+q(D),re=D=>{const N=q(D),U=Y(D);w.done=Math.abs(N)<=m,w.value=w.done?M:U};let te,Q;const B=D=>{R(w.value)&&(te=D,Q=yI({keyframes:[w.value,k(w.value)],velocity:gI(Y,D,w.value),damping:a,stiffness:l,restDelta:m,restSpeed:v}))};return B(0),{calculatedDuration:null,next:D=>{let N=!1;return!Q&&te===void 0&&(N=!0,re(D),B(D)),te!==void 0&&D>=te?Q.next(D-te):(!N&&re(D),w)}}}const y6=hd(.42,0,1,1),v6=hd(0,0,.58,1),vI=hd(.42,0,.58,1),_6=t=>Array.isArray(t)&&typeof t[0]!="number",b6={linear:_s,easeIn:y6,easeInOut:vI,easeOut:v6,circIn:hb,circInOut:X1,circOut:Q1,backIn:cb,backInOut:Y1,backOut:K1,anticipate:W1},nS=t=>{if(Y0(t)){p1(t.length===4);const[e,n,i,a]=t;return hd(e,n,i,a)}else if(typeof t=="string")return b6[t];return t};function E6(t,e,n){const i=[],a=n||pI,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||_s:e;h=fd(f,h)}i.push(h)}return i}function T6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(p1(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=E6(e,i,a),f=h.length,m=v=>{if(u&&v<t[0])return e[0];let E=0;if(f>1)for(;E<t.length-2&&!(v<t[E+1]);E++);const w=Gc(t[E],t[E+1],v);return h[E](w)};return n?v=>m(io(t[0],t[l-1],v)):m}function w6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Gc(0,e,i);t.push(sn(n,1,a))}}function A6(t){const e=[0];return w6(e,t.length-1),e}function S6(t,e){return t.map(n=>n*e)}function x6(t,e){return t.map(()=>e||vI).splice(0,t.length-1)}function Sp({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=_6(i)?i.map(nS):nS(i),l={done:!1,value:e[0]},u=S6(n&&n.length===e.length?n:A6(e),t),h=T6(u,e,{ease:Array.isArray(a)?a:x6(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const C6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Gt.update(e,!0),stop:()=>gl(e),now:()=>hi.isProcessing?hi.timestamp:na.now()}},R6={decay:tS,inertia:tS,tween:Sp,keyframes:Sp,spring:yI},I6=t=>t/100;class gb extends dI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:a,keyframes:l}=this.options,u=(a==null?void 0:a.KeyframeResolver)||mb,h=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(l,h,n,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=this.options,h=K0(n)?n:R6[n]||Sp;let f,m;h!==Sp&&typeof e[0]!="number"&&(f=fd(I6,pI(e[0],e[1])),e=[0,100]);const v=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=y1(v));const{calculatedDuration:E}=v,w=E+a,R=w*(i+1)-a;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:E,resolvedDuration:w,totalDuration:R}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:m,totalDuration:v,resolvedDuration:E}=i;if(this.startTime===null)return l.next(0);const{delay:w,repeat:R,repeatType:k,repeatDelay:H,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-w*(this.speed>=0?1:-1),q=this.speed>=0?M<0:M>v;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Y=this.currentTime,re=l;if(R){const D=Math.min(this.currentTime,v)/E;let N=Math.floor(D),U=D%1;!U&&D>=1&&(U=1),U===1&&N--,N=Math.min(N,R+1),!!(N%2)&&(k==="reverse"?(U=1-U,H&&(U-=H/E)):k==="mirror"&&(re=u)),Y=io(0,1,U)*E}const te=q?{done:!1,value:f[0]}:re.next(Y);h&&(te.value=h(te.value));let{done:Q}=te;!q&&m!==null&&(Q=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return B&&a!==void 0&&(te.value=mg(f,this.options,a)),j&&j(te.value),B&&this.finish(),te}get duration(){const{resolved:e}=this;return e?Wa(e.calculatedDuration):0}get time(){return Wa(this.currentTime)}set time(e){e=Ya(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=C6,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const N6=new Set(["opacity","clipPath","filter","transform"]);function D6(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const v=b1(h,a);return Array.isArray(v)&&(m.easing=v),t.animate(m,{delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const O6=q0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xp=10,k6=2e4;function P6(t){return K0(t.type)||t.type==="spring"||!_1(t.ease)}function M6(t,e){const n=new gb({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const a=[];let l=0;for(;!i.done&&l<k6;)i=n.sample(l),a.push(i.value),l+=xp;return{times:void 0,keyframes:a,duration:l-xp,ease:"linear"}}const _I={anticipate:W1,backInOut:Y1,circInOut:X1};function V6(t){return t in _I}class iS extends dI{constructor(e){super(e);const{name:n,motionValue:i,element:a,keyframes:l}=this.options;this.resolver=new fI(l,(u,h)=>this.onKeyframesResolved(u,h),n,i,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:a,ease:l,type:u,motionValue:h,name:f,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&Tp()&&V6(l)&&(l=_I[l]),P6(this.options)){const{onComplete:E,onUpdate:w,motionValue:R,element:k,...H}=this.options,j=M6(e,H);e=j.keyframes,e.length===1&&(e[1]=e[0]),i=j.duration,a=j.times,l=j.ease,u="keyframes"}const v=D6(h.owner.current,f,e,{...this.options,duration:i,times:a,ease:l});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(IA(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:E}=this.options;h.set(mg(e,this.options,n)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:a,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Wa(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Wa(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ya(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _s;const{animation:i}=n;IA(i,e)}return _s}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:a,type:l,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:E,element:w,...R}=this.options,k=new gb({...R,keyframes:i,duration:a,type:l,ease:u,times:h,isGenerator:!0}),H=Ya(this.time);m.setWithVelocity(k.sample(H-xp).value,k.sample(H).value,xp)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:a,repeatType:l,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=n.owner.getProps();return O6()&&i&&N6.has(i)&&!f&&!m&&!a&&l!=="mirror"&&u!==0&&h!=="inertia"}}const L6={type:"spring",stiffness:500,damping:25,restSpeed:10},j6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),U6={type:"keyframes",duration:.8},B6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F6=(t,{keyframes:e})=>e.length>2?U6:Su.has(t)?t.startsWith("scale")?j6(e[1]):L6:B6;function z6({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:f,elapsed:m,...v}){return!!Object.keys(v).length}const yb=(t,e,n,i={},a,l)=>u=>{const h=G0(i,t)||{},f=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ya(f);let v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};z6(h)||(v={...v,...F6(t,v)}),v.duration&&(v.duration=Ya(v.duration)),v.repeatDelay&&(v.repeatDelay=Ya(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),v.allowFlatten=!h.type&&!h.ease,E&&!l&&e.get()!==void 0){const w=mg(v.keyframes,h);if(w!==void 0)return Gt.update(()=>{v.onUpdate(w),v.onComplete()}),new hU([])}return!l&&iS.supports(v)?new iS(v):new gb(v)};function H6({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function bI(t,e,{delay:n=0,transitionOverride:i,type:a}={}){var l;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...f}=e;i&&(u=i);const m=[],v=a&&t.animationState&&t.animationState.getState()[a];for(const E in f){const w=t.getValue(E,(l=t.latestValues[E])!==null&&l!==void 0?l:null),R=f[E];if(R===void 0||v&&H6(v,E))continue;const k={delay:n,...G0(u||{},E)};let H=!1;if(window.MotionHandoffAnimation){const M=H1(t);if(M){const q=window.MotionHandoffAnimation(M,E,Gt);q!==null&&(k.startTime=q,H=!0)}}o_(t,E),w.start(yb(E,w,R,t.shouldReduceMotion&&z1.has(E)?{type:!1}:k,t,H));const j=w.animation;j&&m.push(j)}return h&&Promise.all(m).then(()=>{Gt.update(()=>{h&&y5(t,h)})}),m}function y_(t,e,n={}){var i;const a=Kf(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const u=a?()=>Promise.all(bI(t,a,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:w}=l;return q6(t,e,v+m,E,w,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,v]=f==="beforeChildren"?[u,h]:[h,u];return m().then(()=>v())}else return Promise.all([u(),h(n.delay)])}function q6(t,e,n=0,i=0,a=1,l){const u=[],h=(t.variantChildren.size-1)*i,f=a===1?(m=0)=>m*i:(m=0)=>h-m*i;return Array.from(t.variantChildren).sort($6).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(y_(m,e,{...l,delay:n+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function $6(t,e){return t.sortNodePosition(e)}function G6(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>y_(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=y_(t,e,n);else{const a=typeof e=="function"?Kf(t,e,n.custom):e;i=Promise.all(bI(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function EI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const K6=Z0.length;function TI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<K6;n++){const i=Z0[n],a=t.props[i];(qf(a)||a===!1)&&(e[i]=a)}return e}const Y6=[...X0].reverse(),W6=X0.length;function Q6(t){return e=>Promise.all(e.map(({animation:n,options:i})=>G6(t,n,i)))}function X6(t){let e=Q6(t),n=sS(),i=!0;const a=f=>(m,v)=>{var E;const w=Kf(t,v,f==="exit"?(E=t.presenceContext)===null||E===void 0?void 0:E.custom:void 0);if(w){const{transition:R,transitionEnd:k,...H}=w;m={...m,...H,...k}}return m};function l(f){e=f(t)}function u(f){const{props:m}=t,v=TI(t.parent)||{},E=[],w=new Set;let R={},k=1/0;for(let j=0;j<W6;j++){const M=Y6[j],q=n[M],Y=m[M]!==void 0?m[M]:v[M],re=qf(Y),te=M===f?q.isActive:null;te===!1&&(k=j);let Q=Y===v[M]&&Y!==m[M]&&re;if(Q&&i&&t.manuallyAnimateOnMount&&(Q=!1),q.protectedKeys={...R},!q.isActive&&te===null||!Y&&!q.prevProp||fg(Y)||typeof Y=="boolean")continue;const B=Z6(q.prevProp,Y);let D=B||M===f&&q.isActive&&!Q&&re||j>k&&re,N=!1;const U=Array.isArray(Y)?Y:[Y];let F=U.reduce(a(M),{});te===!1&&(F={});const{prevResolvedValues:$={}}=q,L={...$,...F},Oe=Ee=>{D=!0,w.has(Ee)&&(N=!0,w.delete(Ee)),q.needsAnimating[Ee]=!0;const ye=t.getValue(Ee);ye&&(ye.liveStyle=!1)};for(const Ee in L){const ye=F[Ee],tt=$[Ee];if(R.hasOwnProperty(Ee))continue;let V=!1;a_(ye)&&a_(tt)?V=!EI(ye,tt):V=ye!==tt,V?ye!=null?Oe(Ee):w.add(Ee):ye!==void 0&&w.has(Ee)?Oe(Ee):q.protectedKeys[Ee]=!0}q.prevProp=Y,q.prevResolvedValues=F,q.isActive&&(R={...R,...F}),i&&t.blockInitialAnimation&&(D=!1),D&&(!(Q&&B)||N)&&E.push(...U.map(Ee=>({animation:Ee,options:{type:M}})))}if(w.size){const j={};if(typeof m.initial!="boolean"){const M=Kf(t,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(j.transition=M.transition)}w.forEach(M=>{const q=t.getBaseTarget(M),Y=t.getValue(M);Y&&(Y.liveStyle=!0),j[M]=q??null}),E.push({animation:j})}let H=!!E.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(H=!1),i=!1,H?e(E):Promise.resolve()}function h(f,m){var v;if(n[f].isActive===m)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(w=>{var R;return(R=w.animationState)===null||R===void 0?void 0:R.setActive(f,m)}),n[f].isActive=m;const E=u(f);for(const w in n)n[w].protectedKeys={};return E}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=sS(),i=!0}}}function Z6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EI(e,t):!1}function iu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sS(){return{animate:iu(!0),whileInView:iu(),whileHover:iu(),whileTap:iu(),whileDrag:iu(),whileFocus:iu(),exit:iu()}}class Tl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J6 extends Tl{constructor(e){super(e),e.animationState||(e.animationState=X6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let e9=0;class t9 extends Tl{constructor(){super(...arguments),this.id=e9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const n9={animation:{Feature:J6},exit:{Feature:t9}};function Wf(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function dd(t){return{point:{x:t.pageX,y:t.pageY}}}const i9=t=>e=>Q0(e)&&t(e,dd(e));function xf(t,e,n,i){return Wf(t,e,i9(n),i)}function wI({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function s9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function r9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const AI=1e-4,a9=1-AI,o9=1+AI,SI=.01,l9=0-SI,u9=0+SI;function Bi(t){return t.max-t.min}function c9(t,e,n){return Math.abs(t-e)<=n}function rS(t,e,n,i=.5){t.origin=i,t.originPoint=sn(e.min,e.max,t.origin),t.scale=Bi(n)/Bi(e),t.translate=sn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=a9&&t.scale<=o9||isNaN(t.scale))&&(t.scale=1),(t.translate>=l9&&t.translate<=u9||isNaN(t.translate))&&(t.translate=0)}function Cf(t,e,n,i){rS(t.x,e.x,n.x,i?i.originX:void 0),rS(t.y,e.y,n.y,i?i.originY:void 0)}function aS(t,e,n){t.min=n.min+e.min,t.max=t.min+Bi(e)}function h9(t,e,n){aS(t.x,e.x,n.x),aS(t.y,e.y,n.y)}function oS(t,e,n){t.min=e.min-n.min,t.max=t.min+Bi(e)}function Rf(t,e,n){oS(t.x,e.x,n.x),oS(t.y,e.y,n.y)}const lS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nc=()=>({x:lS(),y:lS()}),uS=()=>({min:0,max:0}),Tn=()=>({x:uS(),y:uS()});function qs(t){return[t("x"),t("y")]}function vv(t){return t===void 0||t===1}function v_({scale:t,scaleX:e,scaleY:n}){return!vv(t)||!vv(e)||!vv(n)}function au(t){return v_(t)||xI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xI(t){return cS(t.x)||cS(t.y)}function cS(t){return t&&t!=="0%"}function Cp(t,e,n){const i=t-n,a=e*i;return n+a}function hS(t,e,n,i,a){return a!==void 0&&(t=Cp(t,a,i)),Cp(t,n,i)+e}function __(t,e=0,n=1,i,a){t.min=hS(t.min,e,n,i,a),t.max=hS(t.max,e,n,i,a)}function CI(t,{x:e,y:n}){__(t.x,e.translate,e.scale,e.originPoint),__(t.y,n.translate,n.scale,n.originPoint)}const fS=.999999999999,dS=1.0000000000001;function f9(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oc(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,CI(t,u)),i&&au(l.latestValues)&&Oc(t,l.latestValues))}e.x<dS&&e.x>fS&&(e.x=1),e.y<dS&&e.y>fS&&(e.y=1)}function Dc(t,e){t.min=t.min+e,t.max=t.max+e}function mS(t,e,n,i,a=.5){const l=sn(t.min,t.max,a);__(t,e,n,l,i)}function Oc(t,e){mS(t.x,e.x,e.scaleX,e.scale,e.originX),mS(t.y,e.y,e.scaleY,e.scale,e.originY)}function RI(t,e){return wI(r9(t.getBoundingClientRect(),e))}function d9(t,e,n){const i=RI(t,n),{scroll:a}=e;return a&&(Dc(i.x,a.offset.x),Dc(i.y,a.offset.y)),i}const II=({current:t})=>t?t.ownerDocument.defaultView:null,pS=(t,e)=>Math.abs(t-e);function m9(t,e){const n=pS(t.x,e.x),i=pS(t.y,e.y);return Math.sqrt(n**2+i**2)}class NI{constructor(e,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=bv(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,R=m9(E.offset,{x:0,y:0})>=3;if(!w&&!R)return;const{point:k}=E,{timestamp:H}=hi;this.history.push({...k,timestamp:H});const{onStart:j,onMove:M}=this.handlers;w||(j&&j(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,E)},this.handlePointerMove=(E,w)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=_v(w,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(E,w)=>{this.end();const{onEnd:R,onSessionEnd:k,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=bv(E.type==="pointercancel"?this.lastMoveEventInfo:_v(w,this.transformPagePoint),this.history);this.startEvent&&R&&R(E,j),k&&k(E,j)},!Q0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const u=dd(e),h=_v(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=hi;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=n;v&&v(e,bv(h,this.history)),this.removeListeners=fd(xf(this.contextWindow,"pointermove",this.handlePointerMove),xf(this.contextWindow,"pointerup",this.handlePointerUp),xf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gl(this.updatePoint)}}function _v(t,e){return e?{point:e(t.point)}:t}function gS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bv({point:t},e){return{point:t,delta:gS(t,DI(e)),offset:gS(t,p9(e)),velocity:g9(e,.1)}}function p9(t){return t[0]}function DI(t){return t[t.length-1]}function g9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=DI(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ya(e)));)n--;if(!i)return{x:0,y:0};const l=Wa(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function y9(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?sn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?sn(n,t,i.max):Math.min(t,n)),t}function yS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function v9(t,{top:e,left:n,bottom:i,right:a}){return{x:yS(t.x,n,a),y:yS(t.y,e,i)}}function vS(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function _9(t,e){return{x:vS(t.x,e.x),y:vS(t.y,e.y)}}function b9(t,e){let n=.5;const i=Bi(t),a=Bi(e);return a>i?n=Gc(e.min,e.max-i,t.min):i>a&&(n=Gc(t.min,t.max-a,e.min)),io(0,1,n)}function E9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const b_=.35;function T9(t=b_){return t===!1?t=0:t===!0&&(t=b_),{x:_S(t,"left","right"),y:_S(t,"top","bottom")}}function _S(t,e,n){return{min:bS(t,e),max:bS(t,n)}}function bS(t,e){return typeof t=="number"?t:t[e]||0}const w9=new WeakMap;class A9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dd(v).point)},l=(v,E)=>{const{drag:w,dragPropagation:R,onDragStart:k}=this.getProps();if(w&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yU(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qs(j=>{let M=this.getAxisMotionValue(j).get()||0;if(ia.test(M)){const{projection:q}=this.visualElement;if(q&&q.layout){const Y=q.layout.layoutBox[j];Y&&(M=Bi(Y)*(parseFloat(M)/100))}}this.originPoint[j]=M}),k&&Gt.postRender(()=>k(v,E)),o_(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},u=(v,E)=>{const{dragPropagation:w,dragDirectionLock:R,onDirectionLock:k,onDrag:H}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=E;if(R&&this.currentDirection===null){this.currentDirection=S9(j),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",E.point,j),this.updateAxis("y",E.point,j),this.visualElement.render(),H&&H(v,E)},h=(v,E)=>this.stop(v,E),f=()=>qs(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)===null||E===void 0?void 0:E.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new NI(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:II(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Gt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Dm(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=y9(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Rc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=v9(a.layoutBox,n):this.constraints=!1,this.elastic=T9(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&qs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=E9(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Rc(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=d9(i,a.root,this.visualElement.getTransformPagePoint());let u=_9(a.layout.layoutBox,l);if(n){const h=n(s9(u));this.hasMutatedConstraints=!!h,h&&(u=wI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=qs(v=>{if(!Dm(v,n,this.currentDirection))return;let E=f&&f[v]||{};u&&(E={min:0,max:0});const w=a?200:1e6,R=a?40:1e7,k={type:"inertia",velocity:i?e[v]:0,bounceStiffness:w,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...E};return this.startAxisValueAnimation(v,k)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return o_(this.visualElement,e),i.start(yb(e,i,0,n,this.visualElement,!1))}stopAnimation(){qs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){qs(n=>{const{drag:i}=this.getProps();if(!Dm(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-sn(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Rc(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qs(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=b9({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qs(u=>{if(!Dm(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];h.set(sn(f,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;w9.set(this.visualElement,this);const e=this.visualElement.current,n=xf(e,"pointerdown",f=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Rc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Gt.read(i);const u=Wf(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(qs(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=f[v].translate,E.set(E.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=b_,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Dm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function S9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class x9 extends Tl{constructor(e){super(e),this.removeGroupControls=_s,this.removeListeners=_s,this.controls=new A9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_s}unmount(){this.removeGroupControls(),this.removeListeners()}}const ES=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};class C9 extends Tl{constructor(){super(...arguments),this.removePointerDownListener=_s}onPointerDown(e){this.session=new NI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:II(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:ES(e),onStart:ES(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Gt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=xf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Km={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const uf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ge.test(t))t=parseFloat(t);else return t;const n=TS(t,e.target.x),i=TS(t,e.target.y);return`${n}% ${i}%`}},R9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=yl.parse(t);if(a.length>5)return i;const l=yl.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const m=sn(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}};class I9 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;$U(N9),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Km.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Gt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OI(t){const[e,n]=m1(),i=C.useContext(j0);return _.jsx(I9,{...t,layoutGroup:i,switchLayoutGroup:C.useContext(I1),isPresent:e,safeToRemove:n})}const N9={borderRadius:{...uf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uf,borderTopRightRadius:uf,borderBottomLeftRadius:uf,borderBottomRightRadius:uf,boxShadow:R9};function D9(t,e,n){const i=Ai(t)?t:Hf(t);return i.start(yb("",i,e,n)),i.animation}function O9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const k9=(t,e)=>t.depth-e.depth;class P9{constructor(){this.children=[],this.isDirty=!1}add(e){z0(this.children,e),this.isDirty=!0}remove(e){H0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k9),this.isDirty=!1,this.children.forEach(e)}}function M9(t,e){const n=na.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(gl(i),t(l-e))};return Gt.read(i,!0),()=>gl(i)}const kI=["TopLeft","TopRight","BottomLeft","BottomRight"],V9=kI.length,wS=t=>typeof t=="string"?parseFloat(t):t,AS=t=>typeof t=="number"||Ge.test(t);function L9(t,e,n,i,a,l){a?(t.opacity=sn(0,n.opacity!==void 0?n.opacity:1,j9(i)),t.opacityExit=sn(e.opacity!==void 0?e.opacity:1,0,U9(i))):l&&(t.opacity=sn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<V9;u++){const h=`border${kI[u]}Radius`;let f=SS(e,h),m=SS(n,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||AS(f)===AS(m)?(t[h]=Math.max(sn(wS(f),wS(m),i),0),(ia.test(m)||ia.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=sn(e.rotate||0,n.rotate||0,i))}function SS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const j9=PI(0,.5,Q1),U9=PI(.5,.95,_s);function PI(t,e,n){return i=>i<t?0:i>e?1:n(Gc(t,e,i))}function xS(t,e){t.min=e.min,t.max=e.max}function Hs(t,e){xS(t.x,e.x),xS(t.y,e.y)}function CS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function RS(t,e,n,i,a){return t-=e,t=Cp(t,1/n,i),a!==void 0&&(t=Cp(t,1/a,i)),t}function B9(t,e=0,n=1,i=.5,a,l=t,u=t){if(ia.test(e)&&(e=parseFloat(e),e=sn(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=sn(l.min,l.max,i);t===l&&(h-=e),t.min=RS(t.min,e,n,h,a),t.max=RS(t.max,e,n,h,a)}function IS(t,e,[n,i,a],l,u){B9(t,e[n],e[i],e[a],e.scale,l,u)}const F9=["x","scaleX","originX"],z9=["y","scaleY","originY"];function NS(t,e,n,i){IS(t.x,e,F9,n?n.x:void 0,i?i.x:void 0),IS(t.y,e,z9,n?n.y:void 0,i?i.y:void 0)}function DS(t){return t.translate===0&&t.scale===1}function MI(t){return DS(t.x)&&DS(t.y)}function OS(t,e){return t.min===e.min&&t.max===e.max}function H9(t,e){return OS(t.x,e.x)&&OS(t.y,e.y)}function kS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VI(t,e){return kS(t.x,e.x)&&kS(t.y,e.y)}function PS(t){return Bi(t.x)/Bi(t.y)}function MS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class q9{constructor(){this.members=[]}add(e){z0(this.members,e),e.scheduleRender()}remove(e){if(H0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $9(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:E,rotateY:w,skewX:R,skewY:k}=n;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),E&&(i+=`rotateX(${E}deg) `),w&&(i+=`rotateY(${w}deg) `),R&&(i+=`skewX(${R}deg) `),k&&(i+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const Ev=["","X","Y","Z"],G9={visibility:"hidden"},VS=1e3;let K9=0;function Tv(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function LI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=H1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&LI(i)}function jI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=K9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q9),this.nodes.forEach(tB),this.nodes.forEach(nB),this.nodes.forEach(X9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new P9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new $0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O9(u),this.instance=u;const{layoutId:f,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||f)&&(this.isLayoutDirty=!0),t){let E;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=M9(w,250),Km.hasAnimatedSinceResize&&(Km.hasAnimatedSinceResize=!1,this.nodes.forEach(jS))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||m)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:w,hasRelativeLayoutChanged:R,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const H=this.options.transition||v.getDefaultTransition()||oB,{onLayoutAnimationStart:j,onLayoutAnimationComplete:M}=v.getProps(),q=!this.targetLayout||!VI(this.targetLayout,k),Y=!w&&R;if(this.options.layoutRoot||this.resumeFrom||Y||w&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,Y);const re={...G0(H,"layout"),onPlay:j,onComplete:M};(v.shouldReduceMotion||this.options.layoutRoot)&&(re.delay=0,re.type=!1),this.startAnimation(re)}else w||jS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LS);return}this.isUpdating||this.nodes.forEach(J9),this.isUpdating=!1,this.nodes.forEach(eB),this.nodes.forEach(Y9),this.nodes.forEach(W9),this.clearAllSnapshots();const h=na.now();hi.delta=io(0,1e3/60,h-hi.timestamp),hi.timestamp=h,hi.isProcessing=!0,dv.update.process(hi),dv.preRender.process(hi),dv.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z9),this.sharedNodes.forEach(sB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bi(this.snapshot.measuredBox.x)&&!Bi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!MI(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(h||au(this.latestValues)||v)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),lB(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return Tn();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(uB))){const{scroll:v}=this.root;v&&(Dc(f.x,v.offset.x),Dc(f.y,v.offset.y))}return f}removeElementScroll(u){var h;const f=Tn();if(Hs(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:E,options:w}=v;v!==this.root&&E&&w.layoutScroll&&(E.wasRoot&&Hs(f,u),Dc(f.x,E.offset.x),Dc(f.y,E.offset.y))}return f}applyTransform(u,h=!1){const f=Tn();Hs(f,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Oc(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),au(v.latestValues)&&Oc(f,v.latestValues)}return au(this.latestValues)&&Oc(f,this.latestValues),f}removeTransform(u){const h=Tn();Hs(h,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!au(m.latestValues))continue;v_(m.latestValues)&&m.updateSnapshot();const v=Tn(),E=m.measurePageBox();Hs(v,E),NS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return au(this.latestValues)&&NS(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:w}=this.options;if(!(!this.layout||!(E||w))){if(this.resolvedRelativeTargetAt=hi.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Rf(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),CI(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Rf(this.relativeTargetOrigin,this.target,R.target),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||v_(this.parent.latestValues)||xI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(m=!1),m)return;const{layout:v,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||E))return;Hs(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,R=this.treeScale.y;f9(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Tn());const{target:k}=h;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CS(this.prevProjectionDelta.x,this.projectionDelta.x),CS(this.prevProjectionDelta.y,this.projectionDelta.y)),Cf(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==R||!MS(this.projectionDelta.x,this.prevProjectionDelta.x)||!MS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nc(),this.projectionDelta=Nc(),this.projectionDeltaWithTransform=Nc()}setAnimationOrigin(u,h=!1){const f=this.snapshot,m=f?f.latestValues:{},v={...this.latestValues},E=Nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Tn(),R=f?f.source:void 0,k=this.layout?this.layout.source:void 0,H=R!==k,j=this.getStack(),M=!j||j.members.length<=1,q=!!(H&&!M&&this.options.crossfade===!0&&!this.path.some(aB));this.animationProgress=0;let Y;this.mixTargetDelta=re=>{const te=re/1e3;US(E.x,u.x,te),US(E.y,u.y,te),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rB(this.relativeTarget,this.relativeTargetOrigin,w,te),Y&&H9(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Tn()),Hs(Y,this.relativeTarget)),H&&(this.animationValues=v,L9(v,m,this.latestValues,te,q,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Km.hasAnimatedSinceResize=!0,this.currentAnimation=D9(0,VS,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:v}=u;if(!(!h||!f||!m)){if(this!==u&&this.layout&&m&&UI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Tn();const E=Bi(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+E;const w=Bi(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}Hs(h,f),Oc(h,v),Cf(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new q9),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Tv("z",u,m,this.animationValues);for(let v=0;v<Ev.length;v++)Tv(`rotate${Ev[v]}`,u,m,this.animationValues),Tv(`skew${Ev[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return G9;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Gm(u==null?void 0:u.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const H={};return this.options.layoutId&&(H.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,H.pointerEvents=Gm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!au(this.latestValues)&&(H.transform=v?v({},""):"none",this.hasProjected=!1),H}const w=E.animationValues||E.latestValues;this.applyTransformsToTarget(),m.transform=$9(this.projectionDeltaWithTransform,this.treeScale,w),v&&(m.transform=v(w,m.transform));const{x:R,y:k}=this.projectionDelta;m.transformOrigin=`${R.origin*100}% ${k.origin*100}% 0`,E.animationValues?m.opacity=E===this?(f=(h=w.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:m.opacity=E===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const H in $f){if(w[H]===void 0)continue;const{correct:j,applyTo:M,isCSSVariable:q}=$f[H],Y=m.transform==="none"?w[H]:j(w[H],E);if(M){const re=M.length;for(let te=0;te<re;te++)m[M[te]]=Y}else q?this.options.visualElement.renderState.vars[H]=Y:m[H]=Y}return this.options.layoutId&&(m.pointerEvents=E===this?Gm(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(LS),this.root.sharedNodes.clear()}}}function Y9(t){t.updateLayout()}function W9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,u=n.source!==t.layout.source;l==="size"?qs(E=>{const w=u?n.measuredBox[E]:n.layoutBox[E],R=Bi(w);w.min=i[E].min,w.max=w.min+R}):UI(l,n.layoutBox,i)&&qs(E=>{const w=u?n.measuredBox[E]:n.layoutBox[E],R=Bi(i[E]);w.max=w.min+R,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[E].max=t.relativeTarget[E].min+R)});const h=Nc();Cf(h,i,n.layoutBox);const f=Nc();u?Cf(f,t.applyTransform(a,!0),n.measuredBox):Cf(f,i,n.layoutBox);const m=!MI(h);let v=!1;if(!t.resumeFrom){const E=t.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:w,layout:R}=E;if(w&&R){const k=Tn();Rf(k,n.layoutBox,w.layoutBox);const H=Tn();Rf(H,i,R.layoutBox),VI(k,H)||(v=!0),E.options.layoutRoot&&(t.relativeTarget=H,t.relativeTargetOrigin=k,t.relativeParent=E)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Q9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function X9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Z9(t){t.clearSnapshot()}function LS(t){t.clearMeasurements()}function J9(t){t.isLayoutDirty=!1}function eB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tB(t){t.resolveTargetDelta()}function nB(t){t.calcProjection()}function iB(t){t.resetSkewAndRotation()}function sB(t){t.removeLeadSnapshot()}function US(t,e,n){t.translate=sn(e.translate,0,n),t.scale=sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function BS(t,e,n,i){t.min=sn(e.min,n.min,i),t.max=sn(e.max,n.max,i)}function rB(t,e,n,i){BS(t.x,e.x,n.x,i),BS(t.y,e.y,n.y,i)}function aB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oB={duration:.45,ease:[.4,0,.1,1]},FS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zS=FS("applewebkit/")&&!FS("chrome/")?Math.round:_s;function HS(t){t.min=zS(t.min),t.max=zS(t.max)}function lB(t){HS(t.x),HS(t.y)}function UI(t,e,n){return t==="position"||t==="preserve-aspect"&&!c9(PS(e),PS(n),.2)}function uB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const cB=jI({attachResizeListener:(t,e)=>Wf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wv={current:void 0},BI=jI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wv.current){const t=new cB({});t.mount(window),t.setOptions({layoutScroll:!0}),wv.current=t}return wv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hB={pan:{Feature:C9},drag:{Feature:x9,ProjectionNode:BI,MeasureLayout:OI}};function qS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Gt.postRender(()=>l(e,dd(e)))}class fB extends Tl{mount(){const{current:e}=this.node;e&&(this.unmount=_U(e,(n,i)=>(qS(this.node,i,"Start"),a=>qS(this.node,a,"End"))))}unmount(){}}class dB extends Tl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fd(Wf(this.node.current,"focus",()=>this.onFocus()),Wf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $S(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Gt.postRender(()=>l(e,dd(e)))}class mB extends Tl{mount(){const{current:e}=this.node;e&&(this.unmount=wU(e,(n,i)=>($S(this.node,i,"Start"),(a,{success:l})=>$S(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E_=new WeakMap,Av=new WeakMap,pB=t=>{const e=E_.get(t.target);e&&e(t)},gB=t=>{t.forEach(pB)};function yB({root:t,...e}){const n=t||document;Av.has(n)||Av.set(n,{});const i=Av.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(gB,{root:t,...e})),i[a]}function vB(t,e,n){const i=yB(e);return E_.set(t,n),i.observe(t),()=>{E_.delete(t),i.unobserve(t)}}const _B={some:0,all:1};class bB extends Tl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:_B[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),w=m?v:E;w&&w(f)};return vB(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(EB(e,n))&&this.startObserver()}unmount(){}}function EB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const TB={inView:{Feature:bB},tap:{Feature:mB},focus:{Feature:dB},hover:{Feature:fB}},wB={layout:{ProjectionNode:BI,MeasureLayout:OI}},T_={current:null},FI={current:!1};function AB(){if(FI.current=!0,!!B0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>T_.current=t.matches;t.addListener(e),e()}else T_.current=!1}const SB=[...hI,Ei,yl],xB=t=>SB.find(cI(t)),CB=new WeakMap;function RB(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Ai(a))t.addValue(i,a);else if(Ai(l))t.addValue(i,Hf(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Hf(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const GS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IB{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=na.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,Gt.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=dg(n),this.isVariantNode=C1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:E,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const R in w){const k=w[R];f[R]!==void 0&&Ai(k)&&k.set(f[R],!1)}}mount(e){this.current=e,CB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),FI.current||AB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gl(this.notifyUpdate),gl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Su.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kc){const n=Kc[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<GS.length;i++){const a=GS[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=RB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Hf(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(lI(a)||Z1(a))?a=parseFloat(a):!xB(a)&&yl.test(n)&&(a=rI(e,n)),this.setBaseTarget(e,Ai(a)?a.get():a)),Ai(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=lb(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(a=u[e])}if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ai(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class zI extends IB{constructor(){super(...arguments),this.KeyframeResolver=fI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ai(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NB(t){return window.getComputedStyle(t)}class DB extends zI{constructor(){super(...arguments),this.type="html",this.renderInstance=j1}readValueFromInstance(e,n){if(Su.has(n))return z5(e,n);{const i=NB(e),a=(eb(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RI(e,n)}build(e,n,i){ib(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ub(e,n,i)}}class OB extends zI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&L1(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Su.has(n)){const i=sI(n);return i&&i.default||0}return n=U1.has(n)?n:J0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return F1(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Gt.postRender(this.updateDimensions)}build(e,n,i){ab(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,a){B1(e,n,i,a)}mount(e){this.isSVGTag=ob(e.tagName),super.mount(e)}}const kB=(t,e)=>rb(t)?new OB(e):new DB(e,{allowProjection:t!==C.Fragment}),PB=p5({...n9,...TB,...hB,...wB},kB),KS=DU(PB),vb=({conversationId:t,conversation:e,widgetMode:n=!1})=>{const[i,a]=C.useState(null),[l,u]=C.useState(null),[h,f]=C.useState(null),[m,v]=C.useState(null),[E,w]=C.useState(t||localStorage.getItem("conversationId")||null),[R,k]=C.useState(null),[H,j]=C.useState([]),[M,q]=C.useState(""),[Y,re]=C.useState(""),[te,Q]=C.useState(!1),[B,D]=C.useState(0),N=C.useRef(null),[U,F]=C.useState(0),[$,L]=C.useState(null),Oe=[{id:"delivery",text:"Delivery time"},{id:"tracking",text:"Package Tracking"},{id:"shipping",text:"Shipping cost"},{id:"other",text:"Other inquiries"}],Ne={delivery:{message:"For Delivery time, please select an option:",options:[{id:"when",text:"When will it arrive?"},{id:"delay",text:"Why is it delayed?"},{id:"done",text:"Done"},{id:"contact",text:"Contact admin"}]},tracking:{message:"For Package Tracking, please select an option:",options:[{id:"how",text:"How to track my package?"},{id:"update",text:"Why no update?"},{id:"done",text:"Done"},{id:"contact",text:"Contact admin"}]},shipping:{message:"For Shipping cost, please select an option:",options:[{id:"cost",text:"What is the shipping cost?"},{id:"free",text:"How to get free shipping?"},{id:"done",text:"Done"},{id:"contact",text:"Contact admin"}]},other:{message:"For Other inquiries, please select an option:",options:[{id:"general",text:"General inquiry"},{id:"done",text:"Done"},{id:"contact",text:"Contact admin"}]}},fe=pe=>{const Ve=Math.floor(pe/60).toString().padStart(2,"0"),nt=(pe%60).toString().padStart(2,"0");return`${Ve}:${nt}`},Ee=()=>R==="approved"?"bg-green-100 text-green-700":R==="rejected"||R==="ended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700";C.useEffect(()=>{const pe=Mp(vs,async Ve=>{if(Ve){a(Ve);try{const nt=gn(st,"Users",Ve.uid),ot=await sh(nt);if(ot.exists()){const Bt=ot.data();f(Bt),u(Bt.role||"user")}else u("user")}catch(nt){console.error("Error fetching user data:",nt),u("user")}}else a(null),u(null)});return()=>pe()},[]),C.useEffect(()=>{if(!E){k(null),v(null);return}const pe=gn(st,"conversations",E),Ve=Lc(pe,nt=>{if(nt.exists()){const ot=nt.data();k(ot.status),v(ot)}});return()=>Ve()},[E]),C.useEffect(()=>{if(!E||R==="ended")return;const pe=In(st,"conversations",E,"messages"),Ve=$c(pe,OR("timestamp","asc")),nt=Lc(Ve,ot=>{const Bt=ot.docs.map(Qe=>({id:Qe.id,...Qe.data()}));j(Bt)});return()=>nt()},[E,R]),C.useEffect(()=>{E&&localStorage.setItem("conversationId",E)},[E]),C.useEffect(()=>{N.current&&N.current.scrollIntoView({behavior:"smooth"})},[H]),C.useEffect(()=>{if(l==="user"&&R==="rejected"){re("Your conversation request has been rejected. Please try again after 5 minutes."),Q(!0);const pe=setTimeout(()=>{Q(!1),re("")},10*60*1e3);return()=>clearTimeout(pe)}},[R,l]),C.useEffect(()=>{if(l==="user"&&R==="ended"){const pe=localStorage.getItem("conversationEndTimestamp");let Ve;pe?Ve=parseInt(pe):(Ve=Date.now(),localStorage.setItem("conversationEndTimestamp",Ve.toString()));const ot=300-Math.floor((Date.now()-Ve)/1e3);if(ot>0){D(ot),re("This conversation has ended. You can create a new conversation in"),Q(!0);const Bt=setInterval(()=>{D(Qe=>{if(Qe<=1)return clearInterval(Bt),Q(!1),re(""),w(null),localStorage.removeItem("conversationId"),localStorage.removeItem("conversationEndTimestamp"),0;const Jt=Qe-1;return re("This conversation has ended. You can create a new conversation in"),Jt})},1e3);return()=>clearInterval(Bt)}else Q(!1),re(""),w(null),localStorage.removeItem("conversationId"),localStorage.removeItem("conversationEndTimestamp")}},[R,l]);const ye=E&&R!=="ended",tt=pe=>pe==="system"?"self-end bg-yellow-200":pe===(i==null?void 0:i.uid)?"self-end bg-blue-100":"self-start bg-gray-100",V=pe=>pe==="system"?"Automatic Chat":l==="admin"||l==="staff"?pe===(i==null?void 0:i.uid)?m!=null&&m.adminFirstName||m!=null&&m.adminLastName?`${m.adminFirstName||""} ${m.adminLastName||""}`.trim():"Admin":m!=null&&m.userFirstName||m!=null&&m.userLastName?`${m.userFirstName||""} ${m.userLastName||""}`.trim():"User":pe===(i==null?void 0:i.uid)?h?`${h.firstName||""} ${h.lastName||""}`.trim():"You":m!=null&&m.adminFirstName||m!=null&&m.adminLastName?`${m.adminFirstName||""} ${m.adminLastName||""}`.trim():"Admin";C.useEffect(()=>{if(l==="user"&&R==="approved"){re("You are currently chatting with an admin");const pe=setTimeout(()=>re(""),5e3);return()=>clearTimeout(pe)}},[R,l]),C.useEffect(()=>{if(!E){k(null),v(null);return}const pe=gn(st,"conversations",E),Ve=Lc(pe,nt=>{if(!nt.exists()){w(null),localStorage.removeItem("conversationId"),k(null),v(null),j([]);return}const ot=nt.data();k(ot.status),v(ot)});return()=>Ve()},[E]);const de=async pe=>{var Ve;if(E)try{await _r(In(st,"conversations",E,"messages"),{text:pe.text,senderId:i.uid,timestamp:new Date,status:"faqchat"}),await br(gn(st,"conversations",E),{status:"faqchat"}),L(pe.id),F(2);const nt=(Ve=Ne[pe.id])==null?void 0:Ve.message;nt&&await _r(In(st,"conversations",E,"messages"),{text:nt,senderId:"system",timestamp:new Date,status:"faqchat"})}catch(nt){console.error("Error in FAQ step 1:",nt)}},Ce=async pe=>{if(E)try{await _r(In(st,"conversations",E,"messages"),{text:pe.text,senderId:i.uid,timestamp:new Date}),pe.id==="done"?(F(0),L(null)):pe.id==="contact"?(await br(gn(st,"conversations",E),{request:"sent",updatedAt:new Date().toISOString(),status:"pending"}),F(0),L(null)):(F(0),L(null))}catch(Ve){console.error("Error in FAQ step 2:",Ve)}},Se=async()=>{if(!i){alert("Please log in to send messages.");return}if(!M.trim())return;const pe=i.uid;if((!ye||R==="ended")&&l!=="admin"&&l!=="staff"){try{const Ve=h?`${h.firstName||""} ${h.lastName||""}`.trim():"Unknown User",nt=await _r(In(st,"conversations"),{userId:pe,userFirstName:(h==null?void 0:h.firstName)||"",userLastName:(h==null?void 0:h.lastName)||"",userFullName:Ve,userEmail:(h==null?void 0:h.email)||i.email,status:"faqchat",createdAt:lu()});w(nt.id),localStorage.setItem("conversationId",nt.id),await _r(In(st,"conversations",nt.id,"messages"),{text:M,senderId:pe,timestamp:new Date}),await _r(In(st,"conversations",nt.id,"messages"),{text:"Please select a topic from the options below:",senderId:"system",timestamp:new Date}),F(1),q("")}catch(Ve){console.error("Error creating conversation:",Ve)}return}if(ye)try{await _r(In(st,"conversations",E,"messages"),{text:M,senderId:pe,timestamp:new Date}),q(""),await br(gn(st,"conversations",E),{updatedAt:new Date().toISOString(),lastMessage:M})}catch(Ve){console.error("Error sending message:",Ve)}},Ae=async()=>{if(!(!E||!window.confirm("Are you sure you want to stop this conversation?")))try{await br(gn(st,"conversations",E),{status:"ended"})}catch(Ve){console.error("Error stopping conversation:",Ve)}},Pe=(()=>{if(!m)return"Message:";if(l==="admin"||l==="staff"){const pe=m.userFirstName||"",Ve=m.userLastName||"";return`Conversation: ${`${pe} ${Ve}`.trim()||"Unknown User"}`}else{if(m.adminFirstName||m.adminLastName){const pe=m.adminFirstName||"",Ve=m.adminLastName||"";return`Chatting with: ${`${pe} ${Ve}`.trim()} (Admin)`}return"Chat FAQs"}})(),Rt=()=>{window.dispatchEvent(new CustomEvent("openOffCanvas"))},be=n?"h-full text-sm":l==="admin"||l==="staff"?"h-screen md:h-full":"h-screen",at=n?"p-2":"p-4";return _.jsxs("div",{className:`flex flex-col w-full ${be}`,children:[_.jsxs("div",{className:`${at} bg-blue-200 border-t-2 border-b-2 flex items-center justify-between flex-shrink-0`,children:[_.jsx("h4",{className:"text-lg font-semibold",children:Pe}),_.jsx("button",{onClick:Rt,className:`${l==="admin"?"md:hidden":""} p-2 text-gray-700 hover:text-gray-900`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"md:hidden h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}),l&&(l==="admin"||l==="staff")&&ye&&_.jsx("button",{className:"p-2 bg-red-500 text-white rounded",onClick:Ae,children:"Stop"})]}),(Y||ye&&R==="pending"&&l!=="admin"&&l!=="staff")&&_.jsxs("div",{className:`p-2 text-center ${Ee()}`,children:[Y||"Waiting for an admin to accept your request..."," ",R==="ended"&&`(${fe(B)})`]}),_.jsxs("div",{className:`flex-1 overflow-y-auto ${at} bg-white flex flex-col`,children:[ye&&R==="pending"&&l!=="admin"&&l!=="staff"&&_.jsx("p",{className:"text-center text-yellow-600 mb-2"}),ye?H.length>0?H.map(pe=>_.jsxs("div",{className:`mb-2 p-2 rounded max-w-xs break-words ${tt(pe.senderId)}`,children:[_.jsx("p",{className:"text-xs text-gray-600 mb-1",children:V(pe.senderId)}),_.jsx("p",{children:pe.text}),_.jsx("small",{className:"text-gray-500",children:pe.timestamp&&pe.timestamp.seconds?new Date(pe.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):new Date(pe.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},pe.id)):_.jsx("p",{className:"text-center text-gray-500",children:"No messages yet."}):_.jsx("p",{className:"text-center text-gray-500",children:R==="ended"?"This conversation has ended. Send a message to request a new conversation.":"No active conversation. Send a message to request a conversation."}),_.jsx("div",{ref:N})]}),ye&&l==="user"&&U>0&&_.jsxs("div",{className:`${at} bg-gray-50 flex flex-wrap gap-2`,children:[U===1&&Oe.map(pe=>_.jsx("button",{className:"p-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",onClick:()=>de(pe),children:pe.text},pe.id)),U===2&&$&&Ne[$]&&Ne[$].options.map(pe=>_.jsx("button",{className:"p-2 bg-green-100 text-green-700 rounded hover:bg-green-200",onClick:()=>Ce(pe),children:pe.text},pe.id))]}),ye&&R==="ended"?_.jsx("div",{className:"p-2 text-center text-red-500",children:"This conversation has ended. You cannot send more messages."}):_.jsxs("div",{className:`${at} border-t bg-gray-50 flex flex-shrink-0`,children:[_.jsx("input",{type:"text",className:"flex-1 p-2 border rounded",placeholder:"Type your message...",value:M,onChange:pe=>q(pe.target.value),onKeyDown:pe=>{pe.key==="Enter"&&(pe.preventDefault(),Se())},disabled:R==="ended"||R==="rejected"||te}),_.jsx("button",{className:"ml-2 p-2 bg-blue-500 text-white rounded",onClick:Se,disabled:R==="ended"||R==="rejected"||te,children:"Send"})]})]})},MB=()=>{const[t,e]=C.useState(!1),n=()=>e(!t),i={hidden:{opacity:0,y:50},visible:{opacity:1,y:0},exit:{opacity:0,y:50}},a={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.8}};return _.jsx("div",{className:"hidden md:block fixed bottom-4 right-4 z-39",children:_.jsx(oU,{exitBeforeEnter:!0,children:t?_.jsxs(KS.div,{className:"w-80 h-[600px] bg-white rounded shadow-lg flex flex-col",variants:i,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3,ease:"easeInOut"},children:[_.jsx("div",{className:"bg-blue-500 text-white px-4 py-2 cursor-pointer rounded-t hover:bg-blue-600 transition-colors duration-300",onClick:n,children:"Chat with us (click to close)"}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:_.jsx(vb,{onBack:n,widgetMode:!0})})]}):_.jsx(KS.div,{className:"bg-blue-500 text-white px-4 py-2 rounded cursor-pointer shadow-lg hover:bg-blue-600 transition-colors duration-300",onClick:n,variants:a,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3,ease:"easeInOut"},children:"Chat with us"})})})},VB=()=>_.jsxs("div",{children:[_.jsx(MB,{}),_.jsx(nU,{})]}),LB=()=>_.jsx("div",{children:_.jsx("h1",{children:"This is about page"})}),jB=()=>_.jsx("div",{children:_.jsx("h1",{children:"This is services page"})}),UB=()=>_.jsx("div",{children:_.jsx("h1",{children:"HI THIS IS OUR COMMITMENT"})}),BB=()=>_.jsx("div",{children:_.jsx("h1",{children:"This is contact page"})});function FB(){const[t,e]=C.useState([]),[n,i]=C.useState({driver:"",status:"",trackingNumber:""}),[a,l]=C.useState(1);C.useEffect(()=>{const m=Lc(In(st,"DeliverTrack"),v=>{const E=v.docs.map(w=>({id:w.id,...w.data()}));if(e(E),E.length>0){const w=Math.max(...E.map(R=>R.autoIncrementId||0));l(w+1)}});return()=>m()},[]);const u=async()=>{n.driver&&n.status&&n.trackingNumber&&(await _r(In(st,"DeliverTrack"),{driver:n.driver,status:n.status,trackingNumber:n.trackingNumber,autoIncrementId:a,timestamp:lu()}),i({driver:"",status:"",trackingNumber:""}),l(a+1))},h=async m=>{const v=prompt("Enter new status:");if(v){const E=gn(st,"DeliverTrack",m);await br(E,{status:v})}},f=async m=>{const v=gn(st,"DeliverTrack",m);await Cj(v)};return _.jsxs("div",{className:"p-4",children:[_.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Tracking System"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("input",{type:"text",placeholder:"Driver Name",value:n.driver,onChange:m=>i({...n,driver:m.target.value}),className:"border p-2 mr-2"}),_.jsx("input",{type:"text",placeholder:"Status",value:n.status,onChange:m=>i({...n,status:m.target.value}),className:"border p-2 mr-2"}),_.jsx("input",{type:"text",placeholder:"Tracking Number",value:n.trackingNumber,onChange:m=>i({...n,trackingNumber:m.target.value}),className:"border p-2 mr-2"}),_.jsx("button",{onClick:u,className:"bg-blue-500 text-white p-2",children:"Add Delivery"})]}),_.jsx("ul",{children:t.map(m=>{var v;return _.jsxs("li",{className:"border-b p-2 flex justify-between",children:[_.jsxs("div",{children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Driver:"})," ",m.driver]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Status:"})," ",m.status]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Tracking #:"})," ",m.trackingNumber]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Package ID:"})," ",m.autoIncrementId]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Timestamp:"})," ",(v=m.timestamp)==null?void 0:v.toDate().toString()]})]}),_.jsxs("div",{children:[_.jsx("button",{onClick:()=>h(m.id),className:"text-yellow-500 mr-2",children:"Update"}),_.jsx("button",{onClick:()=>f(m.id),className:"text-red-500",children:"Delete"})]})]},m.id)})})]})}const zB=()=>{const[t,e]=C.useState(""),[n,i]=C.useState(null),[a,l]=C.useState([]),[u,h]=C.useState(!1),[f,m]=C.useState(""),v=async()=>{h(!0),m(""),i(null),l([]);try{const E=$c(In(st,"Packages"),Ff("packageNumber","==",t)),w=await zf(E);if(w.empty){m("Package not found."),h(!1);return}const R=w.docs[0],k={id:R.id,...R.data()};i(k);const H=$c(In(st,"Packages",R.id,"statusHistory"),OR("timestamp","asc")),M=(await zf(H)).docs.map(q=>({id:q.id,...q.data()}));l(M),h(!1)}catch(E){console.error(E),m("Error retrieving package data."),h(!1)}};return _.jsxs("div",{style:{padding:"1rem"},children:[_.jsx("h2",{children:"Track Package"}),_.jsxs("div",{style:{marginBottom:"1rem"},children:[_.jsx("input",{type:"text",placeholder:"Enter Package Number",value:t,onChange:E=>e(E.target.value),style:{padding:"0.5rem",width:"250px"}}),_.jsx("button",{onClick:v,style:{marginLeft:"1rem",padding:"0.5rem 1rem"},children:"Track"})]}),u&&_.jsx("p",{children:"Loading..."}),f&&_.jsx("p",{style:{color:"red"},children:f}),n&&_.jsxs("div",{style:{border:"1px solid #ccc",padding:"1rem"},children:[_.jsx("h3",{children:"Package Details"}),_.jsxs("p",{children:[_.jsx("strong",{children:"Package Number:"})," ",n.packageNumber]}),_.jsxs("p",{children:[_.jsx("strong",{children:"From:"})," ",n.from]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Current Status:"})," ",n.packageStatus]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Location:"})," ",n.destination]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Airway Bill:"})," ",n.airwayBill?n.airwayBill:"N/A"]}),_.jsx("h4",{children:"Status History"}),a.length>0?_.jsx("ul",{children:a.map(E=>{var w;return _.jsxs("li",{children:[_.jsx("strong",{children:"Status:"})," ",E.status," -"," ",_.jsx("strong",{children:"Time:"})," ",(w=E.timestamp)!=null&&w.toDate?E.timestamp.toDate().toLocaleString():"Pending"]},E.id)})}):_.jsx("p",{children:"No status history available."})]})]})};function HB(){const[t,e]=C.useState(null),n=jp();return C.useEffect(()=>{const i=Mp(n,a=>{e(a)});return()=>i()},[]),_.jsx("div",{children:_.jsxs("h1",{children:["Welcome ",t?t.email:"Guest"]})})}const qB=()=>_.jsx("div",{children:_.jsx(_.Fragment,{children:"HIIIIIIIII"})}),$B="/cargofran/assets/logo2-B_i3sFNE.png",pg=()=>{const t=oa(),[e,n]=C.useState(null);C.useEffect(()=>{const a=vs.onAuthStateChanged(l=>{n(l)});return()=>a()},[]);const i=async()=>{try{await vs.signOut()}catch(a){console.error("Error signing out:",a)}};return _.jsx("div",{className:"flex hidden md:block w-64",children:_.jsxs("div",{className:"hidden md:flex flex-col w-64 min-w-[250px] h-screen bg-blue-200 border-r-2 p-5 relative",children:[_.jsx("div",{className:"relative",children:_.jsx("img",{src:$B,className:`absolute top-[-20px] left-1/2 transform -translate-x-1/2 
                    w-220 max-w-[220px] h-30 object-contain z-10`,alt:"FCL"})}),_.jsxs("nav",{className:"m-auto space-y-6 text-2xl",children:[_.jsxs(ou,{to:"/AdminDashboard",className:`flex items-center p-3 rounded transition-all duration-300 transform 
              ${t.pathname==="/AdminDashboard"?"bg-gray-800 text-white scale-105 shadow-lg":"text-black hover:bg-gray-700 hover:text-white hover:scale-105"}`,children:[_.jsx(G3,{className:"mr-3"})," Dashboard"]}),_.jsxs(ou,{to:"/Shipments",className:`flex items-center p-3 rounded transition-all duration-300 transform 
              ${t.pathname==="/Shipments"?"bg-gray-800 text-white scale-105 shadow-lg":"text-black hover:bg-gray-700 hover:text-white hover:scale-105"}`,children:[_.jsx(K3,{className:"mr-3"})," Shipments"]}),_.jsxs(ou,{to:"/MessageRequest",className:`flex items-center p-3 rounded transition-all duration-300 transform 
              ${t.pathname==="/MessageRequest"?"bg-gray-800 text-white scale-105 shadow-lg":"text-black hover:bg-gray-700 hover:text-white hover:scale-105"}`,children:[_.jsx(CA,{className:"mr-3"})," Messages Request"]}),_.jsxs(ou,{to:"/AdminMessages",className:`flex items-center p-3 rounded transition-all duration-300 transform 
              ${t.pathname==="/AdminMessages"?"bg-gray-800 text-white scale-105 shadow-lg":"text-black hover:bg-gray-700 hover:text-white hover:scale-105"}`,children:[_.jsx(CA,{className:"mr-3"})," Messages"]})]}),_.jsx("div",{className:"absolute bottom-5 left-5",children:e?_.jsxs("button",{onClick:i,className:"flex items-center bg-red-500 text-white px-3 py-2 rounded transition-colors duration-300 hover:bg-red-600",children:[_.jsx($3,{className:"mr-2"})," Log Out"]}):_.jsxs(ou,{to:"/login",className:"flex items-center bg-green-500 text-white px-3 py-2 rounded transition-colors duration-300 hover:bg-green-600",children:[_.jsx(q3,{className:"mr-2"})," Log In"]})})]})})};function GB(){const[t,e]=C.useState(null),n=jp();return C.useEffect(()=>{const i=Mp(n,a=>{e(a)});return()=>i()},[]),_.jsx("div",{children:_.jsx("div",{className:"flex flex-col md:flex-row",children:_.jsx(pg,{})})})}const KB=()=>{const[t,e]=C.useState([]),[n,i]=C.useState(!1),[a,l]=C.useState(!1),[u,h]=C.useState(null),[f,m]=C.useState({packageNumber:"",shipperName:"",from:"",destination:"",email:"",serviceType:"",packageStatus:"On the way",paid:!1,airwayBill:"",dateStarted:null}),[v,E]=C.useState(""),[w,R]=C.useState("customId"),[k,H]=C.useState("asc");C.useEffect(()=>{(async()=>{const D=(await zf(In(st,"Packages"))).docs.map(N=>({customId:N.data().customId,docId:N.id,...N.data()}));e(D)})()},[]);const j=Q=>{w===Q?H(k==="asc"?"desc":"asc"):(R(Q),H("asc"))},q=t.filter(Q=>{const B=v.toLowerCase();return(Q.packageNumber||"").toLowerCase().includes(B)||(Q.shipperName||"").toLowerCase().includes(B)||(Q.serviceType||"").toLowerCase().includes(B)}).sort((Q,B)=>{const D=Q[w]||"",N=B[w]||"";return D<N?k==="asc"?-1:1:D>N?k==="asc"?1:-1:0}),Y=async()=>{if(!f.packageNumber||!f.shipperName||!f.serviceType){alert("Please fill in Package Number, Shipper Name, and Service Type.");return}if(!window.confirm("Are you sure you want to add this shipment?"))return;const D=t.reduce((U,F)=>Math.max(U,F.customId||0),0)+1,N={...f,customId:D,dateStarted:new Date().toISOString(),createdTime:lu()};try{const U=await _r(In(st,"Packages"),N);await _r(In(st,"Packages",U.id,"statusHistory"),{status:f.packageStatus,timestamp:lu()}),e(F=>[...F,{customId:D,docId:U.id,...N}]),i(!1),m({packageNumber:"",shipperName:"",from:"",destination:"",email:"",serviceType:"",packageStatus:"On the way",paid:!1,airwayBill:"",dateStarted:null})}catch(U){console.error("Error adding shipment:",U),alert("Failed to add shipment. Please try again.")}},re=async()=>{if(u&&window.confirm("Are you sure you want to save changes?"))try{const B=f.packageStatus!==u.packageStatus,D={...f,updatedTime:lu()};await br(gn(st,"Packages",u.docId),D),B&&await _r(In(st,"Packages",u.docId,"statusHistory"),{status:f.packageStatus,timestamp:lu()}),e(N=>N.map(U=>U.docId===u.docId?{...U,...D}:U)),l(!1),h(null)}catch(B){console.error("Error updating shipment:",B),alert("Failed to update shipment. Please try again.")}},te=async Q=>{if(window.confirm("Are you sure you want to cancel this shipment?"))try{await br(gn(st,"Packages",Q.docId),{canceled:!0,updatedTime:lu()}),e(D=>D.map(N=>N.docId===Q.docId?{...N,canceled:!0}:N))}catch(D){console.error("Error canceling shipment:",D),alert("Failed to cancel shipment. Please try again.")}};return _.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[_.jsx(pg,{}),_.jsxs("div",{className:"flex-1 p-4 md:p-6 relative",children:[_.jsx("h2",{className:"text-xl font-semibold text-center mb-6",children:"Shipment Information"}),_.jsx("div",{className:"mb-4 flex justify-center",children:_.jsx("input",{type:"text",className:"w-full md:w-1/2 p-2 border rounded",placeholder:"Search shipments...",value:v,onChange:Q=>E(Q.target.value)})}),_.jsx("div",{className:"overflow-x-auto overflow-y-auto shadow rounded-lg max-h-[70vh] md:max-h-[75vh]",children:_.jsxs(c1,{striped:!0,bordered:!0,hover:!0,className:"min-w-full",children:[_.jsx("thead",{className:"bg-gray-200 sticky top-0 z-10",children:_.jsxs("tr",{children:[_.jsxs("th",{className:"p-2 cursor-pointer",onClick:()=>j("customId"),children:["ID ",w==="customId"&&(k==="asc"?"▲":"▼")]}),_.jsx("th",{className:"p-2",children:"Package Number"}),_.jsx("th",{className:"p-2",children:"Shipper"}),_.jsx("th",{className:"p-2",children:"Service"}),_.jsx("th",{className:"p-2",children:"From"}),_.jsx("th",{className:"p-2",children:"Status"}),_.jsx("th",{className:"p-2",children:"Destination"}),_.jsx("th",{className:"p-2",children:"Email"}),_.jsx("th",{className:"p-2",children:"Airway Bill"}),_.jsx("th",{className:"p-2",children:"Paid"}),_.jsx("th",{className:"p-2",children:"Date Started"}),_.jsx("th",{className:"p-2",children:"Actions"})]})}),_.jsx("tbody",{children:q.map(Q=>_.jsxs("tr",{className:`text-center ${Q.canceled?"bg-gray-100":""}`,children:[_.jsx("td",{className:"p-2",children:Q.customId||Q.docId}),_.jsx("td",{className:"p-2",children:Q.packageNumber}),_.jsx("td",{className:"p-2",children:Q.shipperName}),_.jsx("td",{className:"p-2",children:Q.serviceType}),_.jsx("td",{className:"p-2",children:Q.from||"N/A"}),_.jsx("td",{className:"p-2",children:Q.packageStatus}),_.jsx("td",{className:"p-2",children:Q.destination||"N/A"}),_.jsx("td",{className:"p-2",children:Q.email||"N/A"}),_.jsx("td",{className:"p-2",children:Q.airwayBill||"N/A"}),_.jsx("td",{className:`p-2 ${Q.paid?"bg-green-200":"bg-red-200"}`,children:Q.paid?"Yes":"No"}),_.jsx("td",{className:"p-2",children:Q.dateStarted?new Date(Q.dateStarted).toLocaleDateString():"N/A"}),_.jsx("td",{className:"p-2",children:Q.canceled?_.jsx("span",{className:"text-gray-500 font-semibold",children:"Canceled"}):_.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[_.jsx(Nn,{variant:"warning",size:"sm",onClick:()=>{h(Q),m(Q),l(!0)},children:"Edit"}),_.jsx(Nn,{variant:"danger",size:"sm",onClick:()=>te(Q),children:"Cancel"})]})})]},Q.docId))})]})}),_.jsx("div",{className:"mt-4 flex justify-center md:justify-end",children:_.jsx(Nn,{variant:"primary",onClick:()=>i(!0),children:"Add Shipment"})}),_.jsxs(Xt,{show:n,onHide:()=>i(!1),centered:!0,children:[_.jsx(Xt.Header,{closeButton:!0,children:_.jsx(Xt.Title,{children:"Add Shipment"})}),_.jsx(Xt.Body,{children:_.jsxs(we,{children:[_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Package Number"}),_.jsx(we.Control,{type:"text",value:f.packageNumber,onChange:Q=>m({...f,packageNumber:Q.target.value}),required:!0})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Shipper Full Name"}),_.jsx(we.Control,{type:"text",value:f.shipperName,onChange:Q=>m({...f,shipperName:Q.target.value}),required:!0})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"From"}),_.jsx(we.Control,{type:"text",value:f.from,onChange:Q=>m({...f,from:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Destination"}),_.jsx(we.Control,{type:"text",value:f.destination,onChange:Q=>m({...f,destination:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Service Type"}),_.jsxs(we.Control,{as:"select",value:f.serviceType,onChange:Q=>m({...f,serviceType:Q.target.value}),required:!0,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{children:"Import & Export (Air/Sea Freight)"}),_.jsx("option",{children:"Domestic (Air/Sea Freight)"}),_.jsx("option",{children:"Full Container Load (FCL)"}),_.jsx("option",{children:"Less than Container Load (LCL)"}),_.jsx("option",{children:"Pick-up and Delivery"}),_.jsx("option",{children:"Full Truckload (FTL)"}),_.jsx("option",{children:"Less than Truckload (LTL)"})]})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Airway Bill (Optional)"}),_.jsx(we.Control,{type:"text",value:f.airwayBill,onChange:Q=>m({...f,airwayBill:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Email (Optional)"}),_.jsx(we.Control,{type:"email",value:f.email,onChange:Q=>m({...f,email:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Package Status"}),_.jsxs(we.Control,{as:"select",value:f.packageStatus,onChange:Q=>m({...f,packageStatus:Q.target.value}),children:[_.jsx("option",{children:"On the way"}),_.jsx("option",{children:"In warehouse"}),_.jsx("option",{children:"On transit"}),_.jsx("option",{children:"Landed"}),_.jsx("option",{children:"Delivered"})]})]}),_.jsx(we.Group,{children:_.jsx(we.Check,{type:"checkbox",label:"Paid",checked:f.paid,onChange:Q=>m({...f,paid:Q.target.checked})})})]})}),_.jsxs(Xt.Footer,{children:[_.jsx(Nn,{variant:"secondary",onClick:()=>i(!1),children:"Close"}),_.jsx(Nn,{variant:"primary",onClick:Y,children:"Add"})]})]}),_.jsxs(Xt,{show:a,onHide:()=>l(!1),centered:!0,children:[_.jsx(Xt.Header,{closeButton:!0,children:_.jsx(Xt.Title,{children:"Edit Shipment"})}),_.jsx(Xt.Body,{children:_.jsxs(we,{children:[_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Package Number"}),_.jsx("p",{className:"form-control-plaintext",children:f.packageNumber})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Shipper Full Name"}),_.jsx("p",{className:"form-control-plaintext",children:f.shipperName})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"From"}),_.jsx(we.Control,{type:"text",value:f.from,onChange:Q=>m({...f,from:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Destination"}),_.jsx(we.Control,{type:"text",value:f.destination,onChange:Q=>m({...f,destination:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Airway Bill"}),_.jsx(we.Control,{type:"text",value:f.airwayBill,onChange:Q=>m({...f,airwayBill:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Email"}),_.jsx(we.Control,{type:"email",value:f.email,onChange:Q=>m({...f,email:Q.target.value})})]}),_.jsxs(we.Group,{className:"mb-3",children:[_.jsx(we.Label,{children:"Package Status"}),_.jsxs(we.Control,{as:"select",value:f.packageStatus,onChange:Q=>m({...f,packageStatus:Q.target.value}),children:[_.jsx("option",{children:"On the way"}),_.jsx("option",{children:"In warehouse"}),_.jsx("option",{children:"On transit"}),_.jsx("option",{children:"Landed"}),_.jsx("option",{children:"Delivered"})]})]}),_.jsx(we.Group,{children:_.jsx(we.Check,{type:"checkbox",label:"Paid",checked:f.paid,onChange:Q=>m({...f,paid:Q.target.checked})})})]})}),_.jsxs(Xt.Footer,{children:[_.jsx(Nn,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),_.jsx(Nn,{variant:"primary",onClick:re,children:"Save Changes"})]})]})]})]})},YB=({currentUserId:t})=>{const[e,n]=C.useState([]),[i,a]=C.useState(null);return C.useEffect(()=>{const l=In(st,"conversations"),u=$c(l,Ff("status","==","approved")),h=Lc(u,f=>{const m=f.docs.map(v=>({id:v.id,...v.data()}));n(m)});return()=>h()},[]),_.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[_.jsx(pg,{}),_.jsxs("div",{className:"flex-1 flex flex-col md:flex-row",children:[_.jsxs("div",{className:`${i?"hidden md:block":"block"} w-full md:w-64 border-b md:border-r p-4 overflow-y-auto`,style:{maxHeight:"100vh"},children:[_.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Conversations"}),_.jsx("ul",{className:"space-y-2",children:e.map((l,u)=>_.jsxs("li",{onClick:()=>a(l.id),className:"cursor-pointer hover:bg-gray-100 p-2 rounded",children:[_.jsxs("p",{className:"font-semibold",children:["Conversation: ",l.userFullName||`#${u+1}`]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",l.status]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["User Email: ",l.userEmail]})]},l.id))})]}),_.jsx("div",{className:`flex-1 overflow-y-auto h-full ${i?"block":"hidden md:block"}`,style:{maxHeight:"100vh"},children:i?_.jsx(vb,{conversationId:i,currentUserId:t,role:"staff"}):_.jsx("p",{className:"text-center text-gray-500 mt-4",children:"Please select a conversation."})})]}),i&&_.jsx("button",{onClick:()=>{a(null),window.scrollTo({behavior:"smooth"})},className:"fixed top-24 left-2 z-[39] p-3 bg-gray-300 rounded-full shadow-lg md:hidden",children:_.jsx(H3,{size:20})})]})},WB=()=>{const[t,e]=C.useState([]);C.useEffect(()=>{const h=In(st,"conversations"),f=$c(h,Ff("status","==","pending"),Ff("request","==","sent")),m=Lc(f,v=>{const E=v.docs.map(w=>({id:w.id,...w.data()}));e(E)});return()=>m()},[]);const n=async()=>{const h=vs.currentUser;if(!h)return alert("Admin not logged in."),{adminFirstName:"Unknown",adminLastName:""};let f="",m="";if(h.displayName){const v=h.displayName.split(" ");f=v[0],m=v.slice(1).join(" ")}else{const v=gn(st,"Users",h.uid),E=await sh(v);if(E.exists()){const w=E.data();f=w.firstName||"Unknown",m=w.lastName||""}}return{adminFirstName:f,adminLastName:m}},i=async h=>{if(window.confirm("Approve this conversation?"))try{const{adminFirstName:m,adminLastName:v}=await n();await br(gn(st,"conversations",h.id),{status:"approved",adminFirstName:m,adminLastName:v})}catch(m){console.error("Error approving conversation:",m),alert("Failed to approve conversation. Please try again.")}},a=async h=>{if(window.confirm("Reject this conversation?"))try{await br(gn(st,"conversations",h.id),{status:"rejected"})}catch(m){console.error("Error rejecting conversation:",m),alert("Failed to reject conversation. Please try again.")}},l=h=>{var f;return((f=h.userFullName)==null?void 0:f.trim())||`${h.firstName||""} ${h.lastName||""}`.trim()||"N/A"},u=h=>h?h.toDate?h.toDate().toLocaleString():new Date(h).toLocaleString():"N/A";return _.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[_.jsx(pg,{}),_.jsxs("div",{className:"flex-1 p-4 md:p-6",children:[_.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Pending Conversations"}),_.jsx("div",{className:"overflow-x-auto shadow rounded-lg",children:_.jsxs(c1,{striped:!0,bordered:!0,hover:!0,className:"min-w-full",children:[_.jsx("thead",{className:"bg-gray-200",children:_.jsxs("tr",{children:[_.jsx("th",{className:"p-2",children:"ID"}),_.jsx("th",{className:"p-2",children:"User Full Name"}),_.jsx("th",{className:"p-2",children:"Email"}),_.jsx("th",{className:"p-2",children:"Time"}),_.jsx("th",{className:"p-2",children:"Status"}),_.jsx("th",{className:"p-2",children:"Actions"})]})}),_.jsx("tbody",{children:t.map((h,f)=>_.jsxs("tr",{className:"text-center",children:[_.jsx("td",{className:"p-2",children:f+1}),_.jsx("td",{className:"p-2",children:l(h)}),_.jsx("td",{className:"p-2",children:h.userEmail||"N/A"}),_.jsx("td",{className:"p-2",children:u(h.createdAt)}),_.jsx("td",{className:"p-2",children:h.status}),_.jsx("td",{className:"p-2",children:_.jsxs("div",{className:"flex flex-col md:flex-row gap-2 justify-center",children:[_.jsx(Nn,{variant:"success",size:"sm",onClick:()=>i(h),children:"Approve"}),_.jsx(Nn,{variant:"danger",size:"sm",onClick:()=>a(h),children:"Reject"})]})})]},h.id))})]})})]})]})},QB=()=>{const t=oa(),e=["/Shipments","/AdminMessages","/AdminDashboard","/Messages","/MessageRequest"];return _.jsxs(_.Fragment,{children:[_.jsx(W3,{}),_.jsxs(G2,{children:[_.jsx(Un,{path:"/",element:_.jsx(VB,{})}),_.jsx(Un,{path:"/About",element:_.jsx(LB,{})}),_.jsx(Un,{path:"/Services",element:_.jsx(jB,{})}),_.jsx(Un,{path:"/OurCommitment",element:_.jsx(UB,{})}),_.jsx(Un,{path:"/Contact",element:_.jsx(BB,{})}),_.jsx(Un,{path:"/FirebaseTest",element:_.jsx(FB,{})}),_.jsx(Un,{path:"/TrackPackage",element:_.jsx(zB,{})}),_.jsx(Un,{path:"/UserDashboard",element:_.jsx(HB,{})}),_.jsx(Un,{path:"/ChatHelp",element:_.jsx(qB,{})}),_.jsx(Un,{path:"/Messages",element:_.jsx(vb,{})}),_.jsx(Un,{path:"/AdminDashboard",element:_.jsx(Sm,{requiredRoles:["admin","staff"],children:_.jsx(GB,{})})}),_.jsx(Un,{path:"*",element:_.jsx(cf,{to:"/",replace:!0})}),_.jsx(Un,{path:"/Shipments",element:_.jsx(Sm,{requiredRoles:["admin","staff"],children:_.jsx(KB,{})})}),_.jsx(Un,{path:"*",element:_.jsx(cf,{to:"/",replace:!0})}),_.jsx(Un,{path:"/AdminMessages",element:_.jsx(Sm,{requiredRoles:["admin","staff"],children:_.jsx(YB,{})})}),_.jsx(Un,{path:"*",element:_.jsx(cf,{to:"/",replace:!0})}),_.jsx(Un,{path:"/MessageRequest",element:_.jsx(Sm,{requiredRoles:["admin","staff"],children:_.jsx(WB,{})})}),_.jsx(Un,{path:"*",element:_.jsx(cf,{to:"/",replace:!0})})]}),!e.includes(t.pathname)&&_.jsx(eU,{})]})},XB=C.createContext(),ZB=({children:t})=>{const[e,n]=C.useState(null),[i,a]=C.useState(!0);return C.useEffect(()=>{const l=Mp(vs,async u=>{if(u){const h=await sh(gn(st,"Users",u.uid));h.exists()?n({...u,role:h.data().role}):n(u)}else n(null);a(!1)});return()=>l()},[]),_.jsx(XB.Provider,{value:{user:e,loading:i},children:t})};var Ym={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var JB=Ym.exports,YS;function eF(){return YS||(YS=1,function(t,e){(function(n,i){t.exports=i()})(JB,function(){const n=new Map,i={set(x,g,T){n.has(x)||n.set(x,new Map);const O=n.get(x);O.has(g)||O.size===0?O.set(g,T):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(O.keys())[0]}.`)},get:(x,g)=>n.has(x)&&n.get(x).get(g)||null,remove(x,g){if(!n.has(x))return;const T=n.get(x);T.delete(g),T.size===0&&n.delete(x)}},a="transitionend",l=x=>(x&&window.CSS&&window.CSS.escape&&(x=x.replace(/#([^\s"#']+)/g,(g,T)=>`#${CSS.escape(T)}`)),x),u=x=>{x.dispatchEvent(new Event(a))},h=x=>!(!x||typeof x!="object")&&(x.jquery!==void 0&&(x=x[0]),x.nodeType!==void 0),f=x=>h(x)?x.jquery?x[0]:x:typeof x=="string"&&x.length>0?document.querySelector(l(x)):null,m=x=>{if(!h(x)||x.getClientRects().length===0)return!1;const g=getComputedStyle(x).getPropertyValue("visibility")==="visible",T=x.closest("details:not([open])");if(!T)return g;if(T!==x){const O=x.closest("summary");if(O&&O.parentNode!==T||O===null)return!1}return g},v=x=>!x||x.nodeType!==Node.ELEMENT_NODE||!!x.classList.contains("disabled")||(x.disabled!==void 0?x.disabled:x.hasAttribute("disabled")&&x.getAttribute("disabled")!=="false"),E=x=>{if(!document.documentElement.attachShadow)return null;if(typeof x.getRootNode=="function"){const g=x.getRootNode();return g instanceof ShadowRoot?g:null}return x instanceof ShadowRoot?x:x.parentNode?E(x.parentNode):null},w=()=>{},R=x=>{x.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,H=[],j=()=>document.documentElement.dir==="rtl",M=x=>{var g;g=()=>{const T=k();if(T){const O=x.NAME,G=T.fn[O];T.fn[O]=x.jQueryInterface,T.fn[O].Constructor=x,T.fn[O].noConflict=()=>(T.fn[O]=G,x.jQueryInterface)}},document.readyState==="loading"?(H.length||document.addEventListener("DOMContentLoaded",()=>{for(const T of H)T()}),H.push(g)):g()},q=(x,g=[],T=x)=>typeof x=="function"?x(...g):T,Y=(x,g,T=!0)=>{if(!T)return void q(x);const O=(se=>{if(!se)return 0;let{transitionDuration:ce,transitionDelay:Te}=window.getComputedStyle(se);const me=Number.parseFloat(ce),ve=Number.parseFloat(Te);return me||ve?(ce=ce.split(",")[0],Te=Te.split(",")[0],1e3*(Number.parseFloat(ce)+Number.parseFloat(Te))):0})(g)+5;let G=!1;const X=({target:se})=>{se===g&&(G=!0,g.removeEventListener(a,X),q(x))};g.addEventListener(a,X),setTimeout(()=>{G||u(g)},O)},re=(x,g,T,O)=>{const G=x.length;let X=x.indexOf(g);return X===-1?!T&&O?x[G-1]:x[0]:(X+=T?1:-1,O&&(X=(X+G)%G),x[Math.max(0,Math.min(X,G-1))])},te=/[^.]*(?=\..*)\.|.*/,Q=/\..*/,B=/::\d+$/,D={};let N=1;const U={mouseenter:"mouseover",mouseleave:"mouseout"},F=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $(x,g){return g&&`${g}::${N++}`||x.uidEvent||N++}function L(x){const g=$(x);return x.uidEvent=g,D[g]=D[g]||{},D[g]}function Oe(x,g,T=null){return Object.values(x).find(O=>O.callable===g&&O.delegationSelector===T)}function Ne(x,g,T){const O=typeof g=="string",G=O?T:g||T;let X=tt(x);return F.has(X)||(X=x),[O,G,X]}function fe(x,g,T,O,G){if(typeof g!="string"||!x)return;let[X,se,ce]=Ne(g,T,O);g in U&&(se=(ze=>function(He){if(!He.relatedTarget||He.relatedTarget!==He.delegateTarget&&!He.delegateTarget.contains(He.relatedTarget))return ze.call(this,He)})(se));const Te=L(x),me=Te[ce]||(Te[ce]={}),ve=Oe(me,se,X?T:null);if(ve)return void(ve.oneOff=ve.oneOff&&G);const _e=$(se,g.replace(te,"")),We=X?function(Le,ze,He){return function qe(yt){const Pt=Le.querySelectorAll(ze);for(let{target:ke}=yt;ke&&ke!==this;ke=ke.parentNode)for(const vt of Pt)if(vt===ke)return de(yt,{delegateTarget:ke}),qe.oneOff&&V.off(Le,yt.type,ze,He),He.apply(ke,[yt])}}(x,T,se):function(Le,ze){return function He(qe){return de(qe,{delegateTarget:Le}),He.oneOff&&V.off(Le,qe.type,ze),ze.apply(Le,[qe])}}(x,se);We.delegationSelector=X?T:null,We.callable=se,We.oneOff=G,We.uidEvent=_e,me[_e]=We,x.addEventListener(ce,We,X)}function Ee(x,g,T,O,G){const X=Oe(g[T],O,G);X&&(x.removeEventListener(T,X,!!G),delete g[T][X.uidEvent])}function ye(x,g,T,O){const G=g[T]||{};for(const[X,se]of Object.entries(G))X.includes(O)&&Ee(x,g,T,se.callable,se.delegationSelector)}function tt(x){return x=x.replace(Q,""),U[x]||x}const V={on(x,g,T,O){fe(x,g,T,O,!1)},one(x,g,T,O){fe(x,g,T,O,!0)},off(x,g,T,O){if(typeof g!="string"||!x)return;const[G,X,se]=Ne(g,T,O),ce=se!==g,Te=L(x),me=Te[se]||{},ve=g.startsWith(".");if(X===void 0){if(ve)for(const _e of Object.keys(Te))ye(x,Te,_e,g.slice(1));for(const[_e,We]of Object.entries(me)){const Le=_e.replace(B,"");ce&&!g.includes(Le)||Ee(x,Te,se,We.callable,We.delegationSelector)}}else{if(!Object.keys(me).length)return;Ee(x,Te,se,X,G?T:null)}},trigger(x,g,T){if(typeof g!="string"||!x)return null;const O=k();let G=null,X=!0,se=!0,ce=!1;g!==tt(g)&&O&&(G=O.Event(g,T),O(x).trigger(G),X=!G.isPropagationStopped(),se=!G.isImmediatePropagationStopped(),ce=G.isDefaultPrevented());const Te=de(new Event(g,{bubbles:X,cancelable:!0}),T);return ce&&Te.preventDefault(),se&&x.dispatchEvent(Te),Te.defaultPrevented&&G&&G.preventDefault(),Te}};function de(x,g={}){for(const[T,O]of Object.entries(g))try{x[T]=O}catch{Object.defineProperty(x,T,{configurable:!0,get:()=>O})}return x}function Ce(x){if(x==="true")return!0;if(x==="false")return!1;if(x===Number(x).toString())return Number(x);if(x===""||x==="null")return null;if(typeof x!="string")return x;try{return JSON.parse(decodeURIComponent(x))}catch{return x}}function Se(x){return x.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}const Ae={setDataAttribute(x,g,T){x.setAttribute(`data-bs-${Se(g)}`,T)},removeDataAttribute(x,g){x.removeAttribute(`data-bs-${Se(g)}`)},getDataAttributes(x){if(!x)return{};const g={},T=Object.keys(x.dataset).filter(O=>O.startsWith("bs")&&!O.startsWith("bsConfig"));for(const O of T){let G=O.replace(/^bs/,"");G=G.charAt(0).toLowerCase()+G.slice(1,G.length),g[G]=Ce(x.dataset[O])}return g},getDataAttribute:(x,g)=>Ce(x.getAttribute(`data-bs-${Se(g)}`))};class Be{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(g){return g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g}_mergeConfigObj(g,T){const O=h(T)?Ae.getDataAttribute(T,"config"):{};return{...this.constructor.Default,...typeof O=="object"?O:{},...h(T)?Ae.getDataAttributes(T):{},...typeof g=="object"?g:{}}}_typeCheckConfig(g,T=this.constructor.DefaultType){for(const[G,X]of Object.entries(T)){const se=g[G],ce=h(se)?"element":(O=se)==null?`${O}`:Object.prototype.toString.call(O).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(X).test(ce))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${G}" provided type "${ce}" but expected type "${X}".`)}var O}}class Pe extends Be{constructor(g,T){super(),(g=f(g))&&(this._element=g,this._config=this._getConfig(T),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),V.off(this._element,this.constructor.EVENT_KEY);for(const g of Object.getOwnPropertyNames(this))this[g]=null}_queueCallback(g,T,O=!0){Y(g,T,O)}_getConfig(g){return g=this._mergeConfigObj(g,this._element),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}static getInstance(g){return i.get(f(g),this.DATA_KEY)}static getOrCreateInstance(g,T={}){return this.getInstance(g)||new this(g,typeof T=="object"?T:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(g){return`${g}${this.EVENT_KEY}`}}const Rt=x=>{let g=x.getAttribute("data-bs-target");if(!g||g==="#"){let T=x.getAttribute("href");if(!T||!T.includes("#")&&!T.startsWith("."))return null;T.includes("#")&&!T.startsWith("#")&&(T=`#${T.split("#")[1]}`),g=T&&T!=="#"?T.trim():null}return g?g.split(",").map(T=>l(T)).join(","):null},be={find:(x,g=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(g,x)),findOne:(x,g=document.documentElement)=>Element.prototype.querySelector.call(g,x),children:(x,g)=>[].concat(...x.children).filter(T=>T.matches(g)),parents(x,g){const T=[];let O=x.parentNode.closest(g);for(;O;)T.push(O),O=O.parentNode.closest(g);return T},prev(x,g){let T=x.previousElementSibling;for(;T;){if(T.matches(g))return[T];T=T.previousElementSibling}return[]},next(x,g){let T=x.nextElementSibling;for(;T;){if(T.matches(g))return[T];T=T.nextElementSibling}return[]},focusableChildren(x){const g=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(T=>`${T}:not([tabindex^="-"])`).join(",");return this.find(g,x).filter(T=>!v(T)&&m(T))},getSelectorFromElement(x){const g=Rt(x);return g&&be.findOne(g)?g:null},getElementFromSelector(x){const g=Rt(x);return g?be.findOne(g):null},getMultipleElementsFromSelector(x){const g=Rt(x);return g?be.find(g):[]}},at=(x,g="hide")=>{const T=`click.dismiss${x.EVENT_KEY}`,O=x.NAME;V.on(document,T,`[data-bs-dismiss="${O}"]`,function(G){if(["A","AREA"].includes(this.tagName)&&G.preventDefault(),v(this))return;const X=be.getElementFromSelector(this)||this.closest(`.${O}`);x.getOrCreateInstance(X)[g]()})},pe=".bs.alert",Ve=`close${pe}`,nt=`closed${pe}`;class ot extends Pe{static get NAME(){return"alert"}close(){if(V.trigger(this._element,Ve).defaultPrevented)return;this._element.classList.remove("show");const g=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,g)}_destroyElement(){this._element.remove(),V.trigger(this._element,nt),this.dispose()}static jQueryInterface(g){return this.each(function(){const T=ot.getOrCreateInstance(this);if(typeof g=="string"){if(T[g]===void 0||g.startsWith("_")||g==="constructor")throw new TypeError(`No method named "${g}"`);T[g](this)}})}}at(ot,"close"),M(ot);const Bt='[data-bs-toggle="button"]';class Qe extends Pe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(g){return this.each(function(){const T=Qe.getOrCreateInstance(this);g==="toggle"&&T[g]()})}}V.on(document,"click.bs.button.data-api",Bt,x=>{x.preventDefault();const g=x.target.closest(Bt);Qe.getOrCreateInstance(g).toggle()}),M(Qe);const Jt=".bs.swipe",ts=`touchstart${Jt}`,Cr=`touchmove${Jt}`,Rr=`touchend${Jt}`,Gs=`pointerdown${Jt}`,Ir=`pointerup${Jt}`,wl={endCallback:null,leftCallback:null,rightCallback:null},ca={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class an extends Be{constructor(g,T){super(),this._element=g,g&&an.isSupported()&&(this._config=this._getConfig(T),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return wl}static get DefaultType(){return ca}static get NAME(){return"swipe"}dispose(){V.off(this._element,Jt)}_start(g){this._supportPointerEvents?this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX):this._deltaX=g.touches[0].clientX}_end(g){this._eventIsPointerPenTouch(g)&&(this._deltaX=g.clientX-this._deltaX),this._handleSwipe(),q(this._config.endCallback)}_move(g){this._deltaX=g.touches&&g.touches.length>1?0:g.touches[0].clientX-this._deltaX}_handleSwipe(){const g=Math.abs(this._deltaX);if(g<=40)return;const T=g/this._deltaX;this._deltaX=0,T&&q(T>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(V.on(this._element,Gs,g=>this._start(g)),V.on(this._element,Ir,g=>this._end(g)),this._element.classList.add("pointer-event")):(V.on(this._element,ts,g=>this._start(g)),V.on(this._element,Cr,g=>this._move(g)),V.on(this._element,Rr,g=>this._end(g)))}_eventIsPointerPenTouch(g){return this._supportPointerEvents&&(g.pointerType==="pen"||g.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ci=".bs.carousel",Fe=".data-api",It="next",kn="prev",Ks="left",Nr="right",lh=`slide${Ci}`,Ys=`slid${Ci}`,Dr=`keydown${Ci}`,zn=`mouseenter${Ci}`,Al=`mouseleave${Ci}`,bs=`dragstart${Ci}`,ti=`load${Ci}${Fe}`,Sl=`click${Ci}${Fe}`,xl="carousel",ha="active",ns=".active",Ws=".carousel-item",is=ns+Ws,Fi={ArrowLeft:Nr,ArrowRight:Ks},Or={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},oo={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Es extends Pe{constructor(g,T){super(g,T),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=be.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xl&&this.cycle()}static get Default(){return Or}static get DefaultType(){return oo}static get NAME(){return"carousel"}next(){this._slide(It)}nextWhenVisible(){!document.hidden&&m(this._element)&&this.next()}prev(){this._slide(kn)}pause(){this._isSliding&&u(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?V.one(this._element,Ys,()=>this.cycle()):this.cycle())}to(g){const T=this._getItems();if(g>T.length-1||g<0)return;if(this._isSliding)return void V.one(this._element,Ys,()=>this.to(g));const O=this._getItemIndex(this._getActive());if(O===g)return;const G=g>O?It:kn;this._slide(G,T[g])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(g){return g.defaultInterval=g.interval,g}_addEventListeners(){this._config.keyboard&&V.on(this._element,Dr,g=>this._keydown(g)),this._config.pause==="hover"&&(V.on(this._element,zn,()=>this.pause()),V.on(this._element,Al,()=>this._maybeEnableCycle())),this._config.touch&&an.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const T of be.find(".carousel-item img",this._element))V.on(T,bs,O=>O.preventDefault());const g={leftCallback:()=>this._slide(this._directionToOrder(Ks)),rightCallback:()=>this._slide(this._directionToOrder(Nr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new an(this._element,g)}_keydown(g){if(/input|textarea/i.test(g.target.tagName))return;const T=Fi[g.key];T&&(g.preventDefault(),this._slide(this._directionToOrder(T)))}_getItemIndex(g){return this._getItems().indexOf(g)}_setActiveIndicatorElement(g){if(!this._indicatorsElement)return;const T=be.findOne(ns,this._indicatorsElement);T.classList.remove(ha),T.removeAttribute("aria-current");const O=be.findOne(`[data-bs-slide-to="${g}"]`,this._indicatorsElement);O&&(O.classList.add(ha),O.setAttribute("aria-current","true"))}_updateInterval(){const g=this._activeElement||this._getActive();if(!g)return;const T=Number.parseInt(g.getAttribute("data-bs-interval"),10);this._config.interval=T||this._config.defaultInterval}_slide(g,T=null){if(this._isSliding)return;const O=this._getActive(),G=g===It,X=T||re(this._getItems(),O,G,this._config.wrap);if(X===O)return;const se=this._getItemIndex(X),ce=_e=>V.trigger(this._element,_e,{relatedTarget:X,direction:this._orderToDirection(g),from:this._getItemIndex(O),to:se});if(ce(lh).defaultPrevented||!O||!X)return;const Te=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(se),this._activeElement=X;const me=G?"carousel-item-start":"carousel-item-end",ve=G?"carousel-item-next":"carousel-item-prev";X.classList.add(ve),R(X),O.classList.add(me),X.classList.add(me),this._queueCallback(()=>{X.classList.remove(me,ve),X.classList.add(ha),O.classList.remove(ha,ve,me),this._isSliding=!1,ce(Ys)},O,this._isAnimated()),Te&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return be.findOne(is,this._element)}_getItems(){return be.find(Ws,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(g){return j()?g===Ks?kn:It:g===Ks?It:kn}_orderToDirection(g){return j()?g===kn?Ks:Nr:g===kn?Nr:Ks}static jQueryInterface(g){return this.each(function(){const T=Es.getOrCreateInstance(this,g);if(typeof g!="number"){if(typeof g=="string"){if(T[g]===void 0||g.startsWith("_")||g==="constructor")throw new TypeError(`No method named "${g}"`);T[g]()}}else T.to(g)})}}V.on(document,Sl,"[data-bs-slide], [data-bs-slide-to]",function(x){const g=be.getElementFromSelector(this);if(!g||!g.classList.contains(xl))return;x.preventDefault();const T=Es.getOrCreateInstance(g),O=this.getAttribute("data-bs-slide-to");return O?(T.to(O),void T._maybeEnableCycle()):Ae.getDataAttribute(this,"slide")==="next"?(T.next(),void T._maybeEnableCycle()):(T.prev(),void T._maybeEnableCycle())}),V.on(window,ti,()=>{const x=be.find('[data-bs-ride="carousel"]');for(const g of x)Es.getOrCreateInstance(g)}),M(Es);const zi=".bs.collapse",lo=`show${zi}`,en=`shown${zi}`,xu=`hide${zi}`,kr=`hidden${zi}`,Pr=`click${zi}.data-api`,uo="show",Qs="collapse",ss="collapsing",Ts=`:scope .${Qs} .${Qs}`,on='[data-bs-toggle="collapse"]',yn={parent:null,toggle:!0},Xs={parent:"(null|element)",toggle:"boolean"};class Hi extends Pe{constructor(g,T){super(g,T),this._isTransitioning=!1,this._triggerArray=[];const O=be.find(on);for(const G of O){const X=be.getSelectorFromElement(G),se=be.find(X).filter(ce=>ce===this._element);X!==null&&se.length&&this._triggerArray.push(G)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yn}static get DefaultType(){return Xs}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let g=[];if(this._config.parent&&(g=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(G=>G!==this._element).map(G=>Hi.getOrCreateInstance(G,{toggle:!1}))),g.length&&g[0]._isTransitioning||V.trigger(this._element,lo).defaultPrevented)return;for(const G of g)G.hide();const T=this._getDimension();this._element.classList.remove(Qs),this._element.classList.add(ss),this._element.style[T]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const O=`scroll${T[0].toUpperCase()+T.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ss),this._element.classList.add(Qs,uo),this._element.style[T]="",V.trigger(this._element,en)},this._element,!0),this._element.style[T]=`${this._element[O]}px`}hide(){if(this._isTransitioning||!this._isShown()||V.trigger(this._element,xu).defaultPrevented)return;const g=this._getDimension();this._element.style[g]=`${this._element.getBoundingClientRect()[g]}px`,R(this._element),this._element.classList.add(ss),this._element.classList.remove(Qs,uo);for(const T of this._triggerArray){const O=be.getElementFromSelector(T);O&&!this._isShown(O)&&this._addAriaAndCollapsedClass([T],!1)}this._isTransitioning=!0,this._element.style[g]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ss),this._element.classList.add(Qs),V.trigger(this._element,kr)},this._element,!0)}_isShown(g=this._element){return g.classList.contains(uo)}_configAfterMerge(g){return g.toggle=!!g.toggle,g.parent=f(g.parent),g}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const g=this._getFirstLevelChildren(on);for(const T of g){const O=be.getElementFromSelector(T);O&&this._addAriaAndCollapsedClass([T],this._isShown(O))}}_getFirstLevelChildren(g){const T=be.find(Ts,this._config.parent);return be.find(g,this._config.parent).filter(O=>!T.includes(O))}_addAriaAndCollapsedClass(g,T){if(g.length)for(const O of g)O.classList.toggle("collapsed",!T),O.setAttribute("aria-expanded",T)}static jQueryInterface(g){const T={};return typeof g=="string"&&/show|hide/.test(g)&&(T.toggle=!1),this.each(function(){const O=Hi.getOrCreateInstance(this,T);if(typeof g=="string"){if(O[g]===void 0)throw new TypeError(`No method named "${g}"`);O[g]()}})}}V.on(document,Pr,on,function(x){(x.target.tagName==="A"||x.delegateTarget&&x.delegateTarget.tagName==="A")&&x.preventDefault();for(const g of be.getMultipleElementsFromSelector(this))Hi.getOrCreateInstance(g,{toggle:!1}).toggle()}),M(Hi);var ln="top",Wt="bottom",Pn="right",Qt="left",ws="auto",Hn=[ln,Wt,Pn,Qt],ni="start",Ri="end",Zs="clippingParents",Vt="viewport",As="popper",fa="reference",ii=Hn.reduce(function(x,g){return x.concat([g+"-"+ni,g+"-"+Ri])},[]),qn=[].concat(Hn,[ws]).reduce(function(x,g){return x.concat([g,g+"-"+ni,g+"-"+Ri])},[]),pi="beforeRead",Cu="read",co="afterRead",ho="beforeMain",Cl="main",Js="afterMain",er="beforeWrite",Ii="write",$n="afterWrite",Rl=[pi,Cu,co,ho,Cl,Js,er,Ii,$n];function qi(x){return x?(x.nodeName||"").toLowerCase():null}function vn(x){if(x==null)return window;if(x.toString()!=="[object Window]"){var g=x.ownerDocument;return g&&g.defaultView||window}return x}function rs(x){return x instanceof vn(x).Element||x instanceof Element}function Mn(x){return x instanceof vn(x).HTMLElement||x instanceof HTMLElement}function as(x){return typeof ShadowRoot<"u"&&(x instanceof vn(x).ShadowRoot||x instanceof ShadowRoot)}const Ft={name:"applyStyles",enabled:!0,phase:"write",fn:function(x){var g=x.state;Object.keys(g.elements).forEach(function(T){var O=g.styles[T]||{},G=g.attributes[T]||{},X=g.elements[T];Mn(X)&&qi(X)&&(Object.assign(X.style,O),Object.keys(G).forEach(function(se){var ce=G[se];ce===!1?X.removeAttribute(se):X.setAttribute(se,ce===!0?"":ce)}))})},effect:function(x){var g=x.state,T={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,T.popper),g.styles=T,g.elements.arrow&&Object.assign(g.elements.arrow.style,T.arrow),function(){Object.keys(g.elements).forEach(function(O){var G=g.elements[O],X=g.attributes[O]||{},se=Object.keys(g.styles.hasOwnProperty(O)?g.styles[O]:T[O]).reduce(function(ce,Te){return ce[Te]="",ce},{});Mn(G)&&qi(G)&&(Object.assign(G.style,se),Object.keys(X).forEach(function(ce){G.removeAttribute(ce)}))})}},requires:["computeStyles"]};function Vn(x){return x.split("-")[0]}var Ni=Math.max,tr=Math.min,rt=Math.round;function nr(){var x=navigator.userAgentData;return x!=null&&x.brands&&Array.isArray(x.brands)?x.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function ir(){return!/^((?!chrome|android).)*safari/i.test(nr())}function Ln(x,g,T){g===void 0&&(g=!1),T===void 0&&(T=!1);var O=x.getBoundingClientRect(),G=1,X=1;g&&Mn(x)&&(G=x.offsetWidth>0&&rt(O.width)/x.offsetWidth||1,X=x.offsetHeight>0&&rt(O.height)/x.offsetHeight||1);var se=(rs(x)?vn(x):window).visualViewport,ce=!ir()&&T,Te=(O.left+(ce&&se?se.offsetLeft:0))/G,me=(O.top+(ce&&se?se.offsetTop:0))/X,ve=O.width/G,_e=O.height/X;return{width:ve,height:_e,top:me,right:Te+ve,bottom:me+_e,left:Te,x:Te,y:me}}function Il(x){var g=Ln(x),T=x.offsetWidth,O=x.offsetHeight;return Math.abs(g.width-T)<=1&&(T=g.width),Math.abs(g.height-O)<=1&&(O=g.height),{x:x.offsetLeft,y:x.offsetTop,width:T,height:O}}function fo(x,g){var T=g.getRootNode&&g.getRootNode();if(x.contains(g))return!0;if(T&&as(T)){var O=g;do{if(O&&x.isSameNode(O))return!0;O=O.parentNode||O.host}while(O)}return!1}function $i(x){return vn(x).getComputedStyle(x)}function Nl(x){return["table","td","th"].indexOf(qi(x))>=0}function Ss(x){return((rs(x)?x.ownerDocument:x.document)||window.document).documentElement}function mo(x){return qi(x)==="html"?x:x.assignedSlot||x.parentNode||(as(x)?x.host:null)||Ss(x)}function os(x){return Mn(x)&&$i(x).position!=="fixed"?x.offsetParent:null}function Gn(x){for(var g=vn(x),T=os(x);T&&Nl(T)&&$i(T).position==="static";)T=os(T);return T&&(qi(T)==="html"||qi(T)==="body"&&$i(T).position==="static")?g:T||function(O){var G=/firefox/i.test(nr());if(/Trident/i.test(nr())&&Mn(O)&&$i(O).position==="fixed")return null;var X=mo(O);for(as(X)&&(X=X.host);Mn(X)&&["html","body"].indexOf(qi(X))<0;){var se=$i(X);if(se.transform!=="none"||se.perspective!=="none"||se.contain==="paint"||["transform","perspective"].indexOf(se.willChange)!==-1||G&&se.willChange==="filter"||G&&se.filter&&se.filter!=="none")return X;X=X.parentNode}return null}(x)||g}function Mr(x){return["top","bottom"].indexOf(x)>=0?"x":"y"}function Di(x,g,T){return Ni(x,tr(g,T))}function xs(x){return Object.assign({},{top:0,right:0,bottom:0,left:0},x)}function Cs(x,g){return g.reduce(function(T,O){return T[O]=x,T},{})}const po={name:"arrow",enabled:!0,phase:"main",fn:function(x){var g,T=x.state,O=x.name,G=x.options,X=T.elements.arrow,se=T.modifiersData.popperOffsets,ce=Vn(T.placement),Te=Mr(ce),me=[Qt,Pn].indexOf(ce)>=0?"height":"width";if(X&&se){var ve=function(Ot,At){return xs(typeof(Ot=typeof Ot=="function"?Ot(Object.assign({},At.rects,{placement:At.placement})):Ot)!="number"?Ot:Cs(Ot,Hn))}(G.padding,T),_e=Il(X),We=Te==="y"?ln:Qt,Le=Te==="y"?Wt:Pn,ze=T.rects.reference[me]+T.rects.reference[Te]-se[Te]-T.rects.popper[me],He=se[Te]-T.rects.reference[Te],qe=Gn(X),yt=qe?Te==="y"?qe.clientHeight||0:qe.clientWidth||0:0,Pt=ze/2-He/2,ke=ve[We],vt=yt-_e[me]-ve[Le],Ze=yt/2-_e[me]/2+Pt,lt=Di(ke,Ze,vt),St=Te;T.modifiersData[O]=((g={})[St]=lt,g.centerOffset=lt-Ze,g)}},effect:function(x){var g=x.state,T=x.options.element,O=T===void 0?"[data-popper-arrow]":T;O!=null&&(typeof O!="string"||(O=g.elements.popper.querySelector(O)))&&fo(g.elements.popper,O)&&(g.elements.arrow=O)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sr(x){return x.split("-")[1]}var da={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Oi(x){var g,T=x.popper,O=x.popperRect,G=x.placement,X=x.variation,se=x.offsets,ce=x.position,Te=x.gpuAcceleration,me=x.adaptive,ve=x.roundOffsets,_e=x.isFixed,We=se.x,Le=We===void 0?0:We,ze=se.y,He=ze===void 0?0:ze,qe=typeof ve=="function"?ve({x:Le,y:He}):{x:Le,y:He};Le=qe.x,He=qe.y;var yt=se.hasOwnProperty("x"),Pt=se.hasOwnProperty("y"),ke=Qt,vt=ln,Ze=window;if(me){var lt=Gn(T),St="clientHeight",Ot="clientWidth";lt===vn(T)&&$i(lt=Ss(T)).position!=="static"&&ce==="absolute"&&(St="scrollHeight",Ot="scrollWidth"),(G===ln||(G===Qt||G===Pn)&&X===Ri)&&(vt=Wt,He-=(_e&&lt===Ze&&Ze.visualViewport?Ze.visualViewport.height:lt[St])-O.height,He*=Te?1:-1),G!==Qt&&(G!==ln&&G!==Wt||X!==Ri)||(ke=Pn,Le-=(_e&&lt===Ze&&Ze.visualViewport?Ze.visualViewport.width:lt[Ot])-O.width,Le*=Te?1:-1)}var At,Kt=Object.assign({position:ce},me&&da),oi=ve===!0?function(Ht,mt){var li=Ht.x,Wn=Ht.y,Lt=mt.devicePixelRatio||1;return{x:rt(li*Lt)/Lt||0,y:rt(Wn*Lt)/Lt||0}}({x:Le,y:He},vn(T)):{x:Le,y:He};return Le=oi.x,He=oi.y,Te?Object.assign({},Kt,((At={})[vt]=Pt?"0":"",At[ke]=yt?"0":"",At.transform=(Ze.devicePixelRatio||1)<=1?"translate("+Le+"px, "+He+"px)":"translate3d("+Le+"px, "+He+"px, 0)",At)):Object.assign({},Kt,((g={})[vt]=Pt?He+"px":"",g[ke]=yt?Le+"px":"",g.transform="",g))}const rr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(x){var g=x.state,T=x.options,O=T.gpuAcceleration,G=O===void 0||O,X=T.adaptive,se=X===void 0||X,ce=T.roundOffsets,Te=ce===void 0||ce,me={placement:Vn(g.placement),variation:sr(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:G,isFixed:g.options.strategy==="fixed"};g.modifiersData.popperOffsets!=null&&(g.styles.popper=Object.assign({},g.styles.popper,Oi(Object.assign({},me,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:se,roundOffsets:Te})))),g.modifiersData.arrow!=null&&(g.styles.arrow=Object.assign({},g.styles.arrow,Oi(Object.assign({},me,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Te})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var ki={passive:!0};const Rs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(x){var g=x.state,T=x.instance,O=x.options,G=O.scroll,X=G===void 0||G,se=O.resize,ce=se===void 0||se,Te=vn(g.elements.popper),me=[].concat(g.scrollParents.reference,g.scrollParents.popper);return X&&me.forEach(function(ve){ve.addEventListener("scroll",T.update,ki)}),ce&&Te.addEventListener("resize",T.update,ki),function(){X&&me.forEach(function(ve){ve.removeEventListener("scroll",T.update,ki)}),ce&&Te.removeEventListener("resize",T.update,ki)}},data:{}};var ar={left:"right",right:"left",bottom:"top",top:"bottom"};function Vr(x){return x.replace(/left|right|bottom|top/g,function(g){return ar[g]})}var Is={start:"end",end:"start"};function ls(x){return x.replace(/start|end/g,function(g){return Is[g]})}function ma(x){var g=vn(x);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function un(x){return Ln(Ss(x)).left+ma(x).scrollLeft}function Et(x){var g=$i(x),T=g.overflow,O=g.overflowX,G=g.overflowY;return/auto|scroll|overlay|hidden/.test(T+G+O)}function pa(x){return["html","body","#document"].indexOf(qi(x))>=0?x.ownerDocument.body:Mn(x)&&Et(x)?x:pa(mo(x))}function us(x,g){var T;g===void 0&&(g=[]);var O=pa(x),G=O===((T=x.ownerDocument)==null?void 0:T.body),X=vn(O),se=G?[X].concat(X.visualViewport||[],Et(O)?O:[]):O,ce=g.concat(se);return G?ce:ce.concat(us(mo(se)))}function go(x){return Object.assign({},x,{left:x.x,top:x.y,right:x.x+x.width,bottom:x.y+x.height})}function ga(x,g,T){return g===Vt?go(function(O,G){var X=vn(O),se=Ss(O),ce=X.visualViewport,Te=se.clientWidth,me=se.clientHeight,ve=0,_e=0;if(ce){Te=ce.width,me=ce.height;var We=ir();(We||!We&&G==="fixed")&&(ve=ce.offsetLeft,_e=ce.offsetTop)}return{width:Te,height:me,x:ve+un(O),y:_e}}(x,T)):rs(g)?function(O,G){var X=Ln(O,!1,G==="fixed");return X.top=X.top+O.clientTop,X.left=X.left+O.clientLeft,X.bottom=X.top+O.clientHeight,X.right=X.left+O.clientWidth,X.width=O.clientWidth,X.height=O.clientHeight,X.x=X.left,X.y=X.top,X}(g,T):go(function(O){var G,X=Ss(O),se=ma(O),ce=(G=O.ownerDocument)==null?void 0:G.body,Te=Ni(X.scrollWidth,X.clientWidth,ce?ce.scrollWidth:0,ce?ce.clientWidth:0),me=Ni(X.scrollHeight,X.clientHeight,ce?ce.scrollHeight:0,ce?ce.clientHeight:0),ve=-se.scrollLeft+un(O),_e=-se.scrollTop;return $i(ce||X).direction==="rtl"&&(ve+=Ni(X.clientWidth,ce?ce.clientWidth:0)-Te),{width:Te,height:me,x:ve,y:_e}}(Ss(x)))}function ya(x){var g,T=x.reference,O=x.element,G=x.placement,X=G?Vn(G):null,se=G?sr(G):null,ce=T.x+T.width/2-O.width/2,Te=T.y+T.height/2-O.height/2;switch(X){case ln:g={x:ce,y:T.y-O.height};break;case Wt:g={x:ce,y:T.y+T.height};break;case Pn:g={x:T.x+T.width,y:Te};break;case Qt:g={x:T.x-O.width,y:Te};break;default:g={x:T.x,y:T.y}}var me=X?Mr(X):null;if(me!=null){var ve=me==="y"?"height":"width";switch(se){case ni:g[me]=g[me]-(T[ve]/2-O[ve]/2);break;case Ri:g[me]=g[me]+(T[ve]/2-O[ve]/2)}}return g}function si(x,g){g===void 0&&(g={});var T=g,O=T.placement,G=O===void 0?x.placement:O,X=T.strategy,se=X===void 0?x.strategy:X,ce=T.boundary,Te=ce===void 0?Zs:ce,me=T.rootBoundary,ve=me===void 0?Vt:me,_e=T.elementContext,We=_e===void 0?As:_e,Le=T.altBoundary,ze=Le!==void 0&&Le,He=T.padding,qe=He===void 0?0:He,yt=xs(typeof qe!="number"?qe:Cs(qe,Hn)),Pt=We===As?fa:As,ke=x.rects.popper,vt=x.elements[ze?Pt:We],Ze=function(mt,li,Wn,Lt){var Qi=li==="clippingParents"?function(Nt){var Qn=us(mo(Nt)),ji=["absolute","fixed"].indexOf($i(Nt).position)>=0&&Mn(Nt)?Gn(Nt):Nt;return rs(ji)?Qn.filter(function(pr){return rs(pr)&&fo(pr,ji)&&qi(pr)!=="body"}):[]}(mt):[].concat(li),xn=[].concat(Qi,[Wn]),mr=xn[0],hn=xn.reduce(function(Nt,Qn){var ji=ga(mt,Qn,Lt);return Nt.top=Ni(ji.top,Nt.top),Nt.right=tr(ji.right,Nt.right),Nt.bottom=tr(ji.bottom,Nt.bottom),Nt.left=Ni(ji.left,Nt.left),Nt},ga(mt,mr,Lt));return hn.width=hn.right-hn.left,hn.height=hn.bottom-hn.top,hn.x=hn.left,hn.y=hn.top,hn}(rs(vt)?vt:vt.contextElement||Ss(x.elements.popper),Te,ve,se),lt=Ln(x.elements.reference),St=ya({reference:lt,element:ke,placement:G}),Ot=go(Object.assign({},ke,St)),At=We===As?Ot:lt,Kt={top:Ze.top-At.top+yt.top,bottom:At.bottom-Ze.bottom+yt.bottom,left:Ze.left-At.left+yt.left,right:At.right-Ze.right+yt.right},oi=x.modifiersData.offset;if(We===As&&oi){var Ht=oi[G];Object.keys(Kt).forEach(function(mt){var li=[Pn,Wt].indexOf(mt)>=0?1:-1,Wn=[ln,Wt].indexOf(mt)>=0?"y":"x";Kt[mt]+=Ht[Wn]*li})}return Kt}function va(x,g){g===void 0&&(g={});var T=g,O=T.placement,G=T.boundary,X=T.rootBoundary,se=T.padding,ce=T.flipVariations,Te=T.allowedAutoPlacements,me=Te===void 0?qn:Te,ve=sr(O),_e=ve?ce?ii:ii.filter(function(ze){return sr(ze)===ve}):Hn,We=_e.filter(function(ze){return me.indexOf(ze)>=0});We.length===0&&(We=_e);var Le=We.reduce(function(ze,He){return ze[He]=si(x,{placement:He,boundary:G,rootBoundary:X,padding:se})[Vn(He)],ze},{});return Object.keys(Le).sort(function(ze,He){return Le[ze]-Le[He]})}const Pi={name:"flip",enabled:!0,phase:"main",fn:function(x){var g=x.state,T=x.options,O=x.name;if(!g.modifiersData[O]._skip){for(var G=T.mainAxis,X=G===void 0||G,se=T.altAxis,ce=se===void 0||se,Te=T.fallbackPlacements,me=T.padding,ve=T.boundary,_e=T.rootBoundary,We=T.altBoundary,Le=T.flipVariations,ze=Le===void 0||Le,He=T.allowedAutoPlacements,qe=g.options.placement,yt=Vn(qe),Pt=Te||(yt!==qe&&ze?function(Nt){if(Vn(Nt)===ws)return[];var Qn=Vr(Nt);return[ls(Nt),Qn,ls(Qn)]}(qe):[Vr(qe)]),ke=[qe].concat(Pt).reduce(function(Nt,Qn){return Nt.concat(Vn(Qn)===ws?va(g,{placement:Qn,boundary:ve,rootBoundary:_e,padding:me,flipVariations:ze,allowedAutoPlacements:He}):Qn)},[]),vt=g.rects.reference,Ze=g.rects.popper,lt=new Map,St=!0,Ot=ke[0],At=0;At<ke.length;At++){var Kt=ke[At],oi=Vn(Kt),Ht=sr(Kt)===ni,mt=[ln,Wt].indexOf(oi)>=0,li=mt?"width":"height",Wn=si(g,{placement:Kt,boundary:ve,rootBoundary:_e,altBoundary:We,padding:me}),Lt=mt?Ht?Pn:Qt:Ht?Wt:ln;vt[li]>Ze[li]&&(Lt=Vr(Lt));var Qi=Vr(Lt),xn=[];if(X&&xn.push(Wn[oi]<=0),ce&&xn.push(Wn[Lt]<=0,Wn[Qi]<=0),xn.every(function(Nt){return Nt})){Ot=Kt,St=!1;break}lt.set(Kt,xn)}if(St)for(var mr=function(Nt){var Qn=ke.find(function(ji){var pr=lt.get(ji);if(pr)return pr.slice(0,Nt).every(function(ql){return ql})});if(Qn)return Ot=Qn,"break"},hn=ze?3:1;hn>0&&mr(hn)!=="break";hn--);g.placement!==Ot&&(g.modifiersData[O]._skip=!0,g.placement=Ot,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Dl(x,g,T){return T===void 0&&(T={x:0,y:0}),{top:x.top-g.height-T.y,right:x.right-g.width+T.x,bottom:x.bottom-g.height+T.y,left:x.left-g.width-T.x}}function Ru(x){return[ln,Pn,Wt,Qt].some(function(g){return x[g]>=0})}const Lr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(x){var g=x.state,T=x.name,O=g.rects.reference,G=g.rects.popper,X=g.modifiersData.preventOverflow,se=si(g,{elementContext:"reference"}),ce=si(g,{altBoundary:!0}),Te=Dl(se,O),me=Dl(ce,G,X),ve=Ru(Te),_e=Ru(me);g.modifiersData[T]={referenceClippingOffsets:Te,popperEscapeOffsets:me,isReferenceHidden:ve,hasPopperEscaped:_e},g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-reference-hidden":ve,"data-popper-escaped":_e})}},_a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(x){var g=x.state,T=x.options,O=x.name,G=T.offset,X=G===void 0?[0,0]:G,se=qn.reduce(function(ve,_e){return ve[_e]=function(We,Le,ze){var He=Vn(We),qe=[Qt,ln].indexOf(He)>=0?-1:1,yt=typeof ze=="function"?ze(Object.assign({},Le,{placement:We})):ze,Pt=yt[0],ke=yt[1];return Pt=Pt||0,ke=(ke||0)*qe,[Qt,Pn].indexOf(He)>=0?{x:ke,y:Pt}:{x:Pt,y:ke}}(_e,g.rects,X),ve},{}),ce=se[g.placement],Te=ce.x,me=ce.y;g.modifiersData.popperOffsets!=null&&(g.modifiersData.popperOffsets.x+=Te,g.modifiersData.popperOffsets.y+=me),g.modifiersData[O]=se}},ba={name:"popperOffsets",enabled:!0,phase:"read",fn:function(x){var g=x.state,T=x.name;g.modifiersData[T]=ya({reference:g.rects.reference,element:g.rects.popper,placement:g.placement})},data:{}},Ea={name:"preventOverflow",enabled:!0,phase:"main",fn:function(x){var g=x.state,T=x.options,O=x.name,G=T.mainAxis,X=G===void 0||G,se=T.altAxis,ce=se!==void 0&&se,Te=T.boundary,me=T.rootBoundary,ve=T.altBoundary,_e=T.padding,We=T.tether,Le=We===void 0||We,ze=T.tetherOffset,He=ze===void 0?0:ze,qe=si(g,{boundary:Te,rootBoundary:me,padding:_e,altBoundary:ve}),yt=Vn(g.placement),Pt=sr(g.placement),ke=!Pt,vt=Mr(yt),Ze=vt==="x"?"y":"x",lt=g.modifiersData.popperOffsets,St=g.rects.reference,Ot=g.rects.popper,At=typeof He=="function"?He(Object.assign({},g.rects,{placement:g.placement})):He,Kt=typeof At=="number"?{mainAxis:At,altAxis:At}:Object.assign({mainAxis:0,altAxis:0},At),oi=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,Ht={x:0,y:0};if(lt){if(X){var mt,li=vt==="y"?ln:Qt,Wn=vt==="y"?Wt:Pn,Lt=vt==="y"?"height":"width",Qi=lt[vt],xn=Qi+qe[li],mr=Qi-qe[Wn],hn=Le?-Ot[Lt]/2:0,Nt=Pt===ni?St[Lt]:Ot[Lt],Qn=Pt===ni?-Ot[Lt]:-St[Lt],ji=g.elements.arrow,pr=Le&&ji?Il(ji):{width:0,height:0},ql=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ah=ql[li],Sh=ql[Wn],Po=Di(0,St[Lt],pr[Lt]),kd=ke?St[Lt]/2-hn-Po-Ah-Kt.mainAxis:Nt-Po-Ah-Kt.mainAxis,Tg=ke?-St[Lt]/2+hn+Po+Sh+Kt.mainAxis:Qn+Po+Sh+Kt.mainAxis,tc=g.elements.arrow&&Gn(g.elements.arrow),Pd=tc?vt==="y"?tc.clientTop||0:tc.clientLeft||0:0,xh=(mt=oi==null?void 0:oi[vt])!=null?mt:0,Ch=Qi+Tg-xh,Rh=Di(Le?tr(xn,Qi+kd-xh-Pd):xn,Qi,Le?Ni(mr,Ch):mr);lt[vt]=Rh,Ht[vt]=Rh-Qi}if(ce){var Ih,Md=vt==="x"?ln:Qt,Vd=vt==="x"?Wt:Pn,Gr=lt[Ze],nc=Ze==="y"?"height":"width",Nh=Gr+qe[Md],Ia=Gr-qe[Vd],ic=[ln,Qt].indexOf(yt)!==-1,$l=(Ih=oi==null?void 0:oi[Ze])!=null?Ih:0,Gl=ic?Nh:Gr-St[nc]-Ot[nc]-$l+Kt.altAxis,Dh=ic?Gr+St[nc]+Ot[nc]-$l-Kt.altAxis:Ia,sc=Le&&ic?function(Ld,jd,rc){var Oh=Di(Ld,jd,rc);return Oh>rc?rc:Oh}(Gl,Gr,Dh):Di(Le?Gl:Nh,Gr,Le?Dh:Ia);lt[Ze]=sc,Ht[Ze]=sc-Gr}g.modifiersData[O]=Ht}},requiresIfExists:["offset"]};function Iu(x,g,T){T===void 0&&(T=!1);var O,G,X=Mn(g),se=Mn(g)&&function(_e){var We=_e.getBoundingClientRect(),Le=rt(We.width)/_e.offsetWidth||1,ze=rt(We.height)/_e.offsetHeight||1;return Le!==1||ze!==1}(g),ce=Ss(g),Te=Ln(x,se,T),me={scrollLeft:0,scrollTop:0},ve={x:0,y:0};return(X||!X&&!T)&&((qi(g)!=="body"||Et(ce))&&(me=(O=g)!==vn(O)&&Mn(O)?{scrollLeft:(G=O).scrollLeft,scrollTop:G.scrollTop}:ma(O)),Mn(g)?((ve=Ln(g,!0)).x+=g.clientLeft,ve.y+=g.clientTop):ce&&(ve.x=un(ce))),{x:Te.left+me.scrollLeft-ve.x,y:Te.top+me.scrollTop-ve.y,width:Te.width,height:Te.height}}function yo(x){var g=new Map,T=new Set,O=[];function G(X){T.add(X.name),[].concat(X.requires||[],X.requiresIfExists||[]).forEach(function(se){if(!T.has(se)){var ce=g.get(se);ce&&G(ce)}}),O.push(X)}return x.forEach(function(X){g.set(X.name,X)}),x.forEach(function(X){T.has(X.name)||G(X)}),O}var Nu={placement:"bottom",modifiers:[],strategy:"absolute"};function vo(){for(var x=arguments.length,g=new Array(x),T=0;T<x;T++)g[T]=arguments[T];return!g.some(function(O){return!(O&&typeof O.getBoundingClientRect=="function")})}function Ns(x){x===void 0&&(x={});var g=x,T=g.defaultModifiers,O=T===void 0?[]:T,G=g.defaultOptions,X=G===void 0?Nu:G;return function(se,ce,Te){Te===void 0&&(Te=X);var me,ve,_e={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nu,X),modifiersData:{},elements:{reference:se,popper:ce},attributes:{},styles:{}},We=[],Le=!1,ze={state:_e,setOptions:function(qe){var yt=typeof qe=="function"?qe(_e.options):qe;He(),_e.options=Object.assign({},X,_e.options,yt),_e.scrollParents={reference:rs(se)?us(se):se.contextElement?us(se.contextElement):[],popper:us(ce)};var Pt,ke,vt=function(Ze){var lt=yo(Ze);return Rl.reduce(function(St,Ot){return St.concat(lt.filter(function(At){return At.phase===Ot}))},[])}((Pt=[].concat(O,_e.options.modifiers),ke=Pt.reduce(function(Ze,lt){var St=Ze[lt.name];return Ze[lt.name]=St?Object.assign({},St,lt,{options:Object.assign({},St.options,lt.options),data:Object.assign({},St.data,lt.data)}):lt,Ze},{}),Object.keys(ke).map(function(Ze){return ke[Ze]})));return _e.orderedModifiers=vt.filter(function(Ze){return Ze.enabled}),_e.orderedModifiers.forEach(function(Ze){var lt=Ze.name,St=Ze.options,Ot=St===void 0?{}:St,At=Ze.effect;if(typeof At=="function"){var Kt=At({state:_e,name:lt,instance:ze,options:Ot});We.push(Kt||function(){})}}),ze.update()},forceUpdate:function(){if(!Le){var qe=_e.elements,yt=qe.reference,Pt=qe.popper;if(vo(yt,Pt)){_e.rects={reference:Iu(yt,Gn(Pt),_e.options.strategy==="fixed"),popper:Il(Pt)},_e.reset=!1,_e.placement=_e.options.placement,_e.orderedModifiers.forEach(function(At){return _e.modifiersData[At.name]=Object.assign({},At.data)});for(var ke=0;ke<_e.orderedModifiers.length;ke++)if(_e.reset!==!0){var vt=_e.orderedModifiers[ke],Ze=vt.fn,lt=vt.options,St=lt===void 0?{}:lt,Ot=vt.name;typeof Ze=="function"&&(_e=Ze({state:_e,options:St,name:Ot,instance:ze})||_e)}else _e.reset=!1,ke=-1}}},update:(me=function(){return new Promise(function(qe){ze.forceUpdate(),qe(_e)})},function(){return ve||(ve=new Promise(function(qe){Promise.resolve().then(function(){ve=void 0,qe(me())})})),ve}),destroy:function(){He(),Le=!0}};if(!vo(se,ce))return ze;function He(){We.forEach(function(qe){return qe()}),We=[]}return ze.setOptions(Te).then(function(qe){!Le&&Te.onFirstUpdate&&Te.onFirstUpdate(qe)}),ze}}var Du=Ns(),Ou=Ns({defaultModifiers:[Rs,ba,rr,Ft]}),Ta=Ns({defaultModifiers:[Rs,ba,rr,Ft,_a,Pi,Ea,po,Lr]});const jr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Js,afterRead:co,afterWrite:$n,applyStyles:Ft,arrow:po,auto:ws,basePlacements:Hn,beforeMain:ho,beforeRead:pi,beforeWrite:er,bottom:Wt,clippingParents:Zs,computeStyles:rr,createPopper:Ta,createPopperBase:Du,createPopperLite:Ou,detectOverflow:si,end:Ri,eventListeners:Rs,flip:Pi,hide:Lr,left:Qt,main:Cl,modifierPhases:Rl,offset:_a,placements:qn,popper:As,popperGenerator:Ns,popperOffsets:ba,preventOverflow:Ea,read:Cu,reference:fa,right:Pn,start:ni,top:ln,variationPlacements:ii,viewport:Vt,write:Ii},Symbol.toStringTag,{value:"Module"})),Ol="dropdown",Gi=".bs.dropdown",_o=".data-api",kl="ArrowUp",Ds="ArrowDown",ku=`hide${Gi}`,Pu=`hidden${Gi}`,Mu=`show${Gi}`,Vu=`shown${Gi}`,wa=`click${Gi}${_o}`,Kn=`keydown${Gi}${_o}`,Lu=`keyup${Gi}${_o}`,or="show",Yn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',d=`${Yn}.${or}`,b=".dropdown-menu",A=j()?"top-end":"top-start",P=j()?"top-start":"top-end",J=j()?"bottom-end":"bottom-start",ie=j()?"bottom-start":"bottom-end",xe=j()?"left-start":"right-start",ft=j()?"right-start":"left-start",_n={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},dt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dt extends Pe{constructor(g,T){super(g,T),this._popper=null,this._parent=this._element.parentNode,this._menu=be.next(this._element,b)[0]||be.prev(this._element,b)[0]||be.findOne(b,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _n}static get DefaultType(){return dt}static get NAME(){return Ol}toggle(){return this._isShown()?this.hide():this.show()}show(){if(v(this._element)||this._isShown())return;const g={relatedTarget:this._element};if(!V.trigger(this._element,Mu,g).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const T of[].concat(...document.body.children))V.on(T,"mouseover",w);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(or),this._element.classList.add(or),V.trigger(this._element,Vu,g)}}hide(){if(v(this._element)||!this._isShown())return;const g={relatedTarget:this._element};this._completeHide(g)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(g){if(!V.trigger(this._element,ku,g).defaultPrevented){if("ontouchstart"in document.documentElement)for(const T of[].concat(...document.body.children))V.off(T,"mouseover",w);this._popper&&this._popper.destroy(),this._menu.classList.remove(or),this._element.classList.remove(or),this._element.setAttribute("aria-expanded","false"),Ae.removeDataAttribute(this._menu,"popper"),V.trigger(this._element,Pu,g)}}_getConfig(g){if(typeof(g=super._getConfig(g)).reference=="object"&&!h(g.reference)&&typeof g.reference.getBoundingClientRect!="function")throw new TypeError(`${Ol.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return g}_createPopper(){if(jr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let g=this._element;this._config.reference==="parent"?g=this._parent:h(this._config.reference)?g=f(this._config.reference):typeof this._config.reference=="object"&&(g=this._config.reference);const T=this._getPopperConfig();this._popper=Ta(g,this._menu,T)}_isShown(){return this._menu.classList.contains(or)}_getPlacement(){const g=this._parent;if(g.classList.contains("dropend"))return xe;if(g.classList.contains("dropstart"))return ft;if(g.classList.contains("dropup-center"))return"top";if(g.classList.contains("dropdown-center"))return"bottom";const T=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return g.classList.contains("dropup")?T?P:A:T?ie:J}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:g}=this._config;return typeof g=="string"?g.split(",").map(T=>Number.parseInt(T,10)):typeof g=="function"?T=>g(T,this._element):g}_getPopperConfig(){const g={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ae.setDataAttribute(this._menu,"popper","static"),g.modifiers=[{name:"applyStyles",enabled:!1}]),{...g,...q(this._config.popperConfig,[g])}}_selectMenuItem({key:g,target:T}){const O=be.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(G=>m(G));O.length&&re(O,T,g===Ds,!O.includes(T)).focus()}static jQueryInterface(g){return this.each(function(){const T=Dt.getOrCreateInstance(this,g);if(typeof g=="string"){if(T[g]===void 0)throw new TypeError(`No method named "${g}"`);T[g]()}})}static clearMenus(g){if(g.button===2||g.type==="keyup"&&g.key!=="Tab")return;const T=be.find(d);for(const O of T){const G=Dt.getInstance(O);if(!G||G._config.autoClose===!1)continue;const X=g.composedPath(),se=X.includes(G._menu);if(X.includes(G._element)||G._config.autoClose==="inside"&&!se||G._config.autoClose==="outside"&&se||G._menu.contains(g.target)&&(g.type==="keyup"&&g.key==="Tab"||/input|select|option|textarea|form/i.test(g.target.tagName)))continue;const ce={relatedTarget:G._element};g.type==="click"&&(ce.clickEvent=g),G._completeHide(ce)}}static dataApiKeydownHandler(g){const T=/input|textarea/i.test(g.target.tagName),O=g.key==="Escape",G=[kl,Ds].includes(g.key);if(!G&&!O||T&&!O)return;g.preventDefault();const X=this.matches(Yn)?this:be.prev(this,Yn)[0]||be.next(this,Yn)[0]||be.findOne(Yn,g.delegateTarget.parentNode),se=Dt.getOrCreateInstance(X);if(G)return g.stopPropagation(),se.show(),void se._selectMenuItem(g);se._isShown()&&(g.stopPropagation(),se.hide(),X.focus())}}V.on(document,Kn,Yn,Dt.dataApiKeydownHandler),V.on(document,Kn,b,Dt.dataApiKeydownHandler),V.on(document,wa,Dt.clearMenus),V.on(document,Lu,Dt.clearMenus),V.on(document,wa,Yn,function(x){x.preventDefault(),Dt.getOrCreateInstance(this).toggle()}),M(Dt);const cn="backdrop",Os="show",Sn=`mousedown.bs.${cn}`,ks={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Pl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ml extends Be{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return ks}static get DefaultType(){return Pl}static get NAME(){return cn}show(g){if(!this._config.isVisible)return void q(g);this._append();const T=this._getElement();this._config.isAnimated&&R(T),T.classList.add(Os),this._emulateAnimation(()=>{q(g)})}hide(g){this._config.isVisible?(this._getElement().classList.remove(Os),this._emulateAnimation(()=>{this.dispose(),q(g)})):q(g)}dispose(){this._isAppended&&(V.off(this._element,Sn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add("fade"),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=f(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),V.on(g,Sn,()=>{q(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){Y(g,this._getElement(),this._config.isAnimated)}}const Vl=".bs.focustrap",md=`focusin${Vl}`,uh=`keydown.tab${Vl}`,ju="backward",pd={autofocus:!0,trapElement:null},gd={autofocus:"boolean",trapElement:"element"};class ch extends Be{constructor(g){super(),this._config=this._getConfig(g),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return pd}static get DefaultType(){return gd}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),V.off(document,Vl),V.on(document,md,g=>this._handleFocusin(g)),V.on(document,uh,g=>this._handleKeydown(g)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,V.off(document,Vl))}_handleFocusin(g){const{trapElement:T}=this._config;if(g.target===document||g.target===T||T.contains(g.target))return;const O=be.focusableChildren(T);O.length===0?T.focus():this._lastTabNavDirection===ju?O[O.length-1].focus():O[0].focus()}_handleKeydown(g){g.key==="Tab"&&(this._lastTabNavDirection=g.shiftKey?ju:"forward")}}const yd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",vd=".sticky-top",Uu="padding-right",_d="margin-right";class hh{constructor(){this._element=document.body}getWidth(){const g=document.documentElement.clientWidth;return Math.abs(window.innerWidth-g)}hide(){const g=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Uu,T=>T+g),this._setElementAttributes(yd,Uu,T=>T+g),this._setElementAttributes(vd,_d,T=>T-g)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Uu),this._resetElementAttributes(yd,Uu),this._resetElementAttributes(vd,_d)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(g,T,O){const G=this.getWidth();this._applyManipulationCallback(g,X=>{if(X!==this._element&&window.innerWidth>X.clientWidth+G)return;this._saveInitialAttribute(X,T);const se=window.getComputedStyle(X).getPropertyValue(T);X.style.setProperty(T,`${O(Number.parseFloat(se))}px`)})}_saveInitialAttribute(g,T){const O=g.style.getPropertyValue(T);O&&Ae.setDataAttribute(g,T,O)}_resetElementAttributes(g,T){this._applyManipulationCallback(g,O=>{const G=Ae.getDataAttribute(O,T);G!==null?(Ae.removeDataAttribute(O,T),O.style.setProperty(T,G)):O.style.removeProperty(T)})}_applyManipulationCallback(g,T){if(h(g))T(g);else for(const O of be.find(g,this._element))T(O)}}const zt=".bs.modal",Ll=`hide${zt}`,bd=`hidePrevented${zt}`,fh=`hidden${zt}`,dh=`show${zt}`,Ed=`shown${zt}`,mh=`resize${zt}`,gg=`click.dismiss${zt}`,yg=`mousedown.dismiss${zt}`,bo=`keydown.dismiss${zt}`,ph=`click${zt}.data-api`,Eo="modal-open",Bu="show",Fu="modal-static",Aa={backdrop:!0,focus:!0,keyboard:!0},To={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class lr extends Pe{constructor(g,T){super(g,T),this._dialog=be.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hh,this._addEventListeners()}static get Default(){return Aa}static get DefaultType(){return To}static get NAME(){return"modal"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||this._isTransitioning||V.trigger(this._element,dh,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Eo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(g)))}hide(){this._isShown&&!this._isTransitioning&&(V.trigger(this._element,Ll).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Bu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){V.off(window,zt),V.off(this._dialog,zt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ml({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ch({trapElement:this._element})}_showElement(g){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const T=be.findOne(".modal-body",this._dialog);T&&(T.scrollTop=0),R(this._element),this._element.classList.add(Bu),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,V.trigger(this._element,Ed,{relatedTarget:g})},this._dialog,this._isAnimated())}_addEventListeners(){V.on(this._element,bo,g=>{g.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),V.on(window,mh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),V.on(this._element,yg,g=>{V.one(this._element,gg,T=>{this._element===g.target&&this._element===T.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Eo),this._resetAdjustments(),this._scrollBar.reset(),V.trigger(this._element,fh)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(V.trigger(this._element,bd).defaultPrevented)return;const g=this._element.scrollHeight>document.documentElement.clientHeight,T=this._element.style.overflowY;T==="hidden"||this._element.classList.contains(Fu)||(g||(this._element.style.overflowY="hidden"),this._element.classList.add(Fu),this._queueCallback(()=>{this._element.classList.remove(Fu),this._queueCallback(()=>{this._element.style.overflowY=T},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const g=this._element.scrollHeight>document.documentElement.clientHeight,T=this._scrollBar.getWidth(),O=T>0;if(O&&!g){const G=j()?"paddingLeft":"paddingRight";this._element.style[G]=`${T}px`}if(!O&&g){const G=j()?"paddingRight":"paddingLeft";this._element.style[G]=`${T}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(g,T){return this.each(function(){const O=lr.getOrCreateInstance(this,g);if(typeof g=="string"){if(O[g]===void 0)throw new TypeError(`No method named "${g}"`);O[g](T)}})}}V.on(document,ph,'[data-bs-toggle="modal"]',function(x){const g=be.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&x.preventDefault(),V.one(g,dh,O=>{O.defaultPrevented||V.one(g,fh,()=>{m(this)&&this.focus()})});const T=be.findOne(".modal.show");T&&lr.getInstance(T).hide(),lr.getOrCreateInstance(g).toggle(this)}),at(lr),M(lr);const Ps=".bs.offcanvas",Ur=".data-api",Td=`load${Ps}${Ur}`,gh="show",yh="showing",wd="hiding",Ad=".offcanvas.show",vg=`show${Ps}`,Sd=`shown${Ps}`,xd=`hide${Ps}`,vh=`hidePrevented${Ps}`,Ki=`hidden${Ps}`,Yi=`resize${Ps}`,wo=`click${Ps}${Ur}`,_h=`keydown.dismiss${Ps}`,zu={backdrop:!0,keyboard:!0,scroll:!1},Hu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class cs extends Pe{constructor(g,T){super(g,T),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return zu}static get DefaultType(){return Hu}static get NAME(){return"offcanvas"}toggle(g){return this._isShown?this.hide():this.show(g)}show(g){this._isShown||V.trigger(this._element,vg,{relatedTarget:g}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new hh().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yh),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(gh),this._element.classList.remove(yh),V.trigger(this._element,Sd,{relatedTarget:g})},this._element,!0))}hide(){this._isShown&&(V.trigger(this._element,xd).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(wd),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(gh,wd),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new hh().reset(),V.trigger(this._element,Ki)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const g=!!this._config.backdrop;return new Ml({className:"offcanvas-backdrop",isVisible:g,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:g?()=>{this._config.backdrop!=="static"?this.hide():V.trigger(this._element,vh)}:null})}_initializeFocusTrap(){return new ch({trapElement:this._element})}_addEventListeners(){V.on(this._element,_h,g=>{g.key==="Escape"&&(this._config.keyboard?this.hide():V.trigger(this._element,vh))})}static jQueryInterface(g){return this.each(function(){const T=cs.getOrCreateInstance(this,g);if(typeof g=="string"){if(T[g]===void 0||g.startsWith("_")||g==="constructor")throw new TypeError(`No method named "${g}"`);T[g](this)}})}}V.on(document,wo,'[data-bs-toggle="offcanvas"]',function(x){const g=be.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&x.preventDefault(),v(this))return;V.one(g,Ki,()=>{m(this)&&this.focus()});const T=be.findOne(Ad);T&&T!==g&&cs.getInstance(T).hide(),cs.getOrCreateInstance(g).toggle(this)}),V.on(window,Td,()=>{for(const x of be.find(Ad))cs.getOrCreateInstance(x).show()}),V.on(window,Yi,()=>{for(const x of be.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(x).position!=="fixed"&&cs.getOrCreateInstance(x).hide()}),at(cs),M(cs);const ur={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Cd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ao=(x,g)=>{const T=x.nodeName.toLowerCase();return g.includes(T)?!Cd.has(T)||!!qu.test(x.nodeValue):g.filter(O=>O instanceof RegExp).some(O=>O.test(T))},Rd={allowList:ur,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Wi={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},So={entry:"(string|element|function|null)",selector:"(string|element)"};class xo extends Be{constructor(g){super(),this._config=this._getConfig(g)}static get Default(){return Rd}static get DefaultType(){return Wi}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(g=>this._resolvePossibleFunction(g)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(g){return this._checkContent(g),this._config.content={...this._config.content,...g},this}toHtml(){const g=document.createElement("div");g.innerHTML=this._maybeSanitize(this._config.template);for(const[G,X]of Object.entries(this._config.content))this._setContent(g,X,G);const T=g.children[0],O=this._resolvePossibleFunction(this._config.extraClass);return O&&T.classList.add(...O.split(" ")),T}_typeCheckConfig(g){super._typeCheckConfig(g),this._checkContent(g.content)}_checkContent(g){for(const[T,O]of Object.entries(g))super._typeCheckConfig({selector:T,entry:O},So)}_setContent(g,T,O){const G=be.findOne(O,g);G&&((T=this._resolvePossibleFunction(T))?h(T)?this._putElementInTemplate(f(T),G):this._config.html?G.innerHTML=this._maybeSanitize(T):G.textContent=T:G.remove())}_maybeSanitize(g){return this._config.sanitize?function(T,O,G){if(!T.length)return T;if(G&&typeof G=="function")return G(T);const X=new window.DOMParser().parseFromString(T,"text/html"),se=[].concat(...X.body.querySelectorAll("*"));for(const ce of se){const Te=ce.nodeName.toLowerCase();if(!Object.keys(O).includes(Te)){ce.remove();continue}const me=[].concat(...ce.attributes),ve=[].concat(O["*"]||[],O[Te]||[]);for(const _e of me)Ao(_e,ve)||ce.removeAttribute(_e.nodeName)}return X.body.innerHTML}(g,this._config.allowList,this._config.sanitizeFn):g}_resolvePossibleFunction(g){return q(g,[this])}_putElementInTemplate(g,T){if(this._config.html)return T.innerHTML="",void T.append(g);T.textContent=g.textContent}}const $u=new Set(["sanitize","allowList","sanitizeFn"]),Co="fade",ri="show",Mi=".modal",Br="hide.bs.modal",Vi="hover",hs="focus",Sa={AUTO:"auto",TOP:"top",RIGHT:j()?"left":"right",BOTTOM:"bottom",LEFT:j()?"right":"left"},Id={allowList:ur,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},bh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class cr extends Pe{constructor(g,T){if(jr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(g,T),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Id}static get DefaultType(){return bh}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),V.off(this._element.closest(Mi),Br,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const g=V.trigger(this._element,this.constructor.eventName("show")),T=(E(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(g.defaultPrevented||!T)return;this._disposePopper();const O=this._getTipElement();this._element.setAttribute("aria-describedby",O.getAttribute("id"));const{container:G}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(G.append(O),V.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(O),O.classList.add(ri),"ontouchstart"in document.documentElement)for(const X of[].concat(...document.body.children))V.on(X,"mouseover",w);this._queueCallback(()=>{V.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!V.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ri),"ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))V.off(g,"mouseover",w);this._activeTrigger.click=!1,this._activeTrigger[hs]=!1,this._activeTrigger[Vi]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),V.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(g){const T=this._getTemplateFactory(g).toHtml();if(!T)return null;T.classList.remove(Co,ri),T.classList.add(`bs-${this.constructor.NAME}-auto`);const O=(G=>{do G+=Math.floor(1e6*Math.random());while(document.getElementById(G));return G})(this.constructor.NAME).toString();return T.setAttribute("id",O),this._isAnimated()&&T.classList.add(Co),T}setContent(g){this._newContent=g,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(g){return this._templateFactory?this._templateFactory.changeContent(g):this._templateFactory=new xo({...this._config,content:g,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(g){return this.constructor.getOrCreateInstance(g.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Co)}_isShown(){return this.tip&&this.tip.classList.contains(ri)}_createPopper(g){const T=q(this._config.placement,[this,g,this._element]),O=Sa[T.toUpperCase()];return Ta(this._element,g,this._getPopperConfig(O))}_getOffset(){const{offset:g}=this._config;return typeof g=="string"?g.split(",").map(T=>Number.parseInt(T,10)):typeof g=="function"?T=>g(T,this._element):g}_resolvePossibleFunction(g){return q(g,[this._element])}_getPopperConfig(g){const T={placement:g,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:O=>{this._getTipElement().setAttribute("data-popper-placement",O.state.placement)}}]};return{...T,...q(this._config.popperConfig,[T])}}_setListeners(){const g=this._config.trigger.split(" ");for(const T of g)if(T==="click")V.on(this._element,this.constructor.eventName("click"),this._config.selector,O=>{this._initializeOnDelegatedTarget(O).toggle()});else if(T!=="manual"){const O=T===Vi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),G=T===Vi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");V.on(this._element,O,this._config.selector,X=>{const se=this._initializeOnDelegatedTarget(X);se._activeTrigger[X.type==="focusin"?hs:Vi]=!0,se._enter()}),V.on(this._element,G,this._config.selector,X=>{const se=this._initializeOnDelegatedTarget(X);se._activeTrigger[X.type==="focusout"?hs:Vi]=se._element.contains(X.relatedTarget),se._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},V.on(this._element.closest(Mi),Br,this._hideModalHandler)}_fixTitle(){const g=this._element.getAttribute("title");g&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",g),this._element.setAttribute("data-bs-original-title",g),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(g,T){clearTimeout(this._timeout),this._timeout=setTimeout(g,T)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(g){const T=Ae.getDataAttributes(this._element);for(const O of Object.keys(T))$u.has(O)&&delete T[O];return g={...T,...typeof g=="object"&&g?g:{}},g=this._mergeConfigObj(g),g=this._configAfterMerge(g),this._typeCheckConfig(g),g}_configAfterMerge(g){return g.container=g.container===!1?document.body:f(g.container),typeof g.delay=="number"&&(g.delay={show:g.delay,hide:g.delay}),typeof g.title=="number"&&(g.title=g.title.toString()),typeof g.content=="number"&&(g.content=g.content.toString()),g}_getDelegateConfig(){const g={};for(const[T,O]of Object.entries(this._config))this.constructor.Default[T]!==O&&(g[T]=O);return g.selector=!1,g.trigger="manual",g}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(g){return this.each(function(){const T=cr.getOrCreateInstance(this,g);if(typeof g=="string"){if(T[g]===void 0)throw new TypeError(`No method named "${g}"`);T[g]()}})}}M(cr);const ai={...cr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},jn={...cr.DefaultType,content:"(null|string|element|function)"};class ct extends cr{static get Default(){return ai}static get DefaultType(){return jn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(g){return this.each(function(){const T=ct.getOrCreateInstance(this,g);if(typeof g=="string"){if(T[g]===void 0)throw new TypeError(`No method named "${g}"`);T[g]()}})}}M(ct);const Li=".bs.scrollspy",Ms=`activate${Li}`,Gu=`click${Li}`,xa=`load${Li}.data-api`,Ca="active",Ku="[href]",Ro=".nav-link",jl=`${Ro}, .nav-item > ${Ro}, .list-group-item`,Ul={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Bl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Io extends Pe{constructor(g,T){super(g,T),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ul}static get DefaultType(){return Bl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const g of this._observableSections.values())this._observer.observe(g)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(g){return g.target=f(g.target)||document.body,g.rootMargin=g.offset?`${g.offset}px 0px -30%`:g.rootMargin,typeof g.threshold=="string"&&(g.threshold=g.threshold.split(",").map(T=>Number.parseFloat(T))),g}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(V.off(this._config.target,Gu),V.on(this._config.target,Gu,Ku,g=>{const T=this._observableSections.get(g.target.hash);if(T){g.preventDefault();const O=this._rootElement||window,G=T.offsetTop-this._element.offsetTop;if(O.scrollTo)return void O.scrollTo({top:G,behavior:"smooth"});O.scrollTop=G}}))}_getNewObserver(){const g={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(T=>this._observerCallback(T),g)}_observerCallback(g){const T=se=>this._targetLinks.get(`#${se.target.id}`),O=se=>{this._previousScrollData.visibleEntryTop=se.target.offsetTop,this._process(T(se))},G=(this._rootElement||document.documentElement).scrollTop,X=G>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=G;for(const se of g){if(!se.isIntersecting){this._activeTarget=null,this._clearActiveClass(T(se));continue}const ce=se.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(X&&ce){if(O(se),!G)return}else X||ce||O(se)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const g=be.find(Ku,this._config.target);for(const T of g){if(!T.hash||v(T))continue;const O=be.findOne(decodeURI(T.hash),this._element);m(O)&&(this._targetLinks.set(decodeURI(T.hash),T),this._observableSections.set(T.hash,O))}}_process(g){this._activeTarget!==g&&(this._clearActiveClass(this._config.target),this._activeTarget=g,g.classList.add(Ca),this._activateParents(g),V.trigger(this._element,Ms,{relatedTarget:g}))}_activateParents(g){if(g.classList.contains("dropdown-item"))be.findOne(".dropdown-toggle",g.closest(".dropdown")).classList.add(Ca);else for(const T of be.parents(g,".nav, .list-group"))for(const O of be.prev(T,jl))O.classList.add(Ca)}_clearActiveClass(g){g.classList.remove(Ca);const T=be.find(`${Ku}.${Ca}`,g);for(const O of T)O.classList.remove(Ca)}static jQueryInterface(g){return this.each(function(){const T=Io.getOrCreateInstance(this,g);if(typeof g=="string"){if(T[g]===void 0||g.startsWith("_")||g==="constructor")throw new TypeError(`No method named "${g}"`);T[g]()}})}}V.on(window,xa,()=>{for(const x of be.find('[data-bs-spy="scroll"]'))Io.getOrCreateInstance(x)}),M(Io);const hr=".bs.tab",Nd=`hide${hr}`,Yu=`hidden${hr}`,Dd=`show${hr}`,Fl=`shown${hr}`,Od=`click${hr}`,No=`keydown${hr}`,zl=`load${hr}`,Wu="ArrowLeft",Do="ArrowRight",Qu="ArrowUp",Eh="ArrowDown",Xu="Home",Fr="End",zr="active",Ra="fade",Oo="show",Th=".dropdown-toggle",Hl=`:not(${Th})`,Zu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gi=`.nav-link${Hl}, .list-group-item${Hl}, [role="tab"]${Hl}, ${Zu}`,Vs=`.${zr}[data-bs-toggle="tab"], .${zr}[data-bs-toggle="pill"], .${zr}[data-bs-toggle="list"]`;class yi extends Pe{constructor(g){super(g),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),V.on(this._element,No,T=>this._keydown(T)))}static get NAME(){return"tab"}show(){const g=this._element;if(this._elemIsActive(g))return;const T=this._getActiveElem(),O=T?V.trigger(T,Nd,{relatedTarget:g}):null;V.trigger(g,Dd,{relatedTarget:T}).defaultPrevented||O&&O.defaultPrevented||(this._deactivate(T,g),this._activate(g,T))}_activate(g,T){g&&(g.classList.add(zr),this._activate(be.getElementFromSelector(g)),this._queueCallback(()=>{g.getAttribute("role")==="tab"?(g.removeAttribute("tabindex"),g.setAttribute("aria-selected",!0),this._toggleDropDown(g,!0),V.trigger(g,Fl,{relatedTarget:T})):g.classList.add(Oo)},g,g.classList.contains(Ra)))}_deactivate(g,T){g&&(g.classList.remove(zr),g.blur(),this._deactivate(be.getElementFromSelector(g)),this._queueCallback(()=>{g.getAttribute("role")==="tab"?(g.setAttribute("aria-selected",!1),g.setAttribute("tabindex","-1"),this._toggleDropDown(g,!1),V.trigger(g,Yu,{relatedTarget:T})):g.classList.remove(Oo)},g,g.classList.contains(Ra)))}_keydown(g){if(![Wu,Do,Qu,Eh,Xu,Fr].includes(g.key))return;g.stopPropagation(),g.preventDefault();const T=this._getChildren().filter(G=>!v(G));let O;if([Xu,Fr].includes(g.key))O=T[g.key===Xu?0:T.length-1];else{const G=[Do,Eh].includes(g.key);O=re(T,g.target,G,!0)}O&&(O.focus({preventScroll:!0}),yi.getOrCreateInstance(O).show())}_getChildren(){return be.find(gi,this._parent)}_getActiveElem(){return this._getChildren().find(g=>this._elemIsActive(g))||null}_setInitialAttributes(g,T){this._setAttributeIfNotExists(g,"role","tablist");for(const O of T)this._setInitialAttributesOnChild(O)}_setInitialAttributesOnChild(g){g=this._getInnerElement(g);const T=this._elemIsActive(g),O=this._getOuterElement(g);g.setAttribute("aria-selected",T),O!==g&&this._setAttributeIfNotExists(O,"role","presentation"),T||g.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(g,"role","tab"),this._setInitialAttributesOnTargetPanel(g)}_setInitialAttributesOnTargetPanel(g){const T=be.getElementFromSelector(g);T&&(this._setAttributeIfNotExists(T,"role","tabpanel"),g.id&&this._setAttributeIfNotExists(T,"aria-labelledby",`${g.id}`))}_toggleDropDown(g,T){const O=this._getOuterElement(g);if(!O.classList.contains("dropdown"))return;const G=(X,se)=>{const ce=be.findOne(X,O);ce&&ce.classList.toggle(se,T)};G(Th,zr),G(".dropdown-menu",Oo),O.setAttribute("aria-expanded",T)}_setAttributeIfNotExists(g,T,O){g.hasAttribute(T)||g.setAttribute(T,O)}_elemIsActive(g){return g.classList.contains(zr)}_getInnerElement(g){return g.matches(gi)?g:be.findOne(gi,g)}_getOuterElement(g){return g.closest(".nav-item, .list-group-item")||g}static jQueryInterface(g){return this.each(function(){const T=yi.getOrCreateInstance(this);if(typeof g=="string"){if(T[g]===void 0||g.startsWith("_")||g==="constructor")throw new TypeError(`No method named "${g}"`);T[g]()}})}}V.on(document,Od,Zu,function(x){["A","AREA"].includes(this.tagName)&&x.preventDefault(),v(this)||yi.getOrCreateInstance(this).show()}),V.on(window,zl,()=>{for(const x of be.find(Vs))yi.getOrCreateInstance(x)}),M(yi);const fr=".bs.toast",Hr=`mouseover${fr}`,dr=`mouseout${fr}`,bn=`focusin${fr}`,Ju=`focusout${fr}`,_g=`hide${fr}`,bg=`hidden${fr}`,Eg=`show${fr}`,En=`shown${fr}`,ec="hide",qr="show",$r="showing",wh={animation:"boolean",autohide:"boolean",delay:"number"},ko={animation:!0,autohide:!0,delay:5e3};class Ls extends Pe{constructor(g,T){super(g,T),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ko}static get DefaultType(){return wh}static get NAME(){return"toast"}show(){V.trigger(this._element,Eg).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ec),R(this._element),this._element.classList.add(qr,$r),this._queueCallback(()=>{this._element.classList.remove($r),V.trigger(this._element,En),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(V.trigger(this._element,_g).defaultPrevented||(this._element.classList.add($r),this._queueCallback(()=>{this._element.classList.add(ec),this._element.classList.remove($r,qr),V.trigger(this._element,bg)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(qr),super.dispose()}isShown(){return this._element.classList.contains(qr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(g,T){switch(g.type){case"mouseover":case"mouseout":this._hasMouseInteraction=T;break;case"focusin":case"focusout":this._hasKeyboardInteraction=T}if(T)return void this._clearTimeout();const O=g.relatedTarget;this._element===O||this._element.contains(O)||this._maybeScheduleHide()}_setListeners(){V.on(this._element,Hr,g=>this._onInteraction(g,!0)),V.on(this._element,dr,g=>this._onInteraction(g,!1)),V.on(this._element,bn,g=>this._onInteraction(g,!0)),V.on(this._element,Ju,g=>this._onInteraction(g,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(g){return this.each(function(){const T=Ls.getOrCreateInstance(this,g);if(typeof g=="string"){if(T[g]===void 0)throw new TypeError(`No method named "${g}"`);T[g](this)}})}}return at(Ls),M(Ls),{Alert:ot,Button:Qe,Carousel:Es,Collapse:Hi,Dropdown:Dt,Modal:lr,Offcanvas:cs,Popover:ct,ScrollSpy:Io,Tab:yi,Toast:Ls,Tooltip:cr}})}(Ym)),Ym.exports}eF();n2.createRoot(document.getElementById("root")).render(_.jsxs(ZB,{children:[" ",_.jsx(pD,{basename:"/cargofran",children:_.jsx(QB,{})})]}));
