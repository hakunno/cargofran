(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function nm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sg={exports:{}},fh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function fR(){if(N0)return fh;N0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return fh.Fragment=e,fh.jsx=t,fh.jsxs=t,fh}var O0;function dR(){return O0||(O0=1,sg.exports=fR()),sg.exports}var w=dR(),ag={exports:{}},dh={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function mR(){return D0||(D0=1,function(i){function e(ce,we){var Te=ce.length;ce.push(we);e:for(;0<Te;){var it=Te-1>>>1,N=ce[it];if(0<o(N,we))ce[it]=we,ce[Te]=N,Te=it;else break e}}function t(ce){return ce.length===0?null:ce[0]}function s(ce){if(ce.length===0)return null;var we=ce[0],Te=ce.pop();if(Te!==we){ce[0]=Te;e:for(var it=0,N=ce.length,ue=N>>>1;it<ue;){var Ae=2*(it+1)-1,be=ce[Ae],ye=Ae+1,Ue=ce[ye];if(0>o(be,Te))ye<N&&0>o(Ue,be)?(ce[it]=Ue,ce[ye]=Te,it=ye):(ce[it]=be,ce[Ae]=Te,it=Ae);else if(ye<N&&0>o(Ue,Te))ce[it]=Ue,ce[ye]=Te,it=ye;else break e}}return we}function o(ce,we){var Te=ce.sortIndex-we.sortIndex;return Te!==0?Te:ce.id-we.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],_=[],E=1,S=null,x=3,V=!1,j=!1,X=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ne(ce){for(var we=t(_);we!==null;){if(we.callback===null)s(_);else if(we.startTime<=ce)s(_),we.sortIndex=we.expirationTime,e(g,we);else break;we=t(_)}}function _e(ce){if(X=!1,ne(ce),!j)if(t(g)!==null)j=!0,ke();else{var we=t(_);we!==null&&Ie(_e,we.startTime-ce)}}var Ee=!1,Re=-1,B=5,M=-1;function D(){return!(i.unstable_now()-M<B)}function P(){if(Ee){var ce=i.unstable_now();M=ce;var we=!0;try{e:{j=!1,X&&(X=!1,z(Re),Re=-1),V=!0;var Te=x;try{t:{for(ne(ce),S=t(g);S!==null&&!(S.expirationTime>ce&&D());){var it=S.callback;if(typeof it=="function"){S.callback=null,x=S.priorityLevel;var N=it(S.expirationTime<=ce);if(ce=i.unstable_now(),typeof N=="function"){S.callback=N,ne(ce),we=!0;break t}S===t(g)&&s(g),ne(ce)}else s(g);S=t(g)}if(S!==null)we=!0;else{var ue=t(_);ue!==null&&Ie(_e,ue.startTime-ce),we=!1}}break e}finally{S=null,x=Te,V=!1}we=void 0}}finally{we?U():Ee=!1}}}var U;if(typeof te=="function")U=function(){te(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,O=$.port2;$.port1.onmessage=P,U=function(){O.postMessage(null)}}else U=function(){F(P,0)};function ke(){Ee||(Ee=!0,U())}function Ie(ce,we){Re=F(function(){ce(i.unstable_now())},we)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ce){ce.callback=null},i.unstable_continueExecution=function(){j||V||(j=!0,ke())},i.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ce?Math.floor(1e3/ce):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(ce){switch(x){case 1:case 2:case 3:var we=3;break;default:we=x}var Te=x;x=we;try{return ce()}finally{x=Te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ce,we){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Te=x;x=ce;try{return we()}finally{x=Te}},i.unstable_scheduleCallback=function(ce,we,Te){var it=i.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?it+Te:it):Te=it,ce){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Te+N,ce={id:E++,callback:we,priorityLevel:ce,startTime:Te,expirationTime:N,sortIndex:-1},Te>it?(ce.sortIndex=Te,e(_,ce),t(g)===null&&ce===t(_)&&(X?(z(Re),Re=-1):X=!0,Ie(_e,Te-it))):(ce.sortIndex=N,e(g,ce),j||V||(j=!0,ke())),ce},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ce){var we=x;return function(){var Te=x;x=we;try{return ce.apply(this,arguments)}finally{x=Te}}}}(lg)),lg}var k0;function pR(){return k0||(k0=1,og.exports=mR()),og.exports}var ug={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function gR(){if(M0)return We;M0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,X={};function F(N,ue,Ae){this.props=N,this.context=ue,this.refs=X,this.updater=Ae||V}F.prototype.isReactComponent={},F.prototype.setState=function(N,ue){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ue,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function z(){}z.prototype=F.prototype;function te(N,ue,Ae){this.props=N,this.context=ue,this.refs=X,this.updater=Ae||V}var ne=te.prototype=new z;ne.constructor=te,j(ne,F.prototype),ne.isPureReactComponent=!0;var _e=Array.isArray,Ee={H:null,A:null,T:null,S:null},Re=Object.prototype.hasOwnProperty;function B(N,ue,Ae,be,ye,Ue){return Ae=Ue.ref,{$$typeof:i,type:N,key:ue,ref:Ae!==void 0?Ae:null,props:Ue}}function M(N,ue){return B(N.type,ue,void 0,void 0,void 0,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function P(N){var ue={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Ae){return ue[Ae]})}var U=/\/+/g;function $(N,ue){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):ue.toString(36)}function O(){}function ke(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(O,O):(N.status="pending",N.then(function(ue){N.status==="pending"&&(N.status="fulfilled",N.value=ue)},function(ue){N.status==="pending"&&(N.status="rejected",N.reason=ue)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Ie(N,ue,Ae,be,ye){var Ue=typeof N;(Ue==="undefined"||Ue==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(Ue){case"bigint":case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case i:case e:De=!0;break;case E:return De=N._init,Ie(De(N._payload),ue,Ae,be,ye)}}if(De)return ye=ye(N),De=be===""?"."+$(N,0):be,_e(ye)?(Ae="",De!=null&&(Ae=De.replace(U,"$&/")+"/"),Ie(ye,ue,Ae,"",function(yt){return yt})):ye!=null&&(D(ye)&&(ye=M(ye,Ae+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(U,"$&/")+"/")+De)),ue.push(ye)),1;De=0;var Ct=be===""?".":be+":";if(_e(N))for(var ge=0;ge<N.length;ge++)be=N[ge],Ue=Ct+$(be,ge),De+=Ie(be,ue,Ae,Ue,ye);else if(ge=x(N),typeof ge=="function")for(N=ge.call(N),ge=0;!(be=N.next()).done;)be=be.value,Ue=Ct+$(be,ge++),De+=Ie(be,ue,Ae,Ue,ye);else if(Ue==="object"){if(typeof N.then=="function")return Ie(ke(N),ue,Ae,be,ye);throw ue=String(N),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return De}function ce(N,ue,Ae){if(N==null)return N;var be=[],ye=0;return Ie(N,be,"","",function(Ue){return ue.call(Ae,Ue,ye++)}),be}function we(N){if(N._status===-1){var ue=N._result;ue=ue(),ue.then(function(Ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=Ae)},function(Ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=Ae)}),N._status===-1&&(N._status=0,N._result=ue)}if(N._status===1)return N._result.default;throw N._result}var Te=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function it(){}return We.Children={map:ce,forEach:function(N,ue,Ae){ce(N,function(){ue.apply(this,arguments)},Ae)},count:function(N){var ue=0;return ce(N,function(){ue++}),ue},toArray:function(N){return ce(N,function(ue){return ue})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},We.Component=F,We.Fragment=t,We.Profiler=o,We.PureComponent=te,We.StrictMode=s,We.Suspense=g,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee,We.act=function(){throw Error("act(...) is not supported in production builds of React.")},We.cache=function(N){return function(){return N.apply(null,arguments)}},We.cloneElement=function(N,ue,Ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var be=j({},N.props),ye=N.key,Ue=void 0;if(ue!=null)for(De in ue.ref!==void 0&&(Ue=void 0),ue.key!==void 0&&(ye=""+ue.key),ue)!Re.call(ue,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ue.ref===void 0||(be[De]=ue[De]);var De=arguments.length-2;if(De===1)be.children=Ae;else if(1<De){for(var Ct=Array(De),ge=0;ge<De;ge++)Ct[ge]=arguments[ge+2];be.children=Ct}return B(N.type,ye,void 0,void 0,Ue,be)},We.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},We.createElement=function(N,ue,Ae){var be,ye={},Ue=null;if(ue!=null)for(be in ue.key!==void 0&&(Ue=""+ue.key),ue)Re.call(ue,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ye[be]=ue[be]);var De=arguments.length-2;if(De===1)ye.children=Ae;else if(1<De){for(var Ct=Array(De),ge=0;ge<De;ge++)Ct[ge]=arguments[ge+2];ye.children=Ct}if(N&&N.defaultProps)for(be in De=N.defaultProps,De)ye[be]===void 0&&(ye[be]=De[be]);return B(N,Ue,void 0,void 0,null,ye)},We.createRef=function(){return{current:null}},We.forwardRef=function(N){return{$$typeof:m,render:N}},We.isValidElement=D,We.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:we}},We.memo=function(N,ue){return{$$typeof:_,type:N,compare:ue===void 0?null:ue}},We.startTransition=function(N){var ue=Ee.T,Ae={};Ee.T=Ae;try{var be=N(),ye=Ee.S;ye!==null&&ye(Ae,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(it,Te)}catch(Ue){Te(Ue)}finally{Ee.T=ue}},We.unstable_useCacheRefresh=function(){return Ee.H.useCacheRefresh()},We.use=function(N){return Ee.H.use(N)},We.useActionState=function(N,ue,Ae){return Ee.H.useActionState(N,ue,Ae)},We.useCallback=function(N,ue){return Ee.H.useCallback(N,ue)},We.useContext=function(N){return Ee.H.useContext(N)},We.useDebugValue=function(){},We.useDeferredValue=function(N,ue){return Ee.H.useDeferredValue(N,ue)},We.useEffect=function(N,ue){return Ee.H.useEffect(N,ue)},We.useId=function(){return Ee.H.useId()},We.useImperativeHandle=function(N,ue,Ae){return Ee.H.useImperativeHandle(N,ue,Ae)},We.useInsertionEffect=function(N,ue){return Ee.H.useInsertionEffect(N,ue)},We.useLayoutEffect=function(N,ue){return Ee.H.useLayoutEffect(N,ue)},We.useMemo=function(N,ue){return Ee.H.useMemo(N,ue)},We.useOptimistic=function(N,ue){return Ee.H.useOptimistic(N,ue)},We.useReducer=function(N,ue,Ae){return Ee.H.useReducer(N,ue,Ae)},We.useRef=function(N){return Ee.H.useRef(N)},We.useState=function(N){return Ee.H.useState(N)},We.useSyncExternalStore=function(N,ue,Ae){return Ee.H.useSyncExternalStore(N,ue,Ae)},We.useTransition=function(){return Ee.H.useTransition()},We.version="19.0.0",We}var L0;function g_(){return L0||(L0=1,ug.exports=gR()),ug.exports}var cg={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function _R(){if(P0)return oi;P0=1;var i=g_();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:_,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,oi.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return l(g,_,null,E)},oi.flushSync=function(g){var _=h.T,E=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=_,s.p=E,s.d.f()}},oi.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},oi.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},oi.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,S=m(E,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,V=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:V}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:V,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},oi.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},oi.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=m(E,_.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},oi.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=m(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},oi.requestFormReset=function(g){s.d.r(g)},oi.unstable_batchedUpdates=function(g,_){return g(_)},oi.useFormState=function(g,_,E){return h.H.useFormState(g,_,E)},oi.useFormStatus=function(){return h.H.useHostTransitionStatus()},oi.version="19.0.0",oi}var V0;function Gb(){if(V0)return cg.exports;V0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cg.exports=_R(),cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function yR(){if(U0)return dh;U0=1;var i=pR(),e=g_(),t=Gb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),_e=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function Re(n){return n===null||typeof n!="object"?null:(n=Ee&&n[Ee]||n["@@iterator"],typeof n=="function"?n:null)}var B=Symbol.for("react.client.reference");function M(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===B?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case _:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case j:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return r=n.displayName||null,r!==null?r:M(n.type)||"Memo";case te:r=n._payload,n=n._init;try{return M(n(r))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,U,$;function O(n){if(U===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);U=r&&r[1]||"",$=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+n+$}var ke=!1;function Ie(n,r){if(!n||ke)return"";ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var Z=ie}Reflect.construct(n,[],fe)}else{try{fe.call()}catch(ie){Z=ie}n.call(fe.prototype)}}else{try{throw Error()}catch(ie){Z=ie}(fe=n())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&Z&&typeof ie.stack=="string")return[ie.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],R=p[1];if(T&&R){var L=T.split(`
`),G=R.split(`
`);for(f=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===L.length||f===G.length)for(u=L.length-1,f=G.length-1;1<=u&&0<=f&&L[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(L[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||L[u]!==G[f]){var re=`
`+L[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=f);break}}}finally{ke=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function ce(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function we(n){try{var r="";do r+=ce(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Te(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function it(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function N(n){if(Te(n)!==n)throw Error(s(188))}function ue(n){var r=n.alternate;if(!r){if(r=Te(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return N(f),n;if(p===u)return N(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=p;else{for(var T=!1,R=f.child;R;){if(R===a){T=!0,a=f,u=p;break}if(R===u){T=!0,u=f,a=p;break}R=R.sibling}if(!T){for(R=p.child;R;){if(R===a){T=!0,a=p,u=f;break}if(R===u){T=!0,u=p,a=f;break}R=R.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function Ae(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=Ae(n),r!==null)return r;n=n.sibling}return null}var be=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue={pending:!1,data:null,method:null,action:null},De=[],Ct=-1;function ge(n){return{current:n}}function yt(n){0>Ct||(n.current=De[Ct],De[Ct]=null,Ct--)}function Ze(n,r){Ct++,De[Ct]=n.current,n.current=r}var Wt=ge(null),In=ge(null),Ft=ge(null),Nn=ge(null);function Je(n,r){switch(Ze(Ft,r),Ze(In,n),Ze(Wt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?s0(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=s0(n),r=a0(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}yt(Wt),Ze(Wt,r)}function on(){yt(Wt),yt(In),yt(Ft)}function qi(n){n.memoizedState!==null&&Ze(Nn,n);var r=Wt.current,a=a0(r,n.type);r!==a&&(Ze(In,n),Ze(Wt,a))}function ls(n){In.current===n&&(yt(Wt),yt(In)),Nn.current===n&&(yt(Nn),oh._currentValue=Ue)}var us=Object.prototype.hasOwnProperty,Or=i.unstable_scheduleCallback,cs=i.unstable_cancelCallback,Zo=i.unstable_shouldYield,qs=i.unstable_requestPaint,Xt=i.unstable_now,mi=i.unstable_getCurrentPriorityLevel,Ve=i.unstable_ImmediatePriority,Tt=i.unstable_UserBlockingPriority,bn=i.unstable_NormalPriority,Dr=i.unstable_LowPriority,hs=i.unstable_IdlePriority,gc=i.log,kr=i.unstable_setDisableYieldValue,fs=null,On=null;function Jo(n){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(fs,n,void 0,(n.current.flags&128)===128)}catch{}}function or(n){if(typeof gc=="function"&&kr(n),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(fs,n)}catch{}}var qn=Math.clz32?Math.clz32:$s,el=Math.log,tl=Math.LN2;function $s(n){return n>>>=0,n===0?32:31-(el(n)/tl|0)|0}var $i=128,Mr=4194304;function Gi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ci(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,p=n.pingedLanes,T=n.warmLanes;n=n.finishedLanes!==0;var R=a&134217727;return R!==0?(a=R&~f,a!==0?u=Gi(a):(p&=R,p!==0?u=Gi(p):n||(T=R&~T,T!==0&&(u=Gi(T))))):(R=a&~f,R!==0?u=Gi(R):p!==0?u=Gi(p):n||(T=a&~T,T!==0&&(u=Gi(T)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,T=r&-r,f>=T||f===32&&(T&4194176)!==0)?r:u}function ds(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function za(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lr(){var n=$i;return $i<<=1,($i&4194176)===0&&($i=128),n}function xi(){var n=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),n}function Ba(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Gt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ql(n,r,a,u,f,p){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var R=n.entanglements,L=n.expirationTimes,G=n.hiddenUpdates;for(a=T&~a;0<a;){var re=31-qn(a),fe=1<<re;R[re]=0,L[re]=-1;var Z=G[re];if(Z!==null)for(G[re]=null,re=0;re<Z.length;re++){var ie=Z[re];ie!==null&&(ie.lane&=-536870913)}a&=~fe}u!==0&&ms(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~r))}function ms(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-qn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function ps(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-qn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Fa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Lr(){var n=ye.p;return n!==0?n:(n=window.event,n===void 0?32:A0(n.type))}function Ki(n,r){var a=ye.p;try{return ye.p=n,r()}finally{ye.p=a}}var ur=Math.random().toString(36).slice(2),Zt="__reactFiber$"+ur,ln="__reactProps$"+ur,Pr="__reactContainer$"+ur,Ii="__reactEvents$"+ur,Jt="__reactListeners$"+ur,Ht="__reactHandles$"+ur,Tn="__reactResources$"+ur,qt="__reactMarker$"+ur;function cr(n){delete n[Zt],delete n[ln],delete n[Ii],delete n[Jt],delete n[Ht]}function Dn(n){var r=n[Zt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Pr]||a[Zt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=u0(n);n!==null;){if(a=n[Zt])return a;n=u0(n)}return r}n=a,a=n.parentNode}return null}function $n(n){if(n=n[Zt]||n[Pr]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function pi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Vr(n){var r=n[Tn];return r||(r=n[Tn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(n){n[qt]=!0}var hr=new Set,Gs={};function Gn(n,r){kn(n,r),kn(n+"Capture",r)}function kn(n,r){for(Gs[n]=r,n=0;n<r.length;n++)hr.add(r[n])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ha={},qa={};function nl(n){return us.call(qa,n)?!0:us.call(Ha,n)?!1:Yl.test(n)?qa[n]=!0:(Ha[n]=!0,!1)}function Ur(n,r,a){if(nl(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function jr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function gi(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function Mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function il(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ni(n){var r=il(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function un(n){n._valueTracker||(n._valueTracker=Ni(n))}function Qi(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=il(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function wn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yi=/[\n"\\]/g;function Lt(n){return n.replace(Yi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function An(n,r,a,u,f,p,T,R){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Mn(r)):n.value!==""+Mn(r)&&(n.value=""+Mn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?zr(n,T,Mn(r)):a!=null?zr(n,T,Mn(a)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+Mn(R):n.removeAttribute("name")}function _i(n,r,a,u,f,p,T,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+Mn(a):"",r=r!=null?""+Mn(r):a,R||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=R?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function zr(n,r,a){r==="number"&&wn(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function et(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Mn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Br(n,r,a){if(r!=null&&(r=""+Mn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Mn(a):""}function Fr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(be(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Mn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Sn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var rl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $a(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||rl.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Oi(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&$a(n,f,u)}else for(var p in r)r.hasOwnProperty(p)&&$a(n,p,r[p])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ga=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(n){return Ga.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ln=null;function gs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yi=null,dr=null;function mr(n){var r=$n(n);if(r&&(n=r.stateNode)){var a=n[ln]||null;e:switch(n=r.stateNode,r.type){case"input":if(An(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[ln]||null;if(!f)throw Error(s(90));An(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&Qi(u)}break e;case"textarea":Br(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&et(n,!!a.multiple,r,!1)}}}var Ka=!1;function Hr(n,r,a){if(Ka)return n(r,a);Ka=!0;try{var u=n(r);return u}finally{if(Ka=!1,(yi!==null||dr!==null)&&(jf(),yi&&(r=yi,n=dr,dr=yi=null,mr(r),n)))for(r=0;r<n.length;r++)mr(n[r])}}function Ks(n,r){var a=n.stateNode;if(a===null)return null;var u=a[ln]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var vi=!1;if(ii)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){vi=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{vi=!1}var Ei=null,pr=null,$r=null;function _s(){if($r)return $r;var n,r=pr,a=r.length,u,f="value"in Ei?Ei.value:Ei.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(u=1;u<=T&&r[a-u]===f[p-u];u++);return $r=f.slice(n,1<u?1-u:void 0)}function gr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Xi(){return!0}function Qs(){return!1}function en(n){function r(a,u,f,p,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Xi:Qs,this.isPropagationStopped=Qs,this}return P(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=en(pt),Zi=P({},pt,{view:0,detail:0}),Qa=en(Zi),Ws,Xs,Kn,Zs=P({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kn&&(Kn&&n.type==="mousemove"?(Ws=n.screenX-Kn.screenX,Xs=n.screenY-Kn.screenY):Xs=Ws=0,Kn=n),Ws)},movementY:function(n){return"movementY"in n?n.movementY:Xs}}),bi=en(Zs),al=P({},Zs,{dataTransfer:0}),Wl=en(al),ys=P({},Zi,{relatedTarget:0}),Js=en(ys),ea=P({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=en(ea),Xl=P({},pt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ya=en(Xl),Zl=P({},pt,{data:0}),Wa=en(Zl),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=eu[n])?!!r[n]:!1}function vs(){return na}var ol=P({},Zi,{key:function(n){if(n.key){var r=_r[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Jl[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(n){return n.type==="keypress"?gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Di=en(ol),Xa=P({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=en(Xa),yr=P({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),tu=en(yr),nu=P({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=en(nu),ru=P({},Zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=en(ru),Pn=P({},pt,{newState:0,oldState:0}),su=en(Pn),Gr=[9,13,27,32],Vn=ii&&"CompositionEvent"in window,c=null;ii&&"documentMode"in document&&(c=document.documentMode);var y=ii&&"TextEvent"in window&&!c,b=ii&&(!Vn||c&&8<c&&11>=c),I=" ",Y=!1;function J(n,r){switch(n){case"keyup":return Gr.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var at=!1;function cn(n,r){switch(n){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(Y=!0,I);case"textInput":return n=r.data,n===I&&Y?null:n;default:return null}}function ot(n,r){if(at)return n==="compositionend"||!Vn&&J(n,r)?(n=_s(),$r=pr=Ei=null,at=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var At={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!At[n.type]:r==="textarea"}function vr(n,r,a,u){yi?dr?dr.push(u):dr=[u]:yi=u,r=qf(r,"onChange"),0<r.length&&(a=new Ys("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var pn=null,Er=null;function ul(n){e0(n,0)}function cl(n){var r=pi(n);if(Qi(r))return n}function hl(n,r){if(n==="change")return r}var tf=!1;if(ii){var _c;if(ii){var au="oninput"in document;if(!au){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),au=typeof nf.oninput=="function"}_c=au}else _c=!1;tf=_c&&(!document.documentMode||9<document.documentMode)}function rf(){pn&&(pn.detachEvent("onpropertychange",yc),Er=pn=null)}function yc(n){if(n.propertyName==="value"&&cl(Er)){var r=[];vr(r,Er,n,gs(n)),Hr(ul,r)}}function sf(n,r,a){n==="focusin"?(rf(),pn=r,Er=a,pn.attachEvent("onpropertychange",yc)):n==="focusout"&&rf()}function af(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cl(Er)}function ou(n,r){if(n==="click")return cl(r)}function of(n,r){if(n==="input"||n==="change")return cl(r)}function vc(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Pt=typeof Object.is=="function"?Object.is:vc;function fl(n,r){if(Pt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!us.call(r,f)||!Pt(n[f],r[f]))return!1}return!0}function lf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ec(n,r){var a=lf(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lf(a)}}function bc(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?bc(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function uf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=wn(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=wn(n.document)}return r}function Tc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Vm(n,r){var a=uf(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&bc(r.ownerDocument.documentElement,r)){if(u!==null&&Tc(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!a.extend&&p>u&&(f=u,u=p,p=f),f=Ec(r,p);var T=Ec(r,u);f&&T&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),p>u?(a.addRange(n),a.extend(T.node,T.offset)):(n.setEnd(T.node,T.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Um=ii&&"documentMode"in document&&11>=document.documentMode,Za=null,wc=null,Ja=null,lu=!1;function uu(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lu||Za==null||Za!==wn(u)||(u=Za,"selectionStart"in u&&Tc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ja&&fl(Ja,u)||(Ja=u,u=qf(wc,"onSelect"),0<u.length&&(r=new Ys("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=Za)))}function ra(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var eo={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Kr={},br={};ii&&(br=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Es(n){if(Kr[n])return Kr[n];if(!eo[n])return n;var r=eo[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in br)return Kr[n]=r[a];return n}var cf=Es("animationend"),Ac=Es("animationiteration"),Sc=Es("animationstart"),hf=Es("transitionrun"),ff=Es("transitionstart"),jm=Es("transitioncancel"),df=Es("transitionend"),mf=new Map,Rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ki(n,r){mf.set(n,r),Gn(r,[n])}var Mi=[],to=0,Cc=0;function cu(){for(var n=to,r=Cc=to=0;r<n;){var a=Mi[r];Mi[r++]=null;var u=Mi[r];Mi[r++]=null;var f=Mi[r];Mi[r++]=null;var p=Mi[r];if(Mi[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&pf(a,f,p)}}function hu(n,r,a,u){Mi[to++]=n,Mi[to++]=r,Mi[to++]=a,Mi[to++]=u,Cc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ji(n,r,a,u){return hu(n,r,a,u),fu(n)}function Qr(n,r){return hu(n,null,null,r),fu(n)}function pf(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&r!==null&&n.tag===3&&(p=n.stateNode,f=31-qn(a),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[r]:n.push(r),r.lane=a|536870912)}function fu(n){if(50<eh)throw eh=0,Ip=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var no={},gf=new WeakMap;function Li(n,r){if(typeof n=="object"&&n!==null){var a=gf.get(n);return a!==void 0?a:(r={value:n,source:r,stack:we(r)},gf.set(n,r),r)}return{value:n,source:r,stack:we(r)}}var io=[],ro=0,du=null,so=0,Qn=[],Ti=0,bs=null,wi=1,er="";function sa(n,r){io[ro++]=so,io[ro++]=du,du=n,so=r}function _f(n,r,a){Qn[Ti++]=wi,Qn[Ti++]=er,Qn[Ti++]=bs,bs=n;var u=wi;n=er;var f=32-qn(u)-1;u&=~(1<<f),a+=1;var p=32-qn(r)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,wi=1<<32-qn(r)+f|a<<f|u,er=p+n}else wi=1<<p|a<<f|u,er=n}function xc(n){n.return!==null&&(sa(n,1),_f(n,1,0))}function Yr(n){for(;n===du;)du=io[--ro],io[ro]=null,so=io[--ro],io[ro]=null;for(;n===bs;)bs=Qn[--Ti],Qn[Ti]=null,er=Qn[--Ti],Qn[Ti]=null,wi=Qn[--Ti],Qn[Ti]=null}var Yn=null,Rn=null,rt=!1,Ai=null,Tr=!1,mu=Error(s(519));function aa(n){var r=Error(s(418,""));throw ml(Li(r,n)),mu}function oa(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Zt]=n,r[ln]=u,a){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(a=0;a<nh.length;a++)dt(nh[a],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":dt("invalid",r),_i(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),un(r);break;case"select":dt("invalid",r);break;case"textarea":dt("invalid",r),Fr(r,u.value,u.defaultValue,u.children),un(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||r0(r.textContent,a)?(u.popover!=null&&(dt("beforetoggle",r),dt("toggle",r)),u.onScroll!=null&&dt("scroll",r),u.onScrollEnd!=null&&dt("scrollend",r),u.onClick!=null&&(r.onclick=$f),r=!0):r=!1,r||aa(n)}function pu(n){for(Yn=n.return;Yn;)switch(Yn.tag){case 3:case 27:Tr=!0;return;case 5:case 13:Tr=!1;return;default:Yn=Yn.return}}function ao(n){if(n!==Yn)return!1;if(!rt)return pu(n),rt=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Gp(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Rn&&aa(n),pu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Rn=ns(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Rn=null}}else Rn=Yn?ns(n.stateNode.nextSibling):null;return!0}function dl(){Rn=Yn=null,rt=!1}function ml(n){Ai===null?Ai=[n]:Ai.push(n)}var pl=Error(s(460)),oo=Error(s(474)),Wr={then:function(){}};function yf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gu(){}function vf(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(gu,gu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===pl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(gu,gu);else{if(n=Ut,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===pl?Error(s(483)):n}throw gl=r,pl}}var gl=null;function Ef(){if(gl===null)throw Error(s(459));var n=gl;return gl=null,n}var lo=null,_l=0;function _u(n){var r=_l;return _l+=1,lo===null&&(lo=[]),vf(lo,n,r)}function uo(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function yu(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ic(n){var r=n._init;return r(n._payload)}function vu(n){function r(Q,q){if(n){var W=Q.deletions;W===null?(Q.deletions=[q],Q.flags|=16):W.push(q)}}function a(Q,q){if(!n)return null;for(;q!==null;)r(Q,q),q=q.sibling;return null}function u(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function f(Q,q){return Q=To(Q,q),Q.index=0,Q.sibling=null,Q}function p(Q,q,W){return Q.index=W,n?(W=Q.alternate,W!==null?(W=W.index,W<q?(Q.flags|=33554434,q):W):(Q.flags|=33554434,q)):(Q.flags|=1048576,q)}function T(Q){return n&&Q.alternate===null&&(Q.flags|=33554434),Q}function R(Q,q,W,se){return q===null||q.tag!==6?(q=bp(W,Q.mode,se),q.return=Q,q):(q=f(q,W),q.return=Q,q)}function L(Q,q,W,se){var xe=W.type;return xe===g?re(Q,q,W.props.children,se,W.key):q!==null&&(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===te&&Ic(xe)===q.type)?(q=f(q,W.props),uo(q,W),q.return=Q,q):(q=Mf(W.type,W.key,W.props,null,Q.mode,se),uo(q,W),q.return=Q,q)}function G(Q,q,W,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Tp(W,Q.mode,se),q.return=Q,q):(q=f(q,W.children||[]),q.return=Q,q)}function re(Q,q,W,se,xe){return q===null||q.tag!==7?(q=xl(W,Q.mode,se,xe),q.return=Q,q):(q=f(q,W),q.return=Q,q)}function fe(Q,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=bp(""+q,Q.mode,W),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return W=Mf(q.type,q.key,q.props,null,Q.mode,W),uo(W,q),W.return=Q,W;case m:return q=Tp(q,Q.mode,W),q.return=Q,q;case te:var se=q._init;return q=se(q._payload),fe(Q,q,W)}if(be(q)||Re(q))return q=xl(q,Q.mode,W,null),q.return=Q,q;if(typeof q.then=="function")return fe(Q,_u(q),W);if(q.$$typeof===V)return fe(Q,Of(Q,q),W);yu(Q,q)}return null}function Z(Q,q,W,se){var xe=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return xe!==null?null:R(Q,q,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return W.key===xe?L(Q,q,W,se):null;case m:return W.key===xe?G(Q,q,W,se):null;case te:return xe=W._init,W=xe(W._payload),Z(Q,q,W,se)}if(be(W)||Re(W))return xe!==null?null:re(Q,q,W,se,null);if(typeof W.then=="function")return Z(Q,q,_u(W),se);if(W.$$typeof===V)return Z(Q,q,Of(Q,W),se);yu(Q,W)}return null}function ie(Q,q,W,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Q=Q.get(W)||null,R(q,Q,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case h:return Q=Q.get(se.key===null?W:se.key)||null,L(q,Q,se,xe);case m:return Q=Q.get(se.key===null?W:se.key)||null,G(q,Q,se,xe);case te:var nt=se._init;return se=nt(se._payload),ie(Q,q,W,se,xe)}if(be(se)||Re(se))return Q=Q.get(W)||null,re(q,Q,se,xe,null);if(typeof se.then=="function")return ie(Q,q,W,_u(se),xe);if(se.$$typeof===V)return ie(Q,q,W,Of(q,se),xe);yu(q,se)}return null}function Oe(Q,q,W,se){for(var xe=null,nt=null,Le=q,Fe=q=0,Fn=null;Le!==null&&Fe<W.length;Fe++){Le.index>Fe?(Fn=Le,Le=null):Fn=Le.sibling;var bt=Z(Q,Le,W[Fe],se);if(bt===null){Le===null&&(Le=Fn);break}n&&Le&&bt.alternate===null&&r(Q,Le),q=p(bt,q,Fe),nt===null?xe=bt:nt.sibling=bt,nt=bt,Le=Fn}if(Fe===W.length)return a(Q,Le),rt&&sa(Q,Fe),xe;if(Le===null){for(;Fe<W.length;Fe++)Le=fe(Q,W[Fe],se),Le!==null&&(q=p(Le,q,Fe),nt===null?xe=Le:nt.sibling=Le,nt=Le);return rt&&sa(Q,Fe),xe}for(Le=u(Le);Fe<W.length;Fe++)Fn=ie(Le,Q,Fe,W[Fe],se),Fn!==null&&(n&&Fn.alternate!==null&&Le.delete(Fn.key===null?Fe:Fn.key),q=p(Fn,q,Fe),nt===null?xe=Fn:nt.sibling=Fn,nt=Fn);return n&&Le.forEach(function(Io){return r(Q,Io)}),rt&&sa(Q,Fe),xe}function Qe(Q,q,W,se){if(W==null)throw Error(s(151));for(var xe=null,nt=null,Le=q,Fe=q=0,Fn=null,bt=W.next();Le!==null&&!bt.done;Fe++,bt=W.next()){Le.index>Fe?(Fn=Le,Le=null):Fn=Le.sibling;var Io=Z(Q,Le,bt.value,se);if(Io===null){Le===null&&(Le=Fn);break}n&&Le&&Io.alternate===null&&r(Q,Le),q=p(Io,q,Fe),nt===null?xe=Io:nt.sibling=Io,nt=Io,Le=Fn}if(bt.done)return a(Q,Le),rt&&sa(Q,Fe),xe;if(Le===null){for(;!bt.done;Fe++,bt=W.next())bt=fe(Q,bt.value,se),bt!==null&&(q=p(bt,q,Fe),nt===null?xe=bt:nt.sibling=bt,nt=bt);return rt&&sa(Q,Fe),xe}for(Le=u(Le);!bt.done;Fe++,bt=W.next())bt=ie(Le,Q,Fe,bt.value,se),bt!==null&&(n&&bt.alternate!==null&&Le.delete(bt.key===null?Fe:bt.key),q=p(bt,q,Fe),nt===null?xe=bt:nt.sibling=bt,nt=bt);return n&&Le.forEach(function(hR){return r(Q,hR)}),rt&&sa(Q,Fe),xe}function an(Q,q,W,se){if(typeof W=="object"&&W!==null&&W.type===g&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case h:e:{for(var xe=W.key;q!==null;){if(q.key===xe){if(xe=W.type,xe===g){if(q.tag===7){a(Q,q.sibling),se=f(q,W.props.children),se.return=Q,Q=se;break e}}else if(q.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===te&&Ic(xe)===q.type){a(Q,q.sibling),se=f(q,W.props),uo(se,W),se.return=Q,Q=se;break e}a(Q,q);break}else r(Q,q);q=q.sibling}W.type===g?(se=xl(W.props.children,Q.mode,se,W.key),se.return=Q,Q=se):(se=Mf(W.type,W.key,W.props,null,Q.mode,se),uo(se,W),se.return=Q,Q=se)}return T(Q);case m:e:{for(xe=W.key;q!==null;){if(q.key===xe)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){a(Q,q.sibling),se=f(q,W.children||[]),se.return=Q,Q=se;break e}else{a(Q,q);break}else r(Q,q);q=q.sibling}se=Tp(W,Q.mode,se),se.return=Q,Q=se}return T(Q);case te:return xe=W._init,W=xe(W._payload),an(Q,q,W,se)}if(be(W))return Oe(Q,q,W,se);if(Re(W)){if(xe=Re(W),typeof xe!="function")throw Error(s(150));return W=xe.call(W),Qe(Q,q,W,se)}if(typeof W.then=="function")return an(Q,q,_u(W),se);if(W.$$typeof===V)return an(Q,q,Of(Q,W),se);yu(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(a(Q,q.sibling),se=f(q,W),se.return=Q,Q=se):(a(Q,q),se=bp(W,Q.mode,se),se.return=Q,Q=se),T(Q)):a(Q,q)}return function(Q,q,W,se){try{_l=0;var xe=an(Q,q,W,se);return lo=null,xe}catch(Le){if(Le===pl)throw Le;var nt=Cr(29,Le,null,Q.mode);return nt.lanes=se,nt.return=Q,nt}finally{}}}var Ts=vu(!0),ws=vu(!1),la=ge(null),co=ge(0);function Nc(n,r){n=ya,Ze(co,n),Ze(la,r),ya=n|r.baseLanes}function yl(){Ze(co,ya),Ze(la,la.current)}function Eu(){ya=co.current,yt(la),yt(co)}var ri=ge(null),wr=null;function si(n){var r=n.alternate;Ze(hn,hn.current&1),Ze(ri,n),wr===null&&(r===null||la.current!==null||r.memoizedState!==null)&&(wr=n)}function Xr(n){if(n.tag===22){if(Ze(hn,hn.current),Ze(ri,n),wr===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(wr=n)}}else As()}function As(){Ze(hn,hn.current),Ze(ri,ri.current)}function Zr(n){yt(ri),wr===n&&(wr=null),yt(hn)}var hn=ge(0);function bu(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zm=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Bm=i.unstable_scheduleCallback,Fm=i.unstable_NormalPriority,fn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new zm,data:new Map,refCount:0}}function Ss(n){n.refCount--,n.refCount===0&&Bm(Fm,function(){n.controller.abort()})}var Rs=null,Oc=0,ho=0,Ar=null;function A(n,r){if(Rs===null){var a=Rs=[];Oc=0,ho=Vp(),Ar={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Oc++,r.then(d,d),r}function d(){if(--Oc===0&&Rs!==null){Ar!==null&&(Ar.status="fulfilled");var n=Rs;Rs=null,ho=0,Ar=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function v(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var C=D.S;D.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&A(n,r),C!==null&&C(n,r)};var H=ge(null);function K(){var n=H.current;return n!==null?n:Ut.pooledCache}function ee(n,r){r===null?Ze(H,H.current):Ze(H,r.pool)}function ae(){var n=K();return n===null?null:{parent:fn._currentValue,pool:n}}var pe=0,he=null,de=null,me=null,$e=!1,Me=!1,je=!1,ze=0,Be=0,ht=null,xt=0;function Ne(){throw Error(s(321))}function ft(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Pt(n[a],r[a]))return!1;return!0}function Ke(n,r,a,u,f,p){return pe=p,he=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,D.H=n===null||n.memoizedState===null?Tl:mo,je=!1,p=a(u,f),je=!1,Me&&(p=Et(r,a,u,f)),tt(n),p}function tt(n){D.H=xs;var r=de!==null&&de.next!==null;if(pe=0,me=de=he=null,$e=!1,Be=0,ht=null,r)throw Error(s(300));n===null||zn||(n=n.dependencies,n!==null&&Nf(n)&&(zn=!0))}function Et(n,r,a,u){he=n;var f=0;do{if(Me&&(ht=null),Be=0,Me=!1,25<=f)throw Error(s(301));if(f+=1,me=de=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=wl,p=r(a,u)}while(Me);return p}function St(){var n=D.H,r=n.useState()[0];return r=typeof r.then=="function"?Un(r):r,n=n.useState()[0],(de!==null?de.memoizedState:null)!==n&&(he.flags|=1024),r}function vt(){var n=ze!==0;return ze=0,n}function zt(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Wn(n){if($e){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}$e=!1}pe=0,me=de=he=null,Me=!1,Be=ze=0,ht=null}function Vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?he.memoizedState=me=n:me=me.next=n,me}function lt(){if(de===null){var n=he.alternate;n=n!==null?n.memoizedState:null}else n=de.next;var r=me===null?he.memoizedState:me.next;if(r!==null)me=r,de=n;else{if(n===null)throw he.alternate===null?Error(s(467)):Error(s(310));de=n,n={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?he.memoizedState=me=n:me=me.next=n}return me}var Xn;Xn=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Un(n){var r=Be;return Be+=1,ht===null&&(ht=[]),n=vf(ht,n,r),r=he,(me===null?r.memoizedState:me.next)===null&&(r=r.alternate,D.H=r===null||r.memoizedState===null?Tl:mo),n}function Dt(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Un(n);if(n.$$typeof===V)return ai(n)}throw Error(s(438,String(n)))}function Pi(n){var r=null,a=he.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=he.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Xn(),he.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=_e;return r.index++,a}function gn(n,r){return typeof r=="function"?r(n):r}function Jr(n){var r=lt();return nn(r,de,n)}function nn(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var R=T=null,L=null,G=r,re=!1;do{var fe=G.lane&-536870913;if(fe!==G.lane?(gt&fe)===fe:(pe&fe)===fe){var Z=G.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),fe===ho&&(re=!0);else if((pe&Z)===Z){G=G.next,Z===ho&&(re=!0);continue}else fe={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(R=L=fe,T=p):L=L.next=fe,he.lanes|=Z,wo|=Z;fe=G.action,je&&a(p,fe),p=G.hasEagerState?G.eagerState:a(p,fe)}else Z={lane:fe,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(R=L=Z,T=p):L=L.next=Z,he.lanes|=fe,wo|=fe;G=G.next}while(G!==null&&G!==r);if(L===null?T=p:L.next=R,!Pt(p,n.memoizedState)&&(zn=!0,re&&(a=Ar,a!==null)))throw a;n.memoizedState=p,n.baseState=T,n.baseQueue=L,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function wt(n){var r=lt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do p=n(p,T.action),T=T.next;while(T!==f);Pt(p,r.memoizedState)||(zn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,u]}function jn(n,r,a){var u=he,f=lt(),p=rt;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Pt((de||f).memoizedState,a);if(T&&(f.memoizedState=a,zn=!0),f=f.queue,Ru(vl.bind(null,u,f,n),[n]),f.getSnapshot!==r||T||me!==null&&me.memoizedState.tag&1){if(u.flags|=2048,ua(9,es.bind(null,u,f,a,r),{destroy:void 0},null),Ut===null)throw Error(s(349));p||(pe&60)!==0||Si(u,r,a)}return a}function Si(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=he.updateQueue,r===null?(r=Xn(),he.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function es(n,r,a,u){r.value=a,r.getSnapshot=u,Dc(r)&&kc(n)}function vl(n,r,a){return a(function(){Dc(r)&&kc(n)})}function Dc(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Pt(n,a)}catch{return!0}}function kc(n){var r=Qr(n,2);r!==null&&Ri(r,n,2)}function fo(n){var r=Vt();if(typeof n=="function"){var a=n;if(n=a(),je){or(!0);try{a()}finally{or(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:n},r}function bf(n,r,a,u){return n.baseState=a,nn(n,de,typeof u=="function"?u:gn)}function Hm(n,r,a,u,f){if(Cf(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};D.T!==null?a(!0):p.isTransition=!1,u(p),a=r.pending,a===null?(p.next=r.pending=p,wu(r,p)):(p.next=a.next,r.pending=a.next=p)}}function wu(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var p=D.T,T={};D.T=T;try{var R=a(f,u),L=D.S;L!==null&&L(T,R),Tf(n,r,R)}catch(G){Lc(n,r,G)}finally{D.T=p}}else try{p=a(f,u),Tf(n,r,p)}catch(G){Lc(n,r,G)}}function Tf(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Mc(n,r,u)},function(u){return Lc(n,r,u)}):Mc(n,r,a)}function Mc(n,r,a){r.status="fulfilled",r.value=a,Pc(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,wu(n,a)))}function Lc(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Pc(r),r=r.next;while(r!==u)}n.action=null}function Pc(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Vc(n,r){return r}function wf(n,r){if(rt){var a=Ut.formState;if(a!==null){e:{var u=he;if(rt){if(Rn){t:{for(var f=Rn,p=Tr;f.nodeType!==8;){if(!p){f=null;break t}if(f=ns(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Rn=ns(f.nextSibling),u=f.data==="F!";break e}}aa(u)}u=!1}u&&(r=a[0])}}return a=Vt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:r},a.queue=u,a=By.bind(null,he,u),u.dispatch=a,u=fo(!1),p=Qm.bind(null,he,!1,u.queue),u=Vt(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=Hm.bind(null,he,f,p,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Af(n){var r=lt();return Cs(r,de,n)}function Cs(n,r,a){r=nn(n,r,Vc)[0],n=Jr(gn)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Un(r):r;var u=lt(),f=u.queue,p=f.dispatch;return a!==u.memoizedState&&(he.flags|=2048,ua(9,Au.bind(null,f,a),{destroy:void 0},null)),[r,p,n]}function Au(n,r){n.action=r}function Uc(n){var r=lt(),a=de;if(a!==null)return Cs(r,a,n);lt(),r=r.memoizedState,a=lt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function ua(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=he.updateQueue,r===null&&(r=Xn(),he.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function Su(){return lt().memoizedState}function El(n,r,a,u){var f=Vt();he.flags|=n,f.memoizedState=ua(1|r,a,{destroy:void 0},u===void 0?null:u)}function bl(n,r,a,u){var f=lt();u=u===void 0?null:u;var p=f.memoizedState.inst;de!==null&&u!==null&&ft(u,de.memoizedState.deps)?f.memoizedState=ua(r,a,p,u):(he.flags|=n,f.memoizedState=ua(1|r,a,p,u))}function jc(n,r){El(8390656,8,n,r)}function Ru(n,r){bl(2048,8,n,r)}function Sf(n,r){return bl(4,2,n,r)}function Rf(n,r){return bl(4,4,n,r)}function Cu(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function zc(n,r,a){a=a!=null?a.concat([n]):null,bl(4,4,Cu.bind(null,r,n),a)}function qm(){}function ky(n,r){var a=lt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&ft(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function My(n,r){var a=lt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&ft(r,u[1]))return u[0];if(u=n(),je){or(!0);try{n()}finally{or(!1)}}return a.memoizedState=[u,r],u}function $m(n,r,a){return a===void 0||(pe&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Pv(),he.lanes|=n,wo|=n,a)}function Ly(n,r,a,u){return Pt(a,r)?a:la.current!==null?(n=$m(n,a,u),Pt(n,r)||(zn=!0),n):(pe&42)===0?(zn=!0,n.memoizedState=a):(n=Pv(),he.lanes|=n,wo|=n,r)}function Py(n,r,a,u,f){var p=ye.p;ye.p=p!==0&&8>p?p:8;var T=D.T,R={};D.T=R,Qm(n,!1,r,a);try{var L=f(),G=D.S;if(G!==null&&G(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=v(L,u);Bc(n,r,re,rr(n))}else Bc(n,r,u,rr(n))}catch(fe){Bc(n,r,{then:function(){},status:"rejected",reason:fe},rr())}finally{ye.p=p,D.T=T}}function oS(){}function Gm(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=Vy(n).queue;Py(n,f,r,Ue,a===null?oS:function(){return Uy(n),a(u)})}function Vy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ue,baseState:Ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:Ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Uy(n){var r=Vy(n).next.queue;Bc(n,r,{},rr())}function Km(){return ai(oh)}function jy(){return lt().memoizedState}function zy(){return lt().memoizedState}function lS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=rr();n=_o(a);var u=yo(r,n,a);u!==null&&(Ri(u,r,a),qc(u,r,a)),r={cache:Tu()},n.payload=r;return}r=r.return}}function uS(n,r,a){var u=rr();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cf(n)?Fy(r,a):(a=Ji(n,r,a,u),a!==null&&(Ri(a,n,u),Hy(a,r,u)))}function By(n,r,a){var u=rr();Bc(n,r,a,u)}function Bc(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cf(n))Fy(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,R=p(T,a);if(f.hasEagerState=!0,f.eagerState=R,Pt(R,T))return hu(n,r,f,0),Ut===null&&cu(),!1}catch{}finally{}if(a=Ji(n,r,f,u),a!==null)return Ri(a,n,u),Hy(a,r,u),!0}return!1}function Qm(n,r,a,u){if(u={lane:2,revertLane:Vp(),action:u,hasEagerState:!1,eagerState:null,next:null},Cf(n)){if(r)throw Error(s(479))}else r=Ji(n,a,u,2),r!==null&&Ri(r,n,2)}function Cf(n){var r=n.alternate;return n===he||r!==null&&r===he}function Fy(n,r){Me=$e=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Hy(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,ps(n,a)}}var xs={readContext:ai,use:Dt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne};xs.useCacheRefresh=Ne,xs.useMemoCache=Ne,xs.useHostTransitionStatus=Ne,xs.useFormState=Ne,xs.useActionState=Ne,xs.useOptimistic=Ne;var Tl={readContext:ai,use:Dt,useCallback:function(n,r){return Vt().memoizedState=[n,r===void 0?null:r],n},useContext:ai,useEffect:jc,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,El(4194308,4,Cu.bind(null,r,n),a)},useLayoutEffect:function(n,r){return El(4194308,4,n,r)},useInsertionEffect:function(n,r){El(4,2,n,r)},useMemo:function(n,r){var a=Vt();r=r===void 0?null:r;var u=n();if(je){or(!0);try{n()}finally{or(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=Vt();if(a!==void 0){var f=a(r);if(je){or(!0);try{a(r)}finally{or(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=uS.bind(null,he,n),[u.memoizedState,n]},useRef:function(n){var r=Vt();return n={current:n},r.memoizedState=n},useState:function(n){n=fo(n);var r=n.queue,a=By.bind(null,he,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:qm,useDeferredValue:function(n,r){var a=Vt();return $m(a,n,r)},useTransition:function(){var n=fo(!1);return n=Py.bind(null,he,n.queue,!0,!1),Vt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=he,f=Vt();if(rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ut===null)throw Error(s(349));(gt&60)!==0||Si(u,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,jc(vl.bind(null,u,p,n),[n]),u.flags|=2048,ua(9,es.bind(null,u,p,a,r),{destroy:void 0},null),a},useId:function(){var n=Vt(),r=Ut.identifierPrefix;if(rt){var a=er,u=wi;a=(u&~(1<<32-qn(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=ze++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=xt++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return Vt().memoizedState=lS.bind(null,he)}};Tl.useMemoCache=Pi,Tl.useHostTransitionStatus=Km,Tl.useFormState=wf,Tl.useActionState=wf,Tl.useOptimistic=function(n){var r=Vt();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Qm.bind(null,he,!0,a),a.dispatch=r,[n,r]};var mo={readContext:ai,use:Dt,useCallback:ky,useContext:ai,useEffect:Ru,useImperativeHandle:zc,useInsertionEffect:Sf,useLayoutEffect:Rf,useMemo:My,useReducer:Jr,useRef:Su,useState:function(){return Jr(gn)},useDebugValue:qm,useDeferredValue:function(n,r){var a=lt();return Ly(a,de.memoizedState,n,r)},useTransition:function(){var n=Jr(gn)[0],r=lt().memoizedState;return[typeof n=="boolean"?n:Un(n),r]},useSyncExternalStore:jn,useId:jy};mo.useCacheRefresh=zy,mo.useMemoCache=Pi,mo.useHostTransitionStatus=Km,mo.useFormState=Af,mo.useActionState=Af,mo.useOptimistic=function(n,r){var a=lt();return bf(a,de,n,r)};var wl={readContext:ai,use:Dt,useCallback:ky,useContext:ai,useEffect:Ru,useImperativeHandle:zc,useInsertionEffect:Sf,useLayoutEffect:Rf,useMemo:My,useReducer:wt,useRef:Su,useState:function(){return wt(gn)},useDebugValue:qm,useDeferredValue:function(n,r){var a=lt();return de===null?$m(a,n,r):Ly(a,de.memoizedState,n,r)},useTransition:function(){var n=wt(gn)[0],r=lt().memoizedState;return[typeof n=="boolean"?n:Un(n),r]},useSyncExternalStore:jn,useId:jy};wl.useCacheRefresh=zy,wl.useMemoCache=Pi,wl.useHostTransitionStatus=Km,wl.useFormState=Uc,wl.useActionState=Uc,wl.useOptimistic=function(n,r){var a=lt();return de!==null?bf(a,de,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Ym(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:P({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Wm={isMounted:function(n){return(n=n._reactInternals)?Te(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=rr(),f=_o(u);f.payload=r,a!=null&&(f.callback=a),r=yo(n,f,u),r!==null&&(Ri(r,n,u),qc(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=rr(),f=_o(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=yo(n,f,u),r!==null&&(Ri(r,n,u),qc(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=rr(),u=_o(a);u.tag=2,r!=null&&(u.callback=r),r=yo(n,u,a),r!==null&&(Ri(r,n,a),qc(r,n,a))}};function qy(n,r,a,u,f,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,T):r.prototype&&r.prototype.isPureReactComponent?!fl(a,u)||!fl(f,p):!0}function $y(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Wm.enqueueReplaceState(r,r.state,null)}function Al(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=P({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var xf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Gy(n){xf(n)}function Ky(n){console.error(n)}function Qy(n){xf(n)}function If(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Yy(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xm(n,r,a){return a=_o(a),a.tag=3,a.payload={element:null},a.callback=function(){If(n,r)},a}function Wy(n){return n=_o(n),n.tag=3,n}function Xy(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){Yy(r,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Yy(r,a,u),typeof f!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function cS(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Hc(r,a,f,!0),a=ri.current,a!==null){switch(a.tag){case 13:return wr===null?Dp():a.alternate===null&&sn===0&&(sn=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Wr?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Mp(n,u,f)),!1;case 22:return a.flags|=65536,u===Wr?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Mp(n,u,f)),!1}throw Error(s(435,a.tag))}return Mp(n,u,f),Dp(),!1}if(rt)return r=ri.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==mu&&(n=Error(s(422),{cause:u}),ml(Li(n,a)))):(u!==mu&&(r=Error(s(423),{cause:u}),ml(Li(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Li(u,a),f=Xm(n.stateNode,u,f),fp(n,f),sn!==4&&(sn=2)),!1;var p=Error(s(520),{cause:u});if(p=Li(p,a),Zc===null?Zc=[p]:Zc.push(p),sn!==4&&(sn=2),r===null)return!0;u=Li(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Xm(a.stateNode,u,n),fp(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ao===null||!Ao.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),Xy(f,n,a,u),fp(a,f),!1}a=a.return}while(a!==null);return!1}var Zy=Error(s(461)),zn=!1;function Zn(n,r,a,u){r.child=n===null?ws(r,null,a,u):Ts(r,n.child,a,u)}function Jy(n,r,a,u,f){a=a.render;var p=r.ref;if("ref"in u){var T={};for(var R in u)R!=="ref"&&(T[R]=u[R])}else T=u;return Rl(r),u=Ke(n,r,a,T,p,f),R=vt(),n!==null&&!zn?(zt(n,r,f),ca(n,r,f)):(rt&&R&&xc(r),r.flags|=1,Zn(n,r,u,f),r.child)}function ev(n,r,a,u,f){if(n===null){var p=a.type;return typeof p=="function"&&!Ep(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,tv(n,r,p,u,f)):(n=Mf(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!ap(n,f)){var T=p.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(T,u)&&n.ref===r.ref)return ca(n,r,f)}return r.flags|=1,n=To(p,u),n.ref=r.ref,n.return=r,r.child=n}function tv(n,r,a,u,f){if(n!==null){var p=n.memoizedProps;if(fl(p,u)&&n.ref===r.ref)if(zn=!1,r.pendingProps=u=p,ap(n,f))(n.flags&131072)!==0&&(zn=!0);else return r.lanes=n.lanes,ca(n,r,f)}return Zm(n,r,a,u,f)}function nv(n,r,a){var u=r.pendingProps,f=u.children,p=(r.stateNode._pendingVisibility&2)!==0,T=n!==null?n.memoizedState:null;if(Fc(n,r),u.mode==="hidden"||p){if((r.flags&128)!==0){if(u=T!==null?T.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return iv(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ee(r,T!==null?T.cachePool:null),T!==null?Nc(r,T):yl(),Xr(r);else return r.lanes=r.childLanes=536870912,iv(n,r,T!==null?T.baseLanes|a:a,a)}else T!==null?(ee(r,T.cachePool),Nc(r,T),As(),r.memoizedState=null):(n!==null&&ee(r,null),yl(),As());return Zn(n,r,f,a),r.child}function iv(n,r,a,u){var f=K();return f=f===null?null:{parent:fn._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&ee(r,null),yl(),Xr(r),n!==null&&Hc(n,r,u,!0),null}function Fc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Zm(n,r,a,u,f){return Rl(r),a=Ke(n,r,a,u,void 0,f),u=vt(),n!==null&&!zn?(zt(n,r,f),ca(n,r,f)):(rt&&u&&xc(r),r.flags|=1,Zn(n,r,a,f),r.child)}function rv(n,r,a,u,f,p){return Rl(r),r.updateQueue=null,a=Et(r,u,a,f),tt(n),u=vt(),n!==null&&!zn?(zt(n,r,p),ca(n,r,p)):(rt&&u&&xc(r),r.flags|=1,Zn(n,r,a,p),r.child)}function sv(n,r,a,u,f){if(Rl(r),r.stateNode===null){var p=no,T=a.contextType;typeof T=="object"&&T!==null&&(p=ai(T)),p=new a(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wm,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},cp(r),T=a.contextType,p.context=typeof T=="object"&&T!==null?ai(T):no,p.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ym(r,a,T,u),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Wm.enqueueReplaceState(p,p.state,null),Gc(r,u,p,f),$c(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){p=r.stateNode;var R=r.memoizedProps,L=Al(a,R);p.props=L;var G=p.context,re=a.contextType;T=no,typeof re=="object"&&re!==null&&(T=ai(re));var fe=a.getDerivedStateFromProps;re=typeof fe=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||G!==T)&&$y(r,p,u,T),go=!1;var Z=r.memoizedState;p.state=Z,Gc(r,u,p,f),$c(),G=r.memoizedState,R||Z!==G||go?(typeof fe=="function"&&(Ym(r,a,fe,u),G=r.memoizedState),(L=go||qy(r,a,L,u,Z,G,T))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=T,u=L):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,hp(n,r),T=r.memoizedProps,re=Al(a,T),p.props=re,fe=r.pendingProps,Z=p.context,G=a.contextType,L=no,typeof G=="object"&&G!==null&&(L=ai(G)),R=a.getDerivedStateFromProps,(G=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==fe||Z!==L)&&$y(r,p,u,L),go=!1,Z=r.memoizedState,p.state=Z,Gc(r,u,p,f),$c();var ie=r.memoizedState;T!==fe||Z!==ie||go||n!==null&&n.dependencies!==null&&Nf(n.dependencies)?(typeof R=="function"&&(Ym(r,a,R,u),ie=r.memoizedState),(re=go||qy(r,a,re,u,Z,ie,L)||n!==null&&n.dependencies!==null&&Nf(n.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,ie,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,ie,L)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),p.props=u,p.state=ie,p.context=L,u=re):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),u=!1)}return p=u,Fc(n,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&u?(r.child=Ts(r,n.child,null,f),r.child=Ts(r,null,a,f)):Zn(n,r,a,f),r.memoizedState=p.state,n=r.child):n=ca(n,r,f),n}function av(n,r,a,u){return dl(),r.flags|=256,Zn(n,r,a,u),r.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function ep(n){return{baseLanes:n,cachePool:ae()}}function tp(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=xr),n}function ov(n,r,a){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(hn.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(rt){if(f?si(r):As(),rt){var R=Rn,L;if(L=R){e:{for(L=R,R=Tr;L.nodeType!==8;){if(!R){R=null;break e}if(L=ns(L.nextSibling),L===null){R=null;break e}}R=L}R!==null?(r.memoizedState={dehydrated:R,treeContext:bs!==null?{id:wi,overflow:er}:null,retryLane:536870912},L=Cr(18,null,null,0),L.stateNode=R,L.return=r,r.child=L,Yn=r,Rn=null,L=!0):L=!1}L||aa(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?r.lanes=16:r.lanes=536870912,null;Zr(r)}return R=u.children,u=u.fallback,f?(As(),f=r.mode,R=ip({mode:"hidden",children:R},f),u=xl(u,f,a,null),R.return=r,u.return=r,R.sibling=u,r.child=R,f=r.child,f.memoizedState=ep(a),f.childLanes=tp(n,T,a),r.memoizedState=Jm,u):(si(r),np(r,R))}if(L=n.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(p)r.flags&256?(si(r),r.flags&=-257,r=rp(n,r,a)):r.memoizedState!==null?(As(),r.child=n.child,r.flags|=128,r=null):(As(),f=u.fallback,R=r.mode,u=ip({mode:"visible",children:u.children},R),f=xl(f,R,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ts(r,n.child,null,a),u=r.child,u.memoizedState=ep(a),u.childLanes=tp(n,T,a),r.memoizedState=Jm,r=f);else if(si(r),R.data==="$!"){if(T=R.nextSibling&&R.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(s(419)),u.stack="",u.digest=T,ml({value:u,source:null,stack:null}),r=rp(n,r,a)}else if(zn||Hc(n,r,a,!1),T=(a&n.childLanes)!==0,zn||T){if(T=Ut,T!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==L.retryLane)throw L.retryLane=u,Qr(n,u),Ri(T,n,u),Zy}R.data==="$?"||Dp(),r=rp(n,r,a)}else R.data==="$?"?(r.flags|=128,r.child=n.child,r=SS.bind(null,n),R._reactRetry=r,r=null):(n=L.treeContext,Rn=ns(R.nextSibling),Yn=r,rt=!0,Ai=null,Tr=!1,n!==null&&(Qn[Ti++]=wi,Qn[Ti++]=er,Qn[Ti++]=bs,wi=n.id,er=n.overflow,bs=r),r=np(r,u.children),r.flags|=4096);return r}return f?(As(),f=u.fallback,R=r.mode,L=n.child,G=L.sibling,u=To(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&31457280,G!==null?f=To(G,f):(f=xl(f,R,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,R=n.child.memoizedState,R===null?R=ep(a):(L=R.cachePool,L!==null?(G=fn._currentValue,L=L.parent!==G?{parent:G,pool:G}:L):L=ae(),R={baseLanes:R.baseLanes|a,cachePool:L}),f.memoizedState=R,f.childLanes=tp(n,T,a),r.memoizedState=Jm,u):(si(r),a=n.child,n=a.sibling,a=To(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function np(n,r){return r=ip({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ip(n,r){return kv(n,r,0,null)}function rp(n,r,a){return Ts(r,n.child,null,a),n=np(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function lv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),lp(n.return,r,a)}function sp(n,r,a,u,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=f)}function uv(n,r,a){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Zn(n,r,u.children,a),u=hn.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lv(n,a,r);else if(n.tag===19)lv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Ze(hn,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&bu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),sp(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&bu(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}sp(r,!0,a,null,p);break;case"together":sp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ca(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),wo|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Hc(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=To(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=To(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function ap(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Nf(n)))}function hS(n,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),po(r,fn,n.memoizedState.cache),dl();break;case 27:case 5:qi(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:po(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(si(r),r.flags|=128,null):(a&r.child.childLanes)!==0?ov(n,r,a):(si(r),n=ca(n,r,a),n!==null?n.sibling:null);si(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Hc(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return uv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(hn,hn.current),u)break;return null;case 22:case 23:return r.lanes=0,nv(n,r,a);case 24:po(r,fn,n.memoizedState.cache)}return ca(n,r,a)}function cv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)zn=!0;else{if(!ap(n,a)&&(r.flags&128)===0)return zn=!1,hS(n,r,a);zn=(n.flags&131072)!==0}else zn=!1,rt&&(r.flags&1048576)!==0&&_f(r,so,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Ep(u)?(n=Al(u,n),r.tag=1,r=sv(null,r,u,n,a)):(r.tag=0,r=Zm(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===j){r.tag=11,r=Jy(null,r,u,n,a);break e}else if(f===z){r.tag=14,r=ev(null,r,u,n,a);break e}}throw r=M(u)||u,Error(s(306,r,""))}}return r;case 0:return Zm(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Al(u,r.pendingProps),sv(n,r,u,f,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var p=r.pendingProps;f=r.memoizedState,u=f.element,hp(n,r),Gc(r,p,null,a);var T=r.memoizedState;if(p=T.cache,po(r,fn,p),p!==f.cache&&up(r,[fn],a,!0),$c(),p=T.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=av(n,r,p,a);break e}else if(p!==u){u=Li(Error(s(424)),r),ml(u),r=av(n,r,p,a);break e}else for(Rn=ns(r.stateNode.containerInfo.firstChild),Yn=r,rt=!0,Ai=null,Tr=!0,a=ws(r,null,p,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(dl(),p===u){r=ca(n,r,a);break e}Zn(n,r,p,a)}r=r.child}return r;case 26:return Fc(n,r),n===null?(a=d0(r.type,null,r.pendingProps,null))?r.memoizedState=a:rt||(a=r.type,n=r.pendingProps,u=Gf(Ft.current).createElement(a),u[Zt]=r,u[ln]=n,Jn(u,a,n),Ot(u),r.stateNode=u):r.memoizedState=d0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return qi(r),n===null&&rt&&(u=r.stateNode=c0(r.type,r.pendingProps,Ft.current),Yn=r,Tr=!0,Rn=ns(u.firstChild)),u=r.pendingProps.children,n!==null||rt?Zn(n,r,u,a):r.child=Ts(r,null,u,a),Fc(n,r),r.child;case 5:return n===null&&rt&&((f=u=Rn)&&(u=BS(u,r.type,r.pendingProps,Tr),u!==null?(r.stateNode=u,Yn=r,Rn=ns(u.firstChild),Tr=!1,f=!0):f=!1),f||aa(r)),qi(r),f=r.type,p=r.pendingProps,T=n!==null?n.memoizedProps:null,u=p.children,Gp(f,p)?u=null:T!==null&&Gp(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Ke(n,r,St,null,null,a),oh._currentValue=f),Fc(n,r),Zn(n,r,u,a),r.child;case 6:return n===null&&rt&&((n=a=Rn)&&(a=FS(a,r.pendingProps,Tr),a!==null?(r.stateNode=a,Yn=r,Rn=null,n=!0):n=!1),n||aa(r)),null;case 13:return ov(n,r,a);case 4:return Je(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ts(r,null,u,a):Zn(n,r,u,a),r.child;case 11:return Jy(n,r,r.type,r.pendingProps,a);case 7:return Zn(n,r,r.pendingProps,a),r.child;case 8:return Zn(n,r,r.pendingProps.children,a),r.child;case 12:return Zn(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,po(r,r.type,u.value),Zn(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Rl(r),f=ai(f),u=u(f),r.flags|=1,Zn(n,r,u,a),r.child;case 14:return ev(n,r,r.type,r.pendingProps,a);case 15:return tv(n,r,r.type,r.pendingProps,a);case 19:return uv(n,r,a);case 22:return nv(n,r,a);case 24:return Rl(r),u=ai(fn),n===null?(f=K(),f===null&&(f=Ut,p=Tu(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:u,cache:f},cp(r),po(r,fn,f)):((n.lanes&a)!==0&&(hp(n,r),Gc(r,null,null,a),$c()),f=n.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),po(r,fn,u)):(u=p.cache,po(r,fn,u),u!==f.cache&&up(r,[fn],a,!0))),Zn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var op=ge(null),Sl=null,ha=null;function po(n,r,a){Ze(op,r._currentValue),r._currentValue=a}function fa(n){n._currentValue=op.current,yt(op)}function lp(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function up(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var R=p;p=f;for(var L=0;L<r.length;L++)if(R.context===r[L]){p.lanes|=a,R=p.alternate,R!==null&&(R.lanes|=a),lp(p.return,a,n),u||(T=null);break e}p=R.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,p=T.alternate,p!==null&&(p.lanes|=a),lp(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Hc(n,r,a,u){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var R=f.type;Pt(f.pendingProps.value,T.value)||(n!==null?n.push(R):n=[R])}}else if(f===Nn.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(oh):n=[oh])}f=f.return}n!==null&&up(r,n,a,u),r.flags|=262144}function Nf(n){for(n=n.firstContext;n!==null;){if(!Pt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Rl(n){Sl=n,ha=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ai(n){return hv(Sl,n)}function Of(n,r){return Sl===null&&Rl(n),hv(n,r)}function hv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ha===null){if(n===null)throw Error(s(308));ha=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ha=ha.next=r;return a}var go=!1;function cp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _o(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function yo(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=fu(n),pf(n,null,a),r}return hu(n,u,r,a),fu(n)}function qc(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,ps(n,a)}}function fp(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var dp=!1;function $c(){if(dp){var n=Ar;if(n!==null)throw n}}function Gc(n,r,a,u){dp=!1;var f=n.updateQueue;go=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var L=R,G=L.next;L.next=null,T===null?p=G:T.next=G,T=L;var re=n.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==T&&(R===null?re.firstBaseUpdate=G:R.next=G,re.lastBaseUpdate=L))}if(p!==null){var fe=f.baseState;T=0,re=G=L=null,R=p;do{var Z=R.lane&-536870913,ie=Z!==R.lane;if(ie?(gt&Z)===Z:(u&Z)===Z){Z!==0&&Z===ho&&(dp=!0),re!==null&&(re=re.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Oe=n,Qe=R;Z=r;var an=a;switch(Qe.tag){case 1:if(Oe=Qe.payload,typeof Oe=="function"){fe=Oe.call(an,fe,Z);break e}fe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Qe.payload,Z=typeof Oe=="function"?Oe.call(an,fe,Z):Oe,Z==null)break e;fe=P({},fe,Z);break e;case 2:go=!0}}Z=R.callback,Z!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[Z]:ie.push(Z))}else ie={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(G=re=ie,L=fe):re=re.next=ie,T|=Z;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);re===null&&(L=fe),f.baseState=L,f.firstBaseUpdate=G,f.lastBaseUpdate=re,p===null&&(f.shared.lanes=0),wo|=T,n.lanes=T,n.memoizedState=fe}}function fv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function dv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)fv(a[n],r)}function Kc(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var p=a.create,T=a.inst;u=p(),T.destroy=u}a=a.next}while(a!==f)}}catch(R){kt(r,r.return,R)}}function vo(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var T=u.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,f=r;var L=a;try{R()}catch(G){kt(f,L,G)}}}u=u.next}while(u!==p)}}catch(G){kt(r,r.return,G)}}function mv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{dv(r,a)}catch(u){kt(n,n.return,u)}}}function pv(n,r,a){a.props=Al(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){kt(n,r,u)}}function Cl(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(p){kt(n,r,p)}}function tr(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){kt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){kt(n,r,f)}else a.current=null}function gv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){kt(n,n.return,f)}}function _v(n,r,a){try{var u=n.stateNode;PS(u,n.type,a,r),u[ln]=r}catch(f){kt(n,n.return,f)}}function yv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function mp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||yv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pp(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=$f));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(pp(n,r,a),n=n.sibling;n!==null;)pp(n,r,a),n=n.sibling}function Df(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Df(n,r,a),n=n.sibling;n!==null;)Df(n,r,a),n=n.sibling}var da=!1,rn=!1,gp=!1,vv=typeof WeakSet=="function"?WeakSet:Set,Bn=null,Ev=!1;function fS(n,r){if(n=n.containerInfo,qp=Zf,n=uf(n),Tc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var T=0,R=-1,L=-1,G=0,re=0,fe=n,Z=null;t:for(;;){for(var ie;fe!==a||f!==0&&fe.nodeType!==3||(R=T+f),fe!==p||u!==0&&fe.nodeType!==3||(L=T+u),fe.nodeType===3&&(T+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)Z=fe,fe=ie;for(;;){if(fe===n)break t;if(Z===a&&++G===f&&(R=T),Z===p&&++re===u&&(L=T),(ie=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=ie}a=R===-1||L===-1?null:{start:R,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for($p={focusedElem:n,selectionRange:a},Zf=!1,Bn=r;Bn!==null;)if(r=Bn,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bn=n;else for(;Bn!==null;){switch(r=Bn,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Oe=Al(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Oe,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(Qe){kt(a,a.return,Qe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Yp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Yp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bn=n;break}Bn=r.return}return Oe=Ev,Ev=!1,Oe}function bv(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:pa(n,a),u&4&&Kc(5,a);break;case 1:if(pa(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(R){kt(a,a.return,R)}else{var f=Al(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(R){kt(a,a.return,R)}}u&64&&mv(a),u&512&&Cl(a,a.return);break;case 3:if(pa(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dv(u,n)}catch(R){kt(a,a.return,R)}}break;case 26:pa(n,a),u&512&&Cl(a,a.return);break;case 27:case 5:pa(n,a),r===null&&u&4&&gv(a),u&512&&Cl(a,a.return);break;case 12:pa(n,a);break;case 13:pa(n,a),u&4&&Av(n,a);break;case 22:if(f=a.memoizedState!==null||da,!f){r=r!==null&&r.memoizedState!==null||rn;var p=da,T=rn;da=f,(rn=r)&&!T?Eo(n,a,(a.subtreeFlags&8772)!==0):pa(n,a),da=p,rn=T}u&512&&(a.memoizedProps.mode==="manual"?Cl(a,a.return):tr(a,a.return));break;default:pa(n,a)}}function Tv(n){var r=n.alternate;r!==null&&(n.alternate=null,Tv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&cr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _n=null,nr=!1;function ma(n,r,a){for(a=a.child;a!==null;)wv(n,r,a),a=a.sibling}function wv(n,r,a){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(fs,a)}catch{}switch(a.tag){case 26:rn||tr(a,r),ma(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rn||tr(a,r);var u=_n,f=nr;for(_n=a.stateNode,ma(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);cr(a),_n=u,nr=f;break;case 5:rn||tr(a,r);case 6:f=_n;var p=nr;if(_n=null,ma(n,r,a),_n=f,nr=p,_n!==null)if(nr)try{n=_n,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(T){kt(a,r,T)}else try{_n.removeChild(a.stateNode)}catch(T){kt(a,r,T)}break;case 18:_n!==null&&(nr?(r=_n,a=a.stateNode,r.nodeType===8?Qp(r.parentNode,a):r.nodeType===1&&Qp(r,a),hh(r)):Qp(_n,a.stateNode));break;case 4:u=_n,f=nr,_n=a.stateNode.containerInfo,nr=!0,ma(n,r,a),_n=u,nr=f;break;case 0:case 11:case 14:case 15:rn||vo(2,a,r),rn||vo(4,a,r),ma(n,r,a);break;case 1:rn||(tr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&pv(a,r,u)),ma(n,r,a);break;case 21:ma(n,r,a);break;case 22:rn||tr(a,r),rn=(u=rn)||a.memoizedState!==null,ma(n,r,a),rn=u;break;default:ma(n,r,a)}}function Av(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hh(n)}catch(a){kt(r,r.return,a)}}function dS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new vv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new vv),r;default:throw Error(s(435,n.tag))}}function _p(n,r){var a=dS(n);r.forEach(function(u){var f=RS.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Sr(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],p=n,T=r,R=T;e:for(;R!==null;){switch(R.tag){case 27:case 5:_n=R.stateNode,nr=!1;break e;case 3:_n=R.stateNode.containerInfo,nr=!0;break e;case 4:_n=R.stateNode.containerInfo,nr=!0;break e}R=R.return}if(_n===null)throw Error(s(160));wv(p,T,f),_n=null,nr=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Sv(r,n),r=r.sibling}var ts=null;function Sv(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sr(r,n),Rr(n),u&4&&(vo(3,n,n.return),Kc(3,n),vo(5,n,n.return));break;case 1:Sr(r,n),Rr(n),u&512&&(rn||a===null||tr(a,a.return)),u&64&&da&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ts;if(Sr(r,n),Rr(n),u&512&&(rn||a===null||tr(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[qt]||p[Zt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Jn(p,u,a),p[Zt]=n,Ot(p),u=p;break e;case"link":var T=g0("link","href",f).get(u+(a.href||""));if(T){for(var R=0;R<T.length;R++)if(p=T[R],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(R,1);break t}}p=f.createElement(u),Jn(p,u,a),f.head.appendChild(p);break;case"meta":if(T=g0("meta","content",f).get(u+(a.content||""))){for(R=0;R<T.length;R++)if(p=T[R],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(R,1);break t}}p=f.createElement(u),Jn(p,u,a),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[Zt]=n,Ot(p),u=p}n.stateNode=u}else _0(f,n.type,n.stateNode);else n.stateNode=p0(f,u,n.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?_0(f,n.type,n.stateNode):p0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&_v(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var L=f.firstChild;L;){var G=L.nextSibling,re=L.nodeName;L[qt]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&L.rel.toLowerCase()==="stylesheet"||f.removeChild(L),L=G}for(var fe=n.type,Z=f.attributes;Z.length;)f.removeAttributeNode(Z[0]);Jn(f,fe,p),f[Zt]=n,f[ln]=p}catch(Oe){kt(n,n.return,Oe)}}case 5:if(Sr(r,n),Rr(n),u&512&&(rn||a===null||tr(a,a.return)),n.flags&32){f=n.stateNode;try{Sn(f,"")}catch(Oe){kt(n,n.return,Oe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,_v(n,f,a!==null?a.memoizedProps:f)),u&1024&&(gp=!0);break;case 6:if(Sr(r,n),Rr(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(Oe){kt(n,n.return,Oe)}}break;case 3:if(Yf=null,f=ts,ts=Kf(r.containerInfo),Sr(r,n),ts=f,Rr(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{hh(r.containerInfo)}catch(Oe){kt(n,n.return,Oe)}gp&&(gp=!1,Rv(n));break;case 4:u=ts,ts=Kf(n.stateNode.containerInfo),Sr(r,n),Rr(n),ts=u;break;case 12:Sr(r,n),Rr(n);break;case 13:Sr(r,n),Rr(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rp=Xt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_p(n,u)));break;case 22:if(u&512&&(rn||a===null||tr(a,a.return)),L=n.memoizedState!==null,G=a!==null&&a.memoizedState!==null,re=da,fe=rn,da=re||L,rn=fe||G,Sr(r,n),rn=fe,da=re,Rr(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=L?r._visibility&-2:r._visibility|1,L&&(r=da||rn,a===null||G||r||xu(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){G=a=r;try{if(f=G.stateNode,L)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=G.stateNode,R=G.memoizedProps.style;var ie=R!=null&&R.hasOwnProperty("display")?R.display:null;T.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Oe){kt(G,G.return,Oe)}}}else if(r.tag===6){if(a===null){G=r;try{G.stateNode.nodeValue=L?"":G.memoizedProps}catch(Oe){kt(G,G.return,Oe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,_p(n,a))));break;case 19:Sr(r,n),Rr(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_p(n,u)));break;case 21:break;default:Sr(r,n),Rr(n)}}function Rr(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(yv(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,p=mp(n);Df(n,p,f);break;case 5:var T=u.stateNode;u.flags&32&&(Sn(T,""),u.flags&=-33);var R=mp(n);Df(n,R,T);break;case 3:case 4:var L=u.stateNode.containerInfo,G=mp(n);pp(n,G,L);break;default:throw Error(s(161))}}}catch(re){kt(n,n.return,re)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Rv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Rv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function pa(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bv(n,r.alternate,r),r=r.sibling}function xu(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:vo(4,r,r.return),xu(r);break;case 1:tr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&pv(r,r.return,a),xu(r);break;case 26:case 27:case 5:tr(r,r.return),xu(r);break;case 22:tr(r,r.return),r.memoizedState===null&&xu(r);break;default:xu(r)}n=n.sibling}}function Eo(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Eo(f,p,a),Kc(4,p);break;case 1:if(Eo(f,p,a),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){kt(u,u.return,G)}if(u=p,f=u.updateQueue,f!==null){var R=u.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)fv(L[f],R)}catch(G){kt(u,u.return,G)}}a&&T&64&&mv(p),Cl(p,p.return);break;case 26:case 27:case 5:Eo(f,p,a),a&&u===null&&T&4&&gv(p),Cl(p,p.return);break;case 12:Eo(f,p,a);break;case 13:Eo(f,p,a),a&&T&4&&Av(f,p);break;case 22:p.memoizedState===null&&Eo(f,p,a),Cl(p,p.return);break;default:Eo(f,p,a)}r=r.sibling}}function yp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ss(a))}function vp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ss(n))}function bo(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cv(n,r,a,u),r=r.sibling}function Cv(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:bo(n,r,a,u),f&2048&&Kc(9,r);break;case 3:bo(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ss(n)));break;case 12:if(f&2048){bo(n,r,a,u),n=r.stateNode;try{var p=r.memoizedProps,T=p.id,R=p.onPostCommit;typeof R=="function"&&R(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){kt(r,r.return,L)}}else bo(n,r,a,u);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?bo(n,r,a,u):Qc(n,r):p._visibility&4?bo(n,r,a,u):(p._visibility|=4,Iu(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&yp(r.alternate,r);break;case 24:bo(n,r,a,u),f&2048&&vp(r.alternate,r);break;default:bo(n,r,a,u)}}function Iu(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,T=r,R=a,L=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:Iu(p,T,R,L,f),Kc(8,T);break;case 23:break;case 22:var re=T.stateNode;T.memoizedState!==null?re._visibility&4?Iu(p,T,R,L,f):Qc(p,T):(re._visibility|=4,Iu(p,T,R,L,f)),f&&G&2048&&yp(T.alternate,T);break;case 24:Iu(p,T,R,L,f),f&&G&2048&&vp(T.alternate,T);break;default:Iu(p,T,R,L,f)}r=r.sibling}}function Qc(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Qc(a,u),f&2048&&yp(u.alternate,u);break;case 24:Qc(a,u),f&2048&&vp(u.alternate,u);break;default:Qc(a,u)}r=r.sibling}}var Yc=8192;function Nu(n){if(n.subtreeFlags&Yc)for(n=n.child;n!==null;)xv(n),n=n.sibling}function xv(n){switch(n.tag){case 26:Nu(n),n.flags&Yc&&n.memoizedState!==null&&tR(ts,n.memoizedState,n.memoizedProps);break;case 5:Nu(n);break;case 3:case 4:var r=ts;ts=Kf(n.stateNode.containerInfo),Nu(n),ts=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Yc,Yc=16777216,Nu(n),Yc=r):Nu(n));break;default:Nu(n)}}function Iv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Wc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bn=u,Ov(u,n)}Iv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 0:case 11:case 15:Wc(n),n.flags&2048&&vo(9,n,n.return);break;case 3:Wc(n);break;case 12:Wc(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,kf(n)):Wc(n);break;default:Wc(n)}}function kf(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bn=u,Ov(u,n)}Iv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:vo(8,r,r.return),kf(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,kf(r));break;default:kf(r)}n=n.sibling}}function Ov(n,r){for(;Bn!==null;){var a=Bn;switch(a.tag){case 0:case 11:case 15:vo(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ss(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Bn=u;else e:for(a=n;Bn!==null;){u=Bn;var f=u.sibling,p=u.return;if(Tv(u),u===a){Bn=null;break e}if(f!==null){f.return=p,Bn=f;break e}Bn=p}}}function mS(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(n,r,a,u){return new mS(n,r,a,u)}function Ep(n){return n=n.prototype,!(!n||!n.isReactComponent)}function To(n,r){var a=n.alternate;return a===null?(a=Cr(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Dv(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Mf(n,r,a,u,f,p){var T=0;if(u=n,typeof n=="function")Ep(n)&&(T=1);else if(typeof n=="string")T=JS(n,a,Wt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case g:return xl(a.children,f,p,r);case _:T=8,f|=24;break;case E:return n=Cr(12,a,r,f|2),n.elementType=E,n.lanes=p,n;case X:return n=Cr(13,a,r,f),n.elementType=X,n.lanes=p,n;case F:return n=Cr(19,a,r,f),n.elementType=F,n.lanes=p,n;case ne:return kv(a,f,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case V:T=10;break e;case x:T=9;break e;case j:T=11;break e;case z:T=14;break e;case te:T=16,u=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Cr(T,a,r,f),r.elementType=n,r.type=u,r.lanes=p,r}function xl(n,r,a,u){return n=Cr(7,n,u,r),n.lanes=a,n}function kv(n,r,a,u){n=Cr(22,n,u,r),n.elementType=ne,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var T=Qr(p,2);T!==null&&(f._pendingVisibility|=2,Ri(T,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var T=Qr(p,2);T!==null&&(f._pendingVisibility&=-3,Ri(T,p,2))}}};return n.stateNode=f,n}function bp(n,r,a){return n=Cr(6,n,null,r),n.lanes=a,n}function Tp(n,r,a){return r=Cr(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function ga(n){n.flags|=4}function Mv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!y0(r)){if(r=ri.current,r!==null&&((gt&4194176)===gt?wr!==null:(gt&62914560)!==gt&&(gt&536870912)===0||r!==wr))throw gl=Wr,oo;n.flags|=8192}}function Lf(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?xi():536870912,n.lanes|=r,Du|=r)}function Xc(n,r){if(!rt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Kt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function pS(n,r,a){var u=r.pendingProps;switch(Yr(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(r),null;case 1:return Kt(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),fa(fn),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ao(r)?ga(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ai!==null&&(Np(Ai),Ai=null))),Kt(r),null;case 26:return a=r.memoizedState,n===null?(ga(r),a!==null?(Kt(r),Mv(r,a)):(Kt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ga(r),Kt(r),Mv(r,a)):(Kt(r),r.flags&=-16777217):(n.memoizedProps!==u&&ga(r),Kt(r),r.flags&=-16777217),null;case 27:ls(r),a=Ft.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ga(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Kt(r),null}n=Wt.current,ao(r)?oa(r):(n=c0(f,u,a),r.stateNode=n,ga(r))}return Kt(r),null;case 5:if(ls(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ga(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Kt(r),null}if(n=Wt.current,ao(r))oa(r);else{switch(f=Gf(Ft.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Zt]=r,n[ln]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Jn(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ga(r)}}return Kt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ga(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ft.current,ao(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=Yn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Zt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||r0(n.nodeValue,a)),n||aa(r)}else n=Gf(n).createTextNode(u),n[Zt]=r,r.stateNode=n}return Kt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ao(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Zt]=r}else dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Kt(r),f=!1}else Ai!==null&&(Np(Ai),Ai=null),f=!0;if(!f)return r.flags&256?(Zr(r),r):(Zr(r),null)}if(Zr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Lf(r,r.updateQueue),Kt(r),null;case 4:return on(),n===null&&Bp(r.stateNode.containerInfo),Kt(r),null;case 10:return fa(r.type),Kt(r),null;case 19:if(yt(hn),f=r.memoizedState,f===null)return Kt(r),null;if(u=(r.flags&128)!==0,p=f.rendering,p===null)if(u)Xc(f,!1);else{if(sn!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=bu(n),p!==null){for(r.flags|=128,Xc(f,!1),n=p.updateQueue,r.updateQueue=n,Lf(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Dv(a,n),a=a.sibling;return Ze(hn,hn.current&1|2),r.child}n=n.sibling}f.tail!==null&&Xt()>Pf&&(r.flags|=128,u=!0,Xc(f,!1),r.lanes=4194304)}else{if(!u)if(n=bu(p),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Lf(r,n),Xc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!rt)return Kt(r),null}else 2*Xt()-f.renderingStartTime>Pf&&a!==536870912&&(r.flags|=128,u=!0,Xc(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Xt(),r.sibling=null,n=hn.current,Ze(hn,u?n&1|2:n&1),r):(Kt(r),null);case 22:case 23:return Zr(r),Eu(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(Kt(r),r.subtreeFlags&6&&(r.flags|=8192)):Kt(r),a=r.updateQueue,a!==null&&Lf(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&yt(H),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fa(fn),Kt(r),null;case 25:return null}throw Error(s(156,r.tag))}function gS(n,r){switch(Yr(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return fa(fn),on(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ls(r),null;case 13:if(Zr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));dl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return yt(hn),null;case 4:return on(),null;case 10:return fa(r.type),null;case 22:case 23:return Zr(r),Eu(),n!==null&&yt(H),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return fa(fn),null;case 25:return null;default:return null}}function Lv(n,r){switch(Yr(r),r.tag){case 3:fa(fn),on();break;case 26:case 27:case 5:ls(r);break;case 4:on();break;case 13:Zr(r);break;case 19:yt(hn);break;case 10:fa(r.type);break;case 22:case 23:Zr(r),Eu(),n!==null&&yt(H);break;case 24:fa(fn)}}var _S={getCacheForType:function(n){var r=ai(fn),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},yS=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Ut=null,st=null,gt=0,jt=0,ir=null,_a=!1,Ou=!1,wp=!1,ya=0,sn=0,wo=0,Il=0,Ap=0,xr=0,Du=0,Zc=null,Is=null,Sp=!1,Rp=0,Pf=1/0,Vf=null,Ao=null,Uf=!1,Nl=null,Jc=0,Cp=0,xp=null,eh=0,Ip=null;function rr(){if((Qt&2)!==0&&gt!==0)return gt&-gt;if(D.T!==null){var n=ho;return n!==0?n:Vp()}return Lr()}function Pv(){xr===0&&(xr=(gt&536870912)===0||rt?lr():536870912);var n=ri.current;return n!==null&&(n.flags|=32),xr}function Ri(n,r,a){(n===Ut&&jt===2||n.cancelPendingCommit!==null)&&(ku(n,0),va(n,gt,xr,!1)),Gt(n,a),((Qt&2)===0||n!==Ut)&&(n===Ut&&((Qt&2)===0&&(Il|=a),sn===4&&va(n,gt,xr,!1)),Ns(n))}function Vv(n,r,a){if((Qt&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||ds(n,r),f=u?bS(n,r):kp(n,r,!0),p=u;do{if(f===0){Ou&&!u&&va(n,r,0,!1);break}else if(f===6)va(n,r,0,!_a);else{if(a=n.current.alternate,p&&!vS(a)){f=kp(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var R=n;f=Zc;var L=R.current.memoizedState.isDehydrated;if(L&&(ku(R,T).flags|=256),T=kp(R,T,!1),T!==2){if(wp&&!L){R.errorRecoveryDisabledLanes|=p,Il|=p,f=4;break e}p=Is,Is=f,p!==null&&Np(p)}f=T}if(p=!1,f!==2)continue}}if(f===1){ku(n,0),va(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){va(u,r,xr,!_a);break e}break;case 2:Is=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(p=Rp+300-Xt(),10<p)){if(va(u,r,xr,!_a),Ci(u,0)!==0)break e;u.timeoutHandle=o0(Uv.bind(null,u,a,Is,Vf,Sp,r,xr,Il,Du,_a,2,-0,0),p);break e}Uv(u,a,Is,Vf,Sp,r,xr,Il,Du,_a,0,-0,0)}}break}while(!0);Ns(n)}function Np(n){Is===null?Is=n:Is.push.apply(Is,n)}function Uv(n,r,a,u,f,p,T,R,L,G,re,fe,Z){var ie=r.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(ah={stylesheets:null,count:0,unsuspend:eR},xv(r),r=nR(),r!==null)){n.cancelPendingCommit=r($v.bind(null,n,a,u,f,T,R,L,1,fe,Z)),va(n,p,T,!G);return}$v(n,a,u,f,T,R,L,re,fe,Z)}function vS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],p=f.getSnapshot;f=f.value;try{if(!Pt(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function va(n,r,a,u){r&=~Ap,r&=~Il,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var p=31-qn(f),T=1<<p;u[p]=-1,f&=~T}a!==0&&ms(n,a,r)}function jf(){return(Qt&6)===0?(th(0),!1):!0}function Op(){if(st!==null){if(jt===0)var n=st.return;else n=st,ha=Sl=null,Wn(n),lo=null,_l=0,n=st;for(;n!==null;)Lv(n.alternate,n),n=n.return;st=null}}function ku(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,US(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Op(),Ut=n,st=a=To(n.current,null),gt=r,jt=0,ir=null,_a=!1,Ou=ds(n,r),wp=!1,Du=xr=Ap=Il=wo=sn=0,Is=Zc=null,Sp=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-qn(u),p=1<<f;r|=n[f],u&=~p}return ya=r,cu(),a}function jv(n,r){he=null,D.H=xs,r===pl?(r=Ef(),jt=3):r===oo?(r=Ef(),jt=4):jt=r===Zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ir=r,st===null&&(sn=1,If(n,Li(r,n.current)))}function zv(){var n=D.H;return D.H=xs,n===null?xs:n}function Bv(){var n=D.A;return D.A=_S,n}function Dp(){sn=4,_a||(gt&4194176)!==gt&&ri.current!==null||(Ou=!0),(wo&134217727)===0&&(Il&134217727)===0||Ut===null||va(Ut,gt,xr,!1)}function kp(n,r,a){var u=Qt;Qt|=2;var f=zv(),p=Bv();(Ut!==n||gt!==r)&&(Vf=null,ku(n,r)),r=!1;var T=sn;e:do try{if(jt!==0&&st!==null){var R=st,L=ir;switch(jt){case 8:Op(),T=6;break e;case 3:case 2:case 6:ri.current===null&&(r=!0);var G=jt;if(jt=0,ir=null,Mu(n,R,L,G),a&&Ou){T=0;break e}break;default:G=jt,jt=0,ir=null,Mu(n,R,L,G)}}ES(),T=sn;break}catch(re){jv(n,re)}while(!0);return r&&n.shellSuspendCounter++,ha=Sl=null,Qt=u,D.H=f,D.A=p,st===null&&(Ut=null,gt=0,cu()),T}function ES(){for(;st!==null;)Fv(st)}function bS(n,r){var a=Qt;Qt|=2;var u=zv(),f=Bv();Ut!==n||gt!==r?(Vf=null,Pf=Xt()+500,ku(n,r)):Ou=ds(n,r);e:do try{if(jt!==0&&st!==null){r=st;var p=ir;t:switch(jt){case 1:jt=0,ir=null,Mu(n,r,p,1);break;case 2:if(yf(p)){jt=0,ir=null,Hv(r);break}r=function(){jt===2&&Ut===n&&(jt=7),Ns(n)},p.then(r,r);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:yf(p)?(jt=0,ir=null,Hv(r)):(jt=0,ir=null,Mu(n,r,p,7));break;case 5:var T=null;switch(st.tag){case 26:T=st.memoizedState;case 5:case 27:var R=st;if(!T||y0(T)){jt=0,ir=null;var L=R.sibling;if(L!==null)st=L;else{var G=R.return;G!==null?(st=G,zf(G)):st=null}break t}}jt=0,ir=null,Mu(n,r,p,5);break;case 6:jt=0,ir=null,Mu(n,r,p,6);break;case 8:Op(),sn=6;break e;default:throw Error(s(462))}}TS();break}catch(re){jv(n,re)}while(!0);return ha=Sl=null,D.H=u,D.A=f,Qt=a,st!==null?0:(Ut=null,gt=0,cu(),sn)}function TS(){for(;st!==null&&!Zo();)Fv(st)}function Fv(n){var r=cv(n.alternate,n,ya);n.memoizedProps=n.pendingProps,r===null?zf(n):st=r}function Hv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=rv(a,r,r.pendingProps,r.type,void 0,gt);break;case 11:r=rv(a,r,r.pendingProps,r.type.render,r.ref,gt);break;case 5:Wn(r);default:Lv(a,r),r=st=Dv(r,ya),r=cv(a,r,ya)}n.memoizedProps=n.pendingProps,r===null?zf(n):st=r}function Mu(n,r,a,u){ha=Sl=null,Wn(r),lo=null,_l=0;var f=r.return;try{if(cS(n,f,r,a,gt)){sn=1,If(n,Li(a,n.current)),st=null;return}}catch(p){if(f!==null)throw st=f,p;sn=1,If(n,Li(a,n.current)),st=null;return}r.flags&32768?(rt||u===1?n=!0:Ou||(gt&536870912)!==0?n=!1:(_a=n=!0,(u===2||u===3||u===6)&&(u=ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),qv(r,n)):zf(r)}function zf(n){var r=n;do{if((r.flags&32768)!==0){qv(r,_a);return}n=r.return;var a=pS(r.alternate,r,ya);if(a!==null){st=a;return}if(r=r.sibling,r!==null){st=r;return}st=r=n}while(r!==null);sn===0&&(sn=5)}function qv(n,r){do{var a=gS(n.alternate,n);if(a!==null){a.flags&=32767,st=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){st=n;return}st=n=a}while(n!==null);sn=6,st=null}function $v(n,r,a,u,f,p,T,R,L,G){var re=D.T,fe=ye.p;try{ye.p=2,D.T=null,wS(n,r,a,u,fe,f,p,T,R,L,G)}finally{D.T=re,ye.p=fe}}function wS(n,r,a,u,f,p,T,R){do Lu();while(Nl!==null);if((Qt&6)!==0)throw Error(s(327));var L=n.finishedWork;if(u=n.finishedLanes,L===null)return null;if(n.finishedWork=null,n.finishedLanes=0,L===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var G=L.lanes|L.childLanes;if(G|=Cc,Ql(n,u,G,p,T,R),n===Ut&&(st=Ut=null,gt=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Uf||(Uf=!0,Cp=G,xp=a,CS(bn,function(){return Lu(),null})),a=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||a?(a=D.T,D.T=null,p=ye.p,ye.p=2,T=Qt,Qt|=4,fS(n,L),Sv(L,n),Vm($p,n.containerInfo),Zf=!!qp,$p=qp=null,n.current=L,bv(n,L.alternate,L),qs(),Qt=T,ye.p=p,D.T=a):n.current=L,Uf?(Uf=!1,Nl=n,Jc=u):Gv(n,G),G=n.pendingLanes,G===0&&(Ao=null),Jo(L.stateNode),Ns(n),r!==null)for(f=n.onRecoverableError,L=0;L<r.length;L++)G=r[L],f(G.value,{componentStack:G.stack});return(Jc&3)!==0&&Lu(),G=n.pendingLanes,(u&4194218)!==0&&(G&42)!==0?n===Ip?eh++:(eh=0,Ip=n):eh=0,th(0),null}function Gv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ss(r)))}function Lu(){if(Nl!==null){var n=Nl,r=Cp;Cp=0;var a=Fa(Jc),u=D.T,f=ye.p;try{if(ye.p=32>a?32:a,D.T=null,Nl===null)var p=!1;else{a=xp,xp=null;var T=Nl,R=Jc;if(Nl=null,Jc=0,(Qt&6)!==0)throw Error(s(331));var L=Qt;if(Qt|=4,Nv(T.current),Cv(T,T.current,R,a),Qt=L,th(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(fs,T)}catch{}p=!0}return p}finally{ye.p=f,D.T=u,Gv(n,r)}}return!1}function Kv(n,r,a){r=Li(a,r),r=Xm(n.stateNode,r,2),n=yo(n,r,2),n!==null&&(Gt(n,2),Ns(n))}function kt(n,r,a){if(n.tag===3)Kv(n,n,a);else for(;r!==null;){if(r.tag===3){Kv(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ao===null||!Ao.has(u))){n=Li(a,n),a=Wy(2),u=yo(r,a,2),u!==null&&(Xy(a,u,r,n),Gt(u,2),Ns(u));break}}r=r.return}}function Mp(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new yS;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(wp=!0,f.add(a),n=AS.bind(null,n,r,a),r.then(n,n))}function AS(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ut===n&&(gt&a)===a&&(sn===4||sn===3&&(gt&62914560)===gt&&300>Xt()-Rp?(Qt&2)===0&&ku(n,0):Ap|=a,Du===gt&&(Du=0)),Ns(n)}function Qv(n,r){r===0&&(r=xi()),n=Qr(n,r),n!==null&&(Gt(n,r),Ns(n))}function SS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Qv(n,a)}function RS(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Qv(n,a)}function CS(n,r){return Or(n,r)}var Bf=null,Pu=null,Lp=!1,Ff=!1,Pp=!1,Ol=0;function Ns(n){n!==Pu&&n.next===null&&(Pu===null?Bf=Pu=n:Pu=Pu.next=n),Ff=!0,Lp||(Lp=!0,IS(xS))}function th(n,r){if(!Pp&&Ff){Pp=!0;do for(var a=!1,u=Bf;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,R=u.pingedLanes;p=(1<<31-qn(42|n)+1)-1,p&=f&~(T&~R),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,Xv(u,p))}else p=gt,p=Ci(u,u===Ut?p:0),(p&3)===0||ds(u,p)||(a=!0,Xv(u,p));u=u.next}while(a);Pp=!1}}function xS(){Ff=Lp=!1;var n=0;Ol!==0&&(VS()&&(n=Ol),Ol=0);for(var r=Xt(),a=null,u=Bf;u!==null;){var f=u.next,p=Yv(u,r);p===0?(u.next=null,a===null?Bf=f:a.next=f,f===null&&(Pu=a)):(a=u,(n!==0||(p&3)!==0)&&(Ff=!0)),u=f}th(n)}function Yv(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-qn(p),R=1<<T,L=f[T];L===-1?((R&a)===0||(R&u)!==0)&&(f[T]=za(R,r)):L<=r&&(n.expiredLanes|=R),p&=~R}if(r=Ut,a=gt,a=Ci(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&jt===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&cs(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ds(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&cs(u),Fa(a)){case 2:case 8:a=Tt;break;case 32:a=bn;break;case 268435456:a=hs;break;default:a=bn}return u=Wv.bind(null,n),a=Or(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&cs(u),n.callbackPriority=2,n.callbackNode=null,2}function Wv(n,r){var a=n.callbackNode;if(Lu()&&n.callbackNode!==a)return null;var u=gt;return u=Ci(n,n===Ut?u:0),u===0?null:(Vv(n,u,r),Yv(n,Xt()),n.callbackNode!=null&&n.callbackNode===a?Wv.bind(null,n):null)}function Xv(n,r){if(Lu())return null;Vv(n,r,!0)}function IS(n){jS(function(){(Qt&6)!==0?Or(Ve,n):n()})}function Vp(){return Ol===0&&(Ol=lr()),Ol}function Zv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Wi(""+n)}function Jv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function NS(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var p=Zv((f[ln]||null).action),T=u.submitter;T&&(r=(r=T[ln]||null)?Zv(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var R=new Ys("action","action",null,u,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ol!==0){var L=T?Jv(f,T):new FormData(f);Gm(a,{pending:!0,data:L,method:f.method,action:p},null,L)}}else typeof p=="function"&&(R.preventDefault(),L=T?Jv(f,T):new FormData(f),Gm(a,{pending:!0,data:L,method:f.method,action:p},p,L))},currentTarget:f}]})}}for(var Up=0;Up<Rc.length;Up++){var jp=Rc[Up],OS=jp.toLowerCase(),DS=jp[0].toUpperCase()+jp.slice(1);ki(OS,"on"+DS)}ki(cf,"onAnimationEnd"),ki(Ac,"onAnimationIteration"),ki(Sc,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(hf,"onTransitionRun"),ki(ff,"onTransitionStart"),ki(jm,"onTransitionCancel"),ki(df,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nh));function e0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var T=u.length-1;0<=T;T--){var R=u[T],L=R.instance,G=R.currentTarget;if(R=R.listener,L!==p&&f.isPropagationStopped())break e;p=R,f.currentTarget=G;try{p(f)}catch(re){xf(re)}f.currentTarget=null,p=L}else for(T=0;T<u.length;T++){if(R=u[T],L=R.instance,G=R.currentTarget,R=R.listener,L!==p&&f.isPropagationStopped())break e;p=R,f.currentTarget=G;try{p(f)}catch(re){xf(re)}f.currentTarget=null,p=L}}}}function dt(n,r){var a=r[Ii];a===void 0&&(a=r[Ii]=new Set);var u=n+"__bubble";a.has(u)||(t0(r,n,2,!1),a.add(u))}function zp(n,r,a){var u=0;r&&(u|=4),t0(a,n,u,r)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function Bp(n){if(!n[Hf]){n[Hf]=!0,hr.forEach(function(a){a!=="selectionchange"&&(kS.has(a)||zp(a,!1,n),zp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Hf]||(r[Hf]=!0,zp("selectionchange",!1,r))}}function t0(n,r,a,u){switch(A0(r)){case 2:var f=sR;break;case 8:f=aR;break;default:f=eg}a=f.bind(null,r,a,n),f=void 0,!vi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Fp(n,r,a,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var R=u.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(T===4)for(T=u.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===f||L.nodeType===8&&L.parentNode===f))return;T=T.return}for(;R!==null;){if(T=Dn(R),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){u=p=T;continue e}R=R.parentNode}}u=u.return}Hr(function(){var G=p,re=gs(a),fe=[];e:{var Z=mf.get(n);if(Z!==void 0){var ie=Ys,Oe=n;switch(n){case"keypress":if(gr(a)===0)break e;case"keydown":case"keyup":ie=Di;break;case"focusin":Oe="focus",ie=Js;break;case"focusout":Oe="blur",ie=Js;break;case"beforeblur":case"afterblur":ie=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=tu;break;case cf:case Ac:case Sc:ie=ta;break;case df:ie=iu;break;case"scroll":case"scrollend":ie=Qa;break;case"wheel":ie=ia;break;case"copy":case"cut":case"paste":ie=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ll;break;case"toggle":case"beforetoggle":ie=su}var Qe=(r&4)!==0,an=!Qe&&(n==="scroll"||n==="scrollend"),Q=Qe?Z!==null?Z+"Capture":null:Z;Qe=[];for(var q=G,W;q!==null;){var se=q;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||Q===null||(se=Ks(q,Q),se!=null&&Qe.push(ih(q,se,W))),an)break;q=q.return}0<Qe.length&&(Z=new ie(Z,Oe,null,a,re),fe.push({event:Z,listeners:Qe}))}}if((r&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Z&&a!==Ln&&(Oe=a.relatedTarget||a.fromElement)&&(Dn(Oe)||Oe[Pr]))break e;if((ie||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ie?(Oe=a.relatedTarget||a.toElement,ie=G,Oe=Oe?Dn(Oe):null,Oe!==null&&(an=Te(Oe),Qe=Oe.tag,Oe!==an||Qe!==5&&Qe!==27&&Qe!==6)&&(Oe=null)):(ie=null,Oe=G),ie!==Oe)){if(Qe=bi,se="onMouseLeave",Q="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Qe=ll,se="onPointerLeave",Q="onPointerEnter",q="pointer"),an=ie==null?Z:pi(ie),W=Oe==null?Z:pi(Oe),Z=new Qe(se,q+"leave",ie,a,re),Z.target=an,Z.relatedTarget=W,se=null,Dn(re)===G&&(Qe=new Qe(Q,q+"enter",Oe,a,re),Qe.target=W,Qe.relatedTarget=an,se=Qe),an=se,ie&&Oe)t:{for(Qe=ie,Q=Oe,q=0,W=Qe;W;W=Vu(W))q++;for(W=0,se=Q;se;se=Vu(se))W++;for(;0<q-W;)Qe=Vu(Qe),q--;for(;0<W-q;)Q=Vu(Q),W--;for(;q--;){if(Qe===Q||Q!==null&&Qe===Q.alternate)break t;Qe=Vu(Qe),Q=Vu(Q)}Qe=null}else Qe=null;ie!==null&&n0(fe,Z,ie,Qe,!1),Oe!==null&&an!==null&&n0(fe,an,Oe,Qe,!0)}}e:{if(Z=G?pi(G):window,ie=Z.nodeName&&Z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Z.type==="file")var xe=hl;else if(tn(Z))if(tf)xe=of;else{xe=af;var nt=sf}else ie=Z.nodeName,!ie||ie.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&sl(G.elementType)&&(xe=hl):xe=ou;if(xe&&(xe=xe(n,G))){vr(fe,xe,a,re);break e}nt&&nt(n,Z,G),n==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&zr(Z,"number",Z.value)}switch(nt=G?pi(G):window,n){case"focusin":(tn(nt)||nt.contentEditable==="true")&&(Za=nt,wc=G,Ja=null);break;case"focusout":Ja=wc=Za=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,uu(fe,a,re);break;case"selectionchange":if(Um)break;case"keydown":case"keyup":uu(fe,a,re)}var Le;if(Vn)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else at?J(n,a)&&(Fe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(b&&a.locale!=="ko"&&(at||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&at&&(Le=_s()):(Ei=re,pr="value"in Ei?Ei.value:Ei.textContent,at=!0)),nt=qf(G,Fe),0<nt.length&&(Fe=new Wa(Fe,n,null,a,re),fe.push({event:Fe,listeners:nt}),Le?Fe.data=Le:(Le=ve(a),Le!==null&&(Fe.data=Le)))),(Le=y?cn(n,a):ot(n,a))&&(Fe=qf(G,"onBeforeInput"),0<Fe.length&&(nt=new Wa("onBeforeInput","beforeinput",null,a,re),fe.push({event:nt,listeners:Fe}),nt.data=Le)),NS(fe,n,G,a,re)}e0(fe,r)})}function ih(n,r,a){return{instance:n,listener:r,currentTarget:a}}function qf(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ks(n,a),f!=null&&u.unshift(ih(n,f,p)),f=Ks(n,r),f!=null&&u.push(ih(n,f,p))),n=n.return}return u}function Vu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function n0(n,r,a,u,f){for(var p=r._reactName,T=[];a!==null&&a!==u;){var R=a,L=R.alternate,G=R.stateNode;if(R=R.tag,L!==null&&L===u)break;R!==5&&R!==26&&R!==27||G===null||(L=G,f?(G=Ks(a,p),G!=null&&T.unshift(ih(a,G,L))):f||(G=Ks(a,p),G!=null&&T.push(ih(a,G,L)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var MS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function i0(n){return(typeof n=="string"?n:""+n).replace(MS,`
`).replace(LS,"")}function r0(n,r){return r=i0(r),i0(n)===r}function $f(){}function It(n,r,a,u,f,p){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(n,""+u);break;case"className":jr(n,"class",u);break;case"tabIndex":jr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(n,a,u);break;case"style":Oi(n,u,p);break;case"data":if(r!=="object"){jr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Wi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&It(n,r,"name",f.name,f,null),It(n,r,"formEncType",f.formEncType,f,null),It(n,r,"formMethod",f.formMethod,f,null),It(n,r,"formTarget",f.formTarget,f,null)):(It(n,r,"encType",f.encType,f,null),It(n,r,"method",f.method,f,null),It(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Wi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=$f);break;case"onScroll":u!=null&&dt("scroll",n);break;case"onScrollEnd":u!=null&&dt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Wi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":dt("beforetoggle",n),dt("toggle",n),Ur(n,"popover",u);break;case"xlinkActuate":gi(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gi(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gi(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gi(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gi(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gi(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gi(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ur(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fr.get(a)||a,Ur(n,a,u))}}function Hp(n,r,a,u,f,p){switch(a){case"style":Oi(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Sn(n,u):(typeof u=="number"||typeof u=="bigint")&&Sn(n,""+u);break;case"onScroll":u!=null&&dt("scroll",n);break;case"onScrollEnd":u!=null&&dt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=$f);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[ln]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Ur(n,a,u)}}}function Jn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",n),dt("load",n);var u=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var T=a[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:It(n,r,p,T,a,null)}}f&&It(n,r,"srcSet",a.srcSet,a,null),u&&It(n,r,"src",a.src,a,null);return;case"input":dt("invalid",n);var R=p=T=f=null,L=null,G=null;for(u in a)if(a.hasOwnProperty(u)){var re=a[u];if(re!=null)switch(u){case"name":f=re;break;case"type":T=re;break;case"checked":L=re;break;case"defaultChecked":G=re;break;case"value":p=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:It(n,r,u,re,a,null)}}_i(n,p,R,L,G,T,f,!1),un(n);return;case"select":dt("invalid",n),u=T=p=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":p=R;break;case"defaultValue":T=R;break;case"multiple":u=R;default:It(n,r,f,R,a,null)}r=p,a=T,n.multiple=!!u,r!=null?et(n,!!u,r,!1):a!=null&&et(n,!!u,a,!0);return;case"textarea":dt("invalid",n),p=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(R=a[T],R!=null))switch(T){case"value":u=R;break;case"defaultValue":f=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:It(n,r,T,R,a,null)}Fr(n,u,f,p),un(n);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:It(n,r,L,u,a,null)}return;case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":dt("load",n);break;case"video":case"audio":for(u=0;u<nh.length;u++)dt(nh[u],n);break;case"image":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"embed":case"source":case"link":dt("error",n),dt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(u=a[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:It(n,r,G,u,a,null)}return;default:if(sl(r)){for(re in a)a.hasOwnProperty(re)&&(u=a[re],u!==void 0&&Hp(n,r,re,u,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(u=a[R],u!=null&&It(n,r,R,u,a,null))}function PS(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,R=null,L=null,G=null,re=null;for(ie in a){var fe=a[ie];if(a.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":L=fe;default:u.hasOwnProperty(ie)||It(n,r,ie,null,u,fe)}}for(var Z in u){var ie=u[Z];if(fe=a[Z],u.hasOwnProperty(Z)&&(ie!=null||fe!=null))switch(Z){case"type":p=ie;break;case"name":f=ie;break;case"checked":G=ie;break;case"defaultChecked":re=ie;break;case"value":T=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==fe&&It(n,r,Z,ie,u,fe)}}An(n,T,R,L,G,re,p,f);return;case"select":ie=T=R=Z=null;for(p in a)if(L=a[p],a.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":ie=L;default:u.hasOwnProperty(p)||It(n,r,p,null,u,L)}for(f in u)if(p=u[f],L=a[f],u.hasOwnProperty(f)&&(p!=null||L!=null))switch(f){case"value":Z=p;break;case"defaultValue":R=p;break;case"multiple":T=p;default:p!==L&&It(n,r,f,p,u,L)}r=R,a=T,u=ie,Z!=null?et(n,!!a,Z,!1):!!u!=!!a&&(r!=null?et(n,!!a,r,!0):et(n,!!a,a?[]:"",!1));return;case"textarea":ie=Z=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:It(n,r,R,null,u,f)}for(T in u)if(f=u[T],p=a[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":Z=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&It(n,r,T,f,u,p)}Br(n,Z,ie);return;case"option":for(var Oe in a)if(Z=a[Oe],a.hasOwnProperty(Oe)&&Z!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":n.selected=!1;break;default:It(n,r,Oe,null,u,Z)}for(L in u)if(Z=u[L],ie=a[L],u.hasOwnProperty(L)&&Z!==ie&&(Z!=null||ie!=null))switch(L){case"selected":n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:It(n,r,L,Z,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in a)Z=a[Qe],a.hasOwnProperty(Qe)&&Z!=null&&!u.hasOwnProperty(Qe)&&It(n,r,Qe,null,u,Z);for(G in u)if(Z=u[G],ie=a[G],u.hasOwnProperty(G)&&Z!==ie&&(Z!=null||ie!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:It(n,r,G,Z,u,ie)}return;default:if(sl(r)){for(var an in a)Z=a[an],a.hasOwnProperty(an)&&Z!==void 0&&!u.hasOwnProperty(an)&&Hp(n,r,an,void 0,u,Z);for(re in u)Z=u[re],ie=a[re],!u.hasOwnProperty(re)||Z===ie||Z===void 0&&ie===void 0||Hp(n,r,re,Z,u,ie);return}}for(var Q in a)Z=a[Q],a.hasOwnProperty(Q)&&Z!=null&&!u.hasOwnProperty(Q)&&It(n,r,Q,null,u,Z);for(fe in u)Z=u[fe],ie=a[fe],!u.hasOwnProperty(fe)||Z===ie||Z==null&&ie==null||It(n,r,fe,Z,u,ie)}var qp=null,$p=null;function Gf(n){return n.nodeType===9?n:n.ownerDocument}function s0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Gp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kp=null;function VS(){var n=window.event;return n&&n.type==="popstate"?n===Kp?!1:(Kp=n,!0):(Kp=null,!1)}var o0=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(n){return l0.resolve(null).then(n).catch(zS)}:o0;function zS(n){setTimeout(function(){throw n})}function Qp(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),hh(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);hh(r)}function Yp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yp(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function BS(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[qt])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ns(n.nextSibling),n===null)break}return null}function FS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ns(n.nextSibling),n===null))return null;return n}function ns(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function u0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function c0(n,r,a){switch(r=Gf(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Ir=new Map,h0=new Set;function Kf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ea=ye.d;ye.d={f:HS,r:qS,D:$S,C:GS,L:KS,m:QS,X:WS,S:YS,M:XS};function HS(){var n=Ea.f(),r=jf();return n||r}function qS(n){var r=$n(n);r!==null&&r.tag===5&&r.type==="form"?Uy(r):Ea.r(n)}var Uu=typeof document>"u"?null:document;function f0(n,r,a){var u=Uu;if(u&&typeof r=="string"&&r){var f=Lt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),h0.has(f)||(h0.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Jn(r,"link",n),Ot(r),u.head.appendChild(r)))}}function $S(n){Ea.D(n),f0("dns-prefetch",n,null)}function GS(n,r){Ea.C(n,r),f0("preconnect",n,r)}function KS(n,r,a){Ea.L(n,r,a);var u=Uu;if(u&&n&&r){var f='link[rel="preload"][as="'+Lt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Lt(a.imageSizes)+'"]')):f+='[href="'+Lt(n)+'"]';var p=f;switch(r){case"style":p=ju(n);break;case"script":p=zu(n)}Ir.has(p)||(n=P({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Ir.set(p,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(rh(p))||r==="script"&&u.querySelector(sh(p))||(r=u.createElement("link"),Jn(r,"link",n),Ot(r),u.head.appendChild(r)))}}function QS(n,r){Ea.m(n,r);var a=Uu;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Lt(u)+'"][href="'+Lt(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=zu(n)}if(!Ir.has(p)&&(n=P({rel:"modulepreload",href:n},r),Ir.set(p,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sh(p)))return}u=a.createElement("link"),Jn(u,"link",n),Ot(u),a.head.appendChild(u)}}}function YS(n,r,a){Ea.S(n,r,a);var u=Uu;if(u&&n){var f=Vr(u).hoistableStyles,p=ju(n);r=r||"default";var T=f.get(p);if(!T){var R={loading:0,preload:null};if(T=u.querySelector(rh(p)))R.loading=5;else{n=P({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Ir.get(p))&&Wp(n,a);var L=T=u.createElement("link");Ot(L),Jn(L,"link",n),L._p=new Promise(function(G,re){L.onload=G,L.onerror=re}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Qf(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:R},f.set(p,T)}}}function WS(n,r){Ea.X(n,r);var a=Uu;if(a&&n){var u=Vr(a).hoistableScripts,f=zu(n),p=u.get(f);p||(p=a.querySelector(sh(f)),p||(n=P({src:n,async:!0},r),(r=Ir.get(f))&&Xp(n,r),p=a.createElement("script"),Ot(p),Jn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function XS(n,r){Ea.M(n,r);var a=Uu;if(a&&n){var u=Vr(a).hoistableScripts,f=zu(n),p=u.get(f);p||(p=a.querySelector(sh(f)),p||(n=P({src:n,async:!0,type:"module"},r),(r=Ir.get(f))&&Xp(n,r),p=a.createElement("script"),Ot(p),Jn(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function d0(n,r,a,u){var f=(f=Ft.current)?Kf(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ju(a.href),a=Vr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ju(a.href);var p=Vr(f).hoistableStyles,T=p.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=f.querySelector(rh(n)))&&!p._p&&(T.instance=p,T.state.loading=5),Ir.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ir.set(n,a),p||ZS(f,n,a,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=zu(a),a=Vr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ju(n){return'href="'+Lt(n)+'"'}function rh(n){return'link[rel="stylesheet"]['+n+"]"}function m0(n){return P({},n,{"data-precedence":n.precedence,precedence:null})}function ZS(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jn(r,"link",a),Ot(r),n.head.appendChild(r))}function zu(n){return'[src="'+Lt(n)+'"]'}function sh(n){return"script[async]"+n}function p0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(u)return r.instance=u,Ot(u),u;var f=P({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ot(u),Jn(u,"style",f),Qf(u,a.precedence,n),r.instance=u;case"stylesheet":f=ju(a.href);var p=n.querySelector(rh(f));if(p)return r.state.loading|=4,r.instance=p,Ot(p),p;u=m0(a),(f=Ir.get(f))&&Wp(u,f),p=(n.ownerDocument||n).createElement("link"),Ot(p);var T=p;return T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),Jn(p,"link",u),r.state.loading|=4,Qf(p,a.precedence,n),r.instance=p;case"script":return p=zu(a.src),(f=n.querySelector(sh(p)))?(r.instance=f,Ot(f),f):(u=a,(f=Ir.get(p))&&(u=P({},a),Xp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ot(f),Jn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Qf(u,a.precedence,n));return r.instance}function Qf(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var R=u[T];if(R.dataset.precedence===r)p=R;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Wp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Xp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Yf=null;function g0(n,r,a){if(Yf===null){var u=new Map,f=Yf=new Map;f.set(a,u)}else f=Yf,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[qt]||p[Zt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=n+T;var R=u.get(T);R?R.push(p):u.set(T,[p])}}return u}function _0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function JS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function y0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ah=null;function eR(){}function tR(n,r,a){if(ah===null)throw Error(s(475));var u=ah;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ju(a.href),p=n.querySelector(rh(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Wf.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=p,Ot(p);return}p=n.ownerDocument||n,a=m0(a),(f=Ir.get(f))&&Wp(a,f),p=p.createElement("link"),Ot(p);var T=p;T._p=new Promise(function(R,L){T.onload=R,T.onerror=L}),Jn(p,"link",a),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Wf.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function nR(){if(ah===null)throw Error(s(475));var n=ah;return n.stylesheets&&n.count===0&&Zp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Zp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xf=null;function Zp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xf=new Map,r.forEach(iR,n),Xf=null,Wf.call(n))}function iR(n,r){if(!(r.state.loading&4)){var a=Xf.get(n);if(a)var u=a.get(null);else{a=new Map,Xf.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),p=a.get(T)||u,p===u&&a.set(null,f),a.set(T,f),this.count++,u=Wf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var oh={$$typeof:V,Provider:null,Consumer:null,_currentValue:Ue,_currentValue2:Ue,_threadCount:0};function rR(n,r,a,u,f,p,T,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.hiddenUpdates=Ba(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function v0(n,r,a,u,f,p,T,R,L,G,re,fe){return n=new rR(n,r,a,T,R,L,G,fe),r=1,p===!0&&(r|=24),p=Cr(3,null,null,r),n.current=p,p.stateNode=n,r=Tu(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:r},cp(p),n}function E0(n){return n?(n=no,n):no}function b0(n,r,a,u,f,p){f=E0(f),u.context===null?u.context=f:u.pendingContext=f,u=_o(r),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=yo(n,u,r),a!==null&&(Ri(a,n,r),qc(a,n,r))}function T0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Jp(n,r){T0(n,r),(n=n.alternate)&&T0(n,r)}function w0(n){if(n.tag===13){var r=Qr(n,67108864);r!==null&&Ri(r,n,67108864),Jp(n,67108864)}}var Zf=!0;function sR(n,r,a,u){var f=D.T;D.T=null;var p=ye.p;try{ye.p=2,eg(n,r,a,u)}finally{ye.p=p,D.T=f}}function aR(n,r,a,u){var f=D.T;D.T=null;var p=ye.p;try{ye.p=8,eg(n,r,a,u)}finally{ye.p=p,D.T=f}}function eg(n,r,a,u){if(Zf){var f=tg(u);if(f===null)Fp(n,r,u,Jf,a),S0(n,u);else if(lR(f,n,r,a,u))u.stopPropagation();else if(S0(n,u),r&4&&-1<oR.indexOf(n)){for(;f!==null;){var p=$n(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Gi(p.pendingLanes);if(T!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var L=1<<31-qn(T);R.entanglements[1]|=L,T&=~L}Ns(p),(Qt&6)===0&&(Pf=Xt()+500,th(0))}}break;case 13:R=Qr(p,2),R!==null&&Ri(R,p,2),jf(),Jp(p,2)}if(p=tg(u),p===null&&Fp(n,r,u,Jf,a),p===f)break;f=p}f!==null&&u.stopPropagation()}else Fp(n,r,u,null,a)}}function tg(n){return n=gs(n),ng(n)}var Jf=null;function ng(n){if(Jf=null,n=Dn(n),n!==null){var r=Te(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=it(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Jf=n,null}function A0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mi()){case Ve:return 2;case Tt:return 8;case bn:case Dr:return 32;case hs:return 268435456;default:return 32}default:return 32}}var ig=!1,So=null,Ro=null,Co=null,lh=new Map,uh=new Map,xo=[],oR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S0(n,r){switch(n){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":lh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(r.pointerId)}}function ch(n,r,a,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=$n(r),r!==null&&w0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function lR(n,r,a,u,f){switch(r){case"focusin":return So=ch(So,n,r,a,u,f),!0;case"dragenter":return Ro=ch(Ro,n,r,a,u,f),!0;case"mouseover":return Co=ch(Co,n,r,a,u,f),!0;case"pointerover":var p=f.pointerId;return lh.set(p,ch(lh.get(p)||null,n,r,a,u,f)),!0;case"gotpointercapture":return p=f.pointerId,uh.set(p,ch(uh.get(p)||null,n,r,a,u,f)),!0}return!1}function R0(n){var r=Dn(n.target);if(r!==null){var a=Te(r);if(a!==null){if(r=a.tag,r===13){if(r=it(a),r!==null){n.blockedOn=r,Ki(n.priority,function(){if(a.tag===13){var u=rr(),f=Qr(a,u);f!==null&&Ri(f,a,u),Jp(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ed(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=tg(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Ln=u,a.target.dispatchEvent(u),Ln=null}else return r=$n(a),r!==null&&w0(r),n.blockedOn=a,!1;r.shift()}return!0}function C0(n,r,a){ed(n)&&a.delete(r)}function uR(){ig=!1,So!==null&&ed(So)&&(So=null),Ro!==null&&ed(Ro)&&(Ro=null),Co!==null&&ed(Co)&&(Co=null),lh.forEach(C0),uh.forEach(C0)}function td(n,r){n.blockedOn===r&&(n.blockedOn=null,ig||(ig=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uR)))}var nd=null;function x0(n){nd!==n&&(nd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nd===n&&(nd=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(ng(u||a)===null)continue;break}var p=$n(a);p!==null&&(n.splice(r,3),r-=3,Gm(p,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function hh(n){function r(L){return td(L,n)}So!==null&&td(So,n),Ro!==null&&td(Ro,n),Co!==null&&td(Co,n),lh.forEach(r),uh.forEach(r);for(var a=0;a<xo.length;a++){var u=xo[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<xo.length&&(a=xo[0],a.blockedOn===null);)R0(a),a.blockedOn===null&&xo.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],p=a[u+1],T=f[ln]||null;if(typeof p=="function")T||x0(a);else if(T){var R=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[ln]||null)R=T.formAction;else if(ng(f)!==null)continue}else R=T.action;typeof R=="function"?a[u+1]=R:(a.splice(u,3),u-=3),x0(a)}}}function rg(n){this._internalRoot=n}id.prototype.render=rg.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=rr();b0(a,u,n,r,null,null)},id.prototype.unmount=rg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Lu(),b0(n.current,2,null,n,null,null),jf(),r[Pr]=null}};function id(n){this._internalRoot=n}id.prototype.unstable_scheduleHydration=function(n){if(n){var r=Lr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<xo.length&&r!==0&&r<xo[a].priority;a++);xo.splice(a,0,n),a===0&&R0(n)}};var I0=e.version;if(I0!=="19.0.0")throw Error(s(527,I0,"19.0.0"));ye.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ue(r),n=n!==null?Ae(n):null,n=n===null?null:n.stateNode,n};var cR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Dn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{fs=rd.inject(cR),On=rd}catch{}}return dh.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=Gy,p=Ky,T=Qy,R=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=v0(n,1,!1,null,null,a,u,f,p,T,R,null),n[Pr]=r.current,Bp(n.nodeType===8?n.parentNode:n),new rg(r)},dh.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",p=Gy,T=Ky,R=Qy,L=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=v0(n,1,!0,r,a??null,u,f,p,T,R,L,G),r.context=E0(null),a=r.current,u=rr(),f=_o(u),f.callback=null,yo(a,f,u),r.current.lanes=u,Gt(r,u),Ns(r),n[Pr]=r.current,Bp(n),new id(r)},dh.version="19.0.0",dh}var j0;function vR(){if(j0)return ag.exports;j0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ag.exports=yR(),ag.exports}var ER=vR(),k=g_();const Bi=nm(k);var mh={},z0;function bR(){if(z0)return mh;z0=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.parse=h,mh.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function h(x,V){const j=new l,X=x.length;if(X<2)return j;const F=(V==null?void 0:V.decode)||E;let z=0;do{const te=x.indexOf("=",z);if(te===-1)break;const ne=x.indexOf(";",z),_e=ne===-1?X:ne;if(te>_e){z=x.lastIndexOf(";",te-1)+1;continue}const Ee=m(x,z,te),Re=g(x,te,Ee),B=x.slice(Ee,Re);if(j[B]===void 0){let M=m(x,te+1,_e),D=g(x,_e,M);const P=F(x.slice(M,D));j[B]=P}z=_e+1}while(z<X);return j}function m(x,V,j){do{const X=x.charCodeAt(V);if(X!==32&&X!==9)return V}while(++V<j);return j}function g(x,V,j){for(;V>j;){const X=x.charCodeAt(--V);if(X!==32&&X!==9)return V+1}return j}function _(x,V,j){const X=(j==null?void 0:j.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const F=X(V);if(!e.test(F))throw new TypeError(`argument val is invalid: ${V}`);let z=x+"="+F;if(!j)return z;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);z+="; Max-Age="+j.maxAge}if(j.domain){if(!t.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);z+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);z+="; Path="+j.path}if(j.expires){if(!S(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);z+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(z+="; HttpOnly"),j.secure&&(z+="; Secure"),j.partitioned&&(z+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return z}function E(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function S(x){return o.call(x)==="[object Date]"}return mh}bR();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B0="popstate";function TR(i={}){function e(s,o){let{pathname:l,search:h,hash:m}=s.location;return Mg("",{pathname:l,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:xh(o)}return AR(e,t,null,i)}function $t(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function rs(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wR(){return Math.random().toString(36).substring(2,10)}function F0(i,e){return{usr:i.state,key:i.key,idx:e}}function Mg(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?oc(e):e,state:t,key:e&&e.key||s||wR()}}function xh({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function oc(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function AR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,m="POP",g=null,_=E();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let F=E(),z=F==null?null:F-_;_=F,g&&g({action:m,location:X.location,delta:z})}function x(F,z){m="PUSH";let te=Mg(X.location,F,z);_=E()+1;let ne=F0(te,_),_e=X.createHref(te);try{h.pushState(ne,"",_e)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(_e)}l&&g&&g({action:m,location:X.location,delta:1})}function V(F,z){m="REPLACE";let te=Mg(X.location,F,z);_=E();let ne=F0(te,_),_e=X.createHref(te);h.replaceState(ne,"",_e),l&&g&&g({action:m,location:X.location,delta:0})}function j(F){let z=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof F=="string"?F:xh(F);return te=te.replace(/ $/,"%20"),$t(z,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,z)}let X={get action(){return m},get location(){return i(o,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(B0,S),g=F,()=>{o.removeEventListener(B0,S),g=null}},createHref(F){return e(o,F)},createURL:j,encodeLocation(F){let z=j(F);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:x,replace:V,go(F){return h.go(F)}};return X}function Kb(i,e,t="/"){return SR(i,e,t,!1)}function SR(i,e,t,s){let o=typeof e=="string"?oc(e):e,l=Ia(o.pathname||"/",t);if(l==null)return null;let h=Qb(i);RR(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let _=VR(l);m=LR(h[g],_,s)}return m}function Qb(i,e=[],t=[],s=""){let o=(l,h,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&($t(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=Sa([s,g.relativePath]),E=t.concat(g);l.children&&l.children.length>0&&($t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Qb(l.children,e,E,_)),!(l.path==null&&!l.index)&&e.push({path:_,score:kR(_,l.index),routesMeta:E})};return i.forEach((l,h)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,h);else for(let g of Yb(l.path))o(l,h,g)}),e}function Yb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Yb(s.join("/")),m=[];return m.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function RR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:MR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var CR=/^:[\w-]+$/,xR=3,IR=2,NR=1,OR=10,DR=-2,H0=i=>i==="*";function kR(i,e){let t=i.split("/"),s=t.length;return t.some(H0)&&(s+=DR),e&&(s+=IR),t.filter(o=>!H0(o)).reduce((o,l)=>o+(CR.test(l)?xR:l===""?NR:OR),s)}function MR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function LR(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",S=xd({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},E),x=g.route;if(!S&&_&&t&&!s[s.length-1].route.index&&(S=xd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Sa([l,S.pathname]),pathnameBase:BR(Sa([l,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(l=Sa([l,S.pathnameBase]))}return h}function xd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=PR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:E,isOptional:S},x)=>{if(E==="*"){let j=m[x]||"";h=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const V=m[x];return S&&!V?_[E]=void 0:_[E]=(V||"").replace(/%2F/g,"/"),_},{}),pathname:l,pathnameBase:h,pattern:i}}function PR(i,e=!1,t=!0){rs(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function VR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ia(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function UR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?oc(i):i;return{pathname:t?t.startsWith("/")?t:jR(t,e):e,search:FR(s),hash:HR(o)}}function jR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function hg(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function __(i){let e=zR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function y_(i,e,t,s=!1){let o;typeof i=="string"?o=oc(i):(o={...i},$t(!o.pathname||!o.pathname.includes("?"),hg("?","pathname","search",o)),$t(!o.pathname||!o.pathname.includes("#"),hg("#","pathname","hash",o)),$t(!o.search||!o.search.includes("#"),hg("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}m=S>=0?e[S]:"/"}let g=UR(o,m),_=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(_||E)&&(g.pathname+="/"),g}var Sa=i=>i.join("/").replace(/\/\/+/g,"/"),BR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),FR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,HR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function qR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Wb=["POST","PUT","PATCH","DELETE"];new Set(Wb);var $R=["GET",...Wb];new Set($R);var lc=k.createContext(null);lc.displayName="DataRouter";var im=k.createContext(null);im.displayName="DataRouterState";var Xb=k.createContext({isTransitioning:!1});Xb.displayName="ViewTransition";var GR=k.createContext(new Map);GR.displayName="Fetchers";var KR=k.createContext(null);KR.displayName="Await";var os=k.createContext(null);os.displayName="Navigation";var zh=k.createContext(null);zh.displayName="Location";var zs=k.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var v_=k.createContext(null);v_.displayName="RouteError";function QR(i,{relative:e}={}){$t(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=k.useContext(os),{hash:o,pathname:l,search:h}=Bh(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Sa([t,l])),s.createHref({pathname:m,search:h,hash:o})}function uc(){return k.useContext(zh)!=null}function Pa(){return $t(uc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(zh).location}var Zb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jb(i){k.useContext(os).static||k.useLayoutEffect(i)}function rm(){let{isDataRoute:i}=k.useContext(zs);return i?o1():YR()}function YR(){$t(uc(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(lc),{basename:e,navigator:t}=k.useContext(os),{matches:s}=k.useContext(zs),{pathname:o}=Pa(),l=JSON.stringify(__(s)),h=k.useRef(!1);return Jb(()=>{h.current=!0}),k.useCallback((g,_={})=>{if(rs(h.current,Zb),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=y_(g,JSON.parse(l),o,_.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Sa([e,E.pathname])),(_.replace?t.replace:t.push)(E,_.state,_)},[e,t,l,o,i])}k.createContext(null);function Bh(i,{relative:e}={}){let{matches:t}=k.useContext(zs),{pathname:s}=Pa(),o=JSON.stringify(__(t));return k.useMemo(()=>y_(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function WR(i,e){return eT(i,e)}function eT(i,e,t,s){var te;$t(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=k.useContext(os),{matches:h}=k.useContext(zs),m=h[h.length-1],g=m?m.params:{},_=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ne=S&&S.path||"";tT(_,!S||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let x=Pa(),V;if(e){let ne=typeof e=="string"?oc(e):e;$t(E==="/"||((te=ne.pathname)==null?void 0:te.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),V=ne}else V=x;let j=V.pathname||"/",X=j;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");X="/"+j.replace(/^\//,"").split("/").slice(ne.length).join("/")}let F=!l&&t&&t.matches&&t.matches.length>0?t.matches:Kb(i,{pathname:X});rs(S||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),rs(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=t1(F&&F.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:Sa([E,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:Sa([E,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),h,t,s);return e&&z?k.createElement(zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},z):z}function XR(){let i=a1(),e=qR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:o},t):null,h)}var ZR=k.createElement(XR,null),JR=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?k.createElement(zs.Provider,{value:this.props.routeContext},k.createElement(v_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e1({routeContext:i,match:e,children:t}){let s=k.useContext(lc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(zs.Provider,{value:i},t)}function t1(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let g=o.findIndex(_=>_.route.id&&(l==null?void 0:l[_.route.id])!==void 0);$t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:E,errors:S}=t,x=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||x){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,_,E)=>{let S,x=!1,V=null,j=null;t&&(S=l&&_.route.id?l[_.route.id]:void 0,V=_.route.errorElement||ZR,h&&(m<0&&E===0?(tT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):m===E&&(x=!0,j=_.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,E+1)),F=()=>{let z;return S?z=V:x?z=j:_.route.Component?z=k.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=g,k.createElement(e1,{match:_,routeContext:{outlet:g,matches:X,isDataRoute:t!=null},children:z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?k.createElement(JR,{location:t.location,revalidation:t.revalidation,component:V,error:S,children:F(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):F()},null)}function E_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(i){let e=k.useContext(lc);return $t(e,E_(i)),e}function i1(i){let e=k.useContext(im);return $t(e,E_(i)),e}function r1(i){let e=k.useContext(zs);return $t(e,E_(i)),e}function b_(i){let e=r1(i),t=e.matches[e.matches.length-1];return $t(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function s1(){return b_("useRouteId")}function a1(){var s;let i=k.useContext(v_),e=i1("useRouteError"),t=b_("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function o1(){let{router:i}=n1("useNavigate"),e=b_("useNavigate"),t=k.useRef(!1);return Jb(()=>{t.current=!0}),k.useCallback(async(o,l={})=>{rs(t.current,Zb),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var q0={};function tT(i,e,t){!e&&!q0[i]&&(q0[i]=!0,rs(!1,t))}k.memo(l1);function l1({routes:i,future:e,state:t}){return eT(i,void 0,t,e)}function Lg({to:i,replace:e,state:t,relative:s}){$t(uc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(os);rs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(zs),{pathname:h}=Pa(),m=rm(),g=y_(i,__(l),h,s==="path"),_=JSON.stringify(g);return k.useEffect(()=>{m(JSON.parse(_),{replace:e,state:t,relative:s})},[m,_,s,e,t]),null}function ui(i){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){$t(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=oc(t));let{pathname:g="/",search:_="",hash:E="",state:S=null,key:x="default"}=t,V=k.useMemo(()=>{let j=Ia(g,h);return j==null?null:{location:{pathname:j,search:_,hash:E,state:S,key:x},navigationType:s}},[h,g,_,E,S,x,s]);return rs(V!=null,`<Router basename="${h}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:k.createElement(os.Provider,{value:m},k.createElement(zh.Provider,{children:e,value:V}))}function c1({children:i,location:e}){return WR(Pg(i),e)}function Pg(i,e=[]){let t=[];return k.Children.forEach(i,(s,o)=>{if(!k.isValidElement(s))return;let l=[...e,o];if(s.type===k.Fragment){t.push.apply(t,Pg(s.props.children,l));return}$t(s.type===ui,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Pg(s.props.children,l)),t.push(h)}),t}var pd="get",gd="application/x-www-form-urlencoded";function sm(i){return i!=null&&typeof i.tagName=="string"}function h1(i){return sm(i)&&i.tagName.toLowerCase()==="button"}function f1(i){return sm(i)&&i.tagName.toLowerCase()==="form"}function d1(i){return sm(i)&&i.tagName.toLowerCase()==="input"}function m1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function p1(i,e){return i.button===0&&(!e||e==="_self")&&!m1(i)}var sd=null;function g1(){if(sd===null)try{new FormData(document.createElement("form"),0),sd=!1}catch{sd=!0}return sd}var _1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(i){return i!=null&&!_1.has(i)?(rs(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gd}"`),null):i}function y1(i,e){let t,s,o,l,h;if(f1(i)){let m=i.getAttribute("action");s=m?Ia(m,e):null,t=i.getAttribute("method")||pd,o=fg(i.getAttribute("enctype"))||gd,l=new FormData(i)}else if(h1(i)||d1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Ia(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||pd,o=fg(i.getAttribute("formenctype"))||fg(m.getAttribute("enctype"))||gd,l=new FormData(m,i),!g1()){let{name:_,type:E,value:S}=i;if(E==="image"){let x=_?`${_}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else _&&l.append(_,S)}}else{if(sm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pd,s=null,o=gd,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function T_(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function v1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function b1(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await v1(l,t);return h.links?h.links():[]}return[]}));return S1(s.flat(1).filter(E1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $0(i,e,t,s,o,l){let h=(g,_)=>t[_]?g.route.id!==t[_].route.id:!0,m=(g,_)=>{var E;return t[_].pathname!==g.pathname||((E=t[_].route.path)==null?void 0:E.endsWith("*"))&&t[_].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,_)=>h(g,_)||m(g,_)):l==="data"?e.filter((g,_)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function T1(i,e,{includeHydrateFallback:t}={}){return w1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function w1(i){return[...new Set(i)]}function A1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function S1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(A1(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function R1(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Ia(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nT(){let i=k.useContext(lc);return T_(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function C1(){let i=k.useContext(im);return T_(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var w_=k.createContext(void 0);w_.displayName="FrameworkContext";function iT(){let i=k.useContext(w_);return T_(i,"You must render this element inside a <HydratedRouter> element"),i}function x1(i,e){let t=k.useContext(w_),[s,o]=k.useState(!1),[l,h]=k.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:E,onTouchStart:S}=e,x=k.useRef(null);k.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let X=z=>{z.forEach(te=>{h(te.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return x.current&&F.observe(x.current),()=>{F.disconnect()}}},[i]),k.useEffect(()=>{if(s){let X=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(X)}}},[s]);let V=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,x,{}]:[l,x,{onFocus:ph(m,V),onBlur:ph(g,j),onMouseEnter:ph(_,V),onMouseLeave:ph(E,j),onTouchStart:ph(S,V)}]:[!1,x,{}]}function ph(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function I1({page:i,...e}){let{router:t}=nT(),s=k.useMemo(()=>Kb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?k.createElement(O1,{page:i,matches:s,...e}):null}function N1(i){let{manifest:e,routeModules:t}=iT(),[s,o]=k.useState([]);return k.useEffect(()=>{let l=!1;return b1(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function O1({page:i,matches:e,...t}){let s=Pa(),{manifest:o,routeModules:l}=iT(),{basename:h}=nT(),{loaderData:m,matches:g}=C1(),_=k.useMemo(()=>$0(i,e,g,o,s,"data"),[i,e,g,o,s]),E=k.useMemo(()=>$0(i,e,g,o,s,"assets"),[i,e,g,o,s]),S=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,X=!1;if(e.forEach(z=>{var ne;let te=o.routes[z.route.id];!te||!te.hasLoader||(!_.some(_e=>_e.route.id===z.route.id)&&z.route.id in m&&((ne=l[z.route.id])!=null&&ne.shouldRevalidate)||te.hasClientLoader?X=!0:j.add(z.route.id))}),j.size===0)return[];let F=R1(i,h);return X&&j.size>0&&F.searchParams.set("_routes",e.filter(z=>j.has(z.route.id)).map(z=>z.route.id).join(",")),[F.pathname+F.search]},[h,m,s,o,_,e,i,l]),x=k.useMemo(()=>T1(E,o),[E,o]),V=N1(E);return k.createElement(k.Fragment,null,S.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),x.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),V.map(({key:j,link:X})=>k.createElement("link",{key:j,...X})))}function D1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rT&&(window.__reactRouterVersion="7.3.0")}catch{}function k1({basename:i,children:e,window:t}){let s=k.useRef();s.current==null&&(s.current=TR({window:t,v5Compat:!0}));let o=s.current,[l,h]=k.useState({action:o.action,location:o.location}),m=k.useCallback(g=>{k.startTransition(()=>h(g))},[h]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(u1,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oo=k.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:m,target:g,to:_,preventScrollReset:E,viewTransition:S,...x},V){let{basename:j}=k.useContext(os),X=typeof _=="string"&&sT.test(_),F,z=!1;if(typeof _=="string"&&X&&(F=_,rT))try{let D=new URL(window.location.href),P=_.startsWith("//")?new URL(D.protocol+_):new URL(_),U=Ia(P.pathname,j);P.origin===D.origin&&U!=null?_=U+P.search+P.hash:z=!0}catch{rs(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=QR(_,{relative:o}),[ne,_e,Ee]=x1(s,x),Re=P1(_,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function B(D){e&&e(D),D.defaultPrevented||Re(D)}let M=k.createElement("a",{...x,...Ee,href:F||te,onClick:z||l?e:B,ref:D1(V,_e),target:g,"data-discover":!X&&t==="render"?"true":void 0});return ne&&!X?k.createElement(k.Fragment,null,M,k.createElement(I1,{page:te})):M});Oo.displayName="Link";var Nt=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:m,children:g,..._},E){let S=Bh(h,{relative:_.relative}),x=Pa(),V=k.useContext(im),{navigator:j,basename:X}=k.useContext(os),F=V!=null&&B1(S)&&m===!0,z=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,te=x.pathname,ne=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;t||(te=te.toLowerCase(),ne=ne?ne.toLowerCase():null,z=z.toLowerCase()),ne&&X&&(ne=Ia(ne,X)||ne);const _e=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Ee=te===z||!o&&te.startsWith(z)&&te.charAt(_e)==="/",Re=ne!=null&&(ne===z||!o&&ne.startsWith(z)&&ne.charAt(z.length)==="/"),B={isActive:Ee,isPending:Re,isTransitioning:F},M=Ee?e:void 0,D;typeof s=="function"?D=s(B):D=[s,Ee?"active":null,Re?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(B):l;return k.createElement(Oo,{..._,"aria-current":M,className:D,ref:E,style:P,to:h,viewTransition:m},typeof g=="function"?g(B):g)});Nt.displayName="NavLink";var M1=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=pd,action:m,onSubmit:g,relative:_,preventScrollReset:E,viewTransition:S,...x},V)=>{let j=j1(),X=z1(m,{relative:_}),F=h.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&sT.test(m),te=ne=>{if(g&&g(ne),ne.defaultPrevented)return;ne.preventDefault();let _e=ne.nativeEvent.submitter,Ee=(_e==null?void 0:_e.getAttribute("formmethod"))||h;j(_e||ne.currentTarget,{fetcherKey:e,method:Ee,navigate:t,replace:o,state:l,relative:_,preventScrollReset:E,viewTransition:S})};return k.createElement("form",{ref:V,method:F,action:X,onSubmit:s?g:te,...x,"data-discover":!z&&i==="render"?"true":void 0})});M1.displayName="Form";function L1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(i){let e=k.useContext(lc);return $t(e,L1(i)),e}function P1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let m=rm(),g=Pa(),_=Bh(i,{relative:l});return k.useCallback(E=>{if(p1(E,e)){E.preventDefault();let S=t!==void 0?t:xh(g)===xh(_);m(i,{replace:S,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[g,m,_,t,s,e,i,o,l,h])}var V1=0,U1=()=>`__${String(++V1)}__`;function j1(){let{router:i}=aT("useSubmit"),{basename:e}=k.useContext(os),t=s1();return k.useCallback(async(s,o={})=>{let{action:l,method:h,encType:m,formData:g,body:_}=y1(s,e);if(o.navigate===!1){let E=o.fetcherKey||U1();await i.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:_,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:_,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function z1(i,{relative:e}={}){let{basename:t}=k.useContext(os),s=k.useContext(zs);$t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Bh(i||".",{relative:e})},h=Pa();if(i==null){l.search=h.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();l.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Sa([t,l.pathname])),xh(l)}function B1(i,e={}){let t=k.useContext(Xb);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aT("useViewTransitionState"),o=Bh(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ia(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ia(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xd(o.pathname,h)!=null||xd(o.pathname,l)!=null}new TextEncoder;var F1=Gb();const Qu=nm(F1),H1=()=>{};var G0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},q1=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],m=i[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,_=g?i[o+2]:0,E=l>>2,S=(l&3)<<4|m>>4;let x=(m&15)<<2|_>>6,V=_&63;g||(V=64,h||(x=64)),s.push(t[E],t[S],t[x],t[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(oT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):q1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const _=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||_==null||S==null)throw new $1;const x=l<<2|m>>4;if(s.push(x),_!==64){const V=m<<4&240|_>>2;if(s.push(V),S!==64){const j=_<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(i){const e=oT(i);return lT.encodeByteArray(e,!0)},Id=function(i){return G1(i).replace(/\./g,"")},uT=function(i){try{return lT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=()=>K1().__FIREBASE_DEFAULTS__,Y1=()=>{if(typeof process>"u"||typeof G0>"u")return;const i=G0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},W1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&uT(i[1]);return e&&JSON.parse(e)},am=()=>{try{return H1()||Q1()||Y1()||W1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},cT=i=>{var e,t;return(t=(e=am())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},hT=i=>{const e=cT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},fT=()=>{var i;return(i=am())===null||i===void 0?void 0:i.config},dT=i=>{var e;return(e=am())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Id(JSON.stringify(t)),Id(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function J1(){var i;const e=(i=am())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iC(){const i=di();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function rC(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sC(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="FirebaseError";class Bs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=oC,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?lC(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Bs(o,m,s)}}function lC(i,e){return i.replace(uC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uC=/\{\$([^}]+)}/g;function cC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ul(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(K0(l)&&K0(h)){if(!Ul(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function K0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gh(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function _h(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function hC(i,e){const t=new fC(i,e);return t.subscribe.bind(t)}class fC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");dC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=dg),o.error===void 0&&(o.error=dg),o.complete===void 0&&(o.complete=dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(i){return i&&i._delegate?i._delegate:i}class Fo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new X1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gC(e))try{this.getOrInitializeService({instanceIdentifier:Dl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dl){return this.instances.has(e)}getOptions(e=Dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Dl){return this.component?this.component.multipleInstances?e:Dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pC(i){return i===Dl?void 0:i}function gC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ut||(ut={}));const yC={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},vC=ut.INFO,EC={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},bC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=EC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A_{constructor(e){this.name=e,this._logLevel=vC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const TC=(i,e)=>e.some(t=>i instanceof t);let Q0,Y0;function wC(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AC(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Vg=new WeakMap,gT=new WeakMap,mg=new WeakMap,S_=new WeakMap;function SC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(Uo(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&pT.set(t,i)}).catch(()=>{}),S_.set(e,i),e}function RC(i){if(Vg.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});Vg.set(i,e)}let Ug={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Vg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||gT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uo(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function CC(i){Ug=i(Ug)}function xC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(pg(this),e,...t);return gT.set(s,e.sort?e.sort():[e]),Uo(s)}:AC().includes(i)?function(...e){return i.apply(pg(this),e),Uo(pT.get(this))}:function(...e){return Uo(i.apply(pg(this),e))}}function IC(i){return typeof i=="function"?xC(i):(i instanceof IDBTransaction&&RC(i),TC(i,wC())?new Proxy(i,Ug):i)}function Uo(i){if(i instanceof IDBRequest)return SC(i);if(mg.has(i))return mg.get(i);const e=IC(i);return e!==i&&(mg.set(i,e),S_.set(e,i)),e}const pg=i=>S_.get(i);function NC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),m=Uo(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Uo(h.result),g.oldVersion,g.newVersion,Uo(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const OC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],gg=new Map;function W0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=DC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OC.includes(t)))return;const l=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),o&&g.done]))[0]};return gg.set(e,l),l}CC(i=>({...i,get:(e,t,s)=>W0(e,t)||i.get(e,t,s),has:(e,t)=>!!W0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function MC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jg="@firebase/app",X0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new A_("@firebase/app"),LC="@firebase/app-compat",PC="@firebase/analytics-compat",VC="@firebase/analytics",UC="@firebase/app-check-compat",jC="@firebase/app-check",zC="@firebase/auth",BC="@firebase/auth-compat",FC="@firebase/database",HC="@firebase/data-connect",qC="@firebase/database-compat",$C="@firebase/functions",GC="@firebase/functions-compat",KC="@firebase/installations",QC="@firebase/installations-compat",YC="@firebase/messaging",WC="@firebase/messaging-compat",XC="@firebase/performance",ZC="@firebase/performance-compat",JC="@firebase/remote-config",ex="@firebase/remote-config-compat",tx="@firebase/storage",nx="@firebase/storage-compat",ix="@firebase/firestore",rx="@firebase/vertexai",sx="@firebase/firestore-compat",ax="firebase",ox="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",lx={[jg]:"fire-core",[LC]:"fire-core-compat",[VC]:"fire-analytics",[PC]:"fire-analytics-compat",[jC]:"fire-app-check",[UC]:"fire-app-check-compat",[zC]:"fire-auth",[BC]:"fire-auth-compat",[FC]:"fire-rtdb",[HC]:"fire-data-connect",[qC]:"fire-rtdb-compat",[$C]:"fire-fn",[GC]:"fire-fn-compat",[KC]:"fire-iid",[QC]:"fire-iid-compat",[YC]:"fire-fcm",[WC]:"fire-fcm-compat",[XC]:"fire-perf",[ZC]:"fire-perf-compat",[JC]:"fire-rc",[ex]:"fire-rc-compat",[tx]:"fire-gcs",[nx]:"fire-gcs-compat",[ix]:"fire-fst",[sx]:"fire-fst-compat",[rx]:"fire-vertex","fire-js":"fire-js",[ax]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,ux=new Map,Bg=new Map;function Z0(i,e){try{i.container.addComponent(e)}catch(t){Na.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function jl(i){const e=i.name;if(Bg.has(e))return Na.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,i);for(const t of Nd.values())Z0(t,i);for(const t of ux.values())Z0(t,i);return!0}function om(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function sr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new Fh("app","Firebase",cx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=ox;function _T(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zg,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw jo.create("bad-app-name",{appName:String(o)});if(t||(t=fT()),!t)throw jo.create("no-options");const l=Nd.get(o);if(l){if(Ul(t,l.options)&&Ul(s,l.config))return l;throw jo.create("duplicate-app",{appName:o})}const h=new _C(o);for(const g of Bg.values())h.addComponent(g);const m=new hx(t,s,h);return Nd.set(o,m),m}function R_(i=zg){const e=Nd.get(i);if(!e&&i===zg&&fT())return _T();if(!e)throw jo.create("no-app",{appName:i});return e}function Ds(i,e,t){var s;let o=(s=lx[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Na.warn(m.join(" "));return}jl(new Fo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="firebase-heartbeat-database",dx=1,Ih="firebase-heartbeat-store";let _g=null;function yT(){return _g||(_g=NC(fx,dx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ih)}catch(t){console.warn(t)}}}}).catch(i=>{throw jo.create("idb-open",{originalErrorMessage:i.message})})),_g}async function mx(i){try{const t=(await yT()).transaction(Ih),s=await t.objectStore(Ih).get(vT(i));return await t.done,s}catch(e){if(e instanceof Bs)Na.warn(e.message);else{const t=jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Na.warn(t.message)}}}async function J0(i,e){try{const s=(await yT()).transaction(Ih,"readwrite");await s.objectStore(Ih).put(e,vT(i)),await s.done}catch(t){if(t instanceof Bs)Na.warn(t.message);else{const s=jo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Na.warn(s.message)}}}function vT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=1024,gx=30;class _x{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=eE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>gx){const h=Ex(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Na.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:s,unsentEntries:o}=yx(this._heartbeatsCache.heartbeats),l=Id(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Na.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function yx(i,e=px){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),tE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),tE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class vx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sC()?aC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return J0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return J0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function tE(i){return Id(JSON.stringify({version:2,heartbeats:i})).length}function Ex(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){jl(new Fo("platform-logger",e=>new kC(e),"PRIVATE")),jl(new Fo("heartbeat",e=>new _x(e),"PRIVATE")),Ds(jg,X0,i),Ds(jg,X0,"esm2017"),Ds("fire-js","")}bx("");var Tx="firebase",wx="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(Tx,wx,"app");function C_(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ax=ET,bT=new Fh("auth","Firebase",ET());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new A_("@firebase/auth");function Sx(i,...e){Od.logLevel<=ut.WARN&&Od.warn(`Auth (${ql}): ${i}`,...e)}function _d(i,...e){Od.logLevel<=ut.ERROR&&Od.error(`Auth (${ql}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(i,...e){throw x_(i,...e)}function ks(i,...e){return x_(i,...e)}function TT(i,e,t){const s=Object.assign(Object.assign({},Ax()),{[e]:t});return new Fh("auth","Firebase",s).create(e,{appName:i.name})}function Ra(i){return TT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x_(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return bT.create(i,...e)}function He(i,e,...t){if(!i)throw x_(e,...t)}function ba(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _d(e),new Error(e)}function Oa(i,e){i||ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Rx(){return nE()==="http:"||nE()==="https:"}function nE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rx()||tC()||"connection"in navigator)?navigator.onLine:!0}function xx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oa(t>e,"Short delay should be less than long delay!"),this.isMobile=Z1()||nC()}get(){return Cx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(i,e){Oa(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new qh(3e4,6e4);function Va(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ua(i,e,t,s,o={}){return AT(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const m=Hh(Object.assign({key:i.config.apiKey},h)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const _=Object.assign({method:e,headers:g},l);return eC()||(_.referrerPolicy="no-referrer"),wT.fetch()(ST(i,i.config.apiHost,t,m),_)})}async function AT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Ix),e);try{const o=new Dx(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw ad(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ad(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw ad(i,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw TT(i,E,_);ss(i,E)}}catch(o){if(o instanceof Bs)throw o;ss(i,"network-request-failed",{message:String(o)})}}async function $h(i,e,t,s,o={}){const l=await Ua(i,e,t,s,o);return"mfaPendingCredential"in l&&ss(i,"multi-factor-auth-required",{_serverResponse:l}),l}function ST(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?I_(i.config,o):`${i.config.apiScheme}://${o}`}function Ox(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ks(this.auth,"network-request-failed")),Nx.get())})}}function ad(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ks(i,e,s);return o.customData._tokenResponse=t,o}function iE(i){return i!==void 0&&i.enterprise!==void 0}class kx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ox(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mx(i,e){return Ua(i,"GET","/v2/recaptchaConfig",Va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(i,e){return Ua(i,"POST","/v1/accounts:delete",e)}async function RT(i,e){return Ua(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Px(i,e=!1){const t=mn(i),s=await t.getIdToken(e),o=N_(s);He(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:wh(yg(o.auth_time)),issuedAtTime:wh(yg(o.iat)),expirationTime:wh(yg(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yg(i){return Number(i)*1e3}function N_(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return _d("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(t);return o?JSON.parse(o):(_d("Failed to decode base64 JWT payload"),null)}catch(o){return _d("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rE(i){const e=N_(i);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Bs&&Vx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Vx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Nh(i,RT(t,{idToken:s}));He(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?CT(l.providerUserInfo):[],m=zx(i.providerData,h),g=i.isAnonymous,_=!(i.email&&l.passwordHash)&&!(m!=null&&m.length),E=g?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Hg(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function jx(i){const e=mn(i);await Dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function CT(i){return i.map(e=>{var{providerId:t}=e,s=C_(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,e){const t=await AT(i,{},async()=>{const s=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=ST(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",wT.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Fx(i,e){return Ua(i,"POST","/v2/accounts:revokeToken",Va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=rE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await Bx(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Wu;return s&&(He(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(He(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(He(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wu,this.toJSON())}_performRefresh(){return ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(i,e){He(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ta{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=C_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Px(this,e)}reload(){return jx(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Dd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await Nh(this,Lx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,m,g,_,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,V=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,j=(h=t.photoURL)!==null&&h!==void 0?h:void 0,X=(m=t.tenantId)!==null&&m!==void 0?m:void 0,F=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,z=(_=t.createdAt)!==null&&_!==void 0?_:void 0,te=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:_e,isAnonymous:Ee,providerData:Re,stsTokenManager:B}=t;He(ne&&B,e,"internal-error");const M=Wu.fromJSON(this.name,B);He(typeof ne=="string",e,"internal-error"),No(S,e.name),No(x,e.name),He(typeof _e=="boolean",e,"internal-error"),He(typeof Ee=="boolean",e,"internal-error"),No(V,e.name),No(j,e.name),No(X,e.name),No(F,e.name),No(z,e.name),No(te,e.name);const D=new Ta({uid:ne,auth:e,email:x,emailVerified:_e,displayName:S,isAnonymous:Ee,photoURL:j,phoneNumber:V,tenantId:X,stsTokenManager:M,createdAt:z,lastLoginAt:te});return Re&&Array.isArray(Re)&&(D.providerData=Re.map(P=>Object.assign({},P))),F&&(D._redirectEventId=F),D}static async _fromIdTokenResponse(e,t,s=!1){const o=new Wu;o.updateFromServerResponse(t);const l=new Ta({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dd(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];He(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new Wu;m.updateFromIdToken(s);const g=new Ta({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Hg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function wa(i){Oa(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(Oa(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xT.type="NONE";const aE=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(i,e,t){return`firebase:${i}:${e}:${t}`}class Xu{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=yd(this.userKey,o.apiKey,l),this.fullPersistenceKey=yd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Xu(wa(aE),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let l=o[0]||wa(aE);const h=yd(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const E=await _._get(h);if(E){const S=Ta._fromJSON(e,E);_!==l&&(m=S),l=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Xu(l,e,s):(l=g[0],m&&await l._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==l)try{await _._remove(h)}catch{}})),new Xu(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(LT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function IT(i=di()){return/firefox\//i.test(i)}function NT(i=di()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(i=di()){return/crios\//i.test(i)}function DT(i=di()){return/iemobile/i.test(i)}function kT(i=di()){return/android/i.test(i)}function MT(i=di()){return/blackberry/i.test(i)}function LT(i=di()){return/webos/i.test(i)}function O_(i=di()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Hx(i=di()){var e;return O_(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qx(){return iC()&&document.documentMode===10}function PT(i=di()){return O_(i)||kT(i)||LT(i)||MT(i)||/windows phone/i.test(i)||DT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i,e=[]){let t;switch(i){case"Browser":t=oE(di());break;case"Worker":t=`${oE(di())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ql}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,m)=>{try{const g=e(l);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(i,e={}){return Ua(i,"GET","/v2/passwordPolicy",Va(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=6;class Qx{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Kx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new $x(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wa(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Xu.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RT(this,{idToken:e}),s=await Ta._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Ra(this));const t=e?mn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gx(this),t=new Qx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Fx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wa(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Xu.create(this,[wa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Sx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Yo(i){return mn(i)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=hC(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wx(i){lm=i}function UT(i){return lm.loadJS(i)}function Xx(){return lm.recaptchaEnterpriseScript}function Zx(){return lm.gapiScript}function Jx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class eI{constructor(){this.enterprise=new tI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nI="recaptcha-enterprise",jT="NO_RECAPTCHA";class iI{constructor(e){this.type=nI,this.auth=Yo(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,m)=>{Mx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new kx(g);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,h(_.siteKey)}}).catch(g=>{m(g)})})}function o(l,h,m){const g=window.grecaptcha;iE(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(_=>{h(_)}).catch(()=>{h(jT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eI().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(m=>{if(!t&&iE(window.grecaptcha))o(m,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Xx();g.length!==0&&(g+=m),UT(g).then(()=>{o(m,l,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function uE(i,e,t,s=!1,o=!1){const l=new iI(i);let h;if(o)h=jT;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kd(i,e,t,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await uE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await uE(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(i,e){const t=om(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ul(l,e??{}))return o;ss(o,"already-initialized")}return t.initialize({options:e})}function sI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(wa);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aI(i,e,t){const s=Yo(i);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=zT(e),{host:h,port:m}=oI(e),g=m===null?"":`:${m}`,_={url:`${l}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(Ul(_,s.config.emulator)&&Ul(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lI()}function zT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oI(i){const e=zT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:cE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:cE(h)}}}function cE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function lI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ba("not implemented")}_getIdTokenResponse(e){return ba("not implemented")}_linkToIdToken(e,t){return ba("not implemented")}_getReauthenticationResolver(e){return ba("not implemented")}}async function uI(i,e){return Ua(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(i,e){return $h(i,"POST","/v1/accounts:signInWithPassword",Va(i,e))}async function hI(i,e){return Ua(i,"POST","/v1/accounts:sendOobCode",Va(i,e))}async function fI(i,e){return hI(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(i,e){return $h(i,"POST","/v1/accounts:signInWithEmailLink",Va(i,e))}async function mI(i,e){return $h(i,"POST","/v1/accounts:signInWithEmailLink",Va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends D_{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Oh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Oh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kd(e,t,"signInWithPassword",cI);case"emailLink":return dI(e,{email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kd(e,s,"signUpPassword",uI);case"emailLink":return mI(e,{idToken:t,email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(i,e){return $h(i,"POST","/v1/accounts:signInWithIdp",Va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="http://localhost";class zl extends D_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ss("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=C_(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new zl(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Zu(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Zu(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zu(e,t)}buildRequest(){const e={requestUri:pI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _I(i){const e=gh(_h(i)).link,t=e?gh(_h(e)).deep_link_id:null,s=gh(_h(i)).deep_link_id;return(s?gh(_h(s)).link:null)||s||t||e||i}class k_{constructor(e){var t,s,o,l,h,m;const g=gh(_h(e)),_=(t=g.apiKey)!==null&&t!==void 0?t:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,S=gI((o=g.mode)!==null&&o!==void 0?o:null);He(_&&E&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=E,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=g.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=_I(e);try{return new k_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.providerId=cc.PROVIDER_ID}static credential(e,t){return Oh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=k_.parseLink(t);return He(s,"argument-error"),Oh._fromEmailAndCode(e,s.code,s.tenantId)}}cc.PROVIDER_ID="password";cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Gh{constructor(){super("facebook.com")}static credential(e){return zl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Mo.credential(t,s)}catch{return null}}}Mo.GOOGLE_SIGN_IN_METHOD="google.com";Mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Gh{constructor(){super("github.com")}static credential(e){return zl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Gh{constructor(){super("twitter.com")}static credential(e,t){return zl._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Po.credential(t,s)}catch{return null}}}Po.TWITTER_SIGN_IN_METHOD="twitter.com";Po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(i,e){return $h(i,"POST","/v1/accounts:signUp",Va(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Ta._fromIdTokenResponse(e,s,o),h=hE(s);return new Bl({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new Bl({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function hE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends Bs{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Md(e,t,s,o)}}function FT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Md._fromErrorAndOperation(i,l,e,s):l})}async function vI(i,e,t=!1){const s=await Nh(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Bl._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(i,e,t=!1){const{auth:s}=i;if(sr(s.app))return Promise.reject(Ra(s));const o="reauthenticate";try{const l=await Nh(i,FT(s,o,e,i),t);He(l.idToken,s,"internal-error");const h=N_(l.idToken);He(h,s,"internal-error");const{sub:m}=h;return He(i.uid===m,s,"user-mismatch"),Bl._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ss(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(i,e,t=!1){if(sr(i.app))return Promise.reject(Ra(i));const s="signIn",o=await FT(i,s,e),l=await Bl._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function bI(i,e){return HT(Yo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(i){const e=Yo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $T(i,e,t){const s=Yo(i);await kd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",fI)}async function TI(i,e,t){if(sr(i.app))return Promise.reject(Ra(i));const s=Yo(i),h=await kd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&qT(i),g}),m=await Bl._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function wI(i,e,t){return sr(i.app)?Promise.reject(Ra(i)):bI(mn(i),cc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e){return mn(i).setPersistence(e)}function AI(i,e,t,s){return mn(i).onIdTokenChanged(e,t,s)}function SI(i,e,t){return mn(i).beforeAuthStateChanged(e,t)}function M_(i,e,t,s){return mn(i).onAuthStateChanged(e,t,s)}function RI(i){return mn(i).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1e3,xI=10;class QT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);qx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QT.type="LOCAL";const L_=QT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YT.type="SESSION";const WT=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new um(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async _=>_(t.origin,l)),g=await II(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,g)=>{const _=P_("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(x.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function OI(i){Ms().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function DI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function MI(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebaseLocalStorageDb",LI=1,Pd="firebaseLocalStorage",JT="fbase_key";class Kh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cm(i,e){return i.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function PI(){const i=indexedDB.deleteDatabase(ZT);return new Kh(i).toPromise()}function qg(){const i=indexedDB.open(ZT,LI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Pd,{keyPath:JT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Pd)?e(s):(s.close(),await PI(),e(await qg()))})})}async function fE(i,e,t){const s=cm(i,!0).put({[JT]:e,value:t});return new Kh(s).toPromise()}async function VI(i,e){const t=cm(i,!1).get(e),s=await new Kh(t).toPromise();return s===void 0?null:s.value}function dE(i,e){const t=cm(i,!0).delete(e);return new Kh(t).toPromise()}const UI=800,jI=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>jI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(MI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await DI(),!this.activeServiceWorker)return;this.sender=new NI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await fE(e,Ld,"1"),await dE(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>VI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=cm(o,!1).getAll();return new Kh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const zI=ew;new qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i,e){return e?wa(e):(He(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends D_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FI(i){return HT(i.auth,new V_(i),i.bypassAuthState)}function HI(i){const{auth:e,user:t}=i;return He(t,e,"internal-error"),EI(t,new V_(i),i.bypassAuthState)}async function qI(i){const{auth:e,user:t}=i;return He(t,e,"internal-error"),vI(t,new V_(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return qI;case"reauthViaPopup":case"reauthViaRedirect":return HI;default:ss(this.auth,"internal-error")}}resolve(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new qh(2e3,1e4);class Yu extends tw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Yu.currentPopupAction&&Yu.currentPopupAction.cancel(),Yu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Oa(this.filter.length===1,"Popup operations only handle one event");const e=P_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$I.get())};e()}}Yu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="pendingRedirect",vd=new Map;class KI extends tw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const s=await QI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QI(i,e){const t=XI(e),s=WI(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function YI(i,e){vd.set(i._key(),e)}function WI(i){return wa(i._redirectPersistence)}function XI(i){return yd(GI,i.config.apiKey,i.name)}async function ZI(i,e,t=!1){if(sr(i.app))return Promise.reject(Ra(i));const s=Yo(i),o=BI(s,e),h=await new KI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=10*60*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!nw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ks(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JI&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,e={}){return Ua(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function s2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await n2(i);for(const t of e)try{if(a2(t))return}catch{}ss(i,"unauthorized-domain")}function a2(i){const e=Fg(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!r2.test(t))return!1;if(i2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new qh(3e4,6e4);function pE(){const i=Ms().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function l2(i){return new Promise((e,t)=>{var s,o,l;function h(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),t(ks(i,"network-request-failed"))},timeout:o2.get()})}if(!((o=(s=Ms().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ms().gapi)===null||l===void 0)&&l.load)h();else{const m=Jx("iframefcb");return Ms()[m]=()=>{gapi.load?h():t(ks(i,"network-request-failed"))},UT(`${Zx()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function u2(i){return Ed=Ed||l2(i),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new qh(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(i){const e=i.config;He(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?I_(e,f2):`https://${i.config.authDomain}/${h2}`,s={apiKey:e.apiKey,appName:i.name,v:ql},o=m2.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Hh(s).slice(1)}`}async function g2(i){const e=await u2(i),t=Ms().gapi;return He(t,i,"internal-error"),e.open({where:document.body,url:p2(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=ks(i,"network-request-failed"),m=Ms().setTimeout(()=>{l(h)},c2.get());function g(){Ms().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y2=500,v2=600,E2="_blank",b2="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(i,e,t,s=y2,o=v2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},_2),{width:s.toString(),height:o.toString(),top:l,left:h}),_=di().toLowerCase();t&&(m=OT(_)?E2:t),IT(_)&&(e=e||b2,g.scrollbars="yes");const E=Object.entries(g).reduce((x,[V,j])=>`${x}${V}=${j},`,"");if(Hx(_)&&m!=="_self")return w2(e||"",m),new gE(null);const S=window.open(e||"",m,E);He(S,i,"popup-blocked");try{S.focus()}catch{}return new gE(S)}function w2(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="__/auth/handler",S2="emulator/auth/handler",R2=encodeURIComponent("fac");async function _E(i,e,t,s,o,l){He(i.config.authDomain,i,"auth-domain-config-required"),He(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ql,eventId:o};if(e instanceof BT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",cC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Gh){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),_=g?`#${R2}=${encodeURIComponent(g)}`:"";return`${C2(i)}?${Hh(m).slice(1)}${_}`}function C2({config:i}){return i.emulator?I_(i,S2):`https://${i.authDomain}/${A2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class x2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=ZI,this._overrideRedirectResult=YI}async _openPopup(e,t,s,o){var l;Oa((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await _E(e,t,s,Fg(),o);return T2(e,h,P_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await _E(e,t,s,Fg(),o);return OI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Oa(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await g2(e),s=new e2(e);return t.register("authEvent",o=>(He(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vg,{type:vg},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[vg];h!==void 0&&t(!!h),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PT()||NT()||O_()}}const I2=x2;var yE="@firebase/auth",vE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D2(i){jl(new Fo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;He(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(i)},_=new Yx(s,o,l,g);return sI(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),jl(new Fo("auth-internal",e=>{const t=Yo(e.getProvider("auth").getImmediate());return(s=>new N2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(yE,vE,O2(i)),Ds(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=5*60,M2=dT("authIdTokenMaxAge")||k2;let EE=null;const L2=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>M2)return;const o=t==null?void 0:t.token;EE!==o&&(EE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hm(i=R_()){const e=om(i,"auth");if(e.isInitialized())return e.getImmediate();const t=rI(i,{popupRedirectResolver:I2,persistence:[zI,L_,WT]}),s=dT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=L2(l.toString());SI(t,h,()=>h(t.currentUser)),AI(t,m=>h(m))}}const o=cT("auth");return o&&aI(t,`http://${o}`),t}function P2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Wx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=ks("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",P2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D2("Browser");var bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,iw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,M){function D(){}D.prototype=M.prototype,B.D=M.prototype,B.prototype=new D,B.prototype.constructor=B,B.C=function(P,U,$){for(var O=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)O[ke-2]=arguments[ke];return M.prototype[U].apply(P,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(B,M,D){D||(D=0);var P=Array(16);if(typeof M=="string")for(var U=0;16>U;++U)P[U]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(U=0;16>U;++U)P[U]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=B.g[0],D=B.g[1],U=B.g[2];var $=B.g[3],O=M+($^D&(U^$))+P[0]+3614090360&4294967295;M=D+(O<<7&4294967295|O>>>25),O=$+(U^M&(D^U))+P[1]+3905402710&4294967295,$=M+(O<<12&4294967295|O>>>20),O=U+(D^$&(M^D))+P[2]+606105819&4294967295,U=$+(O<<17&4294967295|O>>>15),O=D+(M^U&($^M))+P[3]+3250441966&4294967295,D=U+(O<<22&4294967295|O>>>10),O=M+($^D&(U^$))+P[4]+4118548399&4294967295,M=D+(O<<7&4294967295|O>>>25),O=$+(U^M&(D^U))+P[5]+1200080426&4294967295,$=M+(O<<12&4294967295|O>>>20),O=U+(D^$&(M^D))+P[6]+2821735955&4294967295,U=$+(O<<17&4294967295|O>>>15),O=D+(M^U&($^M))+P[7]+4249261313&4294967295,D=U+(O<<22&4294967295|O>>>10),O=M+($^D&(U^$))+P[8]+1770035416&4294967295,M=D+(O<<7&4294967295|O>>>25),O=$+(U^M&(D^U))+P[9]+2336552879&4294967295,$=M+(O<<12&4294967295|O>>>20),O=U+(D^$&(M^D))+P[10]+4294925233&4294967295,U=$+(O<<17&4294967295|O>>>15),O=D+(M^U&($^M))+P[11]+2304563134&4294967295,D=U+(O<<22&4294967295|O>>>10),O=M+($^D&(U^$))+P[12]+1804603682&4294967295,M=D+(O<<7&4294967295|O>>>25),O=$+(U^M&(D^U))+P[13]+4254626195&4294967295,$=M+(O<<12&4294967295|O>>>20),O=U+(D^$&(M^D))+P[14]+2792965006&4294967295,U=$+(O<<17&4294967295|O>>>15),O=D+(M^U&($^M))+P[15]+1236535329&4294967295,D=U+(O<<22&4294967295|O>>>10),O=M+(U^$&(D^U))+P[1]+4129170786&4294967295,M=D+(O<<5&4294967295|O>>>27),O=$+(D^U&(M^D))+P[6]+3225465664&4294967295,$=M+(O<<9&4294967295|O>>>23),O=U+(M^D&($^M))+P[11]+643717713&4294967295,U=$+(O<<14&4294967295|O>>>18),O=D+($^M&(U^$))+P[0]+3921069994&4294967295,D=U+(O<<20&4294967295|O>>>12),O=M+(U^$&(D^U))+P[5]+3593408605&4294967295,M=D+(O<<5&4294967295|O>>>27),O=$+(D^U&(M^D))+P[10]+38016083&4294967295,$=M+(O<<9&4294967295|O>>>23),O=U+(M^D&($^M))+P[15]+3634488961&4294967295,U=$+(O<<14&4294967295|O>>>18),O=D+($^M&(U^$))+P[4]+3889429448&4294967295,D=U+(O<<20&4294967295|O>>>12),O=M+(U^$&(D^U))+P[9]+568446438&4294967295,M=D+(O<<5&4294967295|O>>>27),O=$+(D^U&(M^D))+P[14]+3275163606&4294967295,$=M+(O<<9&4294967295|O>>>23),O=U+(M^D&($^M))+P[3]+4107603335&4294967295,U=$+(O<<14&4294967295|O>>>18),O=D+($^M&(U^$))+P[8]+1163531501&4294967295,D=U+(O<<20&4294967295|O>>>12),O=M+(U^$&(D^U))+P[13]+2850285829&4294967295,M=D+(O<<5&4294967295|O>>>27),O=$+(D^U&(M^D))+P[2]+4243563512&4294967295,$=M+(O<<9&4294967295|O>>>23),O=U+(M^D&($^M))+P[7]+1735328473&4294967295,U=$+(O<<14&4294967295|O>>>18),O=D+($^M&(U^$))+P[12]+2368359562&4294967295,D=U+(O<<20&4294967295|O>>>12),O=M+(D^U^$)+P[5]+4294588738&4294967295,M=D+(O<<4&4294967295|O>>>28),O=$+(M^D^U)+P[8]+2272392833&4294967295,$=M+(O<<11&4294967295|O>>>21),O=U+($^M^D)+P[11]+1839030562&4294967295,U=$+(O<<16&4294967295|O>>>16),O=D+(U^$^M)+P[14]+4259657740&4294967295,D=U+(O<<23&4294967295|O>>>9),O=M+(D^U^$)+P[1]+2763975236&4294967295,M=D+(O<<4&4294967295|O>>>28),O=$+(M^D^U)+P[4]+1272893353&4294967295,$=M+(O<<11&4294967295|O>>>21),O=U+($^M^D)+P[7]+4139469664&4294967295,U=$+(O<<16&4294967295|O>>>16),O=D+(U^$^M)+P[10]+3200236656&4294967295,D=U+(O<<23&4294967295|O>>>9),O=M+(D^U^$)+P[13]+681279174&4294967295,M=D+(O<<4&4294967295|O>>>28),O=$+(M^D^U)+P[0]+3936430074&4294967295,$=M+(O<<11&4294967295|O>>>21),O=U+($^M^D)+P[3]+3572445317&4294967295,U=$+(O<<16&4294967295|O>>>16),O=D+(U^$^M)+P[6]+76029189&4294967295,D=U+(O<<23&4294967295|O>>>9),O=M+(D^U^$)+P[9]+3654602809&4294967295,M=D+(O<<4&4294967295|O>>>28),O=$+(M^D^U)+P[12]+3873151461&4294967295,$=M+(O<<11&4294967295|O>>>21),O=U+($^M^D)+P[15]+530742520&4294967295,U=$+(O<<16&4294967295|O>>>16),O=D+(U^$^M)+P[2]+3299628645&4294967295,D=U+(O<<23&4294967295|O>>>9),O=M+(U^(D|~$))+P[0]+4096336452&4294967295,M=D+(O<<6&4294967295|O>>>26),O=$+(D^(M|~U))+P[7]+1126891415&4294967295,$=M+(O<<10&4294967295|O>>>22),O=U+(M^($|~D))+P[14]+2878612391&4294967295,U=$+(O<<15&4294967295|O>>>17),O=D+($^(U|~M))+P[5]+4237533241&4294967295,D=U+(O<<21&4294967295|O>>>11),O=M+(U^(D|~$))+P[12]+1700485571&4294967295,M=D+(O<<6&4294967295|O>>>26),O=$+(D^(M|~U))+P[3]+2399980690&4294967295,$=M+(O<<10&4294967295|O>>>22),O=U+(M^($|~D))+P[10]+4293915773&4294967295,U=$+(O<<15&4294967295|O>>>17),O=D+($^(U|~M))+P[1]+2240044497&4294967295,D=U+(O<<21&4294967295|O>>>11),O=M+(U^(D|~$))+P[8]+1873313359&4294967295,M=D+(O<<6&4294967295|O>>>26),O=$+(D^(M|~U))+P[15]+4264355552&4294967295,$=M+(O<<10&4294967295|O>>>22),O=U+(M^($|~D))+P[6]+2734768916&4294967295,U=$+(O<<15&4294967295|O>>>17),O=D+($^(U|~M))+P[13]+1309151649&4294967295,D=U+(O<<21&4294967295|O>>>11),O=M+(U^(D|~$))+P[4]+4149444226&4294967295,M=D+(O<<6&4294967295|O>>>26),O=$+(D^(M|~U))+P[11]+3174756917&4294967295,$=M+(O<<10&4294967295|O>>>22),O=U+(M^($|~D))+P[2]+718787259&4294967295,U=$+(O<<15&4294967295|O>>>17),O=D+($^(U|~M))+P[9]+3951481745&4294967295,B.g[0]=B.g[0]+M&4294967295,B.g[1]=B.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,B.g[2]=B.g[2]+U&4294967295,B.g[3]=B.g[3]+$&4294967295}s.prototype.u=function(B,M){M===void 0&&(M=B.length);for(var D=M-this.blockSize,P=this.B,U=this.h,$=0;$<M;){if(U==0)for(;$<=D;)o(this,B,$),$+=this.blockSize;if(typeof B=="string"){for(;$<M;)if(P[U++]=B.charCodeAt($++),U==this.blockSize){o(this,P),U=0;break}}else for(;$<M;)if(P[U++]=B[$++],U==this.blockSize){o(this,P),U=0;break}}this.h=U,this.o+=M},s.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var M=1;M<B.length-8;++M)B[M]=0;var D=8*this.o;for(M=B.length-8;M<B.length;++M)B[M]=D&255,D/=256;for(this.u(B),B=Array(16),M=D=0;4>M;++M)for(var P=0;32>P;P+=8)B[D++]=this.g[M]>>>P&255;return B};function l(B,M){var D=m;return Object.prototype.hasOwnProperty.call(D,B)?D[B]:D[B]=M(B)}function h(B,M){this.h=M;for(var D=[],P=!0,U=B.length-1;0<=U;U--){var $=B[U]|0;P&&$==M||(D[U]=$,P=!1)}this.g=D}var m={};function g(B){return-128<=B&&128>B?l(B,function(M){return new h([M|0],0>M?-1:0)}):new h([B|0],0>B?-1:0)}function _(B){if(isNaN(B)||!isFinite(B))return S;if(0>B)return F(_(-B));for(var M=[],D=1,P=0;B>=D;P++)M[P]=B/D|0,D*=4294967296;return new h(M,0)}function E(B,M){if(B.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(B.charAt(0)=="-")return F(E(B.substring(1),M));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(M,8)),P=S,U=0;U<B.length;U+=8){var $=Math.min(8,B.length-U),O=parseInt(B.substring(U,U+$),M);8>$?($=_(Math.pow(M,$)),P=P.j($).add(_(O))):(P=P.j(D),P=P.add(_(O)))}return P}var S=g(0),x=g(1),V=g(16777216);i=h.prototype,i.m=function(){if(X(this))return-F(this).m();for(var B=0,M=1,D=0;D<this.g.length;D++){var P=this.i(D);B+=(0<=P?P:4294967296+P)*M,M*=4294967296}return B},i.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(j(this))return"0";if(X(this))return"-"+F(this).toString(B);for(var M=_(Math.pow(B,6)),D=this,P="";;){var U=_e(D,M).g;D=z(D,U.j(M));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(B);if(D=U,j(D))return $+P;for(;6>$.length;)$="0"+$;P=$+P}},i.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function j(B){if(B.h!=0)return!1;for(var M=0;M<B.g.length;M++)if(B.g[M]!=0)return!1;return!0}function X(B){return B.h==-1}i.l=function(B){return B=z(this,B),X(B)?-1:j(B)?0:1};function F(B){for(var M=B.g.length,D=[],P=0;P<M;P++)D[P]=~B.g[P];return new h(D,~B.h).add(x)}i.abs=function(){return X(this)?F(this):this},i.add=function(B){for(var M=Math.max(this.g.length,B.g.length),D=[],P=0,U=0;U<=M;U++){var $=P+(this.i(U)&65535)+(B.i(U)&65535),O=($>>>16)+(this.i(U)>>>16)+(B.i(U)>>>16);P=O>>>16,$&=65535,O&=65535,D[U]=O<<16|$}return new h(D,D[D.length-1]&-2147483648?-1:0)};function z(B,M){return B.add(F(M))}i.j=function(B){if(j(this)||j(B))return S;if(X(this))return X(B)?F(this).j(F(B)):F(F(this).j(B));if(X(B))return F(this.j(F(B)));if(0>this.l(V)&&0>B.l(V))return _(this.m()*B.m());for(var M=this.g.length+B.g.length,D=[],P=0;P<2*M;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<B.g.length;U++){var $=this.i(P)>>>16,O=this.i(P)&65535,ke=B.i(U)>>>16,Ie=B.i(U)&65535;D[2*P+2*U]+=O*Ie,te(D,2*P+2*U),D[2*P+2*U+1]+=$*Ie,te(D,2*P+2*U+1),D[2*P+2*U+1]+=O*ke,te(D,2*P+2*U+1),D[2*P+2*U+2]+=$*ke,te(D,2*P+2*U+2)}for(P=0;P<M;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=M;P<2*M;P++)D[P]=0;return new h(D,0)};function te(B,M){for(;(B[M]&65535)!=B[M];)B[M+1]+=B[M]>>>16,B[M]&=65535,M++}function ne(B,M){this.g=B,this.h=M}function _e(B,M){if(j(M))throw Error("division by zero");if(j(B))return new ne(S,S);if(X(B))return M=_e(F(B),M),new ne(F(M.g),F(M.h));if(X(M))return M=_e(B,F(M)),new ne(F(M.g),M.h);if(30<B.g.length){if(X(B)||X(M))throw Error("slowDivide_ only works with positive integers.");for(var D=x,P=M;0>=P.l(B);)D=Ee(D),P=Ee(P);var U=Re(D,1),$=Re(P,1);for(P=Re(P,2),D=Re(D,2);!j(P);){var O=$.add(P);0>=O.l(B)&&(U=U.add(D),$=O),P=Re(P,1),D=Re(D,1)}return M=z(B,U.j(M)),new ne(U,M)}for(U=S;0<=B.l(M);){for(D=Math.max(1,Math.floor(B.m()/M.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),$=_(D),O=$.j(M);X(O)||0<O.l(B);)D-=P,$=_(D),O=$.j(M);j($)&&($=x),U=U.add($),B=z(B,O)}return new ne(U,B)}i.A=function(B){return _e(this,B).h},i.and=function(B){for(var M=Math.max(this.g.length,B.g.length),D=[],P=0;P<M;P++)D[P]=this.i(P)&B.i(P);return new h(D,this.h&B.h)},i.or=function(B){for(var M=Math.max(this.g.length,B.g.length),D=[],P=0;P<M;P++)D[P]=this.i(P)|B.i(P);return new h(D,this.h|B.h)},i.xor=function(B){for(var M=Math.max(this.g.length,B.g.length),D=[],P=0;P<M;P++)D[P]=this.i(P)^B.i(P);return new h(D,this.h^B.h)};function Ee(B){for(var M=B.g.length+1,D=[],P=0;P<M;P++)D[P]=B.i(P)<<1|B.i(P-1)>>>31;return new h(D,B.h)}function Re(B,M){var D=M>>5;M%=32;for(var P=B.g.length-D,U=[],$=0;$<P;$++)U[$]=0<M?B.i($+D)>>>M|B.i($+D+1)<<32-M:B.i($+D);return new h(U,B.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,iw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,zo=h}).apply(typeof bE<"u"?bE:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rw,yh,sw,bd,$g,aw,ow,lw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var Y=c[I];if(!(Y in b))break e;b=b[Y]}c=c[c.length-1],I=b[c],y=y(I),y!=I&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var b=0,I=!1,Y={next:function(){if(!I&&b<c.length){var J=b++;return{value:y(J,c[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,b){return c.call.apply(c.bind,arguments)}function S(c,y,b){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,I),c.apply(y,Y)}}return function(){return c.apply(y,arguments)}}function x(c,y,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,x.apply(null,arguments)}function V(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function j(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(I,Y,J){for(var ve=Array(arguments.length-2),at=2;at<arguments.length;at++)ve[at-2]=arguments[at];return y.prototype[Y].apply(I,ve)}}function X(c){const y=c.length;if(0<y){const b=Array(y);for(let I=0;I<y;I++)b[I]=c[I];return b}return[]}function F(c,y){for(let b=1;b<arguments.length;b++){const I=arguments[b];if(g(I)){const Y=c.length||0,J=I.length||0;c.length=Y+J;for(let ve=0;ve<J;ve++)c[Y+ve]=I[ve]}else c.push(I)}}class z{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var Ee=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Re(c,y,b){for(const I in c)y.call(b,c[I],I,c)}function B(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function M(c){const y={};for(const b in c)y[b]=c[b];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let b,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(b in I)c[b]=I[b];for(let J=0;J<D.length;J++)b=D[J],Object.prototype.hasOwnProperty.call(I,b)&&(c[b]=I[b])}}function U(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function $(c){m.setTimeout(()=>{throw c},0)}function O(){var c=it;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,b){const I=Ie.get();I.set(y,b),this.h?this.h.next=I:this.g=I,this.h=I}}var Ie=new z(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Te=!1,it=new ke,N=()=>{const c=m.Promise.resolve(void 0);we=()=>{c.then(ue)}};var ue=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(b){$(b)}var y=Ie;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Te=!1};function Ae(){this.s=this.s,this.C=this.C}Ae.prototype.s=!1,Ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};m.addEventListener("test",b,y),m.removeEventListener("test",b,y)}catch{}return c}();function Ue(c,y){if(be.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Ee){e:{try{_e(y.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ue.aa.h.call(this)}}j(Ue,be);var De={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ge=0;function yt(c,y,b,I,Y){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!I,this.ha=Y,this.key=++ge,this.da=this.fa=!1}function Ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,y,b,I,Y){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var ve=Ft(c,y,I,Y);return-1<ve?(y=c[ve],b||(y.fa=!1)):(y=new yt(y,this.src,J,!!I,Y),y.fa=b,c.push(y)),y};function In(c,y){var b=y.type;if(b in c.g){var I=c.g[b],Y=Array.prototype.indexOf.call(I,y,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(I,Y,1),J&&(Ze(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ft(c,y,b,I){for(var Y=0;Y<c.length;++Y){var J=c[Y];if(!J.da&&J.listener==y&&J.capture==!!b&&J.ha==I)return Y}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),Je={};function on(c,y,b,I,Y){if(Array.isArray(y)){for(var J=0;J<y.length;J++)on(c,y[J],b,I,Y);return null}return b=mi(b),c&&c[Ct]?c.K(y,b,_(I)?!!I.capture:!1,Y):qi(c,y,b,!1,I,Y)}function qi(c,y,b,I,Y,J){if(!y)throw Error("Invalid event type");var ve=_(Y)?!!Y.capture:!!Y,at=qs(c);if(at||(c[Nn]=at=new Wt(c)),b=at.add(y,b,I,ve,J),b.proxy)return b;if(I=ls(),b.proxy=I,I.src=c,I.listener=b,c.addEventListener)ye||(Y=ve),Y===void 0&&(Y=!1),c.addEventListener(y.toString(),I,Y);else if(c.attachEvent)c.attachEvent(cs(y.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ls(){function c(b){return y.call(c.src,c.listener,b)}const y=Zo;return c}function us(c,y,b,I,Y){if(Array.isArray(y))for(var J=0;J<y.length;J++)us(c,y[J],b,I,Y);else I=_(I)?!!I.capture:!!I,b=mi(b),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],b=Ft(J,b,I,Y),-1<b&&(Ze(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=qs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ft(y,b,I,Y)),(b=-1<c?y[c]:null)&&Or(b))}function Or(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])In(y.i,c);else{var b=c.type,I=c.proxy;y.removeEventListener?y.removeEventListener(b,I,c.capture):y.detachEvent?y.detachEvent(cs(b),I):y.addListener&&y.removeListener&&y.removeListener(I),(b=qs(y))?(In(b,c),b.h==0&&(b.src=null,y[Nn]=null)):Ze(c)}}}function cs(c){return c in Je?Je[c]:Je[c]="on"+c}function Zo(c,y){if(c.da)c=!0;else{y=new Ue(y,this);var b=c.listener,I=c.ha||c.src;c.fa&&Or(c),c=b.call(I,y)}return c}function qs(c){return c=c[Nn],c instanceof Wt?c:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mi(c){return typeof c=="function"?c:(c[Xt]||(c[Xt]=function(y){return c.handleEvent(y)}),c[Xt])}function Ve(){Ae.call(this),this.i=new Wt(this),this.M=this,this.F=null}j(Ve,Ae),Ve.prototype[Ct]=!0,Ve.prototype.removeEventListener=function(c,y,b,I){us(this,c,y,b,I)};function Tt(c,y){var b,I=c.F;if(I)for(b=[];I;I=I.F)b.push(I);if(c=c.M,I=y.type||y,typeof y=="string")y=new be(y,c);else if(y instanceof be)y.target=y.target||c;else{var Y=y;y=new be(I,c),P(y,Y)}if(Y=!0,b)for(var J=b.length-1;0<=J;J--){var ve=y.g=b[J];Y=bn(ve,I,!0,y)&&Y}if(ve=y.g=c,Y=bn(ve,I,!0,y)&&Y,Y=bn(ve,I,!1,y)&&Y,b)for(J=0;J<b.length;J++)ve=y.g=b[J],Y=bn(ve,I,!1,y)&&Y}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],I=0;I<b.length;I++)Ze(b[I]);delete c.g[y],c.h--}}this.F=null},Ve.prototype.K=function(c,y,b,I){return this.i.add(String(c),y,!1,b,I)},Ve.prototype.L=function(c,y,b,I){return this.i.add(String(c),y,!0,b,I)};function bn(c,y,b,I){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var Y=!0,J=0;J<y.length;++J){var ve=y[J];if(ve&&!ve.da&&ve.capture==b){var at=ve.listener,cn=ve.ha||ve.src;ve.fa&&In(c.i,ve),Y=at.call(cn,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function Dr(c,y,b){if(typeof c=="function")b&&(c=x(c,b));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function hs(c){c.g=Dr(()=>{c.g=null,c.i&&(c.i=!1,hs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gc extends Ae{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:hs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(c){Ae.call(this),this.h=c,this.g={}}j(kr,Ae);var fs=[];function On(c){Re(c.g,function(y,b){this.g.hasOwnProperty(b)&&Or(y)},c),c.g={}}kr.prototype.N=function(){kr.aa.N.call(this),On(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jo=m.JSON.stringify,or=m.JSON.parse,qn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function el(){}el.prototype.h=null;function tl(c){return c.h||(c.h=c.i())}function $s(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){be.call(this,"d")}j(Mr,be);function Gi(){be.call(this,"c")}j(Gi,be);var Ci={},ds=null;function za(){return ds=ds||new Ve}Ci.La="serverreachability";function lr(c){be.call(this,Ci.La,c)}j(lr,be);function xi(c){const y=za();Tt(y,new lr(y))}Ci.STAT_EVENT="statevent";function Ba(c,y){be.call(this,Ci.STAT_EVENT,c),this.stat=y}j(Ba,be);function Gt(c){const y=za();Tt(y,new Ba(y,c))}Ci.Ma="timingevent";function Ql(c,y){be.call(this,Ci.Ma,c),this.size=y}j(Ql,be);function ms(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function Fa(c,y,b,I,Y,J){c.info(function(){if(c.g)if(J)for(var ve="",at=J.split("&"),cn=0;cn<at.length;cn++){var ot=at[cn].split("=");if(1<ot.length){var At=ot[0];ot=ot[1];var tn=At.split("_");ve=2<=tn.length&&tn[1]=="type"?ve+(At+"="+ot+"&"):ve+(At+"=redacted&")}}else ve=null;else ve=J;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+y+`
`+b+`
`+ve})}function Lr(c,y,b,I,Y,J,ve){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+y+`
`+b+`
`+J+" "+ve})}function Ki(c,y,b,I){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Zt(c,b)+(I?" "+I:"")})}function ur(c,y){c.info(function(){return"TIMEOUT: "+y})}ps.prototype.info=function(){};function Zt(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var I=b[c];if(!(2>I.length)){var Y=I[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return Jo(b)}catch{return y}}var ln={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function Jt(){}j(Jt,el),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},Ii=new Jt;function Ht(c,y,b,I){this.j=c,this.i=y,this.l=b,this.R=I||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tn}function Tn(){this.i=null,this.g="",this.h=!1}var qt={},cr={};function Dn(c,y,b){c.L=1,c.v=Br(Lt(y)),c.m=b,c.P=!0,$n(c,null)}function $n(c,y){c.F=Date.now(),Ot(c),c.A=Lt(c.v);var b=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),dr(b.i,"t",I),c.C=0,b=c.j.J,c.h=new Tn,c.g=iu(c.j,b?y:null,!c.m),0<c.O&&(c.M=new gc(x(c.Y,c,c.g),c.O)),y=c.U,b=c.g,I=c.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(fs[0]=Y.toString()),Y=fs);for(var J=0;J<Y.length;J++){var ve=on(b,Y[J],I||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=c.H?M(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xi(),Fa(c.i,c.u,c.A,c.l,c.R,c.m)}Ht.prototype.ca=function(c){c=c.target;const y=this.M;y&&bi(c)==3?y.j():this.Y(c)},Ht.prototype.Y=function(c){try{if(c==this.g)e:{const tn=bi(this.g);var y=this.g.Ba();const vr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||al(this.g)))){this.J||tn!=4||y==7||(y==8||0>=vr?xi(3):xi(2)),Gs(this);var b=this.g.Z();this.X=b;t:if(pi(this)){var I=al(this.g);c="";var Y=I.length,J=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),Gn(this);var ve="";break t}this.h.i=new m.TextDecoder}for(y=0;y<Y;y++)this.h.h=!0,c+=this.h.i.decode(I[y],{stream:!(J&&y==Y-1)});I.length=0,this.h.g+=c,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=b==200,Lr(this.i,this.u,this.A,this.l,this.R,tn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var at,cn=this.g;if((at=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(at)){var ot=at;break t}}ot=null}if(b=ot)Ki(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ii(this,b);else{this.o=!1,this.s=3,Gt(12),kn(this),Gn(this);break e}}if(this.P){b=!0;let pn;for(;!this.J&&this.C<ve.length;)if(pn=Vr(this,ve),pn==cr){tn==4&&(this.s=4,Gt(14),b=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==qt){this.s=4,Gt(15),Ki(this.i,this.l,ve,"[Invalid Chunk]"),b=!1;break}else Ki(this.i,this.l,pn,null),ii(this,pn);if(pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ve.length!=0||this.h.h||(this.s=1,Gt(16),b=!1),this.o=this.o&&b,!b)Ki(this.i,this.l,ve,"[Invalid Chunked Response]"),kn(this),Gn(this);else if(0<ve.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),vs(At),At.M=!0,Gt(11))}}else Ki(this.i,this.l,ve,null),ii(this,ve);tn==4&&kn(this),this.o&&!this.J&&(tn==4?Xa(this.j,this):(this.o=!1,Ot(this)))}else Wl(this.g),b==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),kn(this),Gn(this)}}}catch{}finally{}};function pi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vr(c,y){var b=c.C,I=y.indexOf(`
`,b);return I==-1?cr:(b=Number(y.substring(b,I)),isNaN(b)?qt:(I+=1,I+b>y.length?cr:(y=y.slice(I,I+b),c.C=I+b,y)))}Ht.prototype.cancel=function(){this.J=!0,kn(this)};function Ot(c){c.S=Date.now()+c.I,hr(c,c.I)}function hr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ms(x(c.ba,c),y)}function Gs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ht.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ur(this.i,this.A),this.L!=2&&(xi(),Gt(17)),kn(this),this.s=2,Gn(this)):hr(this,this.S-c)};function Gn(c){c.j.G==0||c.J||Xa(c.j,c)}function kn(c){Gs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,On(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ii(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||Ur(b.h,c))){if(!c.K&&Ur(b.h,c)&&b.G==3){try{var I=b.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Di(b),ta(b);else break e;na(b),Gt(18)}}else b.za=Y[1],0<b.za-b.T&&37500>Y[2]&&b.F&&b.v==0&&!b.C&&(b.C=ms(x(b.Za,b),6e3));if(1>=nl(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else yr(b,11)}else if((c.K||b.g==c)&&Di(b),!te(y))for(Y=b.Da.g.parse(y),y=0;y<Y.length;y++){let ot=Y[y];if(b.T=ot[0],ot=ot[1],b.G==2)if(ot[0]=="c"){b.K=ot[1],b.ia=ot[2];const At=ot[3];At!=null&&(b.la=At,b.j.info("VER="+b.la));const tn=ot[4];tn!=null&&(b.Aa=tn,b.j.info("SVER="+b.Aa));const vr=ot[5];vr!=null&&typeof vr=="number"&&0<vr&&(I=1.5*vr,b.L=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const pn=c.g;if(pn){const Er=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var J=I.h;J.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(jr(J,J.h),J.h=null))}if(I.D){const ul=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(I.ya=ul,et(I.I,I.D,ul))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),I=b;var ve=c;if(I.qa=nu(I,I.J?I.ia:null,I.W),ve.K){gi(I.h,ve);var at=ve,cn=I.L;cn&&(at.I=cn),at.B&&(Gs(at),Ot(at)),I.g=ve}else eu(I);0<b.i.length&&Ya(b)}else ot[0]!="stop"&&ot[0]!="close"||yr(b,7);else b.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?yr(b,7):ea(b):ot[0]!="noop"&&b.l&&b.l.ta(ot),b.v=0)}}xi(4)}catch{}}var Yl=class{constructor(c,y){this.g=c,this.map=y}};function Ha(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nl(c){return c.h?1:c.g?c.g.size:0}function Ur(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jr(c,y){c.g?c.g.add(y):c.h=y}function gi(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ha.prototype.cancel=function(){if(this.i=Mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return X(c.i)}function il(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],b=c.length,I=0;I<b;I++)y.push(c[I]);return y}y=[],b=0;for(I in c)y[b++]=c[I];return y}function Ni(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const I in c)y[b++]=I;return y}}}function un(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Ni(c),I=il(c),Y=I.length,J=0;J<Y;J++)y.call(void 0,I[J],b&&b[J],c)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wn(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var I=c[b].indexOf("="),Y=null;if(0<=I){var J=c[b].substring(0,I);Y=c[b].substring(I+1)}else J=c[b];y(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yi){this.h=c.h,An(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.s),this.l=c.l;var y=c.i,b=new Wi;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),zr(this,b),this.m=c.m}else c&&(y=String(c).match(Qi))?(this.h=!1,An(this,y[1]||"",!0),this.o=Fr(y[2]||""),this.g=Fr(y[3]||"",!0),_i(this,y[4]),this.l=Fr(y[5]||"",!0),zr(this,y[6]||"",!0),this.m=Fr(y[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Yi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Sn(y,$a,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Sn(y,$a,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Sn(b,b.charAt(0)=="/"?sl:Oi,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Sn(b,Ga)),c.join("")};function Lt(c){return new Yi(c)}function An(c,y,b){c.j=b?Fr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function zr(c,y,b){y instanceof Wi?(c.i=y,Ka(c.i,c.h)):(b||(y=Sn(y,fr)),c.i=new Wi(y,c.h))}function et(c,y,b){c.i.set(y,b)}function Br(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sn(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,rl),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $a=/[#\/\?@]/g,Oi=/[#\?:]/g,sl=/[#\?]/g,fr=/[#\?@]/g,Ga=/#/g;function Wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&wn(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=Wi.prototype,i.add=function(c,y){Ln(this),this.i=null,c=mr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function gs(c,y){Ln(c),y=mr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function yi(c,y){return Ln(c),y=mr(c,y),c.g.has(y)}i.forEach=function(c,y){Ln(this),this.g.forEach(function(b,I){b.forEach(function(Y){c.call(y,Y,I,this)},this)},this)},i.na=function(){Ln(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let I=0;I<y.length;I++){const Y=c[I];for(let J=0;J<Y.length;J++)b.push(y[I])}return b},i.V=function(c){Ln(this);let y=[];if(typeof c=="string")yi(this,c)&&(y=y.concat(this.g.get(mr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},i.set=function(c,y){return Ln(this),this.i=null,c=mr(this,c),yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function dr(c,y,b){gs(c,y),0<b.length&&(c.i=null,c.g.set(mr(c,y),X(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var I=y[b];const J=encodeURIComponent(String(I)),ve=this.V(I);for(I=0;I<ve.length;I++){var Y=J;ve[I]!==""&&(Y+="="+encodeURIComponent(String(ve[I]))),c.push(Y)}}return this.i=c.join("&")};function mr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ka(c,y){y&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(b,I){var Y=I.toLowerCase();I!=Y&&(gs(this,I),dr(this,Y,b))},c)),c.j=y}function Hr(c,y){const b=new ps;if(m.Image){const I=new Image;I.onload=V(vi,b,"TestLoadImage: loaded",!0,y,I),I.onerror=V(vi,b,"TestLoadImage: error",!1,y,I),I.onabort=V(vi,b,"TestLoadImage: abort",!1,y,I),I.ontimeout=V(vi,b,"TestLoadImage: timeout",!1,y,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else y(!1)}function Ks(c,y){const b=new ps,I=new AbortController,Y=setTimeout(()=>{I.abort(),vi(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:I.signal}).then(J=>{clearTimeout(Y),J.ok?vi(b,"TestPingServer: ok",!0,y):vi(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),vi(b,"TestPingServer: error",!1,y)})}function vi(c,y,b,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(b)}catch{}}function qr(){this.g=new qn}function Ei(c,y,b){const I=b||"";try{un(c,function(Y,J){let ve=Y;_(Y)&&(ve=Jo(Y)),y.push(I+J+"="+encodeURIComponent(ve))})}catch(Y){throw y.push(I+"type="+encodeURIComponent("_badmap")),Y}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}j(pr,el),pr.prototype.g=function(){return new $r(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function $r(c,y){Ve.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j($r,Ve),i=$r.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Xi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_s(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _s(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gr(this):Xi(this),this.readyState==3&&_s(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,gr(this))},i.Qa=function(c){this.g&&(this.response=c,gr(this))},i.ga=function(){this.g&&gr(this)};function gr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Xi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qs(c){let y="";return Re(c,function(b,I){y+=I,y+=":",y+=b,y+=`\r
`}),y}function en(c,y,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=Qs(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):et(c,y,b))}function pt(c){Ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(pt,Ve);var Ys=/^https?$/i,Zi=["POST","PUT"];i=pt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?tl(this.o):tl(Ii),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){Qa(this,J);return}if(c=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)b.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())b.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),Y=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Zi,y,void 0))||I||Y||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of b)this.g.setRequestHeader(J,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Qa(this,J)}};function Qa(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ws(c),Kn(c)}function Ws(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),Kn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),pt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},i.bb=function(){Xs(this)};function Xs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||bi(c)!=4||c.Z()!=2)){if(c.u&&bi(c)==4)Dr(c.Ea,0,c);else if(Tt(c,"readystatechange"),bi(c)==4){c.h=!1;try{const ve=c.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var I;if(I=ve===0){var Y=String(c.D).match(Qi)[1]||null;!Y&&m.self&&m.self.location&&(Y=m.self.location.protocol.slice(0,-1)),I=!Ys.test(Y?Y.toLowerCase():"")}b=I}if(b)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var J=2<bi(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Ws(c)}}finally{Kn(c)}}}}function Kn(c,y){if(c.g){Zs(c);const b=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Tt(c,"ready");try{b.onreadystatechange=I}catch{}}}function Zs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function bi(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),or(y)}};function al(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wl(c){const y={};c=(c.g&&2<=bi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(te(c[I]))continue;var b=U(c[I]);const Y=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=y[Y]||[];y[Y]=J,J.push(b)}B(y,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Js(c){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,c),this.cb=ys("retryDelaySeedMs",1e4,c),this.Wa=ys("forwardChannelMaxRetries",2,c),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ha(c&&c.concurrentRequestLimit),this.Da=new qr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Js.prototype,i.la=8,i.G=1,i.connect=function(c,y,b,I){Gt(0),this.W=c,this.H=y||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.I=nu(this,null,this.W),Ya(this)};function ea(c){if(Xl(c),c.G==3){var y=c.U++,b=Lt(c.I);if(et(b,"SID",c.K),et(b,"RID",y),et(b,"TYPE","terminate"),_r(c,b),y=new Ht(c,c.j,y),y.L=2,y.v=Br(Lt(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=y.v,b=!0),b||(y.g=iu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ot(y)}tu(c)}function ta(c){c.g&&(vs(c),c.g.cancel(),c.g=null)}function Xl(c){ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),Di(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ya(c){if(!qa(c.h)&&!c.s){c.s=!0;var y=c.Ga;we||N(),Te||(we(),Te=!0),it.add(y,c),c.B=0}}function Zl(c,y){return nl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ms(x(c.Ga,c,y),ll(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Y=new Ht(this,this.j,c);let J=this.o;if(this.S&&(J?(J=M(J),P(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Jl(this,Y,y),b=Lt(this.I),et(b,"RID",c),et(b,"CVER",22),this.D&&et(b,"X-HTTP-Session-Id",this.D),_r(this,b),J&&(this.O?y="headers="+encodeURIComponent(String(Qs(J)))+"&"+y:this.m&&en(b,this.m,J)),jr(this.h,Y),this.Ua&&et(b,"TYPE","init"),this.P?(et(b,"$req",y),et(b,"SID","null"),Y.T=!0,Dn(Y,b,null)):Dn(Y,b,y),this.G=2}}else this.G==3&&(c?Wa(this,c):this.i.length==0||qa(this.h)||Wa(this))};function Wa(c,y){var b;y?b=y.l:b=c.U++;const I=Lt(c.I);et(I,"SID",c.K),et(I,"RID",b),et(I,"AID",c.T),_r(c,I),c.m&&c.o&&en(I,c.m,c.o),b=new Ht(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Jl(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jr(c.h,b),Dn(b,I,y)}function _r(c,y){c.H&&Re(c.H,function(b,I){et(y,I,b)}),c.l&&un({},function(b,I){et(y,I,b)})}function Jl(c,y,b){b=Math.min(c.i.length,b);var I=c.l?x(c.l.Na,c.l,c):null;e:{var Y=c.i;let J=-1;for(;;){const ve=["count="+b];J==-1?0<b?(J=Y[0].g,ve.push("ofs="+J)):J=0:ve.push("ofs="+J);let at=!0;for(let cn=0;cn<b;cn++){let ot=Y[cn].g;const At=Y[cn].map;if(ot-=J,0>ot)J=Math.max(0,Y[cn].g-100),at=!1;else try{Ei(At,ve,"req"+ot+"_")}catch{I&&I(At)}}if(at){I=ve.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,I}function eu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;we||N(),Te||(we(),Te=!0),it.add(y,c),c.v=0}}function na(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ms(x(c.Fa,c),ll(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ms(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),ta(this),ol(this))};function vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ol(c){c.g=new Ht(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Lt(c.qa);et(y,"RID","rpc"),et(y,"SID",c.K),et(y,"AID",c.T),et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(y,"TO",c.ja),et(y,"TYPE","xmlhttp"),_r(c,y),c.m&&c.o&&en(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Br(Lt(y)),b.m=null,b.P=!0,$n(b,c)}i.Za=function(){this.C!=null&&(this.C=null,ta(this),na(this),Gt(19))};function Di(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Xa(c,y){var b=null;if(c.g==y){Di(c),vs(c),c.g=null;var I=2}else if(Ur(c.h,y))b=y.D,gi(c.h,y),I=1;else return;if(c.G!=0){if(y.o)if(I==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var Y=c.B;I=za(),Tt(I,new Ql(I,b)),Ya(c)}else eu(c);else if(Y=y.s,Y==3||Y==0&&0<y.X||!(I==1&&Zl(c,y)||I==2&&na(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),Y){case 1:yr(c,5);break;case 4:yr(c,10);break;case 3:yr(c,6);break;default:yr(c,2)}}}function ll(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function yr(c,y){if(c.j.info("Error code "+y),y==2){var b=x(c.fb,c),I=c.Xa;const Y=!I;I=new Yi(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||An(I,"https"),Br(I),Y?Hr(I.toString(),b):Ks(I.toString(),b)}else Gt(2);c.G=0,c.l&&c.l.sa(y),tu(c),Xl(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function tu(c){if(c.G=0,c.ka=[],c.l){const y=Mn(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function nu(c,y,b){var I=b instanceof Yi?Lt(b):new Yi(b);if(I.g!="")y&&(I.g=y+"."+I.g),_i(I,I.s);else{var Y=m.location;I=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new Yi(null);I&&An(J,I),y&&(J.g=y),Y&&_i(J,Y),b&&(J.l=b),I=J}return b=c.D,y=c.ya,b&&y&&et(I,b,y),et(I,"VER",c.la),_r(c,I),I}function iu(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new pr({eb:b})):new pt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}i=ru.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ia(){}ia.prototype.g=function(c,y){return new Pn(c,y)};function Pn(c,y){Ve.call(this),this.g=new Js(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Vn(this)}j(Pn,Ve),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){ea(this.g)},Pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=Jo(c),c=b);y.i.push(new Yl(y.Ya++,c)),y.G==3&&Ya(y)},Pn.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,Pn.aa.N.call(this)};function su(c){Mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(su,Mr);function Gr(){Gi.call(this),this.status=1}j(Gr,Gi);function Vn(c){this.g=c}j(Vn,ru),Vn.prototype.ua=function(){Tt(this.g,"a")},Vn.prototype.ta=function(c){Tt(this.g,new su(c))},Vn.prototype.sa=function(c){Tt(this.g,new Gr)},Vn.prototype.ra=function(){Tt(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,lw=function(){return new ia},ow=function(){return za()},aw=Ci,$g={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ln.NO_ERROR=0,ln.TIMEOUT=8,ln.HTTP_ERROR=6,bd=ln,Pr.COMPLETE="complete",sw=Pr,$s.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,yh=$s,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,rw=pt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",wE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new A_("@firebase/firestore");function qu(){return Fl.logLevel}function Se(i,...e){if(Fl.logLevel<=ut.DEBUG){const t=e.map(U_);Fl.debug(`Firestore (${hc}): ${i}`,...t)}}function Da(i,...e){if(Fl.logLevel<=ut.ERROR){const t=e.map(U_);Fl.error(`Firestore (${hc}): ${i}`,...t)}}function ec(i,...e){if(Fl.logLevel<=ut.WARN){const t=e.map(U_);Fl.warn(`Firestore (${hc}): ${i}`,...t)}}function U_(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(i="Unexpected state"){const e=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: `+i;throw Da(e),new Error(e)}function Rt(i,e){i||qe()}function Ye(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Bs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class j2{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ca,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ca)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Rt(typeof s.accessToken=="string"),new uw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new ci(e)}}class z2{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class B2{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new z2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0);const s=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new AE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string"),this.R=t.token,new AE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=H2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function mt(i,e){return i<e?-1:i>e?1:0}function tc(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=-62135596800,RE=1e6;class Cn{static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*RE);return new Cn(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SE)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RE}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Cn(0,0))}static max(){return new Ge(new Cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__name__";class Os{constructor(e,t,s){t===void 0?t=0:t>e.length&&qe(),s===void 0?s=e.length-t:s>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Os.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Os?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Os.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Os.isNumericId(e),o=Os.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Os.extractNumericId(e).compare(Os.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zo.fromString(e.substring(4,e.length-2))}}class Bt extends Os{construct(e,t,s){return new Bt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends Os{construct(e,t,s){return new ti(e,t,s)}static isValidIdentifier(e){return q2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new ti([CE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Bt.fromString(e))}static fromName(e){return new Pe(Bt.fromString(e).popFirst(5))}static empty(){return new Pe(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=-1;function $2(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ge.fromTimestamp(s===1e9?new Cn(t+1,0):new Cn(t,s));return new Ho(o,Pe.empty(),e)}function G2(i){return new Ho(i.readTime,i.key,Dh)}class Ho{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ho(Ge.min(),Pe.empty(),Dh)}static max(){return new Ho(Ge.max(),Pe.empty(),Dh)}}function K2(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(i.documentKey,e.documentKey),t!==0?t:mt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==Q2)throw i;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,s)=>{t(e)})}static reject(e){return new oe((t,s)=>{s(e)})}static waitFor(e){return new oe((t,s)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},g=>s(g))}),h=!0,l===o&&t()})}static or(e){let t=oe.resolve(!1);for(const s of e)t=t.next(o=>o?oe.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new oe((s,o)=>{const l=e.length,h=new Array(l);let m=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next(E=>{h[_]=E,++m,m===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new oe((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function W2(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dc(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=-1;function dm(i){return i==null}function Vd(i){return i===0&&1/i==-1/0}function X2(i){return typeof i=="number"&&Number.isInteger(i)&&!Vd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="";function Z2(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=xE(e)),e=J2(i.get(t),e);return xE(e)}function J2(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case hw:t+="";break;default:t+=l}}return t}function xE(i){return i+hw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Wo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function fw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||ei.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ld(this.root,e,this.comparator,!0)}}class ld{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??ei.RED,this.left=o??ei.EMPTY,this.right=l??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new ei(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return ei.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,t,s,o,l){return this}insert(e,t,s){return new ei(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new ar([])}unionWith(e){let t=new xn(ti.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dw("Invalid base64 string: "+l):l}}(e);return new ni(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const eN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(i){if(Rt(!!i),typeof i=="string"){let e=0;const t=eN.exec(i);if(Rt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dn(i.seconds),nanos:dn(i.nanos)}}function dn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $o(i){return typeof i=="string"?ni.fromBase64String(i):ni.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="server_timestamp",pw="__type__",gw="__previous_value__",_w="__local_write_time__";function z_(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[pw])===null||t===void 0?void 0:t.stringValue)===mw}function mm(i){const e=i.mapValue.fields[gw];return z_(e)?mm(e):e}function kh(i){const e=qo(i.mapValue.fields[_w].timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,s,o,l,h,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}const Ud="(default)";class Mh{constructor(e,t){this.projectId=e,this.database=t||Ud}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database===Ud}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="__type__",nN="__max__",ud={mapValue:{}},vw="__vector__",jd="value";function Go(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?z_(i)?4:rN(i)?9007199254740991:iN(i)?10:11:qe()}function Vs(i,e){if(i===e)return!0;const t=Go(i);if(t!==Go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return kh(i).isEqual(kh(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=qo(o.timestampValue),m=qo(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return $o(o.bytesValue).isEqual($o(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return dn(o.geoPointValue.latitude)===dn(l.geoPointValue.latitude)&&dn(o.geoPointValue.longitude)===dn(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return dn(o.integerValue)===dn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=dn(o.doubleValue),m=dn(l.doubleValue);return h===m?Vd(h)===Vd(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return tc(i.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(IE(h)!==IE(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Vs(h[g],m[g])))return!1;return!0}(i,e);default:return qe()}}function Lh(i,e){return(i.values||[]).find(t=>Vs(t,e))!==void 0}function nc(i,e){if(i===e)return 0;const t=Go(i),s=Go(e);if(t!==s)return mt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(i.booleanValue,e.booleanValue);case 2:return function(l,h){const m=dn(l.integerValue||l.doubleValue),g=dn(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return OE(i.timestampValue,e.timestampValue);case 4:return OE(kh(i),kh(e));case 5:return mt(i.stringValue,e.stringValue);case 6:return function(l,h){const m=$o(l),g=$o(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const E=mt(m[_],g[_]);if(E!==0)return E}return mt(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const m=mt(dn(l.latitude),dn(h.latitude));return m!==0?m:mt(dn(l.longitude),dn(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return DE(i.arrayValue,e.arrayValue);case 10:return function(l,h){var m,g,_,E;const S=l.fields||{},x=h.fields||{},V=(m=S[jd])===null||m===void 0?void 0:m.arrayValue,j=(g=x[jd])===null||g===void 0?void 0:g.arrayValue,X=mt(((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0,((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:DE(V,j)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===ud.mapValue&&h===ud.mapValue)return 0;if(l===ud.mapValue)return 1;if(h===ud.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),_=h.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const x=mt(g[S],E[S]);if(x!==0)return x;const V=nc(m[g[S]],_[E[S]]);if(V!==0)return V}return mt(g.length,E.length)}(i.mapValue,e.mapValue);default:throw qe()}}function OE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return mt(i,e);const t=qo(i),s=qo(e),o=mt(t.seconds,s.seconds);return o!==0?o:mt(t.nanos,s.nanos)}function DE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=nc(t[o],s[o]);if(l)return l}return mt(t.length,s.length)}function ic(i){return Gg(i)}function Gg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=qo(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return $o(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Pe.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Gg(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Gg(t.fields[h])}`;return o+"}"}(i.mapValue):qe()}function Td(i){switch(Go(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mm(i);return e?16+Td(e):16;case 5:return 2*i.stringValue.length;case 6:return $o(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Td(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Wo(s.fields,(l,h)=>{o+=l.length+Td(h)}),o}(i.mapValue);default:throw qe()}}function kE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Kg(i){return!!i&&"integerValue"in i}function B_(i){return!!i&&"arrayValue"in i}function ME(i){return!!i&&"nullValue"in i}function LE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wd(i){return!!i&&"mapValue"in i}function iN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[yw])===null||t===void 0?void 0:t.stringValue)===vw}function Ah(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Wo(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ah(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ah(i.arrayValue.values[t]);return e}return Object.assign({},i)}function rN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===nN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.value=e}static empty(){return new zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(t)}setAll(e){let t=ti.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Ah(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];wd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Wo(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new zi(Ah(this.value))}}function Ew(i){const e=[];return Wo(i.fields,(t,s)=>{const o=new ti([t]);if(wd(s)){const l=Ew(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,s,o,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new hi(e,0,Ge.min(),Ge.min(),Ge.min(),zi.empty(),0)}static newFoundDocument(e,t,s,o){return new hi(e,1,t,Ge.min(),s,o,0)}static newNoDocument(e,t){return new hi(e,2,t,Ge.min(),Ge.min(),zi.empty(),0)}static newUnknownDocument(e,t){return new hi(e,3,t,Ge.min(),Ge.min(),zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t){this.position=e,this.inclusive=t}}function PE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=Pe.comparator(Pe.fromName(h.referenceValue),t.key):s=nc(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function VE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Vs(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function sN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{}class vn extends bw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new oN(e,t,s):t==="array-contains"?new cN(e,s):t==="in"?new hN(e,s):t==="not-in"?new fN(e,s):t==="array-contains-any"?new dN(e,s):new vn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new lN(e,s):new uN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(nc(t,this.value)):t!==null&&Go(this.value)===Go(t)&&this.matchesComparison(nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends bw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new as(e,t)}matches(e){return Tw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Tw(i){return i.op==="and"}function ww(i){return aN(i)&&Tw(i)}function aN(i){for(const e of i.filters)if(e instanceof as)return!1;return!0}function Qg(i){if(i instanceof vn)return i.field.canonicalString()+i.op.toString()+ic(i.value);if(ww(i))return i.filters.map(e=>Qg(e)).join(",");{const e=i.filters.map(t=>Qg(t)).join(",");return`${i.op}(${e})`}}function Aw(i,e){return i instanceof vn?function(s,o){return o instanceof vn&&s.op===o.op&&s.field.isEqual(o.field)&&Vs(s.value,o.value)}(i,e):i instanceof as?function(s,o){return o instanceof as&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,m)=>l&&Aw(h,o.filters[m]),!0):!1}(i,e):void qe()}function Sw(i){return i instanceof vn?function(t){return`${t.field.canonicalString()} ${t.op} ${ic(t.value)}`}(i):i instanceof as?function(t){return t.op.toString()+" {"+t.getFilters().map(Sw).join(" ,")+"}"}(i):"Filter"}class oN extends vn{constructor(e,t,s){super(e,t,s),this.key=Pe.fromName(s.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class lN extends vn{constructor(e,t){super(e,"in",t),this.keys=Rw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uN extends vn{constructor(e,t){super(e,"not-in",t),this.keys=Rw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Pe.fromName(s.referenceValue))}class cN extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return B_(t)&&Lh(t.arrayValue,this.value)}}class hN extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lh(this.value.arrayValue,t)}}class fN extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Lh(this.value.arrayValue,t)}}class dN extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!B_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Lh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t=null,s=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.le=null}}function UE(i,e=null,t=[],s=[],o=null,l=null,h=null){return new mN(i,e,t,s,o,l,h)}function F_(i){const e=Ye(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Qg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),dm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ic(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ic(s)).join(",")),e.le=t}return e.le}function H_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!sN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Aw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!VE(i.startAt,e.startAt)&&VE(i.endAt,e.endAt)}function Yg(i){return Pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t=null,s=[],o=[],l=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pN(i,e,t,s,o,l,h,m){return new Qh(i,e,t,s,o,l,h,m)}function pm(i){return new Qh(i)}function jE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Cw(i){return i.collectionGroup!==null}function Sh(i){const e=Ye(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new xn(ti.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Bd(l,s))}),t.has(ti.keyField().canonicalString())||e.he.push(new Bd(ti.keyField(),s))}return e.he}function Ls(i){const e=Ye(i);return e.Pe||(e.Pe=gN(e,Sh(i))),e.Pe}function gN(i,e){if(i.limitType==="F")return UE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Bd(o.field,l)});const t=i.endAt?new zd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zd(i.startAt.position,i.startAt.inclusive):null;return UE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Wg(i,e){const t=i.filters.concat([e]);return new Qh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Xg(i,e,t){return new Qh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function gm(i,e){return H_(Ls(i),Ls(e))&&i.limitType===e.limitType}function xw(i){return`${F_(Ls(i))}|lt:${i.limitType}`}function $u(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Sw(o)).join(", ")}]`),dm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ic(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ic(o)).join(",")),`Target(${s})`}(Ls(i))}; limitType=${i.limitType})`}function _m(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Pe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of Sh(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const _=PE(h,m,g);return h.inclusive?_<=0:_<0}(s.startAt,Sh(s),o)||s.endAt&&!function(h,m,g){const _=PE(h,m,g);return h.inclusive?_>=0:_>0}(s.endAt,Sh(s),o))}(i,e)}function _N(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Iw(i){return(e,t)=>{let s=!1;for(const o of Sh(i)){const l=yN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function yN(i,e,t){const s=i.field.isKeyField()?Pe.comparator(e.key,t.key):function(l,h,m){const g=h.data.field(l),_=m.data.field(l);return g!==null&&_!==null?nc(g,_):qe()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return fw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Yt(Pe.comparator);function ka(){return vN}const Nw=new Yt(Pe.comparator);function vh(...i){let e=Nw;for(const t of i)e=e.insert(t.key,t);return e}function Ow(i){let e=Nw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Pl(){return Rh()}function Dw(){return Rh()}function Rh(){return new $l(i=>i.toString(),(i,e)=>i.isEqual(e))}const EN=new Yt(Pe.comparator),bN=new xn(Pe.comparator);function ct(...i){let e=bN;for(const t of i)e=e.add(t);return e}const TN=new xn(mt);function wN(){return TN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function kw(i){return{integerValue:""+i}}function AN(i,e){return X2(e)?kw(e):q_(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function SN(i,e,t){return i instanceof Ph?function(o,l){const h={fields:{[pw]:{stringValue:mw},[_w]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&z_(l)&&(l=mm(l)),l&&(h.fields[gw]=l),{mapValue:h}}(t,e):i instanceof Vh?Lw(i,e):i instanceof Uh?Pw(i,e):function(o,l){const h=Mw(o,l),m=zE(h)+zE(o.Ie);return Kg(h)&&Kg(o.Ie)?kw(m):q_(o.serializer,m)}(i,e)}function RN(i,e,t){return i instanceof Vh?Lw(i,e):i instanceof Uh?Pw(i,e):t}function Mw(i,e){return i instanceof Fd?function(s){return Kg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Ph extends ym{}class Vh extends ym{constructor(e){super(),this.elements=e}}function Lw(i,e){const t=Vw(e);for(const s of i.elements)t.some(o=>Vs(o,s))||t.push(s);return{arrayValue:{values:t}}}class Uh extends ym{constructor(e){super(),this.elements=e}}function Pw(i,e){let t=Vw(e);for(const s of i.elements)t=t.filter(o=>!Vs(o,s));return{arrayValue:{values:t}}}class Fd extends ym{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function zE(i){return dn(i.integerValue||i.doubleValue)}function Vw(i){return B_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.field=e,this.transform=t}}function xN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Vh&&o instanceof Vh||s instanceof Uh&&o instanceof Uh?tc(s.elements,o.elements,Vs):s instanceof Fd&&o instanceof Fd?Vs(s.Ie,o.Ie):s instanceof Ph&&o instanceof Ph}(i.transform,e.transform)}class IN{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vm{}function Uw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $_(i.key,Nr.none()):new Yh(i.key,i.data,Nr.none());{const t=i.data,s=zi.empty();let o=new xn(ti.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Xo(i.key,s,new ar(o.toArray()),Nr.none())}}function NN(i,e,t){i instanceof Yh?function(o,l,h){const m=o.value.clone(),g=FE(o.fieldTransforms,l,h.transformResults);m.setAll(g),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Xo?function(o,l,h){if(!Ad(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=FE(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(jw(o)),g.setAll(m),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ch(i,e,t,s){return i instanceof Yh?function(l,h,m,g){if(!Ad(l.precondition,h))return m;const _=l.value.clone(),E=HE(l.fieldTransforms,g,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,t,s):i instanceof Xo?function(l,h,m,g){if(!Ad(l.precondition,h))return m;const _=HE(l.fieldTransforms,g,h),E=h.data;return E.setAll(jw(l)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(l,h,m){return Ad(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function ON(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=Mw(s.transform,o||null);l!=null&&(t===null&&(t=zi.empty()),t.set(s.field,l))}return t||null}function BE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&tc(s,o,(l,h)=>xN(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Yh extends vm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xo extends vm{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function FE(i,e,t){const s=new Map;Rt(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,m=e.data.field(l.field);s.set(l.field,RN(h,m,t[o]))}return s}function HE(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,SN(l,h,e))}return s}class $_ extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&NN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ch(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ch(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Dw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const g=Uw(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ge.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(t,s)=>BE(t,s))&&tc(this.baseMutations,e.baseMutations,(t,s)=>BE(t,s))}}class G_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Rt(e.mutations.length===s.length);let o=function(){return EN}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new G_(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,_t;function PN(i){switch(i){case le.OK:return qe();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return qe()}}function zw(i){if(i===void 0)return Da("GRPC error has no .code"),le.UNKNOWN;switch(i){case yn.OK:return le.OK;case yn.CANCELLED:return le.CANCELLED;case yn.UNKNOWN:return le.UNKNOWN;case yn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case yn.INTERNAL:return le.INTERNAL;case yn.UNAVAILABLE:return le.UNAVAILABLE;case yn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case yn.NOT_FOUND:return le.NOT_FOUND;case yn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case yn.ABORTED:return le.ABORTED;case yn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case yn.DATA_LOSS:return le.DATA_LOSS;default:return qe()}}(_t=yn||(yn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new zo([4294967295,4294967295],0);function qE(i){const e=VN().encode(i),t=new iw;return t.update(e),new Uint8Array(t.digest())}function $E(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zo([t,s],0),new zo([o,l],0)]}class K_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Eh(`Invalid padding: ${t}`);if(s<0)throw new Eh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=zo.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(zo.fromNumber(s)));return o.compare(UN)===1&&(o=new zo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=qE(e),[s,o]=$E(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new K_(l,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=qE(e),[s,o]=$E(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Em(Ge.min(),o,new Yt(mt),ka(),ct())}}class Wh{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Wh(s,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Bw{constructor(e,t){this.targetId=e,this.ge=t}}class Fw{constructor(e,t,s=ni.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class GE{constructor(){this.pe=0,this.ye=KE(),this.we=ni.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ct(),t=ct(),s=ct();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:qe()}}),new Wh(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=KE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class jN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ka(),this.$e=cd(),this.Ke=cd(),this.Ue=new Yt(mt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Yg(l))if(s===0){const h=new Pe(l.path);this.ze(t,h,hi.newNoDocument(h,Ge.min()))}else Rt(s===1);else{const h=this.et(t);if(h!==s){const m=this.tt(e),g=m?this.nt(m,e,h):1;if(g!==0){this.Ye(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=$o(s).toUint8Array()}catch(g){if(g instanceof dw)return ec("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new K_(h,o,l)}catch(g){return ec(g instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const m=this.Xe(h);if(m){if(l.current&&Yg(m.target)){const g=new Pe(m.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,hi.newNoDocument(g,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=ct();this.Ke.forEach((l,h)=>{let m=!0;h.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new Em(e,t,this.Ue,this.Qe,s);return this.Qe=ka(),this.$e=cd(),this.Ke=cd(),this.Ue=new Yt(mt),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new GE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new xn(mt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new xn(mt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new GE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function cd(){return new Yt(Pe.comparator)}function KE(){return new Yt(Pe.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},BN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class HN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zg(i,e){return i.useProto3Json||dm(e)?e:{value:e}}function Hd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function qN(i,e){return Hd(i,e.toTimestamp())}function Ps(i){return Rt(!!i),Ge.fromTimestamp(function(t){const s=qo(t);return new Cn(s.seconds,s.nanos)}(i))}function Q_(i,e){return Jg(i,e).canonicalString()}function Jg(i,e){const t=function(o){return new Bt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function qw(i){const e=Bt.fromString(i);return Rt(Yw(e)),e}function e_(i,e){return Q_(i.databaseId,e.path)}function Eg(i,e){const t=qw(e);if(t.get(1)!==i.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Pe(Gw(t))}function $w(i,e){return Q_(i.databaseId,e)}function $N(i){const e=qw(i);return e.length===4?Bt.emptyPath():Gw(e)}function t_(i){return new Bt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gw(i){return Rt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function QE(i,e,t){return{name:e_(i,e),fields:t.value.mapValue.fields}}function GN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(_,E){return _.useProto3Json?(Rt(E===void 0||typeof E=="string"),ni.fromBase64String(E||"")):(Rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),ni.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const E=_.code===void 0?le.UNKNOWN:zw(_.code);return new Ce(E,_.message||"")}(h);t=new Fw(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Eg(i,s.document.name),l=Ps(s.document.updateTime),h=s.document.createTime?Ps(s.document.createTime):Ge.min(),m=new zi({mapValue:{fields:s.document.fields}}),g=hi.newFoundDocument(o,l,h,m),_=s.targetIds||[],E=s.removedTargetIds||[];t=new Sd(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Eg(i,s.document),l=s.readTime?Ps(s.readTime):Ge.min(),h=hi.newNoDocument(o,l),m=s.removedTargetIds||[];t=new Sd([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Eg(i,s.document),l=s.removedTargetIds||[];t=new Sd([],l,o,null)}else{if(!("filter"in e))return qe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new LN(o,l),m=s.targetId;t=new Bw(m,h)}}return t}function KN(i,e){let t;if(e instanceof Yh)t={update:QE(i,e.key,e.value)};else if(e instanceof $_)t={delete:e_(i,e.key)};else if(e instanceof Xo)t={update:QE(i,e.key,e.data),updateMask:nO(e.fieldMask)};else{if(!(e instanceof DN))return qe();t={verify:e_(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fd)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw qe()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:qN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:qe()}(i,e.precondition)),t}function QN(i,e){return i&&i.length>0?(Rt(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?Ps(o.updateTime):Ps(l);return h.isEqual(Ge.min())&&(h=Ps(l)),new IN(h,o.transformResults||[])}(t,e))):[]}function YN(i,e){return{documents:[$w(i,e.path)]}}function WN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=$w(i,o);const l=function(_){if(_.length!==0)return Qw(as.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(_){if(_.length!==0)return _.map(E=>function(x){return{field:Gu(x.field),direction:JN(x.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Zg(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:o}}function XN(i){let e=$N(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Rt(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(S){const x=Kw(S);return x instanceof as&&ww(x)?x.getFilters():[x]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(x=>function(j){return new Bd(Ku(j.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(x))}(t.orderBy));let m=null;t.limit&&(m=function(S){let x;return x=typeof S=="object"?S.value:S,dm(x)?null:x}(t.limit));let g=null;t.startAt&&(g=function(S){const x=!!S.before,V=S.values||[];return new zd(V,x)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const x=!S.before,V=S.values||[];return new zd(V,x)}(t.endAt)),pN(e,o,h,l,m,"F",g,_)}function ZN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Kw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ku(t.unaryFilter.field);return vn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ku(t.unaryFilter.field);return vn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ku(t.unaryFilter.field);return vn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ku(t.unaryFilter.field);return vn.create(h,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(i):i.fieldFilter!==void 0?function(t){return vn.create(Ku(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return as.create(t.compositeFilter.filters.map(s=>Kw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe()}}(t.compositeFilter.op))}(i):qe()}function JN(i){return zN[i]}function eO(i){return BN[i]}function tO(i){return FN[i]}function Gu(i){return{fieldPath:i.canonicalString()}}function Ku(i){return ti.fromServerFormat(i.fieldPath)}function Qw(i){return i instanceof vn?function(t){if(t.op==="=="){if(LE(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NAN"}};if(ME(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LE(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NOT_NAN"}};if(ME(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(t.field),op:eO(t.op),value:t.value}}}(i):i instanceof as?function(t){const s=t.getFilters().map(o=>Qw(o));return s.length===1?s[0]:{compositeFilter:{op:tO(t.op),filters:s}}}(i):qe()}function nO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,s,o,l=Ge.min(),h=Ge.min(),m=ni.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.Tt=e}}function rO(i){const e=XN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.Tn=new aO}addToCollectionParentIndex(e,t){return this.Tn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Ho.min())}updateCollectionGroup(e,t,s){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class aO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new xn(Bt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ww=41943040;class Ui{static withCacheSize(e){return new Ui(e,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(Ww,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new rc(0)}static Un(){return new rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="LruGarbageCollector",oO=1048576;function XE([i,e],[t,s]){const o=mt(i,t);return o===0?mt(e,s):o}class lO{constructor(e){this.Hn=e,this.buffer=new xn(XE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();XE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Se(WE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dc(t)?Se(WE,"Ignoring IndexedDB error during garbage collection: ",t):await fc(t)}await this.er(3e5)})}}class cO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(fm.ae);const s=new lO(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(YE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,m,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(l=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),qu()<=ut.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function hO(i,e){return new cO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.changes=new $l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?oe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ch(s.mutation,o,ar.empty(),Cn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ct()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ct()){const o=Pl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=vh();return l.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Pl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ct()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let l=ka();const h=Rh(),m=function(){return Rh()}();return t.forEach((g,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Xo)?l=l.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Ch(E.mutation,_,E.mutation.getFieldMask(),Cn.now())):h.set(_.key,ar.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((_,E)=>h.set(_,E)),t.forEach((_,E)=>{var S;return m.set(_,new dO(E,(S=h.get(_))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Rh();let o=new Yt((h,m)=>h-m),l=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const _=t.get(g);if(_===null)return;let E=s.get(g)||ar.empty();E=m.applyToLocalView(_,E),s.set(g,E);const S=(o.get(m.batchId)||ct()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,E=g.value,S=Dw();E.forEach(x=>{if(!l.has(x)){const V=Uw(t.get(x),s.get(x));V!==null&&S.set(x,V),l=l.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,S))}return oe.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):oe.resolve(Pl());let m=Dh,g=l;return h.next(_=>oe.forEach(_,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),l.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{g=g.insert(E,x)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,g,_,ct())).next(E=>({batchId:m,changes:Ow(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(s=>{let o=vh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=vh();return this.indexManager.getCollectionParents(e,l).next(m=>oe.forEach(m,g=>{const _=function(S,x){return new Qh(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(E=>{E.forEach((S,x)=>{h=h.insert(S,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((g,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,hi.newInvalidDocument(E)))});let m=vh();return h.forEach((g,_)=>{const E=l.get(g);E!==void 0&&Ch(E.mutation,_,ar.empty(),Cn.now()),_m(t,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return oe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ps(o.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:rO(o.bundledQuery),readTime:Ps(o.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.overlays=new Yt(Pe.comparator),this.Rr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pl();return oe.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),oe.resolve()}getOverlaysForCollection(e,t,s){const o=Pl(),l=t.length+1,h=new Pe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new Yt((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let E=l.get(_.largestBatchId);E===null&&(E=Pl(),l=l.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=Pl(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=o)););return oe.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new MN(t,s));let l=this.Rr.get(t);l===void 0&&(l=ct(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.sessionToken=ni.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Vr=new xn(Hn.mr),this.gr=new xn(Hn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Hn(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Hn(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new Pe(new Bt([])),s=new Hn(t,e),o=new Hn(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Pe(new Bt([])),s=new Hn(t,e),o=new Hn(t,e+1);let l=ct();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Hn(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Hn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Pe.comparator(e.key,t.key)||mt(e.Cr,t.Cr)}static pr(e,t){return mt(e.Cr,t.Cr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new xn(Hn.mr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new kN(l,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Hn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(h)}lookupMutationBatch(e,t){return oe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?j_:this.Fr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Hn(t,0),o=new Hn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);l.push(m)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xn(mt);return t.forEach(o=>{const l=new Hn(o,0),h=new Hn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],m=>{s=s.add(m.Cr)})}),oe.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Pe.isDocumentKey(l)||(l=l.child(""));const h=new Hn(new Pe(l),0);let m=new xn(mt);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Cr)),!0)},h),oe.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return oe.forEach(t.mutations,o=>{const l=new Hn(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Hn(t,0),o=this.Mr.firstAfterOrEqual(s);return oe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.kr=e,this.docs=function(){return new Yt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return oe.resolve(s?s.document.mutableCopy():hi.newInvalidDocument(t))}getEntries(e,t){let s=ka();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():hi.newInvalidDocument(o))}),oe.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=ka();const h=t.path,m=new Pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||K2(G2(E),s)<=0||(o.has(E.key)||_m(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,s,o){qe()}qr(e,t){return oe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new EO(this)}getSize(e){return oe.resolve(this.size)}}class EO extends fO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),oe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.persistence=e,this.Qr=new $l(t=>F_(t),H_),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Y_,this.targetCount=0,this.Ur=rc.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),oe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new rc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.zn(t),oe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),oe.waitFor(l).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return oe.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),oe.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return oe.resolve(s)}containsKey(e,t){return oe.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new fm(0),this.zr=!1,this.zr=!0,this.jr=new _O,this.referenceDelegate=e(this),this.Hr=new bO(this),this.indexManager=new sO,this.remoteDocumentCache=function(o){return new vO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new iO(t),this.Yr=new pO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new yO(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){Se("MemoryPersistence","Starting transaction:",e);const o=new TO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return oe.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class TO extends Y2{constructor(e){super(),this.currentSequenceNumber=e}}class W_{constructor(e){this.persistence=e,this.ti=new Y_,this.ni=null}static ri(e){return new W_(e)}get ii(){if(this.ni)return this.ni;throw qe()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),oe.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),oe.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.ii,s=>{const o=Pe.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ge.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return oe.or([()=>oe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class qd{constructor(e,t){this.persistence=e,this.oi=new $l(s=>Z2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=hO(this,t)}static ri(e,t){return new qd(e,t)}Zr(){}Xr(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return oe.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?oe.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(m=>{m||(s++,l.removeEntry(h,Ge.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Td(e.data.value)),t}ar(e,t,s){return oe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ct(),o=ct();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new X_(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rC()?8:W2(di())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new wO;return this._s(e,t,h).next(m=>{if(l.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(qu()<=ut.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",$u(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),oe.resolve()):(qu()<=ut.DEBUG&&Se("QueryEngine","Query:",$u(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(qu()<=ut.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",$u(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(t))):oe.resolve())}rs(e,t){if(jE(t))return oe.resolve(null);let s=Ls(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Xg(t,null,"F"),s=Ls(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ct(...l);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.cs(t,m);return this.ls(t,_,h,g.readTime)?this.rs(e,Xg(t,null,"F")):this.hs(e,_,t,g)}))})))}ss(e,t,s,o){return jE(t)||o.isEqual(Ge.min())?oe.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?oe.resolve(null):(qu()<=ut.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$u(t)),this.hs(e,h,t,$2(o,Dh)).next(m=>m))})}cs(e,t){let s=new xn(Iw(e));return t.forEach((o,l)=>{_m(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return qu()<=ut.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",$u(t)),this.ns.getDocumentsMatchingQuery(e,t,Ho.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LocalStore",SO=3e8;class RO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Yt(mt),this.Is=new $l(l=>F_(l),H_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function CO(i,e,t,s){return new RO(i,e,t,s)}async function Zw(i,e){const t=Ye(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let g=ct();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of l){m.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:m}))})})}function xO(i,e){const t=Ye(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,_,E){const S=_.batch,x=S.keys();let V=oe.resolve();return x.forEach(j=>{V=V.next(()=>E.getEntry(g,j)).next(X=>{const F=_.docVersions.get(j);Rt(F!==null),X.version.compareTo(F)<0&&(S.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),E.addEntry(X)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=ct();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Jw(i){const e=Ye(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function IO(i,e){const t=Ye(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const x=o.get(S);if(!x)return;m.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,S)));let V=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(ni.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(S,V),function(X,F,z){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=SO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(x,V,E)&&m.push(t.Hr.updateTargetData(l,V))});let g=ka(),_=ct();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),m.push(NO(l,h,e.documentUpdates).next(E=>{g=E.Vs,_=E.fs})),!s.isEqual(Ge.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(E)}return oe.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,_)).next(()=>g)}).then(l=>(t.Ts=o,l))}function NO(i,e,t){let s=ct(),o=ct();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=ka();return t.forEach((m,g)=>{const _=l.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ge.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):Se(Z_,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Vs:h,fs:o}})}function OO(i,e){const t=Ye(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=j_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DO(i,e){const t=Ye(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,oe.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Vo(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function n_(i,e,t){const s=Ye(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!dc(h))throw h;Se(Z_,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function ZE(i,e,t){const s=Ye(i);let o=Ge.min(),l=ct();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,E){const S=Ye(g),x=S.Is.get(E);return x!==void 0?oe.resolve(S.Ts.get(x)):S.Hr.getTargetData(_,E)}(s,h,Ls(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{l=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ge.min(),t?l:ct())).next(m=>(kO(s,_N(e),m),{documents:m,gs:l})))}function kO(i,e,t){let s=i.Es.get(e)||Ge.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class JE{constructor(){this.activeTargetIds=wN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MO{constructor(){this.ho=new JE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new JE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="ConnectivityMonitor";class tb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Se(eb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Se(eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=null;function i_(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="RestConnection",PO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ud?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,l){const h=i_(),m=this.So(e,t.toUriEncodedString());Se(bg,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,l),this.vo(e,m,g,s).then(_=>(Se(bg,`Received RPC '${e}' ${h}: `,_),_),_=>{throw ec(bg,`RPC '${e}' ${h} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,t,s,o,l,h){return this.bo(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}So(e,t){const s=PO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class jO extends VO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=i_();return new Promise((h,m)=>{const g=new rw;g.setWithCredentials(!0),g.listenOnce(sw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case bd.NO_ERROR:const E=g.getResponseJson();Se(li,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case bd.TIMEOUT:Se(li,`RPC '${e}' ${l} timed out`),m(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const S=g.getStatus();if(Se(li,`RPC '${e}' ${l} failed with status:`,S,"response text:",g.getResponseText()),S>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x==null?void 0:x.error;if(V&&V.status&&V.message){const j=function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(z)>=0?z:le.UNKNOWN}(V.status);m(new Ce(j,V.message))}else m(new Ce(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Se(li,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(o);Se(li,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",_,s,15)})}Wo(e,t,s){const o=i_(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=lw(),m=ow(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=l.join("");Se(li,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=h.createWebChannel(E,g);let x=!1,V=!1;const j=new UO({Fo:F=>{V?Se(li,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(x||(Se(li,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),Se(li,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Mo:()=>S.close()}),X=(F,z,te)=>{F.listen(z,ne=>{try{te(ne)}catch(_e){setTimeout(()=>{throw _e},0)}})};return X(S,yh.EventType.OPEN,()=>{V||(Se(li,`RPC '${e}' stream ${o} transport opened.`),j.Qo())}),X(S,yh.EventType.CLOSE,()=>{V||(V=!0,Se(li,`RPC '${e}' stream ${o} transport closed`),j.Ko())}),X(S,yh.EventType.ERROR,F=>{V||(V=!0,ec(li,`RPC '${e}' stream ${o} transport errored:`,F),j.Ko(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),X(S,yh.EventType.MESSAGE,F=>{var z;if(!V){const te=F.data[0];Rt(!!te);const ne=te,_e=(ne==null?void 0:ne.error)||((z=ne[0])===null||z===void 0?void 0:z.error);if(_e){Se(li,`RPC '${e}' stream ${o} received error:`,_e);const Ee=_e.status;let Re=function(D){const P=yn[D];if(P!==void 0)return zw(P)}(Ee),B=_e.message;Re===void 0&&(Re=le.INTERNAL,B="Unknown error status: "+Ee+" with message "+_e.message),V=!0,j.Ko(new Ce(Re,B)),S.close()}else Se(li,`RPC '${e}' stream ${o} received:`,te),j.Uo(te)}}),X(m,aw.STAT_EVENT,F=>{F.stat===$g.PROXY?Se(li,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===$g.NOPROXY&&Se(li,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function Tg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i){return new HN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="PersistentStream";class tA{constructor(e,t,s,o,l,h,m,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new eA(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Da(t.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new Ce(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Se(nb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Se(nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zO extends tA{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=GN(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ge.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ge.min():h.readTime?Ps(h.readTime):Ge.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=t_(this.serializer),t.addTarget=function(l,h){let m;const g=h.target;if(m=Yg(g)?{documents:YN(l,g)}:{query:WN(l,g).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Hw(l,h.resumeToken);const _=Zg(l,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ge.min())>0){m.readTime=Hd(l,h.snapshotVersion.toTimestamp());const _=Zg(l,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=ZN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=t_(this.serializer),t.removeTarget=e,this.I_(t)}}class BO extends tA{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=QN(e.writeResults,e.commitTime),s=Ps(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=t_(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>KN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{}class HO extends FO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.bo(e,Jg(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(le.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Jg(t,s),o,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ce(le.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Da(t),this.N_=!1):Se("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="RemoteStore";class $O{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{Gl(this)&&(Se(Hl,"Restarting streams for network reachability change."),await async function(g){const _=Ye(g);_.W_.add(4),await Xh(_),_.j_.set("Unknown"),_.W_.delete(4),await Tm(_)}(this))})}),this.j_=new qO(s,o)}}async function Tm(i){if(Gl(i))for(const e of i.G_)await e(!0)}async function Xh(i){for(const e of i.G_)await e(!1)}function nA(i,e){const t=Ye(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ny(t)?ty(t):mc(t).c_()&&ey(t,e))}function J_(i,e){const t=Ye(i),s=mc(t);t.U_.delete(e),s.c_()&&iA(t,e),t.U_.size===0&&(s.c_()?s.P_():Gl(t)&&t.j_.set("Unknown"))}function ey(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mc(i).y_(e)}function iA(i,e){i.H_.Ne(e),mc(i).w_(e)}function ty(i){i.H_=new jN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),mc(i).start(),i.j_.B_()}function ny(i){return Gl(i)&&!mc(i).u_()&&i.U_.size>0}function Gl(i){return Ye(i).W_.size===0}function rA(i){i.H_=void 0}async function GO(i){i.j_.set("Online")}async function KO(i){i.U_.forEach((e,t)=>{ey(i,e)})}async function QO(i,e){rA(i),ny(i)?(i.j_.q_(e),ty(i)):i.j_.set("Unknown")}async function YO(i,e,t){if(i.j_.set("Online"),e instanceof Fw&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const m of l.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){Se(Hl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $d(i,s)}else if(e instanceof Sd?i.H_.We(e):e instanceof Bw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ge.min()))try{const s=await Jw(i.localStore);t.compareTo(s)>=0&&await function(l,h){const m=l.H_.ot(h);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.U_.get(_);E&&l.U_.set(_,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,_)=>{const E=l.U_.get(g);if(!E)return;l.U_.set(g,E.withResumeToken(ni.EMPTY_BYTE_STRING,E.snapshotVersion)),iA(l,g);const S=new Vo(E.target,g,_,E.sequenceNumber);ey(l,S)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){Se(Hl,"Failed to raise snapshot:",s),await $d(i,s)}}async function $d(i,e,t){if(!dc(e))throw e;i.W_.add(1),await Xh(i),i.j_.set("Offline"),t||(t=()=>Jw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Se(Hl,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Tm(i)})}function sA(i,e){return e().catch(t=>$d(i,t,e))}async function wm(i){const e=Ye(i),t=Ko(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:j_;for(;WO(e);)try{const o=await OO(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,XO(e,o)}catch(o){await $d(e,o)}aA(e)&&oA(e)}function WO(i){return Gl(i)&&i.K_.length<10}function XO(i,e){i.K_.push(e);const t=Ko(i);t.c_()&&t.b_&&t.S_(e.mutations)}function aA(i){return Gl(i)&&!Ko(i).u_()&&i.K_.length>0}function oA(i){Ko(i).start()}async function ZO(i){Ko(i).C_()}async function JO(i){const e=Ko(i);for(const t of i.K_)e.S_(t.mutations)}async function eD(i,e,t){const s=i.K_.shift(),o=G_.from(s,e,t);await sA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await wm(i)}async function tD(i,e){e&&Ko(i).b_&&await async function(s,o){if(function(h){return PN(h)&&h!==le.ABORTED}(o.code)){const l=s.K_.shift();Ko(s).h_(),await sA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await wm(s)}}(i,e),aA(i)&&oA(i)}async function ib(i,e){const t=Ye(i);t.asyncQueue.verifyOperationInProgress(),Se(Hl,"RemoteStore received new credentials");const s=Gl(t);t.W_.add(3),await Xh(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Tm(t)}async function nD(i,e){const t=Ye(i);e?(t.W_.delete(2),await Tm(t)):e||(t.W_.add(2),await Xh(t),t.j_.set("Unknown"))}function mc(i){return i.J_||(i.J_=function(t,s,o){const l=Ye(t);return l.M_(),new zO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:GO.bind(null,i),No:KO.bind(null,i),Lo:QO.bind(null,i),p_:YO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),ny(i)?ty(i):i.j_.set("Unknown")):(await i.J_.stop(),rA(i))})),i.J_}function Ko(i){return i.Y_||(i.Y_=function(t,s,o){const l=Ye(t);return l.M_(),new BO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:ZO.bind(null,i),Lo:tD.bind(null,i),D_:JO.bind(null,i),v_:eD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await wm(i)):(await i.Y_.stop(),i.K_.length>0&&(Se(Hl,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,m=new iy(e,t,h,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(i,e){if(Da("AsyncQueue",`${e}: ${i}`),dc(i))return new Ce(le.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{static emptySet(e){return new Ju(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Pe.comparator(t.key,s.key):(t,s)=>Pe.comparator(t.key,s.key),this.keyedMap=vh(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ju)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ju;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.Z_=new Yt(Pe.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):qe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class sc{constructor(e,t,s,o,l,h,m,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new sc(e,t,Ju.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rD{constructor(){this.queries=sb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ye(t),l=o.queries;o.queries=sb(),l.forEach((h,m)=>{for(const g of m.ta)g.onError(s)})})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function sb(){return new $l(i=>xw(i),gm)}async function sy(i,e){const t=Ye(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new iD,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=ry(h,`Initialization of query '${$u(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&oy(t)}async function ay(i,e){const t=Ye(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function sD(i,e){const t=Ye(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&oy(t)}function aD(i,e,t){const s=Ye(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function oy(i){i.ia.forEach(e=>{e.next()})}var r_,ab;(ab=r_||(r_={}))._a="default",ab.Cache="cache";class ly{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new sc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==r_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class oD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ct(),this.mutatedKeys=ct(),this.ya=Iw(e),this.wa=new Ju(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new rb,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const x=o.get(E),V=_m(this.query,S)?S:null,j=!!x&&this.mutatedKeys.has(x.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;x&&V?x.data.isEqual(V.data)?j!==X&&(s.track({type:3,doc:V}),F=!0):this.va(x,V)||(s.track({type:2,doc:V}),F=!0,(g&&this.ya(V,g)>0||_&&this.ya(V,_)<0)&&(m=!0)):!x&&V?(s.track({type:0,doc:V}),F=!0):x&&!V&&(s.track({type:1,doc:x}),F=!0,(g||_)&&(m=!0)),F&&(V?(h=h.add(V),l=X?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(V,j){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return X(V)-X(j)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,_=g!==this.ga;return this.ga=g,h.length!==0||_?{snapshot:new sc(this.query,e.wa,l,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new rb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ct(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new uA(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new lA(s))}),t}Oa(e){this.fa=e.gs,this.pa=ct();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return sc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const uy="SyncEngine";class lD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uD{constructor(e){this.key=e,this.Ba=!1}}class cD{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new $l(m=>xw(m),gm),this.qa=new Map,this.Qa=new Set,this.$a=new Yt(Pe.comparator),this.Ka=new Map,this.Ua=new Y_,this.Wa={},this.Ga=new Map,this.za=rc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hD(i,e,t=!0){const s=pA(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await cA(s,e,t,!0),o}async function fD(i,e){const t=pA(i);await cA(t,e,!0,!1)}async function cA(i,e,t,s){const o=await DO(i.localStore,Ls(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await dD(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&nA(i.remoteStore,o),m}async function dD(i,e,t,s,o){i.Ha=(S,x,V)=>async function(X,F,z,te){let ne=F.view.Sa(z);ne.ls&&(ne=await ZE(X.localStore,F.query,!1).then(({documents:B})=>F.view.Sa(B,ne)));const _e=te&&te.targetChanges.get(F.targetId),Ee=te&&te.targetMismatches.get(F.targetId)!=null,Re=F.view.applyChanges(ne,X.isPrimaryClient,_e,Ee);return lb(X,F.targetId,Re.Ma),Re.snapshot}(i,S,x,V);const l=await ZE(i.localStore,e,!0),h=new oD(e,l.gs),m=h.Sa(l.documents),g=Wh.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),_=h.applyChanges(m,i.isPrimaryClient,g);lb(i,t,_.Ma);const E=new lD(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),_.snapshot}async function mD(i,e,t){const s=Ye(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!gm(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await n_(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&J_(s.remoteStore,o.targetId),s_(s,o.targetId)}).catch(fc)):(s_(s,o.targetId),await n_(s.localStore,o.targetId,!0))}async function pD(i,e){const t=Ye(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),J_(t.remoteStore,s.targetId))}async function gD(i,e,t){const s=wD(i);try{const o=await function(h,m){const g=Ye(h),_=Cn.now(),E=m.reduce((V,j)=>V.add(j.key),ct());let S,x;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>{let j=ka(),X=ct();return g.ds.getEntries(V,E).next(F=>{j=F,j.forEach((z,te)=>{te.isValidDocument()||(X=X.add(z))})}).next(()=>g.localDocuments.getOverlayedDocuments(V,j)).next(F=>{S=F;const z=[];for(const te of m){const ne=ON(te,S.get(te.key).overlayedDocument);ne!=null&&z.push(new Xo(te.key,ne,Ew(ne.value.mapValue),Nr.exists(!0)))}return g.mutationQueue.addMutationBatch(V,_,z,m)}).next(F=>{x=F;const z=F.applyToLocalDocumentSet(S,X);return g.documentOverlayCache.saveOverlays(V,F.batchId,z)})}).then(()=>({batchId:x.batchId,changes:Ow(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let _=h.Wa[h.currentUser.toKey()];_||(_=new Yt(mt)),_=_.insert(m,g),h.Wa[h.currentUser.toKey()]=_}(s,o.batchId,t),await Zh(s,o.changes),await wm(s.remoteStore)}catch(o){const l=ry(o,"Failed to persist write");t.reject(l)}}async function hA(i,e){const t=Ye(i);try{const s=await IO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(Rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Rt(h.Ba):o.removedDocuments.size>0&&(Rt(h.Ba),h.Ba=!1))}),await Zh(t,s,e)}catch(s){await fc(s)}}function ob(i,e,t){const s=Ye(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Ye(h);g.onlineState=m;let _=!1;g.queries.forEach((E,S)=>{for(const x of S.ta)x.sa(m)&&(_=!0)}),_&&oy(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _D(i,e,t){const s=Ye(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let h=new Yt(Pe.comparator);h=h.insert(l,hi.newNoDocument(l,Ge.min()));const m=ct().add(l),g=new Em(Ge.min(),new Map,new Yt(mt),h,m);await hA(s,g),s.$a=s.$a.remove(l),s.Ka.delete(e),cy(s)}else await n_(s.localStore,e,!1).then(()=>s_(s,e,t)).catch(fc)}async function yD(i,e){const t=Ye(i),s=e.batch.batchId;try{const o=await xO(t.localStore,e);dA(t,s,null),fA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Zh(t,o)}catch(o){await fc(o)}}async function vD(i,e,t){const s=Ye(i);try{const o=await function(h,m){const g=Ye(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,m).next(S=>(Rt(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(_,S))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(s.localStore,e);dA(s,e,t),fA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Zh(s,o)}catch(o){await fc(o)}}function fA(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function dA(i,e,t){const s=Ye(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function s_(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||mA(i,s)})}function mA(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(J_(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),cy(i))}function lb(i,e,t){for(const s of t)s instanceof lA?(i.Ua.addReference(s.key,e),ED(i,s)):s instanceof uA?(Se(uy,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||mA(i,s.key)):qe()}function ED(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(Se(uy,"New document in limbo: "+t),i.Qa.add(s),cy(i))}function cy(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Pe(Bt.fromString(e)),s=i.za.next();i.Ka.set(s,new uD(t)),i.$a=i.$a.insert(t,s),nA(i.remoteStore,new Vo(Ls(pm(t.path)),s,"TargetPurposeLimboResolution",fm.ae))}}async function Zh(i,e,t){const s=Ye(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{h.push(s.Ha(g,e,t).then(_=>{var E;if((_||t)&&s.isPrimaryClient){const S=_?!_.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){o.push(_);const S=X_.Yi(g.targetId,_);l.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(g,_){const E=Ye(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>oe.forEach(_,x=>oe.forEach(x.Hi,V=>E.persistence.referenceDelegate.addReference(S,x.targetId,V)).next(()=>oe.forEach(x.Ji,V=>E.persistence.referenceDelegate.removeReference(S,x.targetId,V)))))}catch(S){if(!dc(S))throw S;Se(Z_,"Failed to update sequence numbers: "+S)}for(const S of _){const x=S.targetId;if(!S.fromCache){const V=E.Ts.get(x),j=V.snapshotVersion,X=V.withLastLimboFreeSnapshotVersion(j);E.Ts=E.Ts.insert(x,X)}}}(s.localStore,l))}async function bD(i,e){const t=Ye(i);if(!t.currentUser.isEqual(e)){Se(uy,"User change. New user:",e.toKey());const s=await Zw(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(m=>{m.forEach(g=>{g.reject(new Ce(le.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zh(t,s.Rs)}}function TD(i,e){const t=Ye(i),s=t.Ka.get(e);if(s&&s.Ba)return ct().add(s.key);{let o=ct();const l=t.qa.get(e);if(!l)return o;for(const h of l){const m=t.ka.get(h);o=o.unionWith(m.view.ba)}return o}}function pA(i){const e=Ye(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_D.bind(null,e),e.La.p_=sD.bind(null,e.eventManager),e.La.Ja=aD.bind(null,e.eventManager),e}function wD(i){const e=Ye(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,e),e}class Gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return CO(this.persistence,new AO,e.initialUser,this.serializer)}Xa(e){return new Xw(W_.ri,this.serializer)}Za(e){return new MO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gd.provider={build:()=>new Gd};class AD extends Gd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Rt(this.persistence.referenceDelegate instanceof qd);const s=this.persistence.referenceDelegate.garbageCollector;return new uO(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Ui.withCacheSize(this.cacheSizeBytes):Ui.DEFAULT;return new Xw(s=>qd.ri(s,t),this.serializer)}}class a_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ob(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bD.bind(null,this.syncEngine),await nD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rD}()}createDatastore(e){const t=bm(e.databaseInfo.databaseId),s=function(l){return new jO(l)}(e.databaseInfo);return function(l,h,m,g){return new HO(l,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,m){return new $O(s,o,l,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ob(this.syncEngine,t,0),function(){return tb.D()?new tb:new LO}())}createSyncEngine(e,t){return function(o,l,h,m,g,_,E){const S=new cD(o,l,h,m,g,_);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ye(o);Se(Hl,"RemoteStore shutting down."),l.W_.add(5),await Xh(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}a_.provider={build:()=>new a_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Da("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="FirestoreClient";class SD{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=ci.UNAUTHENTICATED,this.clientId=cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{Se(Qo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(Se(Qo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ry(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function wg(i,e){i.asyncQueue.verifyOperationInProgress(),Se(Qo,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Zw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function ub(i,e){i.asyncQueue.verifyOperationInProgress();const t=await RD(i);Se(Qo,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>ib(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>ib(e.remoteStore,o)),i._onlineComponents=e}async function RD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Se(Qo,"Using user provided OfflineComponentProvider");try{await wg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ec("Error using user provided cache. Falling back to memory cache: "+t),await wg(i,new Gd)}}else Se(Qo,"Using default OfflineComponentProvider"),await wg(i,new AD(void 0));return i._offlineComponents}async function gA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Se(Qo,"Using user provided OnlineComponentProvider"),await ub(i,i._uninitializedComponentsProvider._online)):(Se(Qo,"Using default OnlineComponentProvider"),await ub(i,new a_))),i._onlineComponents}function CD(i){return gA(i).then(e=>e.syncEngine)}async function Kd(i){const e=await gA(i),t=e.eventManager;return t.onListen=hD.bind(null,e.syncEngine),t.onUnlisten=mD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pD.bind(null,e.syncEngine),t}function xD(i,e,t={}){const s=new Ca;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,g,_){const E=new hy({next:x=>{E.su(),h.enqueueAndForget(()=>ay(l,S));const V=x.docs.has(m);!V&&x.fromCache?_.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&g&&g.source==="server"?_.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new ly(pm(m.path),E,{includeMetadataChanges:!0,Ta:!0});return sy(l,S)}(await Kd(i),i.asyncQueue,e,t,s)),s.promise}function ID(i,e,t={}){const s=new Ca;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,g,_){const E=new hy({next:x=>{E.su(),h.enqueueAndForget(()=>ay(l,S)),x.fromCache&&g.source==="server"?_.reject(new Ce(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new ly(m,E,{includeMetadataChanges:!0,Ta:!0});return sy(l,S)}(await Kd(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(i,e,t){if(!t)throw new Ce(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ND(i,e,t,s){if(e===!0&&s===!0)throw new Ce(le.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hb(i){if(!Pe.isDocumentKey(i))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fb(i){if(Pe.isDocumentKey(i))throw new Ce(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Am(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":qe()}function Hi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Am(i);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firestore.googleapis.com",db=!0;class mb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vA,this.ssl=db}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:db;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ww;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oO)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ND("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_A((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new V2;switch(s.type){case"firstParty":return new B2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=cb.get(t);s&&(Se("ComponentProvider","Removing Datastore"),cb.delete(t),s.terminate())}(this),Promise.resolve()}}function OD(i,e,t,s={}){var o;const l=(i=Hi(i,Sm))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;l.host!==vA&&l.host!==m&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},l),{host:m,ssl:!1,emulatorOptions:s});if(!Ul(g,h)&&(i._setSettings(g),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=ci.MOCK_USER;else{_=mT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ci(S)}i._authCredentials=new U2(new uw(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Kl(this.firestore,e,this._query)}}class fi{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}}class Bo extends Kl{constructor(e,t,s){super(e,t,pm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new Pe(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function jh(i,e,...t){if(i=mn(i),yA("collection","path",e),i instanceof Sm){const s=Bt.fromString(e,...t);return fb(s),new Bo(i,null,s)}{if(!(i instanceof fi||i instanceof Bo))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Bt.fromString(e,...t));return fb(s),new Bo(i.firestore,null,s)}}function Us(i,e,...t){if(i=mn(i),arguments.length===1&&(e=cw.newId()),yA("doc","path",e),i instanceof Sm){const s=Bt.fromString(e,...t);return hb(s),new fi(i,null,new Pe(s))}{if(!(i instanceof fi||i instanceof Bo))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Bt.fromString(e,...t));return hb(s),new fi(i.firestore,i instanceof Bo?i.converter:null,new Pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="AsyncQueue";class gb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new eA(this,"async_queue_retry"),this.bu=()=>{const s=Tg();s&&Se(pb,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=Tg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Tg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ca;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!dc(e))throw e;Se(pb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Da("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=iy.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&qe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function _b(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(i,["next","error","complete"])}class Ma extends Sm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new gb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gb(e),this._firestoreClient=void 0,await e}}}function DD(i,e){const t=typeof i=="object"?i:R_(),s=typeof i=="string"?i:Ud,o=om(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=hT("firestore");l&&OD(o,...l)}return o}function Rm(i){if(i._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||kD(i),i._firestoreClient}function kD(i){var e,t,s;const o=i._freezeSettings(),l=function(m,g,_,E){return new tN(m,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,_A(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new SD(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(ni.fromBase64String(e))}catch(t){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ac(ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^__.*__$/;class LD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yh(e,this.data,t,this.fieldTransforms)}}class EA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class my{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new my(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(bA(this.Lu)&&MD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class PD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||bm(e)}ju(e,t,s,o=!1){return new my({Lu:e,methodName:t,zu:s,path:ti.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Im(i){const e=i._freezeSettings(),t=bm(i._databaseId);return new PD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function TA(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);gy("Data must be an object, but it was:",h,s);const m=wA(s,h);let g,_;if(l.merge)g=new ar(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const S of l.mergeFields){const x=o_(e,S,t);if(!h.contains(x))throw new Ce(le.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);SA(E,x)||E.push(x)}g=new ar(E),_=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,_=h.fieldTransforms;return new LD(new zi(m),g,_)}class Nm extends xm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nm}}class py extends xm{_toFieldTransform(e){return new CN(e.path,new Ph)}isEqual(e){return e instanceof py}}function VD(i,e,t,s){const o=i.ju(1,e,t);gy("Data must be an object, but it was:",o,s);const l=[],h=zi.empty();Wo(s,(g,_)=>{const E=_y(e,g,t);_=mn(_);const S=o.Ku(E);if(_ instanceof Nm)l.push(E);else{const x=Jh(_,S);x!=null&&(l.push(E),h.set(E,x))}});const m=new ar(l);return new EA(h,m,o.fieldTransforms)}function UD(i,e,t,s,o,l){const h=i.ju(1,e,t),m=[o_(e,s,t)],g=[o];if(l.length%2!=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)m.push(o_(e,l[x])),g.push(l[x+1]);const _=[],E=zi.empty();for(let x=m.length-1;x>=0;--x)if(!SA(_,m[x])){const V=m[x];let j=g[x];j=mn(j);const X=h.Ku(V);if(j instanceof Nm)_.push(V);else{const F=Jh(j,X);F!=null&&(_.push(V),E.set(V,F))}}const S=new ar(_);return new EA(E,S,h.fieldTransforms)}function jD(i,e,t,s=!1){return Jh(t,i.ju(s?4:3,e))}function Jh(i,e){if(AA(i=mn(i)))return gy("Unsupported field value:",e,i),wA(i,e);if(i instanceof xm)return function(s,o){if(!bA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const m of s){let g=Jh(m,o.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Cn.fromDate(s);return{timestampValue:Hd(o.serializer,l)}}if(s instanceof Cn){const l=new Cn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hd(o.serializer,l)}}if(s instanceof fy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ac)return{bytesValue:Hw(o.serializer,s._byteString)};if(s instanceof fi){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Q_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof dy)return function(h,m){return{mapValue:{fields:{[yw]:{stringValue:vw},[jd]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return q_(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Am(s)}`)}(i,e)}function wA(i,e){const t={};return fw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(i,(s,o)=>{const l=Jh(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function AA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Cn||i instanceof fy||i instanceof ac||i instanceof fi||i instanceof xm||i instanceof dy)}function gy(i,e,t){if(!AA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Am(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function o_(i,e,t){if((e=mn(e))instanceof Cm)return e._internalPath;if(typeof e=="string")return _y(i,e);throw Qd("Field path arguments must be of type string or ",i,!1,void 0,t)}const zD=new RegExp("[~\\*/\\[\\]]");function _y(i,e,t){if(e.search(zD)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Cm(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Qd(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new Ce(le.INVALID_ARGUMENT,m+i+g)}function SA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BD extends RA{data(){return super.data()}}function yy(i,e){return typeof e=="string"?_y(i,e):e instanceof Cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ce(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class FD extends vy{}function HD(i,e,...t){let s=[];e instanceof vy&&s.push(e),s=s.concat(t),function(l){const h=l.filter(g=>g instanceof Ey).length,m=l.filter(g=>g instanceof Om).length;if(h>1||h>0&&m>0)throw new Ce(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Om extends FD{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Om(e,t,s)}_apply(e){const t=this._parse(e);return xA(e._query,t),new Kl(e.firestore,e.converter,Wg(e._query,t))}_parse(e){const t=Im(e.firestore);return function(l,h,m,g,_,E,S){let x;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vb(S,E);const j=[];for(const X of S)j.push(yb(g,l,X));x={arrayValue:{values:j}}}else x=yb(g,l,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vb(S,E),x=jD(m,h,S,E==="in"||E==="not-in");return vn.create(_,E,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qD(i,e,t){const s=e,o=yy("where",i);return Om._create(o,s,t)}class Ey extends vy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ey(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:as.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const m=l.getFlattenedFilters();for(const g of m)xA(h,g),h=Wg(h,g)}(e._query,t),new Kl(e.firestore,e.converter,Wg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yb(i,e,t){if(typeof(t=mn(t))=="string"){if(t==="")throw new Ce(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(e)&&t.indexOf("/")!==-1)throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Bt.fromString(t));if(!Pe.isDocumentKey(s))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kE(i,new Pe(s))}if(t instanceof fi)return kE(i,t._key);throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(t)}.`)}function vb(i,e){if(!Array.isArray(i)||i.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(i,e){const t=function(o,l){for(const h of o)for(const m of h.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ce(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $D{convertValue(e,t="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Wo(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[jd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>dn(h.doubleValue));return new dy(l)}convertGeoPoint(e){return new fy(dn(e.latitude),dn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=mm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const t=qo(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Bt.fromString(e);Rt(Yw(s));const o=new Mh(s.get(1),s.get(3)),l=new Pe(s.popFirst(5));return o.isEqual(t)||Da(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NA extends RA{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(yy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Rd extends NA{data(e={}){return super.data(e)}}class OA{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Rd(this._firestore,this._userDataWriter,s.key,s,new bh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new Rd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const g=new Rd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:GD(m.type),doc:g,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(i){i=Hi(i,fi);const e=Hi(i.firestore,Ma);return xD(Rm(e),i._key).then(t=>DA(e,i,t))}class by extends $D{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}function Ty(i){i=Hi(i,Kl);const e=Hi(i.firestore,Ma),t=Rm(e),s=new by(e);return CA(i._query),ID(t,i._query).then(o=>new OA(e,s,i,o))}function KD(i,e,t){i=Hi(i,fi);const s=Hi(i.firestore,Ma),o=IA(i.converter,e);return km(s,[TA(Im(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Nr.none())])}function l_(i,e,t,...s){i=Hi(i,fi);const o=Hi(i.firestore,Ma),l=Im(o);let h;return h=typeof(e=mn(e))=="string"||e instanceof Cm?UD(l,"updateDoc",i._key,e,t,s):VD(l,"updateDoc",i._key,e),km(o,[h.toMutation(i._key,Nr.exists(!0))])}function QD(i){return km(Hi(i.firestore,Ma),[new $_(i._key,Nr.none())])}function YD(i,e){const t=Hi(i.firestore,Ma),s=Us(i),o=IA(i.converter,e);return km(t,[TA(Im(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Nr.exists(!1))]).then(()=>s)}function WD(i,...e){var t,s,o;i=mn(i);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||_b(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(_b(e[h])){const S=e[h];e[h]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[h+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let g,_,E;if(i instanceof fi)_=Hi(i.firestore,Ma),E=pm(i._key.path),g={next:S=>{e[h]&&e[h](DA(_,i,S))},error:e[h+1],complete:e[h+2]};else{const S=Hi(i,Kl);_=Hi(S.firestore,Ma),E=S._query;const x=new by(_);g={next:V=>{e[h]&&e[h](new OA(_,x,S,V))},error:e[h+1],complete:e[h+2]},CA(i._query)}return function(x,V,j,X){const F=new hy(X),z=new ly(V,F,j);return x.asyncQueue.enqueueAndForget(async()=>sy(await Kd(x),z)),()=>{F.su(),x.asyncQueue.enqueueAndForget(async()=>ay(await Kd(x),z))}}(Rm(_),E,m,g)}function km(i,e){return function(s,o){const l=new Ca;return s.asyncQueue.enqueueAndForget(async()=>gD(await CD(s),o,l)),l.promise}(Rm(i),e)}function DA(i,e,t){const s=t.docs.get(e._key),o=new by(i);return new NA(i,o,e._key,s,new bh(t.hasPendingWrites,t.fromCache),e.converter)}function XD(){return new py("serverTimestamp")}(function(e,t=!0){(function(o){hc=o})(ql),jl(new Fo("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new Ma(new j2(s.getProvider("auth-internal")),new F2(h,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(_.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Ds(TE,wE,e),Ds(TE,wE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebasestorage.googleapis.com",ZD="storageBucket",JD=2*60*1e3,ek=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Bs{constructor(e,t,s=0){super(Ag(e),`Firebase Storage: ${t} (${Ag(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var js;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(js||(js={}));function Ag(i){return"storage/"+i}function tk(){const i="An unknown error occurred, please check the error payload for server response.";return new Fs(js.UNKNOWN,i)}function nk(){return new Fs(js.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ik(){return new Fs(js.CANCELED,"User canceled the upload/download.")}function rk(i){return new Fs(js.INVALID_URL,"Invalid URL '"+i+"'.")}function sk(i){return new Fs(js.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Eb(i){return new Fs(js.INVALID_ARGUMENT,i)}function MA(){return new Fs(js.APP_DELETED,"The Firebase app was deleted.")}function ak(i){return new Fs(js.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=is.makeFromUrl(e,t)}catch{return new is(e,"")}if(s.path==="")return s;throw sk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(_e){_e.path.charAt(_e.path.length-1)==="/"&&(_e.path_=_e.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function _(_e){_e.path_=decodeURIComponent(_e.path)}const E="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",V=new RegExp(`^https?://${S}/${E}/b/${o}/o${x}`,"i"),j={bucket:1,path:3},X=t===kA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,F="([^?#]*)",z=new RegExp(`^https?://${X}/${o}/${F}`,"i"),ne=[{regex:m,indices:g,postModify:l},{regex:V,indices:j,postModify:_},{regex:z,indices:{bucket:1,path:2},postModify:_}];for(let _e=0;_e<ne.length;_e++){const Ee=ne[_e],Re=Ee.regex.exec(e);if(Re){const B=Re[Ee.indices.bucket];let M=Re[Ee.indices.path];M||(M=""),s=new is(B,M),Ee.postModify(s);break}}if(s==null)throw rk(e);return s}}class ok{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(i,e,t){let s=1,o=null,l=null,h=!1,m=0;function g(){return m===2}let _=!1;function E(...F){_||(_=!0,e.apply(null,F))}function S(F){o=setTimeout(()=>{o=null,i(V,g())},F)}function x(){l&&clearTimeout(l)}function V(F,...z){if(_){x();return}if(F){x(),E.call(null,F,...z);return}if(g()||h){x(),E.call(null,F,...z);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,S(ne)}let j=!1;function X(F){j||(j=!0,x(),!_&&(o!==null?(F||(m=2),clearTimeout(o),S(0)):F||(m=1)))}return S(0),l=setTimeout(()=>{h=!0,X(!0)},t),X}function uk(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(i){return i!==void 0}function bb(i,e,t,s){if(s<e)throw Eb(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Eb(`Invalid value for '${i}'. Expected ${t} or less.`)}function hk(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Yd;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Yd||(Yd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,s,o,l,h,m,g,_,E,S,x=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=S,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,j)=>{this.resolve_=V,this.reject_=j,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new fd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=m=>{const g=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const m=l.getErrorCode()===Yd.NO_ERROR,g=l.getStatus();if(!m||fk(g,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===Yd.ABORT;s(!1,new fd(!1,null,E));return}const _=this.successCodes_.indexOf(g)!==-1;s(!0,new fd(_,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());ck(g)?l(g):l()}catch(g){h(g)}else if(m!==null){const g=tk();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?MA():ik();h(g)}else{const g=nk();h(g)}};this.canceled_?t(!1,new fd(!1,null,!0)):this.backoffId_=lk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fd{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function mk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function pk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function _k(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function yk(i,e,t,s,o,l,h=!0){const m=hk(i.urlParams),g=i.url+m,_=Object.assign({},i.headers);return gk(_,e),mk(_,t),pk(_,l),_k(_,s),new dk(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Ek(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this._service=e,t instanceof is?this._location=t:this._location=is.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wd(e,t)}get root(){const e=new is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ek(this._location.path)}get storage(){return this._service}get parent(){const e=vk(this._location.path);if(e===null)return null;const t=new is(this._location.bucket,e);return new Wd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ak(e)}}function Tb(i,e){const t=e==null?void 0:e[ZD];return t==null?null:is.makeFromBucketSpec(t,i)}function bk(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:mT(o,i.app.options.projectId))}class Tk{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=kA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JD,this._maxUploadRetryTime=ek,this._requests=new Set,o!=null?this._bucket=is.makeFromBucketSpec(o,this._host):this._bucket=Tb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=is.makeFromBucketSpec(this._url,e):this._bucket=Tb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wd(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new ok(MA());{const h=yk(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const wb="@firebase/storage",Ab="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="storage";function wk(i=R_(),e){i=mn(i);const s=om(i,LA).getImmediate({identifier:e}),o=hT("storage");return o&&Ak(s,...o),s}function Ak(i,e,t,s={}){bk(i,e,t,s)}function Sk(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Tk(t,s,o,e,ql)}function Rk(){jl(new Fo(LA,Sk,"PUBLIC").setMultipleInstances(!0)),Ds(wb,Ab,""),Ds(wb,Ab,"esm2017")}Rk();const Ck={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},wy=_T(Ck),Aa=hm(wy),Fi=DD(wy);wk(wy);(async()=>{try{await GT(Aa,L_)}catch(i){console.error("❌ Error setting auth persistence:",i)}})();const Sb=({children:i,requiredRoles:e})=>{const[t,s]=k.useState(null),[o,l]=k.useState(!0),[h,m]=k.useState(null);return k.useEffect(()=>{const g=Aa.onAuthStateChanged(async _=>{if(_){m(_);try{const E=await Dm(Us(Fi,"Users",_.uid));E.exists()?s(E.data().role):s(null)}catch(E){console.error("Error fetching user role:",E),s(null)}}else m(null),s(null);l(!1)});return()=>g()},[]),o?w.jsx("div",{className:"h-screen flex items-center justify-center",children:"Loading...."}):!h||!e.includes(t)?w.jsx(Lg,{to:"/",replace:!0}):i},u_="/cargofran/assets/logo-6SCz_op0.png";var Sg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Rb;function xk(){return Rb||(Rb=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var m in l)e.call(l,m)&&l[m]&&(h=o(h,m));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(Sg)),Sg.exports}var Ik=xk();const Mt=nm(Ik);function Nk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function c_(i,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},c_(i,e)}function Ok(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,c_(i,e)}const Dk=["xxl","xl","lg","md","sm","xs"],kk="xs",ef=k.createContext({prefixes:{},breakpoints:Dk,minBreakpoint:kk}),{Consumer:GL,Provider:KL}=ef;function En(i,e){const{prefixes:t}=k.useContext(ef);return i||t[e]||e}function Mk(){const{breakpoints:i}=k.useContext(ef);return i}function Lk(){const{minBreakpoint:i}=k.useContext(ef);return i}function Pk(){const{dir:i}=k.useContext(ef);return i==="rtl"}function Mm(i){return i&&i.ownerDocument||document}function Vk(i){var e=Mm(i);return e&&e.defaultView||window}function Uk(i,e){return Vk(i).getComputedStyle(i,e)}var jk=/([A-Z])/g;function zk(i){return i.replace(jk,"-$1").toLowerCase()}var Bk=/^ms-/;function dd(i){return zk(i).replace(Bk,"-ms-")}var Fk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Hk(i){return!!(i&&Fk.test(i))}function Vl(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(dd(e))||Uk(i).getPropertyValue(dd(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(dd(o)):Hk(o)?s+=o+"("+l+") ":t+=dd(o)+": "+l+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}var Rg={exports:{}},Cg,Cb;function qk(){if(Cb)return Cg;Cb=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cg=i,Cg}var xg,xb;function $k(){if(xb)return xg;xb=1;var i=qk();function e(){}function t(){}return t.resetWarningCache=e,xg=function(){function s(h,m,g,_,E,S){if(S!==i){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},xg}var Ib;function Gk(){return Ib||(Ib=1,Rg.exports=$k()()),Rg.exports}var Kk=Gk();const xa=nm(Kk),Nb={disabled:!1},PA=Bi.createContext(null);var Qk=function(e){return e.scrollTop},Th="unmounted",kl="exited",Do="entering",Ml="entered",h_="exiting",ja=function(i){Ok(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,g;return l.appearStatus=null,s.in?m?(g=kl,l.appearStatus=Do):g=Ml:s.unmountOnExit||s.mountOnEnter?g=Th:g=kl,l.state={status:g},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===Th?{status:kl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Do&&h!==Ml&&(l=Do):(h===Do||h===Ml)&&(l=h_)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,l,h,m;return l=h=m=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:m}},t.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===Do){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Qu.findDOMNode(this);h&&Qk(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kl&&this.setState({status:Th})},t.performEnter=function(o){var l=this,h=this.props.enter,m=this.context?this.context.isMounting:o,g=this.props.nodeRef?[m]:[Qu.findDOMNode(this),m],_=g[0],E=g[1],S=this.getTimeouts(),x=m?S.appear:S.enter;if(!o&&!h||Nb.disabled){this.safeSetState({status:Ml},function(){l.props.onEntered(_)});return}this.props.onEnter(_,E),this.safeSetState({status:Do},function(){l.props.onEntering(_,E),l.onTransitionEnd(x,function(){l.safeSetState({status:Ml},function(){l.props.onEntered(_,E)})})})},t.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:Qu.findDOMNode(this);if(!l||Nb.disabled){this.safeSetState({status:kl},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:h_},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:kl},function(){o.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},t.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,l.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:Qu.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],_=g[0],E=g[1];this.props.addEndListener(_,E)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===Th)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var m=Nk(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bi.createElement(PA.Provider,{value:null},typeof h=="function"?h(o,m):Bi.cloneElement(Bi.Children.only(h),m))},e}(Bi.Component);ja.contextType=PA;ja.propTypes={};function Bu(){}ja.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bu,onEntering:Bu,onEntered:Bu,onExit:Bu,onExiting:Bu,onExited:Bu};ja.UNMOUNTED=Th;ja.EXITED=kl;ja.ENTERING=Do;ja.ENTERED=Ml;ja.EXITING=h_;function Yk(i){return i.code==="Escape"||i.keyCode===27}function Wk(){const i=k.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Lm(i){if(!i||typeof i=="function")return null;const{major:e}=Wk();return e>=19?i.props.ref:i.ref}const pc=!!(typeof window<"u"&&window.document&&window.document.createElement);var f_=!1,d_=!1;try{var Ig={get passive(){return f_=!0},get once(){return d_=f_=!0}};pc&&(window.addEventListener("test",Ig,Ig),window.removeEventListener("test",Ig,!0))}catch{}function VA(i,e,t,s){if(s&&typeof s!="boolean"&&!d_){var o=s.once,l=s.capture,h=t;!d_&&o&&(h=t.__once||function m(g){this.removeEventListener(e,m,l),t.call(this,g)},t.__once=h),i.addEventListener(e,h,f_?s:l)}i.addEventListener(e,t,s)}function m_(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}function Xd(i,e,t,s){return VA(i,e,t,s),function(){m_(i,e,t,s)}}function Xk(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function Zk(i){var e=Vl(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Jk(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||Xk(i,"transitionend",!0)},e+t),l=Xd(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function UA(i,e,t,s){t==null&&(t=Zk(i)||0);var o=Jk(i,t,s),l=Xd(i,"transitionend",e);return function(){o(),l()}}function Ob(i,e){const t=Vl(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function eM(i,e){const t=Ob(i,"transitionDuration"),s=Ob(i,"transitionDelay"),o=UA(i,l=>{l.target===i&&(o(),e(l))},t+s)}function tM(i){i.offsetHeight}const Db=i=>!i||typeof i=="function"?i:e=>{i.current=e};function nM(i,e){const t=Db(i),s=Db(e);return o=>{t&&t(o),s&&s(o)}}function jA(i,e){return k.useMemo(()=>nM(i,e),[i,e])}function iM(i){return i&&"setState"in i?Qu.findDOMNode(i):i??null}const rM=Bi.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:m,childRef:g,..._},E)=>{const S=k.useRef(null),x=jA(S,g),V=Re=>{x(iM(Re))},j=Re=>B=>{Re&&S.current&&Re(S.current,B)},X=k.useCallback(j(i),[i]),F=k.useCallback(j(e),[e]),z=k.useCallback(j(t),[t]),te=k.useCallback(j(s),[s]),ne=k.useCallback(j(o),[o]),_e=k.useCallback(j(l),[l]),Ee=k.useCallback(j(h),[h]);return w.jsx(ja,{ref:E,..._,onEnter:X,onEntered:z,onEntering:F,onExit:te,onExited:_e,onExiting:ne,addEndListener:Ee,nodeRef:S,children:typeof m=="function"?(Re,B)=>m(Re,{...B,ref:V}):Bi.cloneElement(m,{ref:V})})});function sM(i){const e=k.useRef(i);return k.useEffect(()=>{e.current=i},[i]),e}function p_(i){const e=sM(i);return k.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const aM=i=>k.forwardRef((e,t)=>w.jsx("div",{...e,ref:t,className:Mt(e.className,i)}));function oM(i){const e=k.useRef(i);return k.useEffect(()=>{e.current=i},[i]),e}function Ll(i){const e=oM(i);return k.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function lM(){const i=k.useRef(!0),e=k.useRef(()=>i.current);return k.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function uM(i){const e=k.useRef(null);return k.useEffect(()=>{e.current=i}),e.current}const cM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",hM=typeof document<"u",kb=hM||cM?k.useLayoutEffect:k.useEffect,fM=["as","disabled"];function dM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function mM(i){return!i||i.trim()==="#"}function zA({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:h,tabIndex:m=0,type:g}){i||(t!=null||s!=null||o!=null?i="a":i="button");const _={tagName:i};if(i==="button")return[{type:g||"button",disabled:e},_];const E=x=>{if((e||i==="a"&&mM(t))&&x.preventDefault(),e){x.stopPropagation();return}h==null||h(x)},S=x=>{x.key===" "&&(x.preventDefault(),E(x))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:S},_]}const pM=k.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=dM(i,fM);const[l,{tagName:h}]=zA(Object.assign({tagName:t,disabled:s},o));return w.jsx(h,Object.assign({},o,l,{ref:e}))});pM.displayName="Button";const gM={[Do]:"show",[Ml]:"show"},Ay=k.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=k.useCallback((g,_)=>{tM(g),s==null||s(g,_)},[s]);return w.jsx(rM,{ref:l,addEndListener:eM,...h,onEnter:m,childRef:Lm(e),children:(g,_)=>k.cloneElement(e,{..._,className:Mt("fade",i,e.props.className,gM[g],t[g])})})});Ay.displayName="Fade";const _M={"aria-label":xa.string,onClick:xa.func,variant:xa.oneOf(["white"])},Sy=k.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>w.jsx("button",{ref:o,type:"button",className:Mt("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));Sy.displayName="CloseButton";Sy.propTypes=_M;const ji=k.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:h,...m},g)=>{const _=En(e,"btn"),[E,{tagName:S}]=zA({tagName:i,disabled:l,...m}),x=S;return w.jsx(x,{...E,...m,ref:g,disabled:l,className:Mt(h,_,o&&"active",t&&`${_}-${t}`,s&&`${_}-${s}`,m.href&&l&&"disabled")})});ji.displayName="Button";function yM(i){const e=k.useRef(i);return e.current=i,e}function vM(i){const e=yM(i);k.useEffect(()=>()=>e.current(),[])}function EM(i,e){return k.Children.toArray(i).some(t=>k.isValidElement(t)&&t.type===e)}function bM({as:i,bsPrefix:e,className:t,...s}){e=En(e,"col");const o=Mk(),l=Lk(),h=[],m=[];return o.forEach(g=>{const _=s[g];delete s[g];let E,S,x;typeof _=="object"&&_!=null?{span:E,offset:S,order:x}=_:E=_;const V=g!==l?`-${g}`:"";E&&h.push(E===!0?`${e}${V}`:`${e}${V}-${E}`),x!=null&&m.push(`order${V}-${x}`),S!=null&&m.push(`offset${V}-${S}`)}),[{...s,className:Mt(t,...h,...m)},{as:i,bsPrefix:e,spans:h}]}const BA=k.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:l,spans:h}]=bM(i);return w.jsx(o,{...s,ref:e,className:Mt(t,!h.length&&l)})});BA.displayName="Col";var TM=Function.prototype.bind.call(Function.prototype.call,[].slice);function Fu(i,e){return TM(i.querySelectorAll(e))}function Mb(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const wM="data-rr-ui-";function AM(i){return`${wM}${i}`}const FA=k.createContext(pc?window:void 0);FA.Provider;function Ry(){return k.useContext(FA)}const SM={type:xa.string,tooltip:xa.bool,as:xa.elementType},Pm=k.forwardRef(({as:i="div",className:e,type:t="valid",tooltip:s=!1,...o},l)=>w.jsx(i,{...o,ref:l,className:Mt(e,`${t}-${s?"tooltip":"feedback"}`)}));Pm.displayName="Feedback";Pm.propTypes=SM;const La=k.createContext({}),Cy=k.forwardRef(({id:i,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...m},g)=>{const{controlId:_}=k.useContext(La);return e=En(e,"form-check-input"),w.jsx(h,{...m,ref:g,type:s,id:i||_,className:Mt(t,e,o&&"is-valid",l&&"is-invalid")})});Cy.displayName="FormCheckInput";const Zd=k.forwardRef(({bsPrefix:i,className:e,htmlFor:t,...s},o)=>{const{controlId:l}=k.useContext(La);return i=En(i,"form-check-label"),w.jsx("label",{...s,ref:o,htmlFor:t||l,className:Mt(e,i)})});Zd.displayName="FormCheckLabel";const HA=k.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:g=!1,feedback:_,feedbackType:E,className:S,style:x,title:V="",type:j="checkbox",label:X,children:F,as:z="input",...te},ne)=>{e=En(e,"form-check"),t=En(t,"form-switch");const{controlId:_e}=k.useContext(La),Ee=k.useMemo(()=>({controlId:i||_e}),[_e,i]),Re=!F&&X!=null&&X!==!1||EM(F,Zd),B=w.jsx(Cy,{...te,type:j==="switch"?"checkbox":j,ref:ne,isValid:h,isInvalid:m,disabled:l,as:z});return w.jsx(La.Provider,{value:Ee,children:w.jsx("div",{style:x,className:Mt(S,Re&&e,s&&`${e}-inline`,o&&`${e}-reverse`,j==="switch"&&t),children:F||w.jsxs(w.Fragment,{children:[B,Re&&w.jsx(Zd,{title:V,children:X}),_&&w.jsx(Pm,{type:E,tooltip:g,children:_})]})})})});HA.displayName="FormCheck";const Jd=Object.assign(HA,{Input:Cy,Label:Zd}),qA=k.forwardRef(({bsPrefix:i,type:e,size:t,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:m=!1,plaintext:g,readOnly:_,as:E="input",...S},x)=>{const{controlId:V}=k.useContext(La);return i=En(i,"form-control"),w.jsx(E,{...S,type:e,size:s,ref:x,readOnly:_,id:o||V,className:Mt(l,g?`${i}-plaintext`:i,t&&`${i}-${t}`,e==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});qA.displayName="FormControl";const RM=Object.assign(qA,{Feedback:Pm}),$A=k.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=En(e,"form-floating"),w.jsx(t,{ref:o,className:Mt(i,e),...s})));$A.displayName="FormFloating";const xy=k.forwardRef(({controlId:i,as:e="div",...t},s)=>{const o=k.useMemo(()=>({controlId:i}),[i]);return w.jsx(La.Provider,{value:o,children:w.jsx(e,{...t,ref:s})})});xy.displayName="FormGroup";const GA=k.forwardRef(({as:i="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},m)=>{const{controlId:g}=k.useContext(La);e=En(e,"form-label");let _="col-form-label";typeof t=="string"&&(_=`${_} ${_}-${t}`);const E=Mt(o,e,s&&"visually-hidden",t&&_);return l=l||g,t?w.jsx(BA,{ref:m,as:"label",className:E,htmlFor:l,...h}):w.jsx(i,{ref:m,className:E,htmlFor:l,...h})});GA.displayName="FormLabel";const KA=k.forwardRef(({bsPrefix:i,className:e,id:t,...s},o)=>{const{controlId:l}=k.useContext(La);return i=En(i,"form-range"),w.jsx("input",{...s,type:"range",ref:o,className:Mt(e,i),id:t||l})});KA.displayName="FormRange";const QA=k.forwardRef(({bsPrefix:i,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...m},g)=>{const{controlId:_}=k.useContext(La);return i=En(i,"form-select"),w.jsx("select",{...m,size:t,ref:g,className:Mt(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:h||_})});QA.displayName="FormSelect";const YA=k.forwardRef(({bsPrefix:i,className:e,as:t="small",muted:s,...o},l)=>(i=En(i,"form-text"),w.jsx(t,{...o,ref:l,className:Mt(e,i,s&&"text-muted")})));YA.displayName="FormText";const WA=k.forwardRef((i,e)=>w.jsx(Jd,{...i,ref:e,type:"switch"}));WA.displayName="Switch";const CM=Object.assign(WA,{Input:Jd.Input,Label:Jd.Label}),XA=k.forwardRef(({bsPrefix:i,className:e,children:t,controlId:s,label:o,...l},h)=>(i=En(i,"form-floating"),w.jsxs(xy,{ref:h,className:Mt(e,i),controlId:s,...l,children:[t,w.jsx("label",{htmlFor:s,children:o})]})));XA.displayName="FloatingLabel";const xM={_ref:xa.any,validated:xa.bool,as:xa.elementType},Iy=k.forwardRef(({className:i,validated:e,as:t="form",...s},o)=>w.jsx(t,{...s,ref:o,className:Mt(i,e&&"was-validated")}));Iy.displayName="Form";Iy.propTypes=xM;const Xe=Object.assign(Iy,{Group:xy,Control:RM,Floating:$A,Check:Jd,Switch:CM,Label:GA,Text:YA,Range:KA,Select:QA,FloatingLabel:XA}),Lb=i=>!i||typeof i=="function"?i:e=>{i.current=e};function IM(i,e){const t=Lb(i),s=Lb(e);return o=>{t&&t(o),s&&s(o)}}function Ny(i,e){return k.useMemo(()=>IM(i,e),[i,e])}var md;function Pb(i){if((!md&&md!==0||i)&&pc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),md=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return md}function NM(){return k.useState(null)}function Ng(i){i===void 0&&(i=Mm());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function OM(i){const e=k.useRef(i);return e.current=i,e}function DM(i){const e=OM(i);k.useEffect(()=>()=>e.current(),[])}function kM(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const Vb=AM("modal-open");class Oy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return kM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(Vl(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(Vb,""),Vl(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Vb),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Og=(i,e)=>pc?i==null?(e||Mm()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function MM(i,e){const t=Ry(),[s,o]=k.useState(()=>Og(i,t==null?void 0:t.document));if(!s){const l=Og(i);l&&o(l)}return k.useEffect(()=>{},[e,s]),k.useEffect(()=>{const l=Og(i);l!==s&&o(l)},[i,s]),s}function LM({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const l=k.useRef(null),h=k.useRef(e),m=Ll(t);k.useEffect(()=>{e?h.current=!0:m(l.current)},[e,m]);const g=Ny(l,Lm(i)),_=k.cloneElement(i,{ref:g});return e?_:o||!h.current&&s?null:_}const PM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function VM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function UM(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:m,children:g}=i,_=VM(i,PM);const E=k.useRef(null),S=Ny(E,Lm(g)),x=_e=>Ee=>{_e&&E.current&&_e(E.current,Ee)},V=k.useCallback(x(e),[e]),j=k.useCallback(x(t),[t]),X=k.useCallback(x(s),[s]),F=k.useCallback(x(o),[o]),z=k.useCallback(x(l),[l]),te=k.useCallback(x(h),[h]),ne=k.useCallback(x(m),[m]);return Object.assign({},_,{nodeRef:E},e&&{onEnter:V},t&&{onEntering:j},s&&{onEntered:X},o&&{onExit:F},l&&{onExiting:z},h&&{onExited:te},m&&{addEndListener:ne},{children:typeof g=="function"?(_e,Ee)=>g(_e,Object.assign({},Ee,{ref:S})):k.cloneElement(g,{ref:S})})}const jM=["component"];function zM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const BM=k.forwardRef((i,e)=>{let{component:t}=i,s=zM(i,jM);const o=UM(s);return w.jsx(t,Object.assign({ref:e},o))});function FM({in:i,onTransition:e}){const t=k.useRef(null),s=k.useRef(!0),o=Ll(e);return kb(()=>{if(!t.current)return;let l=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),kb(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function HM({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[l,h]=k.useState(!e);e&&l&&h(!1);const m=FM({in:!!e,onTransition:_=>{const E=()=>{_.isStale()||(_.in?s==null||s(_.element,_.initial):(h(!0),t==null||t(_.element)))};Promise.resolve(o(_)).then(E,S=>{throw _.in||h(!0),S})}}),g=Ny(m,Lm(i));return l&&!e?null:k.cloneElement(i,{ref:g})}function Ub(i,e,t){return i?w.jsx(BM,Object.assign({},t,{component:i})):e?w.jsx(HM,Object.assign({},t,{transition:e})):w.jsx(LM,Object.assign({},t))}const qM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function $M(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let Dg;function GM(i){return Dg||(Dg=new Oy({ownerDocument:i==null?void 0:i.document})),Dg}function KM(i){const e=Ry(),t=i||GM(e),s=k.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:k.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:k.useCallback(o=>{s.current.backdrop=o},[])})}const ZA=k.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:l,children:h,backdrop:m=!0,keyboard:g=!0,onBackdropClick:_,onEscapeKeyDown:E,transition:S,runTransition:x,backdropTransition:V,runBackdropTransition:j,autoFocus:X=!0,enforceFocus:F=!0,restoreFocus:z=!0,restoreFocusOptions:te,renderDialog:ne,renderBackdrop:_e=Je=>w.jsx("div",Object.assign({},Je)),manager:Ee,container:Re,onShow:B,onHide:M=()=>{},onExit:D,onExited:P,onExiting:U,onEnter:$,onEntering:O,onEntered:ke}=i,Ie=$M(i,qM);const ce=Ry(),we=MM(Re),Te=KM(Ee),it=lM(),N=uM(t),[ue,Ae]=k.useState(!t),be=k.useRef(null);k.useImperativeHandle(e,()=>Te,[Te]),pc&&!N&&t&&(be.current=Ng(ce==null?void 0:ce.document)),t&&ue&&Ae(!1);const ye=Ll(()=>{if(Te.add(),Ze.current=Xd(document,"keydown",ge),yt.current=Xd(document,"focus",()=>setTimeout(De),!0),B&&B(),X){var Je,on;const qi=Ng((Je=(on=Te.dialog)==null?void 0:on.ownerDocument)!=null?Je:ce==null?void 0:ce.document);Te.dialog&&qi&&!Mb(Te.dialog,qi)&&(be.current=qi,Te.dialog.focus())}}),Ue=Ll(()=>{if(Te.remove(),Ze.current==null||Ze.current(),yt.current==null||yt.current(),z){var Je;(Je=be.current)==null||Je.focus==null||Je.focus(te),be.current=null}});k.useEffect(()=>{!t||!we||ye()},[t,we,ye]),k.useEffect(()=>{ue&&Ue()},[ue,Ue]),DM(()=>{Ue()});const De=Ll(()=>{if(!F||!it()||!Te.isTopModal())return;const Je=Ng(ce==null?void 0:ce.document);Te.dialog&&Je&&!Mb(Te.dialog,Je)&&Te.dialog.focus()}),Ct=Ll(Je=>{Je.target===Je.currentTarget&&(_==null||_(Je),m===!0&&M())}),ge=Ll(Je=>{g&&Yk(Je)&&Te.isTopModal()&&(E==null||E(Je),Je.defaultPrevented||M())}),yt=k.useRef(),Ze=k.useRef(),Wt=(...Je)=>{Ae(!0),P==null||P(...Je)};if(!we)return null;const In=Object.assign({role:s,ref:Te.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ie,{style:l,className:o,tabIndex:-1});let Ft=ne?ne(In):w.jsx("div",Object.assign({},In,{children:k.cloneElement(h,{role:"document"})}));Ft=Ub(S,x,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:D,onExiting:U,onExited:Wt,onEnter:$,onEntering:O,onEntered:ke,children:Ft});let Nn=null;return m&&(Nn=_e({ref:Te.setBackdropRef,onClick:Ct}),Nn=Ub(V,j,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Nn})),w.jsx(w.Fragment,{children:Qu.createPortal(w.jsxs(w.Fragment,{children:[Nn,Ft]}),we)})});ZA.displayName="Modal";const QM=Object.assign(ZA,{Manager:Oy});function YM(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function WM(i,e){i.classList?i.classList.add(e):YM(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function jb(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function XM(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=jb(i.className,e):i.setAttribute("class",jb(i.className&&i.className.baseVal||"",e))}const Hu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ZM extends Oy{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,Vl(t,{[e]:`${parseFloat(Vl(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],Vl(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(WM(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Fu(t,Hu.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),Fu(t,Hu.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),Fu(t,Hu.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();XM(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Fu(t,Hu.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Fu(t,Hu.STICKY_CONTENT).forEach(l=>this.restore(o,l)),Fu(t,Hu.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let kg;function JM(i){return kg||(kg=new ZM(i)),kg}const JA=k.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=En(e,"modal-body"),w.jsx(t,{ref:o,className:Mt(i,e),...s})));JA.displayName="ModalBody";const eS=k.createContext({onHide(){}}),Dy=k.forwardRef(({bsPrefix:i,className:e,contentClassName:t,centered:s,size:o,fullscreen:l,children:h,scrollable:m,...g},_)=>{i=En(i,"modal");const E=`${i}-dialog`,S=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return w.jsx("div",{...g,ref:_,className:Mt(E,e,o&&`${i}-${o}`,s&&`${E}-centered`,m&&`${E}-scrollable`,l&&S),children:w.jsx("div",{className:Mt(`${i}-content`,t),children:h})})});Dy.displayName="ModalDialog";const tS=k.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=En(e,"modal-footer"),w.jsx(t,{ref:o,className:Mt(i,e),...s})));tS.displayName="ModalFooter";const eL=k.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...l},h)=>{const m=k.useContext(eS),g=p_(()=>{m==null||m.onHide(),s==null||s()});return w.jsxs("div",{ref:h,...l,children:[o,t&&w.jsx(Sy,{"aria-label":i,variant:e,onClick:g})]})}),nS=k.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=En(i,"modal-header"),w.jsx(eL,{ref:l,...o,className:Mt(e,i),closeLabel:t,closeButton:s})));nS.displayName="ModalHeader";const tL=aM("h4"),iS=k.forwardRef(({className:i,bsPrefix:e,as:t=tL,...s},o)=>(e=En(e,"modal-title"),w.jsx(t,{ref:o,className:Mt(i,e),...s})));iS.displayName="ModalTitle";function nL(i){return w.jsx(Ay,{...i,timeout:null})}function iL(i){return w.jsx(Ay,{...i,timeout:null})}const rS=k.forwardRef(({bsPrefix:i,className:e,style:t,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=Dy,"data-bs-theme":m,"aria-labelledby":g,"aria-describedby":_,"aria-label":E,show:S=!1,animation:x=!0,backdrop:V=!0,keyboard:j=!0,onEscapeKeyDown:X,onShow:F,onHide:z,container:te,autoFocus:ne=!0,enforceFocus:_e=!0,restoreFocus:Ee=!0,restoreFocusOptions:Re,onEntered:B,onExit:M,onExiting:D,onEnter:P,onEntering:U,onExited:$,backdropClassName:O,manager:ke,...Ie},ce)=>{const[we,Te]=k.useState({}),[it,N]=k.useState(!1),ue=k.useRef(!1),Ae=k.useRef(!1),be=k.useRef(null),[ye,Ue]=NM(),De=jA(ce,Ue),Ct=p_(z),ge=Pk();i=En(i,"modal");const yt=k.useMemo(()=>({onHide:Ct}),[Ct]);function Ze(){return ke||JM({isRTL:ge})}function Wt(Ve){if(!pc)return;const Tt=Ze().getScrollbarWidth()>0,bn=Ve.scrollHeight>Mm(Ve).documentElement.clientHeight;Te({paddingRight:Tt&&!bn?Pb():void 0,paddingLeft:!Tt&&bn?Pb():void 0})}const In=p_(()=>{ye&&Wt(ye.dialog)});vM(()=>{m_(window,"resize",In),be.current==null||be.current()});const Ft=()=>{ue.current=!0},Nn=Ve=>{ue.current&&ye&&Ve.target===ye.dialog&&(Ae.current=!0),ue.current=!1},Je=()=>{N(!0),be.current=UA(ye.dialog,()=>{N(!1)})},on=Ve=>{Ve.target===Ve.currentTarget&&Je()},qi=Ve=>{if(V==="static"){on(Ve);return}if(Ae.current||Ve.target!==Ve.currentTarget){Ae.current=!1;return}z==null||z()},ls=Ve=>{j?X==null||X(Ve):(Ve.preventDefault(),V==="static"&&Je())},us=(Ve,Tt)=>{Ve&&Wt(Ve),P==null||P(Ve,Tt)},Or=Ve=>{be.current==null||be.current(),M==null||M(Ve)},cs=(Ve,Tt)=>{U==null||U(Ve,Tt),VA(window,"resize",In)},Zo=Ve=>{Ve&&(Ve.style.display=""),$==null||$(Ve),m_(window,"resize",In)},qs=k.useCallback(Ve=>w.jsx("div",{...Ve,className:Mt(`${i}-backdrop`,O,!x&&"show")}),[x,O,i]),Xt={...t,...we};Xt.display="block";const mi=Ve=>w.jsx("div",{role:"dialog",...Ve,style:Xt,className:Mt(e,i,it&&`${i}-static`,!x&&"show"),onClick:V?qi:void 0,onMouseUp:Nn,"data-bs-theme":m,"aria-label":E,"aria-labelledby":g,"aria-describedby":_,children:w.jsx(h,{...Ie,onMouseDown:Ft,className:s,contentClassName:o,children:l})});return w.jsx(eS.Provider,{value:yt,children:w.jsx(QM,{show:S,ref:De,backdrop:V,container:te,keyboard:!0,autoFocus:ne,enforceFocus:_e,restoreFocus:Ee,restoreFocusOptions:Re,onEscapeKeyDown:ls,onShow:F,onHide:z,onEnter:us,onEntering:cs,onEntered:B,onExit:Or,onExiting:D,onExited:Zo,manager:Ze(),transition:x?nL:void 0,backdropTransition:x?iL:void 0,renderBackdrop:qs,renderDialog:mi})})});rS.displayName="Modal";const Vi=Object.assign(rS,{Body:JA,Header:nS,Title:iS,Footer:tS,Dialog:Dy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),rL=k.forwardRef(({bsPrefix:i,className:e,striped:t,bordered:s,borderless:o,hover:l,size:h,variant:m,responsive:g,..._},E)=>{const S=En(i,"table"),x=Mt(e,S,m&&`${S}-${m}`,h&&`${S}-${h}`,t&&`${S}-${typeof t=="string"?`striped-${t}`:"striped"}`,s&&`${S}-bordered`,o&&`${S}-borderless`,l&&`${S}-hover`),V=w.jsx("table",{..._,className:x,ref:E});if(g){let j=`${S}-responsive`;return typeof g=="string"&&(j=`${j}-${g}`),w.jsx("div",{className:j,children:V})}return V});function sL({setIsOpen:i}){const[e,t]=k.useState(!1),[s,o]=k.useState("login"),[l,h]=k.useState(""),[m,g]=k.useState(""),[_,E]=k.useState(""),[S,x]=k.useState(""),[V,j]=k.useState(""),[X,F]=k.useState(""),[z,te]=k.useState(""),ne=rm(),_e=()=>{t(!1),o("login"),F(""),te("")},Ee=U=>{o(U),F(""),te("")},Re=()=>t(!0),B=async U=>{i(!1),U.preventDefault(),F("");try{await GT(Aa,L_);const O=(await wI(Aa,_,S)).user,ke=await Dm(Us(Fi,"Users",O.uid));if(ke.exists()){const Ie=ke.data();Ie.role==="admin"||Ie.role==="staff"?ne("/AdminDashboard"):ne("/UserDashboard"),Ie.verified||te("Your account is not verified yet. Some features may be restricted.")}else{F("User role not found in database.");return}_e()}catch($){$.code==="auth/invalid-credential"?F("Invalid email or password. Please try again."):$.code==="auth/too-many-requests"?F("Too many failed attempts. Please try again later or reset your password."):$.code==="auth/network-request-failed"?F("Network error. Check your connection and try again."):F("Login failed. Please check your credentials and try again.")}},M=async U=>{if(U.preventDefault(),F(""),te(""),S!==V){F("Passwords do not match");return}try{const ke=(await TI(Aa,_,S)).user.uid,Ie=Us(Fi,"Users",ke);await KD(Ie,{uid:ke,firstName:l,lastName:m,email:_,role:"user",verified:!1,createdAt:new Date}),te("Account created! You can now log in."),o("login")}catch($){F($.message)}},D=async U=>{if(U.preventDefault(),F(""),te(""),!_){F("Please enter your email address.");return}try{const $=_.trim().toLowerCase(),O=jh(Fi,"Users"),ke=HD(O,qD("email","==",$));if((await Ty(ke)).empty){F("No account found with this email. Please check or sign up.");return}await $T(Aa,$),te("Password reset link sent to your email."),E("")}catch($){F("Failed to send reset link. Please try again later."),console.error("Reset Password Error:",$)}},P=U=>U.toLowerCase().replace(/\b\w/g,$=>$.toUpperCase());return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:`lexend text-xl drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-110 active:scale-95 
                  after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/90 after:transition-all after:duration-300 
                  hover:after:w-full text-white/100 hover:text-green-400 cursor-pointer`,onClick:Re,children:"Log In / Sign Up"}),w.jsxs(Vi,{show:e,onHide:_e,centered:!0,children:[w.jsx(Vi.Header,{closeButton:!0,children:w.jsxs(Vi.Title,{className:"lexend",children:[s==="login"&&"Log In",s==="signup"&&"Sign Up",s==="forgotPassword"&&"Reset Password"]})}),w.jsxs(Vi.Body,{children:[X&&w.jsx("p",{className:"text-danger text-center",children:X}),z&&w.jsx("p",{className:"text-success text-center",children:z}),s==="forgotPassword"&&w.jsxs(Xe,{onSubmit:D,children:[w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"forgot-email",children:"Email Address"}),w.jsx(Xe.Control,{type:"email",id:"forgot-email",name:"email",placeholder:"Enter your email",value:_,onChange:U=>E(U.target.value),required:!0,autoComplete:"email"})]}),w.jsx(ji,{variant:"primary",type:"submit",className:"w-100",children:"Send Reset Link"}),w.jsx("div",{className:"mt-3 text-center",children:w.jsx("a",{href:"#",onClick:U=>{U.preventDefault(),Ee("login")},children:"Back to Login"})})]}),s==="login"&&w.jsxs(Xe,{onSubmit:B,children:[w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"login-email",children:"Email"}),w.jsx(Xe.Control,{type:"email",id:"login-email",name:"email",placeholder:"Enter your email",value:_,onChange:U=>E(U.target.value),required:!0,autoComplete:"email"})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"login-password",children:"Password"}),w.jsx(Xe.Control,{type:"password",id:"login-password",name:"password",placeholder:"Enter password",value:S,onChange:U=>x(U.target.value),required:!0,autoComplete:"current-password"}),w.jsx("div",{className:"lexend text-end mt-2",children:w.jsx("a",{href:"#",onClick:U=>{U.preventDefault(),Ee("forgotPassword")},children:"Forgot Password?"})})]}),w.jsx(ji,{variant:"primary",type:"submit",className:"lexend w-100",children:"Log In"}),w.jsx("div",{className:"lexend mt-3 text-center",children:w.jsx("a",{href:"#",onClick:U=>{U.preventDefault(),Ee("signup")},children:"First time? Sign up"})})]}),s==="signup"&&w.jsxs(Xe,{onSubmit:M,children:[w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"signup-first-name",children:"First Name"}),w.jsx(Xe.Control,{type:"text",id:"signup-first-name",name:"firstName",placeholder:"Enter first name",value:l,onChange:U=>h(P(U.target.value)),required:!0})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"signup-last-name",children:"Last Name"}),w.jsx(Xe.Control,{type:"text",id:"signup-last-name",name:"lastName",placeholder:"Enter last name",value:m,onChange:U=>g(P(U.target.value)),required:!0})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"signup-email",children:"Email"}),w.jsx(Xe.Control,{type:"email",id:"signup-email",name:"email",placeholder:"Enter email",value:_,onChange:U=>E(U.target.value),required:!0,autoComplete:"email"})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"signup-password",children:"Password"}),w.jsx(Xe.Control,{type:"password",id:"signup-password",name:"password",placeholder:"Enter password",value:S,onChange:U=>x(U.target.value),required:!0,autoComplete:"new-password"})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),w.jsx(Xe.Control,{type:"password",id:"signup-confirm-password",name:"confirmPassword",placeholder:"Confirm password",value:V,onChange:U=>j(U.target.value),required:!0,autoComplete:"new-password"})]}),w.jsx(ji,{variant:"primary",type:"submit",className:"w-100",children:"Sign Up"}),w.jsx("div",{className:"mt-3 lexend text-center",children:w.jsx("a",{href:"#",onClick:U=>{U.preventDefault(),Ee("login")},children:"Back to Login"})})]})]})]})]})}function aL({show:i,onHide:e}){const[t,s]=k.useState([]),[o,l]=k.useState(""),[h,m]=k.useState(!1),[g,_]=k.useState(""),[E,S]=k.useState(""),[x,V]=k.useState(""),[j,X]=k.useState(""),[F,z]=k.useState("user"),[te,ne]=k.useState({}),_e=jh(Fi,"Users"),Ee=hm();k.useEffect(()=>{(async()=>{const Ie=(await Ty(_e)).docs.map(ce=>({id:ce.id,...ce.data()}));Ie.sort((ce,we)=>new Date(ce.createdAt)-new Date(we.createdAt)),s(Ie)})()},[]),k.useEffect(()=>{const O=setInterval(()=>{ne(ke=>{const Ie={...ke};return Object.keys(Ie).forEach(ce=>{Ie[ce]>0?Ie[ce]-=1:delete Ie[ce]}),Ie})},1e3);return()=>clearInterval(O)},[]);const Re=async(O,ke)=>{const Ie=ke==="staff"?"user":"staff";await l_(Us(Fi,"Users",O),{role:Ie}),s(ce=>ce.map(we=>we.id===O?{...we,role:Ie}:we))},B=async O=>{if(te[O]){alert("Please wait before sending another reset email.");return}try{await $T(Ee,O),alert(`Password reset email sent to ${O}`),ne(ke=>({...ke,[O]:60}))}catch(ke){console.error("Error sending reset email:",ke.message),alert("Failed to send reset email. Please try again.")}},M=()=>{m(!0)},D=async()=>{if(!g||!E||!x||!j){alert("Please fill in all fields.");return}if(j.length<6){alert("Password must be at least 6 characters long.");return}const O=new Date().toISOString();try{const ke=await fetch("http://localhost:5000/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:g,lastName:E,email:x,password:j,role:F,createdAt:new Date().toISOString()})}),Ie=await ke.json();ke.ok?(s(ce=>[...ce,{id:Ie.uid,firstName:g,lastName:E,email:x,role:F,createdAt:O,verified:!1}].sort((we,Te)=>new Date(Te.createdAt)-new Date(we.createdAt))),alert("User created successfully!"),m(!1),_(""),S(""),V(""),X(""),z("user")):alert("Failed to create user: "+Ie.error)}catch(ke){console.error("Error:",ke),alert("Something went wrong.")}},P=async O=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const Ie=await fetch(`http://localhost:5000/deleteUser/${O}`,{method:"DELETE"}),ce=await Ie.json();Ie.ok?(s(we=>we.filter(Te=>Te.id!==O)),alert("User deleted successfully!")):alert("Failed to delete user: "+ce.error)}catch(Ie){console.error("Error:",Ie),alert("Something went wrong while deleting the user.")}},U=async(O,ke)=>{const Ie=!ke;try{await l_(Us(Fi,"Users",O),{verified:Ie}),s(ce=>ce.map(we=>we.id===O?{...we,verified:Ie}:we))}catch(ce){console.error("Error updating verification status:",ce),alert("Failed to update verification status.")}},$=()=>{m(!1)};return w.jsxs(w.Fragment,{children:[w.jsxs(Vi,{show:i,onHide:e,centered:!0,size:"xl",className:"sm:max-w-full sm:h-screen sm:modal-dialog",children:[w.jsx(Vi.Header,{closeButton:!0,children:w.jsx(Vi.Title,{children:"Manage Users"})}),w.jsxs(Vi.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:[w.jsx(Xe.Control,{type:"text",placeholder:"Search by email...",value:o,onChange:O=>l(O.target.value),className:"mb-3"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-200",children:[w.jsx("th",{className:"p-2 border",children:"Email"}),w.jsx("th",{className:"p-2 border",children:"Role"}),w.jsx("th",{className:"p-2 border"}),w.jsx("th",{className:"p-2 border",children:"Verified"}),w.jsx("th",{className:"p-2 border"}),w.jsx("th",{className:"p-2 border",children:"Reset Password"})]})}),w.jsx("tbody",{className:"max-h-[300px] overflow-y-auto",children:t.filter(O=>O.email.toLowerCase().includes(o.toLowerCase())).map(O=>w.jsxs("tr",{className:"text-center",children:[w.jsx("td",{className:"p-2 border",children:O.email}),w.jsx("td",{className:"p-2 border",children:O.role}),w.jsx("td",{className:"p-2 border",children:w.jsx(ji,{variant:O.role==="staff"?"danger":"success",onClick:()=>O.role!=="admin"&&Re(O.id,O.role),disabled:O.role==="admin",className:O.role==="admin"?"bg-gray-400 text-gray-700 cursor-not-allowed":"",children:O.role==="admin"?"Admin":`Change to ${O.role==="staff"?"User":"Staff"}`})}),w.jsx("td",{className:"p-2 border",children:O.verified?"Yes":"No"}),w.jsx("td",{className:"p-2 border",children:w.jsx(ji,{variant:O.verified?"danger":"success",onClick:()=>U(O.id,O.verified),children:O.verified?"Unverify":"Verify"})}),w.jsx("td",{className:"p-2 border",children:w.jsx(ji,{variant:"warning",onClick:()=>B(O.email),disabled:!!te[O.email],children:te[O.email]?`Wait (${te[O.email]}s)`:"Send Reset Email"})}),w.jsx("td",{className:"p-2 border",children:w.jsx(ji,{variant:"danger",onClick:()=>P(O.id),children:"Delete"})})]},O.id))})]})})]}),w.jsx(Vi.Footer,{className:"flex justify-end",children:w.jsx(ji,{variant:"primary",onClick:M,children:"Add New User"})})]}),w.jsxs(Vi,{show:h,onHide:()=>m(!1),centered:!0,size:"md",children:[w.jsx(Vi.Header,{closeButton:!0,children:w.jsx(Vi.Title,{className:"text-center w-full",children:"Add New User"})}),w.jsx(Vi.Body,{children:w.jsxs(Xe,{children:[w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{children:"First Name"}),w.jsx(Xe.Control,{type:"text",value:g,onChange:O=>{const ke=O.target.value.toLowerCase().replace(/\b\w/g,Ie=>Ie.toUpperCase());_(ke)}})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{children:"Last Name"}),w.jsx(Xe.Control,{type:"text",value:E,onChange:O=>{const ke=O.target.value.toLowerCase().replace(/\b\w/g,Ie=>Ie.toUpperCase());S(ke)}})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{children:"Email"}),w.jsx(Xe.Control,{type:"email",value:x,onChange:O=>V(O.target.value)})]}),w.jsxs(Xe.Group,{className:"mb-3",children:[w.jsx(Xe.Label,{children:"Password"}),w.jsx(Xe.Control,{type:"password",value:j,onChange:O=>X(O.target.value)})]})]})}),w.jsxs(Vi.Footer,{className:"flex justify-between w-full",children:[w.jsx(ji,{variant:"secondary",onClick:$,children:"Back"}),w.jsx(ji,{variant:"success",onClick:async()=>{await D()},children:"Add User"})]})]})]})}var sS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zb=Bi.createContext&&Bi.createContext(sS),oL=["attr","size","title"];function lL(i,e){if(i==null)return{};var t=uL(i,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function uL(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function em(){return em=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},em.apply(this,arguments)}function Bb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function tm(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(t),!0).forEach(function(s){cL(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Bb(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function cL(i,e,t){return e=hL(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function hL(i){var e=fL(i,"string");return typeof e=="symbol"?e:e+""}function fL(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function aS(i){return i&&i.map((e,t)=>Bi.createElement(e.tag,tm({key:t},e.attr),aS(e.child)))}function Hs(i){return e=>Bi.createElement(dL,em({attr:tm({},i.attr)},e),aS(i.child))}function dL(i){var e=t=>{var{attr:s,size:o,title:l}=i,h=lL(i,oL),m=o||t.size||"1em",g;return t.className&&(g=t.className),i.className&&(g=(g?g+" ":"")+i.className),Bi.createElement("svg",em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:g,style:tm(tm({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&Bi.createElement("title",null,l),i.children)};return zb!==void 0?Bi.createElement(zb.Consumer,null,t=>e(t)):e(sS)}function mL(i){return Hs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(i)}function Fb(i){return Hs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"},child:[]}]})(i)}function Hb(i){return Hs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(i)}function pL(i){return Hs({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function qb(i){return Hs({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(i)}function gL(i){return Hs({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(i)}const _L=()=>{const[i,e]=k.useState(!1),[t,s]=k.useState(!1),[o,l]=k.useState(null),[h,m]=k.useState(""),[g,_]=k.useState(void 0),[E,S]=k.useState(!1),[x,V]=k.useState(!1),j=rm(),X=k.useRef(null);k.useEffect(()=>{const z=Aa.onAuthStateChanged(async te=>{if(l(te),te)try{const ne=await Dm(Us(Fi,"Users",te.uid));ne.exists()?(m(ne.data().firstName),_(ne.data().role)):_(null)}catch(ne){console.error("Error fetching user data: ",ne),_(null)}else _(null)});return()=>z()},[]),k.useEffect(()=>{const z=te=>{X.current&&!X.current.contains(te.target)&&s(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]);const F=async()=>{try{s(!1),e(!1),await RI(Aa),j("/")}catch(z){console.error("Error signing out: ",z)}};return g===void 0?w.jsx("nav",{className:"border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700 font-semibold z-40"}):w.jsx(w.Fragment,{children:g!==void 0&&w.jsxs("nav",{className:"border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700 font-semibold z-40",children:[w.jsxs("div",{className:"max-w-screen-xl flex items-center justify-between mx-auto p-3",children:[w.jsx(Nt,{to:g==="admin"||g==="staff"?"/AdminDashboard":"/",className:`flex items-center space-x-3 transition-transform duration-300 
              hover:scale-110
            }`,children:w.jsx("img",{src:u_,className:"h-12 w-auto",alt:"FCL"})}),w.jsxs("div",{className:"hidden md:flex items-center gap-1 ml-auto",children:[g==="admin"?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:`lexend mr-3 cursor-pointer relative block py-2 px-3 text-black no-underline rounded transition-all duration-200 transform hover:scale-105 active:scale-95 
                          after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:w-0 after:bg-blue-500 after:transition-all after:duration-300 
                          hover:after:w-full`,onClick:()=>S(!0),children:"Manage Users"}),w.jsx(Nt,{to:"/Shipments",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Shipment"})]}):g==="staff"?w.jsxs(w.Fragment,{children:[w.jsx(Nt,{to:"/About",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Manage Something"}),w.jsx(Nt,{to:"/Services",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Messages"}),w.jsx(Nt,{to:"/OurCommitment",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Idunno"})]}):g==="user"?w.jsxs(w.Fragment,{children:[w.jsx(Nt,{to:"/About",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"About Us"}),w.jsx(Nt,{to:"/Services",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Services"}),w.jsx(Nt,{to:"/OurCommitment",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Our Commitment"})]}):w.jsxs(w.Fragment,{children:[w.jsx(Nt,{to:"/About",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"About Us"}),w.jsx(Nt,{to:"/Services",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Services"}),w.jsx(Nt,{to:"/OurCommitment",className:({isActive:z})=>`lexend relative block py-2 px-3 text-black no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                    after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-[2px] after:bg-blue-500 after:transition-all after:duration-300
                    ${z?"after:w-0 scale-110":"after:w-0 hover:after:w-full"}`,children:"Our Commitment"})]}),(g==="admin"||g==="staff")&&w.jsxs("div",{className:"relative z-40",ref:X,children:[w.jsx("button",{onClick:()=>s(!t),className:`text-black text-3xl p-2 transition-transform duration-300 ease-in-out scale-150
                          hover:scale-120 active:scale-150`,children:w.jsx(gL,{className:`transition-all duration-300 ${t?"text-cyan-500 scale-110":"text-gray-700"}`})}),w.jsx("div",{className:`absolute right-0 mt-2 w-40 bg-white shadow-lg rounded-md 
                            transition-all duration-300 ease-in-out ${t?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:w.jsxs("ul",{className:"border rounded !pl-0 !mb-0 w-full text-gray-800",children:[w.jsx("li",{className:"px-4 py-3 hover:bg-gray-300 transition duration-200 cursor-pointer",children:"Authentication"}),w.jsx("li",{onClick:F,className:"px-4 py-3 hover:bg-gray-300 transition duration-200 cursor-pointer",children:"Log Out"})]})})]})]}),g==="admin"||g==="staff"?w.jsx("div",{className:"md:hidden flex items-center space-x-2 md:space-x-3",children:w.jsx("button",{onClick:()=>e(!0),className:"p-2 text-black rounded-lg hover:bg-gray-100 focus:outline-none",children:w.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),w.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),w.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})}):w.jsx(w.Fragment,{children:w.jsx("div",{className:"flex items-center space-x-2 md:space-x-3",children:w.jsx("button",{onClick:()=>e(!0),className:"p-2 text-black rounded-lg hover:bg-gray-100 focus:outline-none",children:w.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),w.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),w.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})})})]}),i&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-10 backdrop-blur-md z-40",onClick:()=>e(!1)}),w.jsxs("div",{className:`fixed inset-y-0 right-0 w-full sm:w-80 bg-white text-black shadow-lg transform ${i?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out z-50 flex flex-col h-full`,children:[w.jsxs("div",{className:"p-5 flex justify-between items-center border-b border-gray-500 bg-[rgba(0,127,130,255)]",children:[w.jsx("span",{className:"text-md font-semibold",children:w.jsx("a",{children:o?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"lexend drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] text-white text-xl mb-3",children:["Welcome, ",g==="admin"?"Admin":h||"User","!"]}),w.jsx("button",{onClick:F,className:`lexend drop-shadow-[2px_2px_2px_rgba(0,0,0,0.8)] font-bold relative block py-2 px-0 no-underline transition-all duration-200 transform hover:scale-105 active:scale-95 
                      after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-black/100 after:transition-all after:duration-300 
                      hover:after:w-full text-white/100 hover:text-blue-300 cursor-pointer text-sm`,children:"Log Out"})]}):w.jsx(sL,{setIsOpen:e})})}),w.jsx("button",{onClick:()=>e(!1),className:"text-black hover:text-black",children:"✕"})]}),w.jsxs("ul",{className:"p-0 space-y-0 flex flex-col items-center text-center flex-grow w-full text-xl",children:[g==="admin"?w.jsxs(w.Fragment,{children:[w.jsx("li",{className:"w-full",children:w.jsx("div",{className:`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 hover:bg-blue-200 active:bg-blue-300 
                              hover:scale-105 cursor-pointer`,onClick:()=>S(!0),children:"Manage Users"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/Messages",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Messages"})})]}):g==="staff"?w.jsxs(w.Fragment,{children:[w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/AdminDashboard",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Dashboard"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Messages"})})]}):g==="user"?w.jsxs(w.Fragment,{children:[w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/About",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"About Us"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/Services",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Services"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/OurCommitment",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Our Commitment"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/TrackPackage",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Track Package"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/Messages",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Chat with Admin"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/Contact",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Contact Us!"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Need Help?"})})]}):w.jsxs(w.Fragment,{children:[w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/About",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"About Us"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/Services",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Services"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/OurCommitment",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular md:hidden border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Our Commitment"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/TrackPackage",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                    ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Track Package"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/Contact",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Contact Us!"})}),w.jsx("li",{className:"w-full",children:w.jsx(Nt,{to:"/ChatHelp",onClick:()=>e(!1),className:({isActive:z})=>`kanit-regular border-b-2 border-t block w-full py-3 px-3 text-black no-underline transition-all duration-200 
                      ${i&&z?"bg-blue-200 scale-105":"hover:bg-blue-200 hover:scale-105 active:bg-blue-300"}`,children:"Need Help?"})})]}),w.jsxs("li",{className:"bg-white mt-auto pt-4 border-t w-full text-center text-gray-500 text-sm",children:["© 2022 Frances Logistics. All rights reserved.",w.jsx("img",{src:u_,className:"mx-auto h-15 w-auto mt-2",alt:"FCL"})]})]}),w.jsx(aL,{show:E,onHide:()=>S(!1)})]})]})})};function yL(i){return Hs({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(i)}function vL(i){return Hs({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM224 448a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM304 64L80 64l0 320 224 0 0-320z"},child:[]}]})(i)}function EL(i){return Hs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"},child:[]}]})(i)}function bL(i){return Hs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M460.6 147.3L353 256.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 297c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 147.3c-1.3-1.3-3.4-.4-3.4 1.4V368c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V148.7c0-1.8-2.2-2.6-3.4-1.4z"},child:[]},{tag:"path",attr:{d:"M256 295.1c14.8 0 28.7-5.8 39.1-16.4L452 119c-5.5-4.4-12.3-7-19.8-7H79.9c-7.5 0-14.4 2.6-19.8 7L217 278.7c10.3 10.5 24.2 16.4 39 16.4z"},child:[]}]})(i)}const TL=()=>w.jsxs("footer",{className:"bg-white text-black py-10 border-t",children:[w.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col items-center md:flex-row md:justify-between text-center md:text-left",children:[w.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[w.jsx("div",{className:"flex justify-center md:justify-start w-full",children:w.jsx("img",{src:u_,className:"h-18 w-auto mb-2",alt:"FCL"})}),w.jsx("p",{className:"lexend mt-2 font-semibold text-center md:text-left",children:"Connecting countries one movement at a time."})]}),w.jsxs("div",{className:"lexend border-t md:border-t-0 flex flex-col items-center md:items-start mt-6 pt-5 md:!pt-0 md:mt-0",children:[w.jsx("h2",{className:"text-xl font-bold",children:"Contact Us"}),w.jsxs("p",{className:"flex items-center space-x-2 ",children:[w.jsx(EL,{className:"text-lg h-4"}),w.jsx("span",{className:"ml-1",children:"+46 230 2842"})]}),w.jsxs("p",{className:"flex items-center space-x-2",children:[w.jsx(vL,{className:"text-lg"}),w.jsx("span",{className:"ml-1",children:"+63 912 345 6789"})]}),w.jsxs("p",{className:"flex items-center space-x-2",children:[w.jsx(bL,{className:"text-lg"}),w.jsx("span",{className:"ml-2",children:"cessamoroso@francesslogistics.com"})]}),w.jsxs("p",{className:"flex items-left md:!items-start space-x-2",children:[w.jsx(yL,{className:"text-lg"}),w.jsx("span",{className:"ml-2 text-center md:!text-left",children:"FAJC Building 2/F Unit-4 Buhay na Tubig, Imus, Cavite, Philippines"})]})]})]}),w.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-6 text-center text-sm",children:["© ",new Date().getFullYear()," Francess Logistic Services OPC. All rights reserved."]})]}),wL="/cargofran/assets/background-jpV12ZVP.mp4",AL=()=>w.jsxs("div",{className:"relative w-full min-h-screen overflow-hidden",children:[w.jsxs("video",{className:"absolute inset-0 w-full h-full object-cover -z-10",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[w.jsx("source",{src:wL,type:"video/mp4"}),"Your browser does not support the video tag."]}),w.jsxs("div",{className:"relative flex flex-col pt-35 text-white px-6 text-center min-h-screen",children:[w.jsx("div",{className:"absolute inset-0 bg-cyan-300 opacity-30"}),w.jsx("h1",{className:"oswald drop-shadow-[2px_2px_2px_rgba(0,0,0,1)] relative !text-5xl md:!text-6xl font-bold",children:"CONNECTING COUNTRIES ONE MOVEMENT AT A TIME"}),w.jsx("p",{className:"kanit-thin drop-shadow-[2px_2px_2px_rgba(0,0,0,1)] relative mt-4 !text-lg md:!text-2xl",children:"Experience Seamless Freight and Logistics Services with FLS-OPC"})]})]}),SL=()=>w.jsx("div",{children:w.jsx(AL,{})}),RL=()=>w.jsx("div",{children:w.jsx("h1",{children:"This is about page"})}),CL=()=>w.jsx("div",{children:w.jsx("h1",{children:"This is services page"})}),xL=()=>w.jsx("div",{children:w.jsx("h1",{children:"HI THIS IS OUR COMMITMENT"})}),IL=()=>w.jsx("div",{children:w.jsx("h1",{children:"This is contact page"})});function NL(){const[i,e]=k.useState([]),[t,s]=k.useState({driver:"",status:"",trackingNumber:""}),[o,l]=k.useState(1);k.useEffect(()=>{const _=WD(jh(Fi,"DeliverTrack"),E=>{const S=E.docs.map(x=>({id:x.id,...x.data()}));if(e(S),S.length>0){const x=Math.max(...S.map(V=>V.autoIncrementId||0));l(x+1)}});return()=>_()},[]);const h=async()=>{t.driver&&t.status&&t.trackingNumber&&(await YD(jh(Fi,"DeliverTrack"),{driver:t.driver,status:t.status,trackingNumber:t.trackingNumber,autoIncrementId:o,timestamp:XD()}),s({driver:"",status:"",trackingNumber:""}),l(o+1))},m=async _=>{const E=prompt("Enter new status:");if(E){const S=Us(Fi,"DeliverTrack",_);await l_(S,{status:E})}},g=async _=>{const E=Us(Fi,"DeliverTrack",_);await QD(E)};return w.jsxs("div",{className:"p-4",children:[w.jsx("h1",{className:"text-xl font-bold mb-4",children:"Delivery Tracking System"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("input",{type:"text",placeholder:"Driver Name",value:t.driver,onChange:_=>s({...t,driver:_.target.value}),className:"border p-2 mr-2"}),w.jsx("input",{type:"text",placeholder:"Status",value:t.status,onChange:_=>s({...t,status:_.target.value}),className:"border p-2 mr-2"}),w.jsx("input",{type:"text",placeholder:"Tracking Number",value:t.trackingNumber,onChange:_=>s({...t,trackingNumber:_.target.value}),className:"border p-2 mr-2"}),w.jsx("button",{onClick:h,className:"bg-blue-500 text-white p-2",children:"Add Delivery"})]}),w.jsx("ul",{children:i.map(_=>{var E;return w.jsxs("li",{className:"border-b p-2 flex justify-between",children:[w.jsxs("div",{children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Driver:"})," ",_.driver]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Status:"})," ",_.status]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Tracking #:"})," ",_.trackingNumber]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Package ID:"})," ",_.autoIncrementId]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Timestamp:"})," ",(E=_.timestamp)==null?void 0:E.toDate().toString()]})]}),w.jsxs("div",{children:[w.jsx("button",{onClick:()=>m(_.id),className:"text-yellow-500 mr-2",children:"Update"}),w.jsx("button",{onClick:()=>g(_.id),className:"text-red-500",children:"Delete"})]})]},_.id)})})]})}const OL=()=>w.jsx("div",{children:w.jsx("h1",{children:"aaa"})});function DL(){const[i,e]=k.useState(null),t=hm();return k.useEffect(()=>{const s=M_(t,o=>{e(o)});return()=>s()},[]),w.jsx("div",{children:w.jsxs("h1",{children:["Welcome ",i?i.email:"Guest"]})})}const kL=()=>{const[i,e]=k.useState(""),t=s=>{if(s.preventDefault(),!i)return;const o=`https://www.track-trace.com/aircargo?awb=${i}`;window.location.href=o};return w.jsxs("div",{className:"p-5 border rounded-lg shadow-md max-w-lg mx-auto",children:[w.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Track Your Air Cargo Shipment"}),w.jsxs("form",{onSubmit:t,className:"flex flex-col space-y-3",children:[w.jsx("label",{htmlFor:"awb",className:"text-sm font-medium",children:"Enter Air Waybill (AWB):"}),w.jsx("input",{type:"text",id:"awb",value:i,onChange:s=>e(s.target.value),placeholder:"Example: 123-45678901",required:!0,className:"border p-2 rounded w-full"}),w.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition",children:"Track"})]})]})},ML=()=>w.jsx("div",{children:w.jsx(w.Fragment,{children:"HIIIIIIIII"})}),LL=()=>w.jsx("div",{children:w.jsx("h1",{children:"HIIIIII"})});function PL(){const[i,e]=k.useState(null),t=hm();return k.useEffect(()=>{const s=M_(t,o=>{e(o)});return()=>s()},[]),w.jsx("div",{children:w.jsxs("h1",{children:["Welcome ",i?i.email:"Guest"]})})}const VL=()=>{const[i,e]=k.useState(!1);return w.jsxs("div",{className:"flex hidden md:block w-64",children:[w.jsx("div",{className:"hidden md:flex flex-col w-64 h-screen bg-blue-300 p-5",children:w.jsxs("nav",{className:"space-y-20 text-2xl",children:[w.jsxs(Oo,{to:"/AdminDashboard",className:"flex items-center p-3 text-black hover:bg-gray-700 hover:text-white rounded",children:[w.jsx(Hb,{className:"mr-3"})," Dashboard"]}),w.jsxs(Oo,{to:"/Shipments",className:"flex items-center p-3 text-black hover:bg-gray-700 hover:text-white rounded",children:[w.jsx(qb,{className:"mr-3"})," Shipments"]}),w.jsxs(Oo,{to:"/messages",className:"flex items-center p-3 text-black hover:bg-gray-700 hover:text-white rounded",children:[w.jsx(Fb,{className:"mr-3"})," Messages"]})]})}),w.jsxs("div",{className:"md:hidden flex flex-col w-full",children:[w.jsxs("button",{onClick:()=>e(!i),className:"p-4 bg-gray-900 text-white w-full flex justify-between",children:[w.jsx("span",{children:"Menu"}),i?w.jsx(pL,{}):w.jsx(mL,{})]}),i&&w.jsxs("div",{className:"flex flex-col bg-gray-900 p-4",children:[w.jsxs(Oo,{to:"/dashboard",className:"flex items-center p-3 text-black bg-white hover:bg-gray-700 hover:text-white rounded",children:[w.jsx(Hb,{className:"mr-3"})," Dashboard"]}),w.jsxs(Oo,{to:"/shipments",className:"flex items-center p-3 text-black bg-white hover:bg-gray-700 hover:text-white rounded",children:[w.jsx(qb,{className:"mr-3"})," Shipments"]}),w.jsxs(Oo,{to:"/messages",className:"flex items-center p-3 text-black bg-white hover:bg-gray-700 hover:text-white rounded",children:[w.jsx(Fb,{className:"mr-3"})," Messages"]})]})]})]})},UL=()=>{const[i,e]=k.useState([]),[t,s]=k.useState(!1),[o,l]=k.useState(!1),[h,m]=k.useState(null),[g,_]=k.useState({packageNumber:"",shipperName:"",serviceType:"",packageStatus:"",paid:!1,airwayBill:""});return k.useEffect(()=>{(async()=>{const x=(await Ty(jh(Fi,"Packages"))).docs.map((V,j)=>({id:j+1,docId:V.id,...V.data()}));e(x)})()},[]),w.jsxs("div",{className:"flex",children:[w.jsx(VL,{}),w.jsxs("div",{className:"flex-1 p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-center mb-4",children:"Shipment Information"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs(rL,{striped:!0,bordered:!0,hover:!0,className:"w-full",children:[w.jsx("thead",{className:"bg-gray-200",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-2",children:"ID"}),w.jsx("th",{className:"p-2",children:"Package Number"}),w.jsx("th",{className:"p-2",children:"Shipper"}),w.jsx("th",{className:"p-2",children:"Service"}),w.jsx("th",{className:"p-2",children:"Status"}),w.jsx("th",{className:"p-2",children:"Paid"}),w.jsx("th",{className:"p-2",children:"Actions"})]})}),w.jsx("tbody",{children:i.map(E=>w.jsxs("tr",{className:`text-center ${E.canceled?"bg-gray-100":""}`,children:[w.jsx("td",{className:"p-2",children:E.id}),w.jsx("td",{className:"p-2",children:E.packageNumber}),w.jsx("td",{className:"p-2",children:E.shipperName}),w.jsx("td",{className:"p-2",children:E.serviceType}),w.jsx("td",{className:"p-2",children:E.packageStatus}),w.jsx("td",{className:"p-2",children:E.paid?"Yes":"No"}),w.jsx("td",{className:"p-2",children:E.canceled?w.jsx("span",{className:"text-gray-500 font-semibold",children:"Canceled"}):w.jsxs(w.Fragment,{children:[w.jsx(ji,{variant:"warning",className:"mr-2",onClick:()=>{m(E),_(E),l(!0)},children:"Edit"}),w.jsx(ji,{variant:"danger",children:"Cancel"})]})})]},E.id))})]})}),w.jsx(ji,{variant:"primary",className:"mt-4",onClick:()=>s(!0),children:"Add Shipment"})]})]})},jL=()=>{const i=Pa(),e=["/Shipments"];return w.jsxs(w.Fragment,{children:[w.jsx(_L,{}),w.jsxs(c1,{children:[w.jsx(ui,{path:"/",element:w.jsx(SL,{})}),w.jsx(ui,{path:"/About",element:w.jsx(RL,{})}),w.jsx(ui,{path:"/Services",element:w.jsx(CL,{})}),w.jsx(ui,{path:"/OurCommitment",element:w.jsx(xL,{})}),w.jsx(ui,{path:"/Contact",element:w.jsx(IL,{})}),w.jsx(ui,{path:"/FirebaseTest",element:w.jsx(NL,{})}),w.jsx(ui,{path:"/TrackPackage",element:w.jsx(OL,{})}),w.jsx(ui,{path:"/AirCargoTracking",element:w.jsx(kL,{})}),w.jsx(ui,{path:"/UserDashboard",element:w.jsx(DL,{})}),w.jsx(ui,{path:"/ChatHelp",element:w.jsx(ML,{})}),w.jsx(ui,{path:"/Messages",element:w.jsx(LL,{})}),w.jsx(ui,{path:"/AdminDashboard",element:w.jsx(Sb,{requiredRoles:["admin","staff"],children:w.jsx(PL,{})})}),w.jsx(ui,{path:"*",element:w.jsx(Lg,{to:"/",replace:!0})}),w.jsx(ui,{path:"/Shipments",element:w.jsx(Sb,{requiredRoles:["admin","staff"],children:w.jsx(UL,{})})}),w.jsx(ui,{path:"*",element:w.jsx(Lg,{to:"/",replace:!0})})]}),!e.includes(i.pathname)&&w.jsx(TL,{})]})},zL=k.createContext(),BL=({children:i})=>{const[e,t]=k.useState(null),[s,o]=k.useState(!0);return k.useEffect(()=>{const l=M_(Aa,async h=>{if(h){const m=await Dm(Us(Fi,"Users",h.uid));m.exists()?t({...h,role:m.data().role}):t(h)}else t(null);o(!1)});return()=>l()},[]),w.jsx(zL.Provider,{value:{user:e,loading:s},children:i})};var Cd={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var FL=Cd.exports,$b;function HL(){return $b||($b=1,function(i,e){(function(t,s){i.exports=s()})(FL,function(){const t=new Map,s={set(A,d,v){t.has(A)||t.set(A,new Map);const C=t.get(A);C.has(d)||C.size===0?C.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(C.keys())[0]}.`)},get:(A,d)=>t.has(A)&&t.get(A).get(d)||null,remove(A,d){if(!t.has(A))return;const v=t.get(A);v.delete(d),v.size===0&&t.delete(A)}},o="transitionend",l=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),A),h=A=>{A.dispatchEvent(new Event(o))},m=A=>!(!A||typeof A!="object")&&(A.jquery!==void 0&&(A=A[0]),A.nodeType!==void 0),g=A=>m(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(l(A)):null,_=A=>{if(!m(A)||A.getClientRects().length===0)return!1;const d=getComputedStyle(A).getPropertyValue("visibility")==="visible",v=A.closest("details:not([open])");if(!v)return d;if(v!==A){const C=A.closest("summary");if(C&&C.parentNode!==v||C===null)return!1}return d},E=A=>!A||A.nodeType!==Node.ELEMENT_NODE||!!A.classList.contains("disabled")||(A.disabled!==void 0?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false"),S=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const d=A.getRootNode();return d instanceof ShadowRoot?d:null}return A instanceof ShadowRoot?A:A.parentNode?S(A.parentNode):null},x=()=>{},V=A=>{A.offsetHeight},j=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,X=[],F=()=>document.documentElement.dir==="rtl",z=A=>{var d;d=()=>{const v=j();if(v){const C=A.NAME,H=v.fn[C];v.fn[C]=A.jQueryInterface,v.fn[C].Constructor=A,v.fn[C].noConflict=()=>(v.fn[C]=H,A.jQueryInterface)}},document.readyState==="loading"?(X.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of X)v()}),X.push(d)):d()},te=(A,d=[],v=A)=>typeof A=="function"?A(...d):v,ne=(A,d,v=!0)=>{if(!v)return void te(A);const C=(ee=>{if(!ee)return 0;let{transitionDuration:ae,transitionDelay:pe}=window.getComputedStyle(ee);const he=Number.parseFloat(ae),de=Number.parseFloat(pe);return he||de?(ae=ae.split(",")[0],pe=pe.split(",")[0],1e3*(Number.parseFloat(ae)+Number.parseFloat(pe))):0})(d)+5;let H=!1;const K=({target:ee})=>{ee===d&&(H=!0,d.removeEventListener(o,K),te(A))};d.addEventListener(o,K),setTimeout(()=>{H||h(d)},C)},_e=(A,d,v,C)=>{const H=A.length;let K=A.indexOf(d);return K===-1?!v&&C?A[H-1]:A[0]:(K+=v?1:-1,C&&(K=(K+H)%H),A[Math.max(0,Math.min(K,H-1))])},Ee=/[^.]*(?=\..*)\.|.*/,Re=/\..*/,B=/::\d+$/,M={};let D=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},U=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $(A,d){return d&&`${d}::${D++}`||A.uidEvent||D++}function O(A){const d=$(A);return A.uidEvent=d,M[d]=M[d]||{},M[d]}function ke(A,d,v=null){return Object.values(A).find(C=>C.callable===d&&C.delegationSelector===v)}function Ie(A,d,v){const C=typeof d=="string",H=C?v:d||v;let K=it(A);return U.has(K)||(K=A),[C,H,K]}function ce(A,d,v,C,H){if(typeof d!="string"||!A)return;let[K,ee,ae]=Ie(d,v,C);d in P&&(ee=(je=>function(ze){if(!ze.relatedTarget||ze.relatedTarget!==ze.delegateTarget&&!ze.delegateTarget.contains(ze.relatedTarget))return je.call(this,ze)})(ee));const pe=O(A),he=pe[ae]||(pe[ae]={}),de=ke(he,ee,K?v:null);if(de)return void(de.oneOff=de.oneOff&&H);const me=$(ee,d.replace(Ee,"")),$e=K?function(Me,je,ze){return function Be(ht){const xt=Me.querySelectorAll(je);for(let{target:Ne}=ht;Ne&&Ne!==this;Ne=Ne.parentNode)for(const ft of xt)if(ft===Ne)return ue(ht,{delegateTarget:Ne}),Be.oneOff&&N.off(Me,ht.type,je,ze),ze.apply(Ne,[ht])}}(A,v,ee):function(Me,je){return function ze(Be){return ue(Be,{delegateTarget:Me}),ze.oneOff&&N.off(Me,Be.type,je),je.apply(Me,[Be])}}(A,ee);$e.delegationSelector=K?v:null,$e.callable=ee,$e.oneOff=H,$e.uidEvent=me,he[me]=$e,A.addEventListener(ae,$e,K)}function we(A,d,v,C,H){const K=ke(d[v],C,H);K&&(A.removeEventListener(v,K,!!H),delete d[v][K.uidEvent])}function Te(A,d,v,C){const H=d[v]||{};for(const[K,ee]of Object.entries(H))K.includes(C)&&we(A,d,v,ee.callable,ee.delegationSelector)}function it(A){return A=A.replace(Re,""),P[A]||A}const N={on(A,d,v,C){ce(A,d,v,C,!1)},one(A,d,v,C){ce(A,d,v,C,!0)},off(A,d,v,C){if(typeof d!="string"||!A)return;const[H,K,ee]=Ie(d,v,C),ae=ee!==d,pe=O(A),he=pe[ee]||{},de=d.startsWith(".");if(K===void 0){if(de)for(const me of Object.keys(pe))Te(A,pe,me,d.slice(1));for(const[me,$e]of Object.entries(he)){const Me=me.replace(B,"");ae&&!d.includes(Me)||we(A,pe,ee,$e.callable,$e.delegationSelector)}}else{if(!Object.keys(he).length)return;we(A,pe,ee,K,H?v:null)}},trigger(A,d,v){if(typeof d!="string"||!A)return null;const C=j();let H=null,K=!0,ee=!0,ae=!1;d!==it(d)&&C&&(H=C.Event(d,v),C(A).trigger(H),K=!H.isPropagationStopped(),ee=!H.isImmediatePropagationStopped(),ae=H.isDefaultPrevented());const pe=ue(new Event(d,{bubbles:K,cancelable:!0}),v);return ae&&pe.preventDefault(),ee&&A.dispatchEvent(pe),pe.defaultPrevented&&H&&H.preventDefault(),pe}};function ue(A,d={}){for(const[v,C]of Object.entries(d))try{A[v]=C}catch{Object.defineProperty(A,v,{configurable:!0,get:()=>C})}return A}function Ae(A){if(A==="true")return!0;if(A==="false")return!1;if(A===Number(A).toString())return Number(A);if(A===""||A==="null")return null;if(typeof A!="string")return A;try{return JSON.parse(decodeURIComponent(A))}catch{return A}}function be(A){return A.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const ye={setDataAttribute(A,d,v){A.setAttribute(`data-bs-${be(d)}`,v)},removeDataAttribute(A,d){A.removeAttribute(`data-bs-${be(d)}`)},getDataAttributes(A){if(!A)return{};const d={},v=Object.keys(A.dataset).filter(C=>C.startsWith("bs")&&!C.startsWith("bsConfig"));for(const C of v){let H=C.replace(/^bs/,"");H=H.charAt(0).toLowerCase()+H.slice(1,H.length),d[H]=Ae(A.dataset[C])}return d},getDataAttribute:(A,d)=>Ae(A.getAttribute(`data-bs-${be(d)}`))};class Ue{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const C=m(v)?ye.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof C=="object"?C:{},...m(v)?ye.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[H,K]of Object.entries(v)){const ee=d[H],ae=m(ee)?"element":(C=ee)==null?`${C}`:Object.prototype.toString.call(C).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(K).test(ae))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${H}" provided type "${ae}" but expected type "${K}".`)}var C}}class De extends Ue{constructor(d,v){super(),(d=g(d))&&(this._element=d,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,C=!0){ne(d,v,C)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return s.get(g(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const Ct=A=>{let d=A.getAttribute("data-bs-target");if(!d||d==="#"){let v=A.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>l(v)).join(","):null},ge={find:(A,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,A)),findOne:(A,d=document.documentElement)=>Element.prototype.querySelector.call(d,A),children:(A,d)=>[].concat(...A.children).filter(v=>v.matches(d)),parents(A,d){const v=[];let C=A.parentNode.closest(d);for(;C;)v.push(C),C=C.parentNode.closest(d);return v},prev(A,d){let v=A.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(A,d){let v=A.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(A){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,A).filter(v=>!E(v)&&_(v))},getSelectorFromElement(A){const d=Ct(A);return d&&ge.findOne(d)?d:null},getElementFromSelector(A){const d=Ct(A);return d?ge.findOne(d):null},getMultipleElementsFromSelector(A){const d=Ct(A);return d?ge.find(d):[]}},yt=(A,d="hide")=>{const v=`click.dismiss${A.EVENT_KEY}`,C=A.NAME;N.on(document,v,`[data-bs-dismiss="${C}"]`,function(H){if(["A","AREA"].includes(this.tagName)&&H.preventDefault(),E(this))return;const K=ge.getElementFromSelector(this)||this.closest(`.${C}`);A.getOrCreateInstance(K)[d]()})},Ze=".bs.alert",Wt=`close${Ze}`,In=`closed${Ze}`;class Ft extends De{static get NAME(){return"alert"}close(){if(N.trigger(this._element,Wt).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),N.trigger(this._element,In),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=Ft.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}yt(Ft,"close"),z(Ft);const Nn='[data-bs-toggle="button"]';class Je extends De{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=Je.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}N.on(document,"click.bs.button.data-api",Nn,A=>{A.preventDefault();const d=A.target.closest(Nn);Je.getOrCreateInstance(d).toggle()}),z(Je);const on=".bs.swipe",qi=`touchstart${on}`,ls=`touchmove${on}`,us=`touchend${on}`,Or=`pointerdown${on}`,cs=`pointerup${on}`,Zo={endCallback:null,leftCallback:null,rightCallback:null},qs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Xt extends Ue{constructor(d,v){super(),this._element=d,d&&Xt.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Zo}static get DefaultType(){return qs}static get NAME(){return"swipe"}dispose(){N.off(this._element,on)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),te(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&te(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,Or,d=>this._start(d)),N.on(this._element,cs,d=>this._end(d)),this._element.classList.add("pointer-event")):(N.on(this._element,qi,d=>this._start(d)),N.on(this._element,ls,d=>this._move(d)),N.on(this._element,us,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const mi=".bs.carousel",Ve=".data-api",Tt="next",bn="prev",Dr="left",hs="right",gc=`slide${mi}`,kr=`slid${mi}`,fs=`keydown${mi}`,On=`mouseenter${mi}`,Jo=`mouseleave${mi}`,or=`dragstart${mi}`,qn=`load${mi}${Ve}`,el=`click${mi}${Ve}`,tl="carousel",$s="active",$i=".active",Mr=".carousel-item",Gi=$i+Mr,Ci={ArrowLeft:hs,ArrowRight:Dr},ds={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},za={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class lr extends De{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ge.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tl&&this.cycle()}static get Default(){return ds}static get DefaultType(){return za}static get NAME(){return"carousel"}next(){this._slide(Tt)}nextWhenVisible(){!document.hidden&&_(this._element)&&this.next()}prev(){this._slide(bn)}pause(){this._isSliding&&h(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?N.one(this._element,kr,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void N.one(this._element,kr,()=>this.to(d));const C=this._getItemIndex(this._getActive());if(C===d)return;const H=d>C?Tt:bn;this._slide(H,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&N.on(this._element,fs,d=>this._keydown(d)),this._config.pause==="hover"&&(N.on(this._element,On,()=>this.pause()),N.on(this._element,Jo,()=>this._maybeEnableCycle())),this._config.touch&&Xt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ge.find(".carousel-item img",this._element))N.on(v,or,C=>C.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Dr)),rightCallback:()=>this._slide(this._directionToOrder(hs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Xt(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=Ci[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=ge.findOne($i,this._indicatorsElement);v.classList.remove($s),v.removeAttribute("aria-current");const C=ge.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);C&&(C.classList.add($s),C.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const C=this._getActive(),H=d===Tt,K=v||_e(this._getItems(),C,H,this._config.wrap);if(K===C)return;const ee=this._getItemIndex(K),ae=me=>N.trigger(this._element,me,{relatedTarget:K,direction:this._orderToDirection(d),from:this._getItemIndex(C),to:ee});if(ae(gc).defaultPrevented||!C||!K)return;const pe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ee),this._activeElement=K;const he=H?"carousel-item-start":"carousel-item-end",de=H?"carousel-item-next":"carousel-item-prev";K.classList.add(de),V(K),C.classList.add(he),K.classList.add(he),this._queueCallback(()=>{K.classList.remove(he,de),K.classList.add($s),C.classList.remove($s,de,he),this._isSliding=!1,ae(kr)},C,this._isAnimated()),pe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ge.findOne(Gi,this._element)}_getItems(){return ge.find(Mr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return F()?d===Dr?bn:Tt:d===Dr?Tt:bn}_orderToDirection(d){return F()?d===bn?Dr:hs:d===bn?hs:Dr}static jQueryInterface(d){return this.each(function(){const v=lr.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}N.on(document,el,"[data-bs-slide], [data-bs-slide-to]",function(A){const d=ge.getElementFromSelector(this);if(!d||!d.classList.contains(tl))return;A.preventDefault();const v=lr.getOrCreateInstance(d),C=this.getAttribute("data-bs-slide-to");return C?(v.to(C),void v._maybeEnableCycle()):ye.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),N.on(window,qn,()=>{const A=ge.find('[data-bs-ride="carousel"]');for(const d of A)lr.getOrCreateInstance(d)}),z(lr);const xi=".bs.collapse",Ba=`show${xi}`,Gt=`shown${xi}`,Ql=`hide${xi}`,ms=`hidden${xi}`,ps=`click${xi}.data-api`,Fa="show",Lr="collapse",Ki="collapsing",ur=`:scope .${Lr} .${Lr}`,Zt='[data-bs-toggle="collapse"]',ln={parent:null,toggle:!0},Pr={parent:"(null|element)",toggle:"boolean"};class Ii extends De{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const C=ge.find(Zt);for(const H of C){const K=ge.getSelectorFromElement(H),ee=ge.find(K).filter(ae=>ae===this._element);K!==null&&ee.length&&this._triggerArray.push(H)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ln}static get DefaultType(){return Pr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(H=>H!==this._element).map(H=>Ii.getOrCreateInstance(H,{toggle:!1}))),d.length&&d[0]._isTransitioning||N.trigger(this._element,Ba).defaultPrevented)return;for(const H of d)H.hide();const v=this._getDimension();this._element.classList.remove(Lr),this._element.classList.add(Ki),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(Lr,Fa),this._element.style[v]="",N.trigger(this._element,Gt)},this._element,!0),this._element.style[v]=`${this._element[C]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,Ql).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,V(this._element),this._element.classList.add(Ki),this._element.classList.remove(Lr,Fa);for(const v of this._triggerArray){const C=ge.getElementFromSelector(v);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ki),this._element.classList.add(Lr),N.trigger(this._element,ms)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Fa)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=g(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Zt);for(const v of d){const C=ge.getElementFromSelector(v);C&&this._addAriaAndCollapsedClass([v],this._isShown(C))}}_getFirstLevelChildren(d){const v=ge.find(ur,this._config.parent);return ge.find(d,this._config.parent).filter(C=>!v.includes(C))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const C of d)C.classList.toggle("collapsed",!v),C.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const C=Ii.getOrCreateInstance(this,v);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d]()}})}}N.on(document,ps,Zt,function(A){(A.target.tagName==="A"||A.delegateTarget&&A.delegateTarget.tagName==="A")&&A.preventDefault();for(const d of ge.getMultipleElementsFromSelector(this))Ii.getOrCreateInstance(d,{toggle:!1}).toggle()}),z(Ii);var Jt="top",Ht="bottom",Tn="right",qt="left",cr="auto",Dn=[Jt,Ht,Tn,qt],$n="start",pi="end",Vr="clippingParents",Ot="viewport",hr="popper",Gs="reference",Gn=Dn.reduce(function(A,d){return A.concat([d+"-"+$n,d+"-"+pi])},[]),kn=[].concat(Dn,[cr]).reduce(function(A,d){return A.concat([d,d+"-"+$n,d+"-"+pi])},[]),ii="beforeRead",Yl="read",Ha="afterRead",qa="beforeMain",nl="main",Ur="afterMain",jr="beforeWrite",gi="write",Mn="afterWrite",il=[ii,Yl,Ha,qa,nl,Ur,jr,gi,Mn];function Ni(A){return A?(A.nodeName||"").toLowerCase():null}function un(A){if(A==null)return window;if(A.toString()!=="[object Window]"){var d=A.ownerDocument;return d&&d.defaultView||window}return A}function Qi(A){return A instanceof un(A).Element||A instanceof Element}function wn(A){return A instanceof un(A).HTMLElement||A instanceof HTMLElement}function Yi(A){return typeof ShadowRoot<"u"&&(A instanceof un(A).ShadowRoot||A instanceof ShadowRoot)}const Lt={name:"applyStyles",enabled:!0,phase:"write",fn:function(A){var d=A.state;Object.keys(d.elements).forEach(function(v){var C=d.styles[v]||{},H=d.attributes[v]||{},K=d.elements[v];wn(K)&&Ni(K)&&(Object.assign(K.style,C),Object.keys(H).forEach(function(ee){var ae=H[ee];ae===!1?K.removeAttribute(ee):K.setAttribute(ee,ae===!0?"":ae)}))})},effect:function(A){var d=A.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(C){var H=d.elements[C],K=d.attributes[C]||{},ee=Object.keys(d.styles.hasOwnProperty(C)?d.styles[C]:v[C]).reduce(function(ae,pe){return ae[pe]="",ae},{});wn(H)&&Ni(H)&&(Object.assign(H.style,ee),Object.keys(K).forEach(function(ae){H.removeAttribute(ae)}))})}},requires:["computeStyles"]};function An(A){return A.split("-")[0]}var _i=Math.max,zr=Math.min,et=Math.round;function Br(){var A=navigator.userAgentData;return A!=null&&A.brands&&Array.isArray(A.brands)?A.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Fr(){return!/^((?!chrome|android).)*safari/i.test(Br())}function Sn(A,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var C=A.getBoundingClientRect(),H=1,K=1;d&&wn(A)&&(H=A.offsetWidth>0&&et(C.width)/A.offsetWidth||1,K=A.offsetHeight>0&&et(C.height)/A.offsetHeight||1);var ee=(Qi(A)?un(A):window).visualViewport,ae=!Fr()&&v,pe=(C.left+(ae&&ee?ee.offsetLeft:0))/H,he=(C.top+(ae&&ee?ee.offsetTop:0))/K,de=C.width/H,me=C.height/K;return{width:de,height:me,top:he,right:pe+de,bottom:he+me,left:pe,x:pe,y:he}}function rl(A){var d=Sn(A),v=A.offsetWidth,C=A.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-C)<=1&&(C=d.height),{x:A.offsetLeft,y:A.offsetTop,width:v,height:C}}function $a(A,d){var v=d.getRootNode&&d.getRootNode();if(A.contains(d))return!0;if(v&&Yi(v)){var C=d;do{if(C&&A.isSameNode(C))return!0;C=C.parentNode||C.host}while(C)}return!1}function Oi(A){return un(A).getComputedStyle(A)}function sl(A){return["table","td","th"].indexOf(Ni(A))>=0}function fr(A){return((Qi(A)?A.ownerDocument:A.document)||window.document).documentElement}function Ga(A){return Ni(A)==="html"?A:A.assignedSlot||A.parentNode||(Yi(A)?A.host:null)||fr(A)}function Wi(A){return wn(A)&&Oi(A).position!=="fixed"?A.offsetParent:null}function Ln(A){for(var d=un(A),v=Wi(A);v&&sl(v)&&Oi(v).position==="static";)v=Wi(v);return v&&(Ni(v)==="html"||Ni(v)==="body"&&Oi(v).position==="static")?d:v||function(C){var H=/firefox/i.test(Br());if(/Trident/i.test(Br())&&wn(C)&&Oi(C).position==="fixed")return null;var K=Ga(C);for(Yi(K)&&(K=K.host);wn(K)&&["html","body"].indexOf(Ni(K))<0;){var ee=Oi(K);if(ee.transform!=="none"||ee.perspective!=="none"||ee.contain==="paint"||["transform","perspective"].indexOf(ee.willChange)!==-1||H&&ee.willChange==="filter"||H&&ee.filter&&ee.filter!=="none")return K;K=K.parentNode}return null}(A)||d}function gs(A){return["top","bottom"].indexOf(A)>=0?"x":"y"}function yi(A,d,v){return _i(A,zr(d,v))}function dr(A){return Object.assign({},{top:0,right:0,bottom:0,left:0},A)}function mr(A,d){return d.reduce(function(v,C){return v[C]=A,v},{})}const Ka={name:"arrow",enabled:!0,phase:"main",fn:function(A){var d,v=A.state,C=A.name,H=A.options,K=v.elements.arrow,ee=v.modifiersData.popperOffsets,ae=An(v.placement),pe=gs(ae),he=[qt,Tn].indexOf(ae)>=0?"height":"width";if(K&&ee){var de=function(St,vt){return dr(typeof(St=typeof St=="function"?St(Object.assign({},vt.rects,{placement:vt.placement})):St)!="number"?St:mr(St,Dn))}(H.padding,v),me=rl(K),$e=pe==="y"?Jt:qt,Me=pe==="y"?Ht:Tn,je=v.rects.reference[he]+v.rects.reference[pe]-ee[pe]-v.rects.popper[he],ze=ee[pe]-v.rects.reference[pe],Be=Ln(K),ht=Be?pe==="y"?Be.clientHeight||0:Be.clientWidth||0:0,xt=je/2-ze/2,Ne=de[$e],ft=ht-me[he]-de[Me],Ke=ht/2-me[he]/2+xt,tt=yi(Ne,Ke,ft),Et=pe;v.modifiersData[C]=((d={})[Et]=tt,d.centerOffset=tt-Ke,d)}},effect:function(A){var d=A.state,v=A.options.element,C=v===void 0?"[data-popper-arrow]":v;C!=null&&(typeof C!="string"||(C=d.elements.popper.querySelector(C)))&&$a(d.elements.popper,C)&&(d.elements.arrow=C)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hr(A){return A.split("-")[1]}var Ks={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vi(A){var d,v=A.popper,C=A.popperRect,H=A.placement,K=A.variation,ee=A.offsets,ae=A.position,pe=A.gpuAcceleration,he=A.adaptive,de=A.roundOffsets,me=A.isFixed,$e=ee.x,Me=$e===void 0?0:$e,je=ee.y,ze=je===void 0?0:je,Be=typeof de=="function"?de({x:Me,y:ze}):{x:Me,y:ze};Me=Be.x,ze=Be.y;var ht=ee.hasOwnProperty("x"),xt=ee.hasOwnProperty("y"),Ne=qt,ft=Jt,Ke=window;if(he){var tt=Ln(v),Et="clientHeight",St="clientWidth";tt===un(v)&&Oi(tt=fr(v)).position!=="static"&&ae==="absolute"&&(Et="scrollHeight",St="scrollWidth"),(H===Jt||(H===qt||H===Tn)&&K===pi)&&(ft=Ht,ze-=(me&&tt===Ke&&Ke.visualViewport?Ke.visualViewport.height:tt[Et])-C.height,ze*=pe?1:-1),H!==qt&&(H!==Jt&&H!==Ht||K!==pi)||(Ne=Tn,Me-=(me&&tt===Ke&&Ke.visualViewport?Ke.visualViewport.width:tt[St])-C.width,Me*=pe?1:-1)}var vt,zt=Object.assign({position:ae},he&&Ks),Wn=de===!0?function(Vt,lt){var Xn=Vt.x,Un=Vt.y,Dt=lt.devicePixelRatio||1;return{x:et(Xn*Dt)/Dt||0,y:et(Un*Dt)/Dt||0}}({x:Me,y:ze},un(v)):{x:Me,y:ze};return Me=Wn.x,ze=Wn.y,pe?Object.assign({},zt,((vt={})[ft]=xt?"0":"",vt[Ne]=ht?"0":"",vt.transform=(Ke.devicePixelRatio||1)<=1?"translate("+Me+"px, "+ze+"px)":"translate3d("+Me+"px, "+ze+"px, 0)",vt)):Object.assign({},zt,((d={})[ft]=xt?ze+"px":"",d[Ne]=ht?Me+"px":"",d.transform="",d))}const qr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(A){var d=A.state,v=A.options,C=v.gpuAcceleration,H=C===void 0||C,K=v.adaptive,ee=K===void 0||K,ae=v.roundOffsets,pe=ae===void 0||ae,he={placement:An(d.placement),variation:Hr(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:H,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,vi(Object.assign({},he,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:ee,roundOffsets:pe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,vi(Object.assign({},he,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Ei={passive:!0};const pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(A){var d=A.state,v=A.instance,C=A.options,H=C.scroll,K=H===void 0||H,ee=C.resize,ae=ee===void 0||ee,pe=un(d.elements.popper),he=[].concat(d.scrollParents.reference,d.scrollParents.popper);return K&&he.forEach(function(de){de.addEventListener("scroll",v.update,Ei)}),ae&&pe.addEventListener("resize",v.update,Ei),function(){K&&he.forEach(function(de){de.removeEventListener("scroll",v.update,Ei)}),ae&&pe.removeEventListener("resize",v.update,Ei)}},data:{}};var $r={left:"right",right:"left",bottom:"top",top:"bottom"};function _s(A){return A.replace(/left|right|bottom|top/g,function(d){return $r[d]})}var gr={start:"end",end:"start"};function Xi(A){return A.replace(/start|end/g,function(d){return gr[d]})}function Qs(A){var d=un(A);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function en(A){return Sn(fr(A)).left+Qs(A).scrollLeft}function pt(A){var d=Oi(A),v=d.overflow,C=d.overflowX,H=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+H+C)}function Ys(A){return["html","body","#document"].indexOf(Ni(A))>=0?A.ownerDocument.body:wn(A)&&pt(A)?A:Ys(Ga(A))}function Zi(A,d){var v;d===void 0&&(d=[]);var C=Ys(A),H=C===((v=A.ownerDocument)==null?void 0:v.body),K=un(C),ee=H?[K].concat(K.visualViewport||[],pt(C)?C:[]):C,ae=d.concat(ee);return H?ae:ae.concat(Zi(Ga(ee)))}function Qa(A){return Object.assign({},A,{left:A.x,top:A.y,right:A.x+A.width,bottom:A.y+A.height})}function Ws(A,d,v){return d===Ot?Qa(function(C,H){var K=un(C),ee=fr(C),ae=K.visualViewport,pe=ee.clientWidth,he=ee.clientHeight,de=0,me=0;if(ae){pe=ae.width,he=ae.height;var $e=Fr();($e||!$e&&H==="fixed")&&(de=ae.offsetLeft,me=ae.offsetTop)}return{width:pe,height:he,x:de+en(C),y:me}}(A,v)):Qi(d)?function(C,H){var K=Sn(C,!1,H==="fixed");return K.top=K.top+C.clientTop,K.left=K.left+C.clientLeft,K.bottom=K.top+C.clientHeight,K.right=K.left+C.clientWidth,K.width=C.clientWidth,K.height=C.clientHeight,K.x=K.left,K.y=K.top,K}(d,v):Qa(function(C){var H,K=fr(C),ee=Qs(C),ae=(H=C.ownerDocument)==null?void 0:H.body,pe=_i(K.scrollWidth,K.clientWidth,ae?ae.scrollWidth:0,ae?ae.clientWidth:0),he=_i(K.scrollHeight,K.clientHeight,ae?ae.scrollHeight:0,ae?ae.clientHeight:0),de=-ee.scrollLeft+en(C),me=-ee.scrollTop;return Oi(ae||K).direction==="rtl"&&(de+=_i(K.clientWidth,ae?ae.clientWidth:0)-pe),{width:pe,height:he,x:de,y:me}}(fr(A)))}function Xs(A){var d,v=A.reference,C=A.element,H=A.placement,K=H?An(H):null,ee=H?Hr(H):null,ae=v.x+v.width/2-C.width/2,pe=v.y+v.height/2-C.height/2;switch(K){case Jt:d={x:ae,y:v.y-C.height};break;case Ht:d={x:ae,y:v.y+v.height};break;case Tn:d={x:v.x+v.width,y:pe};break;case qt:d={x:v.x-C.width,y:pe};break;default:d={x:v.x,y:v.y}}var he=K?gs(K):null;if(he!=null){var de=he==="y"?"height":"width";switch(ee){case $n:d[he]=d[he]-(v[de]/2-C[de]/2);break;case pi:d[he]=d[he]+(v[de]/2-C[de]/2)}}return d}function Kn(A,d){d===void 0&&(d={});var v=d,C=v.placement,H=C===void 0?A.placement:C,K=v.strategy,ee=K===void 0?A.strategy:K,ae=v.boundary,pe=ae===void 0?Vr:ae,he=v.rootBoundary,de=he===void 0?Ot:he,me=v.elementContext,$e=me===void 0?hr:me,Me=v.altBoundary,je=Me!==void 0&&Me,ze=v.padding,Be=ze===void 0?0:ze,ht=dr(typeof Be!="number"?Be:mr(Be,Dn)),xt=$e===hr?Gs:hr,Ne=A.rects.popper,ft=A.elements[je?xt:$e],Ke=function(lt,Xn,Un,Dt){var Pi=Xn==="clippingParents"?function(wt){var jn=Zi(Ga(wt)),Si=["absolute","fixed"].indexOf(Oi(wt).position)>=0&&wn(wt)?Ln(wt):wt;return Qi(Si)?jn.filter(function(es){return Qi(es)&&$a(es,Si)&&Ni(es)!=="body"}):[]}(lt):[].concat(Xn),gn=[].concat(Pi,[Un]),Jr=gn[0],nn=gn.reduce(function(wt,jn){var Si=Ws(lt,jn,Dt);return wt.top=_i(Si.top,wt.top),wt.right=zr(Si.right,wt.right),wt.bottom=zr(Si.bottom,wt.bottom),wt.left=_i(Si.left,wt.left),wt},Ws(lt,Jr,Dt));return nn.width=nn.right-nn.left,nn.height=nn.bottom-nn.top,nn.x=nn.left,nn.y=nn.top,nn}(Qi(ft)?ft:ft.contextElement||fr(A.elements.popper),pe,de,ee),tt=Sn(A.elements.reference),Et=Xs({reference:tt,element:Ne,placement:H}),St=Qa(Object.assign({},Ne,Et)),vt=$e===hr?St:tt,zt={top:Ke.top-vt.top+ht.top,bottom:vt.bottom-Ke.bottom+ht.bottom,left:Ke.left-vt.left+ht.left,right:vt.right-Ke.right+ht.right},Wn=A.modifiersData.offset;if($e===hr&&Wn){var Vt=Wn[H];Object.keys(zt).forEach(function(lt){var Xn=[Tn,Ht].indexOf(lt)>=0?1:-1,Un=[Jt,Ht].indexOf(lt)>=0?"y":"x";zt[lt]+=Vt[Un]*Xn})}return zt}function Zs(A,d){d===void 0&&(d={});var v=d,C=v.placement,H=v.boundary,K=v.rootBoundary,ee=v.padding,ae=v.flipVariations,pe=v.allowedAutoPlacements,he=pe===void 0?kn:pe,de=Hr(C),me=de?ae?Gn:Gn.filter(function(je){return Hr(je)===de}):Dn,$e=me.filter(function(je){return he.indexOf(je)>=0});$e.length===0&&($e=me);var Me=$e.reduce(function(je,ze){return je[ze]=Kn(A,{placement:ze,boundary:H,rootBoundary:K,padding:ee})[An(ze)],je},{});return Object.keys(Me).sort(function(je,ze){return Me[je]-Me[ze]})}const bi={name:"flip",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,C=A.name;if(!d.modifiersData[C]._skip){for(var H=v.mainAxis,K=H===void 0||H,ee=v.altAxis,ae=ee===void 0||ee,pe=v.fallbackPlacements,he=v.padding,de=v.boundary,me=v.rootBoundary,$e=v.altBoundary,Me=v.flipVariations,je=Me===void 0||Me,ze=v.allowedAutoPlacements,Be=d.options.placement,ht=An(Be),xt=pe||(ht!==Be&&je?function(wt){if(An(wt)===cr)return[];var jn=_s(wt);return[Xi(wt),jn,Xi(jn)]}(Be):[_s(Be)]),Ne=[Be].concat(xt).reduce(function(wt,jn){return wt.concat(An(jn)===cr?Zs(d,{placement:jn,boundary:de,rootBoundary:me,padding:he,flipVariations:je,allowedAutoPlacements:ze}):jn)},[]),ft=d.rects.reference,Ke=d.rects.popper,tt=new Map,Et=!0,St=Ne[0],vt=0;vt<Ne.length;vt++){var zt=Ne[vt],Wn=An(zt),Vt=Hr(zt)===$n,lt=[Jt,Ht].indexOf(Wn)>=0,Xn=lt?"width":"height",Un=Kn(d,{placement:zt,boundary:de,rootBoundary:me,altBoundary:$e,padding:he}),Dt=lt?Vt?Tn:qt:Vt?Ht:Jt;ft[Xn]>Ke[Xn]&&(Dt=_s(Dt));var Pi=_s(Dt),gn=[];if(K&&gn.push(Un[Wn]<=0),ae&&gn.push(Un[Dt]<=0,Un[Pi]<=0),gn.every(function(wt){return wt})){St=zt,Et=!1;break}tt.set(zt,gn)}if(Et)for(var Jr=function(wt){var jn=Ne.find(function(Si){var es=tt.get(Si);if(es)return es.slice(0,wt).every(function(vl){return vl})});if(jn)return St=jn,"break"},nn=je?3:1;nn>0&&Jr(nn)!=="break";nn--);d.placement!==St&&(d.modifiersData[C]._skip=!0,d.placement=St,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function al(A,d,v){return v===void 0&&(v={x:0,y:0}),{top:A.top-d.height-v.y,right:A.right-d.width+v.x,bottom:A.bottom-d.height+v.y,left:A.left-d.width-v.x}}function Wl(A){return[Jt,Tn,Ht,qt].some(function(d){return A[d]>=0})}const ys={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(A){var d=A.state,v=A.name,C=d.rects.reference,H=d.rects.popper,K=d.modifiersData.preventOverflow,ee=Kn(d,{elementContext:"reference"}),ae=Kn(d,{altBoundary:!0}),pe=al(ee,C),he=al(ae,H,K),de=Wl(pe),me=Wl(he);d.modifiersData[v]={referenceClippingOffsets:pe,popperEscapeOffsets:he,isReferenceHidden:de,hasPopperEscaped:me},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":de,"data-popper-escaped":me})}},Js={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(A){var d=A.state,v=A.options,C=A.name,H=v.offset,K=H===void 0?[0,0]:H,ee=kn.reduce(function(de,me){return de[me]=function($e,Me,je){var ze=An($e),Be=[qt,Jt].indexOf(ze)>=0?-1:1,ht=typeof je=="function"?je(Object.assign({},Me,{placement:$e})):je,xt=ht[0],Ne=ht[1];return xt=xt||0,Ne=(Ne||0)*Be,[qt,Tn].indexOf(ze)>=0?{x:Ne,y:xt}:{x:xt,y:Ne}}(me,d.rects,K),de},{}),ae=ee[d.placement],pe=ae.x,he=ae.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=pe,d.modifiersData.popperOffsets.y+=he),d.modifiersData[C]=ee}},ea={name:"popperOffsets",enabled:!0,phase:"read",fn:function(A){var d=A.state,v=A.name;d.modifiersData[v]=Xs({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},ta={name:"preventOverflow",enabled:!0,phase:"main",fn:function(A){var d=A.state,v=A.options,C=A.name,H=v.mainAxis,K=H===void 0||H,ee=v.altAxis,ae=ee!==void 0&&ee,pe=v.boundary,he=v.rootBoundary,de=v.altBoundary,me=v.padding,$e=v.tether,Me=$e===void 0||$e,je=v.tetherOffset,ze=je===void 0?0:je,Be=Kn(d,{boundary:pe,rootBoundary:he,padding:me,altBoundary:de}),ht=An(d.placement),xt=Hr(d.placement),Ne=!xt,ft=gs(ht),Ke=ft==="x"?"y":"x",tt=d.modifiersData.popperOffsets,Et=d.rects.reference,St=d.rects.popper,vt=typeof ze=="function"?ze(Object.assign({},d.rects,{placement:d.placement})):ze,zt=typeof vt=="number"?{mainAxis:vt,altAxis:vt}:Object.assign({mainAxis:0,altAxis:0},vt),Wn=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Vt={x:0,y:0};if(tt){if(K){var lt,Xn=ft==="y"?Jt:qt,Un=ft==="y"?Ht:Tn,Dt=ft==="y"?"height":"width",Pi=tt[ft],gn=Pi+Be[Xn],Jr=Pi-Be[Un],nn=Me?-St[Dt]/2:0,wt=xt===$n?Et[Dt]:St[Dt],jn=xt===$n?-St[Dt]:-Et[Dt],Si=d.elements.arrow,es=Me&&Si?rl(Si):{width:0,height:0},vl=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Dc=vl[Xn],kc=vl[Un],fo=yi(0,Et[Dt],es[Dt]),bf=Ne?Et[Dt]/2-nn-fo-Dc-zt.mainAxis:wt-fo-Dc-zt.mainAxis,Hm=Ne?-Et[Dt]/2+nn+fo+kc+zt.mainAxis:jn+fo+kc+zt.mainAxis,wu=d.elements.arrow&&Ln(d.elements.arrow),Tf=wu?ft==="y"?wu.clientTop||0:wu.clientLeft||0:0,Mc=(lt=Wn==null?void 0:Wn[ft])!=null?lt:0,Lc=Pi+Hm-Mc,Pc=yi(Me?zr(gn,Pi+bf-Mc-Tf):gn,Pi,Me?_i(Jr,Lc):Jr);tt[ft]=Pc,Vt[ft]=Pc-Pi}if(ae){var Vc,wf=ft==="x"?Jt:qt,Af=ft==="x"?Ht:Tn,Cs=tt[Ke],Au=Ke==="y"?"height":"width",Uc=Cs+Be[wf],ua=Cs-Be[Af],Su=[Jt,qt].indexOf(ht)!==-1,El=(Vc=Wn==null?void 0:Wn[Ke])!=null?Vc:0,bl=Su?Uc:Cs-Et[Au]-St[Au]-El+zt.altAxis,jc=Su?Cs+Et[Au]+St[Au]-El-zt.altAxis:ua,Ru=Me&&Su?function(Sf,Rf,Cu){var zc=yi(Sf,Rf,Cu);return zc>Cu?Cu:zc}(bl,Cs,jc):yi(Me?bl:Uc,Cs,Me?jc:ua);tt[Ke]=Ru,Vt[Ke]=Ru-Cs}d.modifiersData[C]=Vt}},requiresIfExists:["offset"]};function Xl(A,d,v){v===void 0&&(v=!1);var C,H,K=wn(d),ee=wn(d)&&function(me){var $e=me.getBoundingClientRect(),Me=et($e.width)/me.offsetWidth||1,je=et($e.height)/me.offsetHeight||1;return Me!==1||je!==1}(d),ae=fr(d),pe=Sn(A,ee,v),he={scrollLeft:0,scrollTop:0},de={x:0,y:0};return(K||!K&&!v)&&((Ni(d)!=="body"||pt(ae))&&(he=(C=d)!==un(C)&&wn(C)?{scrollLeft:(H=C).scrollLeft,scrollTop:H.scrollTop}:Qs(C)),wn(d)?((de=Sn(d,!0)).x+=d.clientLeft,de.y+=d.clientTop):ae&&(de.x=en(ae))),{x:pe.left+he.scrollLeft-de.x,y:pe.top+he.scrollTop-de.y,width:pe.width,height:pe.height}}function Ya(A){var d=new Map,v=new Set,C=[];function H(K){v.add(K.name),[].concat(K.requires||[],K.requiresIfExists||[]).forEach(function(ee){if(!v.has(ee)){var ae=d.get(ee);ae&&H(ae)}}),C.push(K)}return A.forEach(function(K){d.set(K.name,K)}),A.forEach(function(K){v.has(K.name)||H(K)}),C}var Zl={placement:"bottom",modifiers:[],strategy:"absolute"};function Wa(){for(var A=arguments.length,d=new Array(A),v=0;v<A;v++)d[v]=arguments[v];return!d.some(function(C){return!(C&&typeof C.getBoundingClientRect=="function")})}function _r(A){A===void 0&&(A={});var d=A,v=d.defaultModifiers,C=v===void 0?[]:v,H=d.defaultOptions,K=H===void 0?Zl:H;return function(ee,ae,pe){pe===void 0&&(pe=K);var he,de,me={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zl,K),modifiersData:{},elements:{reference:ee,popper:ae},attributes:{},styles:{}},$e=[],Me=!1,je={state:me,setOptions:function(Be){var ht=typeof Be=="function"?Be(me.options):Be;ze(),me.options=Object.assign({},K,me.options,ht),me.scrollParents={reference:Qi(ee)?Zi(ee):ee.contextElement?Zi(ee.contextElement):[],popper:Zi(ae)};var xt,Ne,ft=function(Ke){var tt=Ya(Ke);return il.reduce(function(Et,St){return Et.concat(tt.filter(function(vt){return vt.phase===St}))},[])}((xt=[].concat(C,me.options.modifiers),Ne=xt.reduce(function(Ke,tt){var Et=Ke[tt.name];return Ke[tt.name]=Et?Object.assign({},Et,tt,{options:Object.assign({},Et.options,tt.options),data:Object.assign({},Et.data,tt.data)}):tt,Ke},{}),Object.keys(Ne).map(function(Ke){return Ne[Ke]})));return me.orderedModifiers=ft.filter(function(Ke){return Ke.enabled}),me.orderedModifiers.forEach(function(Ke){var tt=Ke.name,Et=Ke.options,St=Et===void 0?{}:Et,vt=Ke.effect;if(typeof vt=="function"){var zt=vt({state:me,name:tt,instance:je,options:St});$e.push(zt||function(){})}}),je.update()},forceUpdate:function(){if(!Me){var Be=me.elements,ht=Be.reference,xt=Be.popper;if(Wa(ht,xt)){me.rects={reference:Xl(ht,Ln(xt),me.options.strategy==="fixed"),popper:rl(xt)},me.reset=!1,me.placement=me.options.placement,me.orderedModifiers.forEach(function(vt){return me.modifiersData[vt.name]=Object.assign({},vt.data)});for(var Ne=0;Ne<me.orderedModifiers.length;Ne++)if(me.reset!==!0){var ft=me.orderedModifiers[Ne],Ke=ft.fn,tt=ft.options,Et=tt===void 0?{}:tt,St=ft.name;typeof Ke=="function"&&(me=Ke({state:me,options:Et,name:St,instance:je})||me)}else me.reset=!1,Ne=-1}}},update:(he=function(){return new Promise(function(Be){je.forceUpdate(),Be(me)})},function(){return de||(de=new Promise(function(Be){Promise.resolve().then(function(){de=void 0,Be(he())})})),de}),destroy:function(){ze(),Me=!0}};if(!Wa(ee,ae))return je;function ze(){$e.forEach(function(Be){return Be()}),$e=[]}return je.setOptions(pe).then(function(Be){!Me&&pe.onFirstUpdate&&pe.onFirstUpdate(Be)}),je}}var Jl=_r(),eu=_r({defaultModifiers:[pr,ea,qr,Lt]}),na=_r({defaultModifiers:[pr,ea,qr,Lt,Js,bi,ta,Ka,ys]});const vs=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ur,afterRead:Ha,afterWrite:Mn,applyStyles:Lt,arrow:Ka,auto:cr,basePlacements:Dn,beforeMain:qa,beforeRead:ii,beforeWrite:jr,bottom:Ht,clippingParents:Vr,computeStyles:qr,createPopper:na,createPopperBase:Jl,createPopperLite:eu,detectOverflow:Kn,end:pi,eventListeners:pr,flip:bi,hide:ys,left:qt,main:nl,modifierPhases:il,offset:Js,placements:kn,popper:hr,popperGenerator:_r,popperOffsets:ea,preventOverflow:ta,read:Yl,reference:Gs,right:Tn,start:$n,top:Jt,variationPlacements:Gn,viewport:Ot,write:gi},Symbol.toStringTag,{value:"Module"})),ol="dropdown",Di=".bs.dropdown",Xa=".data-api",ll="ArrowUp",yr="ArrowDown",tu=`hide${Di}`,nu=`hidden${Di}`,iu=`show${Di}`,ru=`shown${Di}`,ia=`click${Di}${Xa}`,Pn=`keydown${Di}${Xa}`,su=`keyup${Di}${Xa}`,Gr="show",Vn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',c=`${Vn}.${Gr}`,y=".dropdown-menu",b=F()?"top-end":"top-start",I=F()?"top-start":"top-end",Y=F()?"bottom-end":"bottom-start",J=F()?"bottom-start":"bottom-end",ve=F()?"left-start":"right-start",at=F()?"right-start":"left-start",cn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ot={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class At extends De{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=ge.next(this._element,y)[0]||ge.prev(this._element,y)[0]||ge.findOne(y,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return cn}static get DefaultType(){return ot}static get NAME(){return ol}toggle(){return this._isShown()?this.hide():this.show()}show(){if(E(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!N.trigger(this._element,iu,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))N.on(v,"mouseover",x);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Gr),this._element.classList.add(Gr),N.trigger(this._element,ru,d)}}hide(){if(E(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!N.trigger(this._element,tu,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))N.off(v,"mouseover",x);this._popper&&this._popper.destroy(),this._menu.classList.remove(Gr),this._element.classList.remove(Gr),this._element.setAttribute("aria-expanded","false"),ye.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,nu,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!m(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${ol.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(vs===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;this._config.reference==="parent"?d=this._parent:m(this._config.reference)?d=g(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=na(d,this._menu,v)}_isShown(){return this._menu.classList.contains(Gr)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return ve;if(d.classList.contains("dropstart"))return at;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?I:b:v?J:Y}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ye.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...te(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:v}){const C=ge.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(H=>_(H));C.length&&_e(C,v,d===yr,!C.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=At.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=ge.find(c);for(const C of v){const H=At.getInstance(C);if(!H||H._config.autoClose===!1)continue;const K=d.composedPath(),ee=K.includes(H._menu);if(K.includes(H._element)||H._config.autoClose==="inside"&&!ee||H._config.autoClose==="outside"&&ee||H._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ae={relatedTarget:H._element};d.type==="click"&&(ae.clickEvent=d),H._completeHide(ae)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),C=d.key==="Escape",H=[ll,yr].includes(d.key);if(!H&&!C||v&&!C)return;d.preventDefault();const K=this.matches(Vn)?this:ge.prev(this,Vn)[0]||ge.next(this,Vn)[0]||ge.findOne(Vn,d.delegateTarget.parentNode),ee=At.getOrCreateInstance(K);if(H)return d.stopPropagation(),ee.show(),void ee._selectMenuItem(d);ee._isShown()&&(d.stopPropagation(),ee.hide(),K.focus())}}N.on(document,Pn,Vn,At.dataApiKeydownHandler),N.on(document,Pn,y,At.dataApiKeydownHandler),N.on(document,ia,At.clearMenus),N.on(document,su,At.clearMenus),N.on(document,ia,Vn,function(A){A.preventDefault(),At.getOrCreateInstance(this).toggle()}),z(At);const tn="backdrop",vr="show",pn=`mousedown.bs.${tn}`,Er={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ul={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class cl extends Ue{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Er}static get DefaultType(){return ul}static get NAME(){return tn}show(d){if(!this._config.isVisible)return void te(d);this._append();const v=this._getElement();this._config.isAnimated&&V(v),v.classList.add(vr),this._emulateAnimation(()=>{te(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(vr),this._emulateAnimation(()=>{this.dispose(),te(d)})):te(d)}dispose(){this._isAppended&&(N.off(this._element,pn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=g(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),N.on(d,pn,()=>{te(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){ne(d,this._getElement(),this._config.isAnimated)}}const hl=".bs.focustrap",tf=`focusin${hl}`,_c=`keydown.tab${hl}`,au="backward",nf={autofocus:!0,trapElement:null},rf={autofocus:"boolean",trapElement:"element"};class yc extends Ue{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return nf}static get DefaultType(){return rf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,hl),N.on(document,tf,d=>this._handleFocusin(d)),N.on(document,_c,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,hl))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const C=ge.focusableChildren(v);C.length===0?v.focus():this._lastTabNavDirection===au?C[C.length-1].focus():C[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?au:"forward")}}const sf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",af=".sticky-top",ou="padding-right",of="margin-right";class vc{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ou,v=>v+d),this._setElementAttributes(sf,ou,v=>v+d),this._setElementAttributes(af,of,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ou),this._resetElementAttributes(sf,ou),this._resetElementAttributes(af,of)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,C){const H=this.getWidth();this._applyManipulationCallback(d,K=>{if(K!==this._element&&window.innerWidth>K.clientWidth+H)return;this._saveInitialAttribute(K,v);const ee=window.getComputedStyle(K).getPropertyValue(v);K.style.setProperty(v,`${C(Number.parseFloat(ee))}px`)})}_saveInitialAttribute(d,v){const C=d.style.getPropertyValue(v);C&&ye.setDataAttribute(d,v,C)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,C=>{const H=ye.getDataAttribute(C,v);H!==null?(ye.removeDataAttribute(C,v),C.style.setProperty(v,H)):C.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(m(d))v(d);else for(const C of ge.find(d,this._element))v(C)}}const Pt=".bs.modal",fl=`hide${Pt}`,lf=`hidePrevented${Pt}`,Ec=`hidden${Pt}`,bc=`show${Pt}`,uf=`shown${Pt}`,Tc=`resize${Pt}`,Vm=`click.dismiss${Pt}`,Um=`mousedown.dismiss${Pt}`,Za=`keydown.dismiss${Pt}`,wc=`click${Pt}.data-api`,Ja="modal-open",lu="show",uu="modal-static",ra={backdrop:!0,focus:!0,keyboard:!0},eo={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Kr extends De{constructor(d,v){super(d,v),this._dialog=ge.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new vc,this._addEventListeners()}static get Default(){return ra}static get DefaultType(){return eo}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||N.trigger(this._element,bc,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ja),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(N.trigger(this._element,fl).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(lu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){N.off(window,Pt),N.off(this._dialog,Pt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new cl({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=ge.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),V(this._element),this._element.classList.add(lu),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,uf,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,Za,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),N.on(window,Tc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,Um,d=>{N.one(this._element,Vm,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ja),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Ec)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(N.trigger(this._element,lf).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(uu)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(uu),this._queueCallback(()=>{this._element.classList.remove(uu),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),C=v>0;if(C&&!d){const H=F()?"paddingLeft":"paddingRight";this._element.style[H]=`${v}px`}if(!C&&d){const H=F()?"paddingRight":"paddingLeft";this._element.style[H]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const C=Kr.getOrCreateInstance(this,d);if(typeof d=="string"){if(C[d]===void 0)throw new TypeError(`No method named "${d}"`);C[d](v)}})}}N.on(document,wc,'[data-bs-toggle="modal"]',function(A){const d=ge.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&A.preventDefault(),N.one(d,bc,C=>{C.defaultPrevented||N.one(d,Ec,()=>{_(this)&&this.focus()})});const v=ge.findOne(".modal.show");v&&Kr.getInstance(v).hide(),Kr.getOrCreateInstance(d).toggle(this)}),yt(Kr),z(Kr);const br=".bs.offcanvas",Es=".data-api",cf=`load${br}${Es}`,Ac="show",Sc="showing",hf="hiding",ff=".offcanvas.show",jm=`show${br}`,df=`shown${br}`,mf=`hide${br}`,Rc=`hidePrevented${br}`,ki=`hidden${br}`,Mi=`resize${br}`,to=`click${br}${Es}`,Cc=`keydown.dismiss${br}`,cu={backdrop:!0,keyboard:!0,scroll:!1},hu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ji extends De{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return cu}static get DefaultType(){return hu}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||N.trigger(this._element,jm,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new vc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Sc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ac),this._element.classList.remove(Sc),N.trigger(this._element,df,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(N.trigger(this._element,mf).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(hf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ac,hf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new vc().reset(),N.trigger(this._element,ki)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new cl({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():N.trigger(this._element,Rc)}:null})}_initializeFocusTrap(){return new yc({trapElement:this._element})}_addEventListeners(){N.on(this._element,Cc,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():N.trigger(this._element,Rc))})}static jQueryInterface(d){return this.each(function(){const v=Ji.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}N.on(document,to,'[data-bs-toggle="offcanvas"]',function(A){const d=ge.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&A.preventDefault(),E(this))return;N.one(d,ki,()=>{_(this)&&this.focus()});const v=ge.findOne(ff);v&&v!==d&&Ji.getInstance(v).hide(),Ji.getOrCreateInstance(d).toggle(this)}),N.on(window,cf,()=>{for(const A of ge.find(ff))Ji.getOrCreateInstance(A).show()}),N.on(window,Mi,()=>{for(const A of ge.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(A).position!=="fixed"&&Ji.getOrCreateInstance(A).hide()}),yt(Ji),z(Ji);const Qr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},pf=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,no=(A,d)=>{const v=A.nodeName.toLowerCase();return d.includes(v)?!pf.has(v)||!!fu.test(A.nodeValue):d.filter(C=>C instanceof RegExp).some(C=>C.test(v))},gf={allowList:Qr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Li={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},io={entry:"(string|element|function|null)",selector:"(string|element)"};class ro extends Ue{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return gf}static get DefaultType(){return Li}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[H,K]of Object.entries(this._config.content))this._setContent(d,K,H);const v=d.children[0],C=this._resolvePossibleFunction(this._config.extraClass);return C&&v.classList.add(...C.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,C]of Object.entries(d))super._typeCheckConfig({selector:v,entry:C},io)}_setContent(d,v,C){const H=ge.findOne(C,d);H&&((v=this._resolvePossibleFunction(v))?m(v)?this._putElementInTemplate(g(v),H):this._config.html?H.innerHTML=this._maybeSanitize(v):H.textContent=v:H.remove())}_maybeSanitize(d){return this._config.sanitize?function(v,C,H){if(!v.length)return v;if(H&&typeof H=="function")return H(v);const K=new window.DOMParser().parseFromString(v,"text/html"),ee=[].concat(...K.body.querySelectorAll("*"));for(const ae of ee){const pe=ae.nodeName.toLowerCase();if(!Object.keys(C).includes(pe)){ae.remove();continue}const he=[].concat(...ae.attributes),de=[].concat(C["*"]||[],C[pe]||[]);for(const me of he)no(me,de)||ae.removeAttribute(me.nodeName)}return K.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return te(d,[this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const du=new Set(["sanitize","allowList","sanitizeFn"]),so="fade",Qn="show",Ti=".modal",bs="hide.bs.modal",wi="hover",er="focus",sa={AUTO:"auto",TOP:"top",RIGHT:F()?"left":"right",BOTTOM:"bottom",LEFT:F()?"right":"left"},_f={allowList:Qr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},xc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yr extends De{constructor(d,v){if(vs===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _f}static get DefaultType(){return xc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Ti),bs,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=N.trigger(this._element,this.constructor.eventName("show")),v=(S(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const C=this._getTipElement();this._element.setAttribute("aria-describedby",C.getAttribute("id"));const{container:H}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(H.append(C),N.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(C),C.classList.add(Qn),"ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))N.on(K,"mouseover",x);this._queueCallback(()=>{N.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!N.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Qn),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))N.off(d,"mouseover",x);this._activeTrigger.click=!1,this._activeTrigger[er]=!1,this._activeTrigger[wi]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(so,Qn),v.classList.add(`bs-${this.constructor.NAME}-auto`);const C=(H=>{do H+=Math.floor(1e6*Math.random());while(document.getElementById(H));return H})(this.constructor.NAME).toString();return v.setAttribute("id",C),this._isAnimated()&&v.classList.add(so),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new ro({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(so)}_isShown(){return this.tip&&this.tip.classList.contains(Qn)}_createPopper(d){const v=te(this._config.placement,[this,d,this._element]),C=sa[v.toUpperCase()];return na(this._element,d,this._getPopperConfig(C))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return te(d,[this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:C=>{this._getTipElement().setAttribute("data-popper-placement",C.state.placement)}}]};return{...v,...te(this._config.popperConfig,[v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")N.on(this._element,this.constructor.eventName("click"),this._config.selector,C=>{this._initializeOnDelegatedTarget(C).toggle()});else if(v!=="manual"){const C=v===wi?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),H=v===wi?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");N.on(this._element,C,this._config.selector,K=>{const ee=this._initializeOnDelegatedTarget(K);ee._activeTrigger[K.type==="focusin"?er:wi]=!0,ee._enter()}),N.on(this._element,H,this._config.selector,K=>{const ee=this._initializeOnDelegatedTarget(K);ee._activeTrigger[K.type==="focusout"?er:wi]=ee._element.contains(K.relatedTarget),ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Ti),bs,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=ye.getDataAttributes(this._element);for(const C of Object.keys(v))du.has(C)&&delete v[C];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:g(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,C]of Object.entries(this._config))this.constructor.Default[v]!==C&&(d[v]=C);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Yr.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}z(Yr);const Yn={...Yr.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rn={...Yr.DefaultType,content:"(null|string|element|function)"};class rt extends Yr{static get Default(){return Yn}static get DefaultType(){return Rn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=rt.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}z(rt);const Ai=".bs.scrollspy",Tr=`activate${Ai}`,mu=`click${Ai}`,aa=`load${Ai}.data-api`,oa="active",pu="[href]",ao=".nav-link",dl=`${ao}, .nav-item > ${ao}, .list-group-item`,ml={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},pl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class oo extends De{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ml}static get DefaultType(){return pl}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=g(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,mu),N.on(this._config.target,mu,pu,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const C=this._rootElement||window,H=v.offsetTop-this._element.offsetTop;if(C.scrollTo)return void C.scrollTo({top:H,behavior:"smooth"});C.scrollTop=H}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=ee=>this._targetLinks.get(`#${ee.target.id}`),C=ee=>{this._previousScrollData.visibleEntryTop=ee.target.offsetTop,this._process(v(ee))},H=(this._rootElement||document.documentElement).scrollTop,K=H>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=H;for(const ee of d){if(!ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(ee));continue}const ae=ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(K&&ae){if(C(ee),!H)return}else K||ae||C(ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ge.find(pu,this._config.target);for(const v of d){if(!v.hash||E(v))continue;const C=ge.findOne(decodeURI(v.hash),this._element);_(C)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,C))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(oa),this._activateParents(d),N.trigger(this._element,Tr,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ge.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(oa);else for(const v of ge.parents(d,".nav, .list-group"))for(const C of ge.prev(v,dl))C.classList.add(oa)}_clearActiveClass(d){d.classList.remove(oa);const v=ge.find(`${pu}.${oa}`,d);for(const C of v)C.classList.remove(oa)}static jQueryInterface(d){return this.each(function(){const v=oo.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}N.on(window,aa,()=>{for(const A of ge.find('[data-bs-spy="scroll"]'))oo.getOrCreateInstance(A)}),z(oo);const Wr=".bs.tab",yf=`hide${Wr}`,gu=`hidden${Wr}`,vf=`show${Wr}`,gl=`shown${Wr}`,Ef=`click${Wr}`,lo=`keydown${Wr}`,_l=`load${Wr}`,_u="ArrowLeft",uo="ArrowRight",yu="ArrowUp",Ic="ArrowDown",vu="Home",Ts="End",ws="active",la="fade",co="show",Nc=".dropdown-toggle",yl=`:not(${Nc})`,Eu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ri=`.nav-link${yl}, .list-group-item${yl}, [role="tab"]${yl}, ${Eu}`,wr=`.${ws}[data-bs-toggle="tab"], .${ws}[data-bs-toggle="pill"], .${ws}[data-bs-toggle="list"]`;class si extends De{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,lo,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),C=v?N.trigger(v,yf,{relatedTarget:d}):null;N.trigger(d,vf,{relatedTarget:v}).defaultPrevented||C&&C.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(ws),this._activate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),N.trigger(d,gl,{relatedTarget:v})):d.classList.add(co)},d,d.classList.contains(la)))}_deactivate(d,v){d&&(d.classList.remove(ws),d.blur(),this._deactivate(ge.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),N.trigger(d,gu,{relatedTarget:v})):d.classList.remove(co)},d,d.classList.contains(la)))}_keydown(d){if(![_u,uo,yu,Ic,vu,Ts].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(H=>!E(H));let C;if([vu,Ts].includes(d.key))C=v[d.key===vu?0:v.length-1];else{const H=[uo,Ic].includes(d.key);C=_e(v,d.target,H,!0)}C&&(C.focus({preventScroll:!0}),si.getOrCreateInstance(C).show())}_getChildren(){return ge.find(ri,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const C of v)this._setInitialAttributesOnChild(C)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),C=this._getOuterElement(d);d.setAttribute("aria-selected",v),C!==d&&this._setAttributeIfNotExists(C,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=ge.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const C=this._getOuterElement(d);if(!C.classList.contains("dropdown"))return;const H=(K,ee)=>{const ae=ge.findOne(K,C);ae&&ae.classList.toggle(ee,v)};H(Nc,ws),H(".dropdown-menu",co),C.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,C){d.hasAttribute(v)||d.setAttribute(v,C)}_elemIsActive(d){return d.classList.contains(ws)}_getInnerElement(d){return d.matches(ri)?d:ge.findOne(ri,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=si.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}N.on(document,Ef,Eu,function(A){["A","AREA"].includes(this.tagName)&&A.preventDefault(),E(this)||si.getOrCreateInstance(this).show()}),N.on(window,_l,()=>{for(const A of ge.find(wr))si.getOrCreateInstance(A)}),z(si);const Xr=".bs.toast",As=`mouseover${Xr}`,Zr=`mouseout${Xr}`,hn=`focusin${Xr}`,bu=`focusout${Xr}`,zm=`hide${Xr}`,Bm=`hidden${Xr}`,Fm=`show${Xr}`,fn=`shown${Xr}`,Tu="hide",Ss="show",Rs="showing",Oc={animation:"boolean",autohide:"boolean",delay:"number"},ho={animation:!0,autohide:!0,delay:5e3};class Ar extends De{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ho}static get DefaultType(){return Oc}static get NAME(){return"toast"}show(){N.trigger(this._element,Fm).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Tu),V(this._element),this._element.classList.add(Ss,Rs),this._queueCallback(()=>{this._element.classList.remove(Rs),N.trigger(this._element,fn),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(N.trigger(this._element,zm).defaultPrevented||(this._element.classList.add(Rs),this._queueCallback(()=>{this._element.classList.add(Tu),this._element.classList.remove(Rs,Ss),N.trigger(this._element,Bm)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ss),super.dispose()}isShown(){return this._element.classList.contains(Ss)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const C=d.relatedTarget;this._element===C||this._element.contains(C)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,As,d=>this._onInteraction(d,!0)),N.on(this._element,Zr,d=>this._onInteraction(d,!1)),N.on(this._element,hn,d=>this._onInteraction(d,!0)),N.on(this._element,bu,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=Ar.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return yt(Ar),z(Ar),{Alert:Ft,Button:Je,Carousel:lr,Collapse:Ii,Dropdown:At,Modal:Kr,Offcanvas:Ji,Popover:rt,ScrollSpy:oo,Tab:si,Toast:Ar,Tooltip:Yr}})}(Cd)),Cd.exports}HL();ER.createRoot(document.getElementById("root")).render(w.jsxs(BL,{children:[" ",w.jsx(k1,{basename:"/cargofran",children:w.jsx(jL,{})})]}));
